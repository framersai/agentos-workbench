var Pl=Object.defineProperty;var Eo=e=>{throw TypeError(e)};var $l=(e,a,c)=>a in e?Pl(e,a,{enumerable:!0,configurable:!0,writable:!0,value:c}):e[a]=c;var Kr=(e,a,c)=>$l(e,typeof a!="symbol"?a+"":a,c),$a=(e,a,c)=>a.has(e)||Eo("Cannot "+c);var rr=(e,a,c)=>($a(e,a,"read from private field"),c?c.call(e):a.get(e)),Ur=(e,a,c)=>a.has(e)?Eo("Cannot add the same private member more than once"):a instanceof WeakSet?a.add(e):a.set(e,c),Ar=(e,a,c,d)=>($a(e,a,"write to private field"),d?d.call(e,c):a.set(e,c),c),Yr=(e,a,c)=>($a(e,a,"access private method"),c);var Qs=(e,a,c,d)=>({set _(b){Ar(e,a,b,c)},get _(){return rr(e,a,d)}});function _mergeNamespaces(e,a){for(var c=0;c<a.length;c++){const d=a[c];if(typeof d!="string"&&!Array.isArray(d)){for(const b in d)if(b!=="default"&&!(b in e)){const h=Object.getOwnPropertyDescriptor(d,b);h&&Object.defineProperty(e,b,h.get?h:{enumerable:!0,get:()=>d[b]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const b of document.querySelectorAll('link[rel="modulepreload"]'))d(b);new MutationObserver(b=>{for(const h of b)if(h.type==="childList")for(const _ of h.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&d(_)}).observe(document,{childList:!0,subtree:!0});function c(b){const h={};return b.integrity&&(h.integrity=b.integrity),b.referrerPolicy&&(h.referrerPolicy=b.referrerPolicy),b.crossOrigin==="use-credentials"?h.credentials="include":b.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function d(b){if(b.ep)return;b.ep=!0;const h=c(b);fetch(b.href,h)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs$1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var a=e.default;if(typeof a=="function"){var c=function d(){return this instanceof d?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};c.prototype=a.prototype}else c={};return Object.defineProperty(c,"__esModule",{value:!0}),Object.keys(e).forEach(function(d){var b=Object.getOwnPropertyDescriptor(e,d);Object.defineProperty(c,d,b.get?b:{enumerable:!0,get:function(){return e[d]}})}),c}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n$2=Symbol.for("react.portal"),p$2=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r$2=Symbol.for("react.profiler"),t$1=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$1=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(e){return e===null||typeof e!="object"?null:(e=z$1&&e[z$1]||e["@@iterator"],typeof e=="function"?e:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(e,a,c){this.props=e,this.context=a,this.refs=D$1,this.updater=c||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(e,a){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,a,"setState")};E$1.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(e,a,c){this.props=e,this.context=a,this.refs=D$1,this.updater=c||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(e,a,c){var d,b={},h=null,_=null;if(a!=null)for(d in a.ref!==void 0&&(_=a.ref),a.key!==void 0&&(h=""+a.key),a)J.call(a,d)&&!L$1.hasOwnProperty(d)&&(b[d]=a[d]);var j=arguments.length-2;if(j===1)b.children=c;else if(1<j){for(var _e=Array(j),et=0;et<j;et++)_e[et]=arguments[et+2];b.children=_e}if(e&&e.defaultProps)for(d in j=e.defaultProps,j)b[d]===void 0&&(b[d]=j[d]);return{$$typeof:l$1,type:e,key:h,ref:_,props:b,_owner:K$1.current}}function N$1(e,a){return{$$typeof:l$1,type:e.type,key:a,ref:e.ref,props:e.props,_owner:e._owner}}function O$1(e){return typeof e=="object"&&e!==null&&e.$$typeof===l$1}function escape$1(e){var a={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(c){return a[c]})}var P$1=/\/+/g;function Q$1(e,a){return typeof e=="object"&&e!==null&&e.key!=null?escape$1(""+e.key):a.toString(36)}function R$2(e,a,c,d,b){var h=typeof e;(h==="undefined"||h==="boolean")&&(e=null);var _=!1;if(e===null)_=!0;else switch(h){case"string":case"number":_=!0;break;case"object":switch(e.$$typeof){case l$1:case n$2:_=!0}}if(_)return _=e,b=b(_),e=d===""?"."+Q$1(_,0):d,I$1(b)?(c="",e!=null&&(c=e.replace(P$1,"$&/")+"/"),R$2(b,a,c,"",function(et){return et})):b!=null&&(O$1(b)&&(b=N$1(b,c+(!b.key||_&&_.key===b.key?"":(""+b.key).replace(P$1,"$&/")+"/")+e)),a.push(b)),1;if(_=0,d=d===""?".":d+":",I$1(e))for(var j=0;j<e.length;j++){h=e[j];var _e=d+Q$1(h,j);_+=R$2(h,a,c,_e,b)}else if(_e=A$1(e),typeof _e=="function")for(e=_e.call(e),j=0;!(h=e.next()).done;)h=h.value,_e=d+Q$1(h,j++),_+=R$2(h,a,c,_e,b);else if(h==="object")throw a=String(e),Error("Objects are not valid as a React child (found: "+(a==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":a)+"). If you meant to render a collection of children, use an array instead.");return _}function S$1(e,a,c){if(e==null)return e;var d=[],b=0;return R$2(e,d,"","",function(h){return a.call(c,h,b++)}),d}function T$1(e){if(e._status===-1){var a=e._result;a=a(),a.then(function(c){(e._status===0||e._status===-1)&&(e._status=1,e._result=c)},function(c){(e._status===0||e._status===-1)&&(e._status=2,e._result=c)}),e._status===-1&&(e._status=0,e._result=a)}if(e._status===1)return e._result.default;throw e._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$2(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$1,forEach:function(e,a,c){S$1(e,function(){a.apply(this,arguments)},c)},count:function(e){var a=0;return S$1(e,function(){a++}),a},toArray:function(e){return S$1(e,function(a){return a})||[]},only:function(e){if(!O$1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};react_production_min.Component=E$1;react_production_min.Fragment=p$2;react_production_min.Profiler=r$2;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$2;react_production_min.cloneElement=function(e,a,c){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var d=C$1({},e.props),b=e.key,h=e.ref,_=e._owner;if(a!=null){if(a.ref!==void 0&&(h=a.ref,_=K$1.current),a.key!==void 0&&(b=""+a.key),e.type&&e.type.defaultProps)var j=e.type.defaultProps;for(_e in a)J.call(a,_e)&&!L$1.hasOwnProperty(_e)&&(d[_e]=a[_e]===void 0&&j!==void 0?j[_e]:a[_e])}var _e=arguments.length-2;if(_e===1)d.children=c;else if(1<_e){j=Array(_e);for(var et=0;et<_e;et++)j[et]=arguments[et+2];d.children=j}return{$$typeof:l$1,type:e.type,key:b,ref:h,props:d,_owner:_}};react_production_min.createContext=function(e){return e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:t$1,_context:e},e.Consumer=e};react_production_min.createElement=M$1;react_production_min.createFactory=function(e){var a=M$1.bind(null,e);return a.type=e,a};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(e){return{$$typeof:v$1,render:e}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(e){return{$$typeof:y,_payload:{_status:-1,_result:e},_init:T$1}};react_production_min.memo=function(e,a){return{$$typeof:x,type:e,compare:a===void 0?null:a}};react_production_min.startTransition=function(e){var a=V$1.transition;V$1.transition={};try{e()}finally{V$1.transition=a}};react_production_min.unstable_act=X$2;react_production_min.useCallback=function(e,a){return U$1.current.useCallback(e,a)};react_production_min.useContext=function(e){return U$1.current.useContext(e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(e){return U$1.current.useDeferredValue(e)};react_production_min.useEffect=function(e,a){return U$1.current.useEffect(e,a)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(e,a,c){return U$1.current.useImperativeHandle(e,a,c)};react_production_min.useInsertionEffect=function(e,a){return U$1.current.useInsertionEffect(e,a)};react_production_min.useLayoutEffect=function(e,a){return U$1.current.useLayoutEffect(e,a)};react_production_min.useMemo=function(e,a){return U$1.current.useMemo(e,a)};react_production_min.useReducer=function(e,a,c){return U$1.current.useReducer(e,a,c)};react_production_min.useRef=function(e){return U$1.current.useRef(e)};react_production_min.useState=function(e){return U$1.current.useState(e)};react_production_min.useSyncExternalStore=function(e,a,c){return U$1.current.useSyncExternalStore(e,a,c)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs$1(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=reactExports,k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n$1=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q(e,a,c){var d,b={},h=null,_=null;c!==void 0&&(h=""+c),a.key!==void 0&&(h=""+a.key),a.ref!==void 0&&(_=a.ref);for(d in a)m$1.call(a,d)&&!p$1.hasOwnProperty(d)&&(b[d]=a[d]);if(e&&e.defaultProps)for(d in a=e.defaultProps,a)b[d]===void 0&&(b[d]=a[d]);return{$$typeof:k,type:e,key:h,ref:_,props:b,_owner:n$1.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function a(lt,gt){var ot=lt.length;lt.push(gt);e:for(;0<ot;){var vt=ot-1>>>1,ct=lt[vt];if(0<b(ct,gt))lt[vt]=gt,lt[ot]=ct,ot=vt;else break e}}function c(lt){return lt.length===0?null:lt[0]}function d(lt){if(lt.length===0)return null;var gt=lt[0],ot=lt.pop();if(ot!==gt){lt[0]=ot;e:for(var vt=0,ct=lt.length,yt=ct>>>1;vt<yt;){var Dt=2*(vt+1)-1,Ht=lt[Dt],qt=Dt+1,_t=lt[qt];if(0>b(Ht,ot))qt<ct&&0>b(_t,Ht)?(lt[vt]=_t,lt[qt]=ot,vt=qt):(lt[vt]=Ht,lt[Dt]=ot,vt=Dt);else if(qt<ct&&0>b(_t,ot))lt[vt]=_t,lt[qt]=ot,vt=qt;else break e}}return gt}function b(lt,gt){var ot=lt.sortIndex-gt.sortIndex;return ot!==0?ot:lt.id-gt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var h=performance;e.unstable_now=function(){return h.now()}}else{var _=Date,j=_.now();e.unstable_now=function(){return _.now()-j}}var _e=[],et=[],$=1,rt=null,nt=3,st=!1,at=!1,ut=!1,wt=typeof setTimeout=="function"?setTimeout:null,pt=typeof clearTimeout=="function"?clearTimeout:null,xt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function St(lt){for(var gt=c(et);gt!==null;){if(gt.callback===null)d(et);else if(gt.startTime<=lt)d(et),gt.sortIndex=gt.expirationTime,a(_e,gt);else break;gt=c(et)}}function Nt(lt){if(ut=!1,St(lt),!at)if(c(_e)!==null)at=!0,ht(At);else{var gt=c(et);gt!==null&&dt(Nt,gt.startTime-lt)}}function At(lt,gt){at=!1,ut&&(ut=!1,pt(Bt),Bt=-1),st=!0;var ot=nt;try{for(St(gt),rt=c(_e);rt!==null&&(!(rt.expirationTime>gt)||lt&&!Mt());){var vt=rt.callback;if(typeof vt=="function"){rt.callback=null,nt=rt.priorityLevel;var ct=vt(rt.expirationTime<=gt);gt=e.unstable_now(),typeof ct=="function"?rt.callback=ct:rt===c(_e)&&d(_e),St(gt)}else d(_e);rt=c(_e)}if(rt!==null)var yt=!0;else{var Dt=c(et);Dt!==null&&dt(Nt,Dt.startTime-gt),yt=!1}return yt}finally{rt=null,nt=ot,st=!1}}var Ct=!1,Vt=null,Bt=-1,Ut=5,Ft=-1;function Mt(){return!(e.unstable_now()-Ft<Ut)}function mt(){if(Vt!==null){var lt=e.unstable_now();Ft=lt;var gt=!0;try{gt=Vt(!0,lt)}finally{gt?ft():(Ct=!1,Vt=null)}}else Ct=!1}var ft;if(typeof xt=="function")ft=function(){xt(mt)};else if(typeof MessageChannel<"u"){var tt=new MessageChannel,it=tt.port2;tt.port1.onmessage=mt,ft=function(){it.postMessage(null)}}else ft=function(){wt(mt,0)};function ht(lt){Vt=lt,Ct||(Ct=!0,ft())}function dt(lt,gt){Bt=wt(function(){lt(e.unstable_now())},gt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(lt){lt.callback=null},e.unstable_continueExecution=function(){at||st||(at=!0,ht(At))},e.unstable_forceFrameRate=function(lt){0>lt||125<lt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ut=0<lt?Math.floor(1e3/lt):5},e.unstable_getCurrentPriorityLevel=function(){return nt},e.unstable_getFirstCallbackNode=function(){return c(_e)},e.unstable_next=function(lt){switch(nt){case 1:case 2:case 3:var gt=3;break;default:gt=nt}var ot=nt;nt=gt;try{return lt()}finally{nt=ot}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(lt,gt){switch(lt){case 1:case 2:case 3:case 4:case 5:break;default:lt=3}var ot=nt;nt=lt;try{return gt()}finally{nt=ot}},e.unstable_scheduleCallback=function(lt,gt,ot){var vt=e.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?vt+ot:vt):ot=vt,lt){case 1:var ct=-1;break;case 2:ct=250;break;case 5:ct=1073741823;break;case 4:ct=1e4;break;default:ct=5e3}return ct=ot+ct,lt={id:$++,callback:gt,priorityLevel:lt,startTime:ot,expirationTime:ct,sortIndex:-1},ot>vt?(lt.sortIndex=ot,a(et,lt),c(_e)===null&&lt===c(et)&&(ut?(pt(Bt),Bt=-1):ut=!0,dt(Nt,ot-vt))):(lt.sortIndex=ct,a(_e,lt),at||st||(at=!0,ht(At))),lt},e.unstable_shouldYield=Mt,e.unstable_wrapCallback=function(lt){var gt=nt;return function(){var ot=nt;nt=gt;try{return lt.apply(this,arguments)}finally{nt=ot}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p(e){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+e,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+e+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(e,a){ha(e,a),ha(e+"Capture",a)}function ha(e,a){for(ea[e]=a,e=0;e<a.length;e++)da.add(a[e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(e){return ja.call(ma,e)?!0:ja.call(la,e)?!1:ka.test(e)?ma[e]=!0:(la[e]=!0,!1)}function pa(e,a,c,d){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return d?!1:c!==null?!c.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qa(e,a,c,d){if(a===null||typeof a>"u"||pa(e,a,c,d))return!0;if(d)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function v(e,a,c,d,b,h,_){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=d,this.attributeNamespace=b,this.mustUseProperty=c,this.propertyName=e,this.type=a,this.sanitizeURL=h,this.removeEmptyString=_}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){z[e]=new v(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var a=e[0];z[a]=new v(a,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){z[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){z[e]=new v(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){z[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){z[e]=new v(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){z[e]=new v(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){z[e]=new v(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){z[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var a=e.replace(ra,sa);z[a]=new v(a,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var a=e.replace(ra,sa);z[a]=new v(a,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var a=e.replace(ra,sa);z[a]=new v(a,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){z[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)});z.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){z[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)});function ta(e,a,c,d){var b=z.hasOwnProperty(a)?z[a]:null;(b!==null?b.type!==0:d||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(qa(a,c,b,d)&&(c=null),d||b===null?oa(a)&&(c===null?e.removeAttribute(a):e.setAttribute(a,""+c)):b.mustUseProperty?e[b.propertyName]=c===null?b.type===3?!1:"":c:(a=b.attributeName,d=b.attributeNamespace,c===null?e.removeAttribute(a):(b=b.type,c=b===3||b===4&&c===!0?"":""+c,d?e.setAttributeNS(d,a,c):e.setAttribute(a,c))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(e){return e===null||typeof e!="object"?null:(e=Ja&&e[Ja]||e["@@iterator"],typeof e=="function"?e:null)}var A=Object.assign,La;function Ma(e){if(La===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);La=a&&a[1]||""}return`
`+La+e}var Na=!1;function Oa(e,a){if(!e||Na)return"";Na=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(et){var d=et}Reflect.construct(e,[],a)}else{try{a.call()}catch(et){d=et}e.call(a.prototype)}else{try{throw Error()}catch(et){d=et}e()}}catch(et){if(et&&d&&typeof et.stack=="string"){for(var b=et.stack.split(`
`),h=d.stack.split(`
`),_=b.length-1,j=h.length-1;1<=_&&0<=j&&b[_]!==h[j];)j--;for(;1<=_&&0<=j;_--,j--)if(b[_]!==h[j]){if(_!==1||j!==1)do if(_--,j--,0>j||b[_]!==h[j]){var _e=`
`+b[_].replace(" at new "," at ");return e.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",e.displayName)),_e}while(1<=_&&0<=j);break}}}finally{Na=!1,Error.prepareStackTrace=c}return(e=e?e.displayName||e.name:"")?Ma(e):""}function Pa(e){switch(e.tag){case 5:return Ma(e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return e=Oa(e.type,!1),e;case 11:return e=Oa(e.type.render,!1),e;case 1:return e=Oa(e.type,!0),e;default:return""}}function Qa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ca:return(e.displayName||"Context")+".Consumer";case Ba:return(e._context.displayName||"Context")+".Provider";case Da:var a=e.render;return e=e.displayName,e||(e=a.displayName||a.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ga:return a=e.displayName||null,a!==null?a:Qa(e.type)||"Memo";case Ha:a=e._payload,e=e._init;try{return Qa(e(a))}catch{}}return null}function Ra(e){var a=e.type;switch(e.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=a.render,e=e.displayName||e.name||"",a.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(a);case 8:return a===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Sa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ta(e){var a=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ua(e){var a=Ta(e)?"checked":"value",c=Object.getOwnPropertyDescriptor(e.constructor.prototype,a),d=""+e[a];if(!e.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var b=c.get,h=c.set;return Object.defineProperty(e,a,{configurable:!0,get:function(){return b.call(this)},set:function(_){d=""+_,h.call(this,_)}}),Object.defineProperty(e,a,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(_){d=""+_},stopTracking:function(){e._valueTracker=null,delete e[a]}}}}function Va(e){e._valueTracker||(e._valueTracker=Ua(e))}function Wa(e){if(!e)return!1;var a=e._valueTracker;if(!a)return!0;var c=a.getValue(),d="";return e&&(d=Ta(e)?e.checked?"true":"false":e.value),e=d,e!==c?(a.setValue(e),!0):!1}function Xa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ya(e,a){var c=a.checked;return A({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??e._wrapperState.initialChecked})}function Za(e,a){var c=a.defaultValue==null?"":a.defaultValue,d=a.checked!=null?a.checked:a.defaultChecked;c=Sa(a.value!=null?a.value:c),e._wrapperState={initialChecked:d,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function ab(e,a){a=a.checked,a!=null&&ta(e,"checked",a,!1)}function bb(e,a){ab(e,a);var c=Sa(a.value),d=a.type;if(c!=null)d==="number"?(c===0&&e.value===""||e.value!=c)&&(e.value=""+c):e.value!==""+c&&(e.value=""+c);else if(d==="submit"||d==="reset"){e.removeAttribute("value");return}a.hasOwnProperty("value")?cb(e,a.type,c):a.hasOwnProperty("defaultValue")&&cb(e,a.type,Sa(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(e.defaultChecked=!!a.defaultChecked)}function db(e,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var d=a.type;if(!(d!=="submit"&&d!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+e._wrapperState.initialValue,c||a===e.value||(e.value=a),e.defaultValue=a}c=e.name,c!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,c!==""&&(e.name=c)}function cb(e,a,c){(a!=="number"||Xa(e.ownerDocument)!==e)&&(c==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+c&&(e.defaultValue=""+c))}var eb=Array.isArray;function fb(e,a,c,d){if(e=e.options,a){a={};for(var b=0;b<c.length;b++)a["$"+c[b]]=!0;for(c=0;c<e.length;c++)b=a.hasOwnProperty("$"+e[c].value),e[c].selected!==b&&(e[c].selected=b),b&&d&&(e[c].defaultSelected=!0)}else{for(c=""+Sa(c),a=null,b=0;b<e.length;b++){if(e[b].value===c){e[b].selected=!0,d&&(e[b].defaultSelected=!0);return}a!==null||e[b].disabled||(a=e[b])}a!==null&&(a.selected=!0)}}function gb(e,a){if(a.dangerouslySetInnerHTML!=null)throw Error(p(91));return A({},a,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hb(e,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(p(92));if(eb(c)){if(1<c.length)throw Error(p(93));c=c[0]}a=c}a==null&&(a=""),c=a}e._wrapperState={initialValue:Sa(c)}}function ib(e,a){var c=Sa(a.value),d=Sa(a.defaultValue);c!=null&&(c=""+c,c!==e.value&&(e.value=c),a.defaultValue==null&&e.defaultValue!==c&&(e.defaultValue=c)),d!=null&&(e.defaultValue=""+d)}function jb(e){var a=e.textContent;a===e._wrapperState.initialValue&&a!==""&&a!==null&&(e.value=a)}function kb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(e,a){return e==null||e==="http://www.w3.org/1999/xhtml"?kb(a):e==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var mb,nb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,d,b){MSApp.execUnsafeLocalFunction(function(){return e(a,c,d,b)})}:e}(function(e,a){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=a;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=mb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;a.firstChild;)e.appendChild(a.firstChild)}});function ob(e,a){if(a){var c=e.firstChild;if(c&&c===e.lastChild&&c.nodeType===3){c.nodeValue=a;return}}e.textContent=a}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(e){qb.forEach(function(a){a=a+e.charAt(0).toUpperCase()+e.substring(1),pb[a]=pb[e]})});function rb(e,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||pb.hasOwnProperty(e)&&pb[e]?(""+a).trim():a+"px"}function sb(e,a){e=e.style;for(var c in a)if(a.hasOwnProperty(c)){var d=c.indexOf("--")===0,b=rb(c,a[c],d);c==="float"&&(c="cssFloat"),d?e.setProperty(c,b):e[c]=b}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(e,a){if(a){if(tb[e]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(p(137,e));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(p(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(p(61))}if(a.style!=null&&typeof a.style!="object")throw Error(p(62))}}function vb(e,a){if(e.indexOf("-")===-1)return typeof a.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yb=null,zb=null,Ab=null;function Bb(e){if(e=Cb(e)){if(typeof yb!="function")throw Error(p(280));var a=e.stateNode;a&&(a=Db(a),yb(e.stateNode,e.type,a))}}function Eb(e){zb?Ab?Ab.push(e):Ab=[e]:zb=e}function Fb(){if(zb){var e=zb,a=Ab;if(Ab=zb=null,Bb(e),a)for(e=0;e<a.length;e++)Bb(a[e])}}function Gb(e,a){return e(a)}function Hb(){}var Ib=!1;function Jb(e,a,c){if(Ib)return e(a,c);Ib=!0;try{return Gb(e,a,c)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(e,a){var c=e.stateNode;if(c===null)return null;var d=Db(c);if(d===null)return null;c=d[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(e=e.type,d=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!d;break e;default:e=!1}if(e)return null;if(c&&typeof c!="function")throw Error(p(231,a,typeof c));return c}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(e,a,c,d,b,h,_,j,_e){var et=Array.prototype.slice.call(arguments,3);try{a.apply(c,et)}catch($){this.onError($)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(e){Ob=!0,Pb=e}};function Tb(e,a,c,d,b,h,_,j,_e){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(e,a,c,d,b,h,_,j,_e){if(Tb.apply(this,arguments),Ob){if(Ob){var et=Pb;Ob=!1,Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=et)}}function Vb(e){var a=e,c=e;if(e.alternate)for(;a.return;)a=a.return;else{e=a;do a=e,a.flags&4098&&(c=a.return),e=a.return;while(e)}return a.tag===3?c:null}function Wb(e){if(e.tag===13){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function Xb(e){if(Vb(e)!==e)throw Error(p(188))}function Yb(e){var a=e.alternate;if(!a){if(a=Vb(e),a===null)throw Error(p(188));return a!==e?null:e}for(var c=e,d=a;;){var b=c.return;if(b===null)break;var h=b.alternate;if(h===null){if(d=b.return,d!==null){c=d;continue}break}if(b.child===h.child){for(h=b.child;h;){if(h===c)return Xb(b),e;if(h===d)return Xb(b),a;h=h.sibling}throw Error(p(188))}if(c.return!==d.return)c=b,d=h;else{for(var _=!1,j=b.child;j;){if(j===c){_=!0,c=b,d=h;break}if(j===d){_=!0,d=b,c=h;break}j=j.sibling}if(!_){for(j=h.child;j;){if(j===c){_=!0,c=h,d=b;break}if(j===d){_=!0,d=h,c=b;break}j=j.sibling}if(!_)throw Error(p(189))}}if(c.alternate!==d)throw Error(p(190))}if(c.tag!==3)throw Error(p(188));return c.stateNode.current===c?e:a}function Zb(e){return e=Yb(e),e!==null?$b(e):null}function $b(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var a=$b(e);if(a!==null)return a;e=e.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec$1=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(e){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,e,void 0,(e.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(e){return e>>>=0,e===0?32:31-(pc(e)/qc|0)|0}var rc=64,sc=4194304;function tc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function uc(e,a){var c=e.pendingLanes;if(c===0)return 0;var d=0,b=e.suspendedLanes,h=e.pingedLanes,_=c&268435455;if(_!==0){var j=_&~b;j!==0?d=tc(j):(h&=_,h!==0&&(d=tc(h)))}else _=c&~b,_!==0?d=tc(_):h!==0&&(d=tc(h));if(d===0)return 0;if(a!==0&&a!==d&&!(a&b)&&(b=d&-d,h=a&-a,b>=h||b===16&&(h&4194240)!==0))return a;if(d&4&&(d|=c&16),a=e.entangledLanes,a!==0)for(e=e.entanglements,a&=d;0<a;)c=31-oc(a),b=1<<c,d|=e[c],a&=~b;return d}function vc(e,a){switch(e){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(e,a){for(var c=e.suspendedLanes,d=e.pingedLanes,b=e.expirationTimes,h=e.pendingLanes;0<h;){var _=31-oc(h),j=1<<_,_e=b[_];_e===-1?(!(j&c)||j&d)&&(b[_]=vc(j,a)):_e<=a&&(e.expiredLanes|=j),h&=~j}}function xc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yc(){var e=rc;return rc<<=1,!(rc&4194240)&&(rc=64),e}function zc(e){for(var a=[],c=0;31>c;c++)a.push(e);return a}function Ac(e,a,c){e.pendingLanes|=a,a!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,a=31-oc(a),e[a]=c}function Bc(e,a){var c=e.pendingLanes&~a;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=a,e.mutableReadLanes&=a,e.entangledLanes&=a,a=e.entanglements;var d=e.eventTimes;for(e=e.expirationTimes;0<c;){var b=31-oc(c),h=1<<b;a[b]=0,d[b]=-1,e[b]=-1,c&=~h}}function Cc(e,a){var c=e.entangledLanes|=a;for(e=e.entanglements;c;){var d=31-oc(c),b=1<<d;b&a|e[d]&a&&(e[d]|=a),c&=~b}}var C=0;function Dc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(e,a){switch(e){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(a.pointerId)}}function Tc(e,a,c,d,b,h){return e===null||e.nativeEvent!==h?(e={blockedOn:a,domEventName:c,eventSystemFlags:d,nativeEvent:h,targetContainers:[b]},a!==null&&(a=Cb(a),a!==null&&Fc(a)),e):(e.eventSystemFlags|=d,a=e.targetContainers,b!==null&&a.indexOf(b)===-1&&a.push(b),e)}function Uc(e,a,c,d,b){switch(a){case"focusin":return Lc=Tc(Lc,e,a,c,d,b),!0;case"dragenter":return Mc=Tc(Mc,e,a,c,d,b),!0;case"mouseover":return Nc=Tc(Nc,e,a,c,d,b),!0;case"pointerover":var h=b.pointerId;return Oc.set(h,Tc(Oc.get(h)||null,e,a,c,d,b)),!0;case"gotpointercapture":return h=b.pointerId,Pc.set(h,Tc(Pc.get(h)||null,e,a,c,d,b)),!0}return!1}function Vc(e){var a=Wc(e.target);if(a!==null){var c=Vb(a);if(c!==null){if(a=c.tag,a===13){if(a=Wb(c),a!==null){e.blockedOn=a,Ic(e.priority,function(){Gc(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){e.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xc(e){if(e.blockedOn!==null)return!1;for(var a=e.targetContainers;0<a.length;){var c=Yc(e.domEventName,e.eventSystemFlags,a[0],e.nativeEvent);if(c===null){c=e.nativeEvent;var d=new c.constructor(c.type,c);wb=d,c.target.dispatchEvent(d),wb=null}else return a=Cb(c),a!==null&&Fc(a),e.blockedOn=c,!1;a.shift()}return!0}function Zc(e,a,c){Xc(e)&&c.delete(a)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(e,a){e.blockedOn===a&&(e.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(e){function a(b){return ad(b,e)}if(0<Kc.length){ad(Kc[0],e);for(var c=1;c<Kc.length;c++){var d=Kc[c];d.blockedOn===e&&(d.blockedOn=null)}}for(Lc!==null&&ad(Lc,e),Mc!==null&&ad(Mc,e),Nc!==null&&ad(Nc,e),Oc.forEach(a),Pc.forEach(a),c=0;c<Qc.length;c++)d=Qc[c],d.blockedOn===e&&(d.blockedOn=null);for(;0<Qc.length&&(c=Qc[0],c.blockedOn===null);)Vc(c),c.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(e,a,c,d){var b=C,h=cd.transition;cd.transition=null;try{C=1,fd(e,a,c,d)}finally{C=b,cd.transition=h}}function gd(e,a,c,d){var b=C,h=cd.transition;cd.transition=null;try{C=4,fd(e,a,c,d)}finally{C=b,cd.transition=h}}function fd(e,a,c,d){if(dd){var b=Yc(e,a,c,d);if(b===null)hd(e,a,d,id,c),Sc(e,d);else if(Uc(b,e,a,c,d))d.stopPropagation();else if(Sc(e,d),a&4&&-1<Rc.indexOf(e)){for(;b!==null;){var h=Cb(b);if(h!==null&&Ec(h),h=Yc(e,a,c,d),h===null&&hd(e,a,d,id,c),h===b)break;b=h}b!==null&&d.stopPropagation()}else hd(e,a,d,null,c)}}var id=null;function Yc(e,a,c,d){if(id=null,e=xb(d),e=Wc(e),e!==null)if(a=Vb(e),a===null)e=null;else if(c=a.tag,c===13){if(e=Wb(a),e!==null)return e;e=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;e=null}else a!==e&&(e=null);return id=e,null}function jd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec$1()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var e,a=ld,c=a.length,d,b="value"in kd?kd.value:kd.textContent,h=b.length;for(e=0;e<c&&a[e]===b[e];e++);var _=c-e;for(d=1;d<=_&&a[c-d]===b[h-d];d++);return md=b.slice(e,1<d?1-d:void 0)}function od(e){var a=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&a===13&&(e=13)):e=a,e===10&&(e=13),32<=e||e===13?e:0}function pd(){return!0}function qd(){return!1}function rd(e){function a(c,d,b,h,_){this._reactName=c,this._targetInst=b,this.type=d,this.nativeEvent=h,this.target=_,this.currentTarget=null;for(var j in e)e.hasOwnProperty(j)&&(c=e[j],this[j]=c?c(h):h[j]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),a}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yd&&(yd&&e.type==="mousemove"?(wd=e.screenX-yd.screenX,xd=e.screenY-yd.screenY):xd=wd=0,yd=e),wd)},movementY:function(e){return"movementY"in e?e.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(e){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(e):(e=Od[e])?!!a[e]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(e){if(e.key){var a=Md[e.key]||e.key;if(a!=="Unidentified")return a}return e.type==="keypress"?(e=od(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(e){return e.type==="keypress"?od(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?od(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(e,a){switch(e){case"keyup":return $d.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ie=!1;function je(e,a){switch(e){case"compositionend":return he(a);case"keypress":return a.which!==32?null:(fe=!0,ee);case"textInput":return e=a.data,e===ee&&fe?null:e;default:return null}}function ke(e,a){if(ie)return e==="compositionend"||!ae&&ge(e,a)?(e=nd(),md=ld=kd=null,ie=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return de&&a.locale!=="ko"?null:a.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a==="input"?!!le[e.type]:a==="textarea"}function ne(e,a,c,d){Eb(d),a=oe(a,"onChange"),0<a.length&&(c=new td("onChange","change",null,c,d),e.push({event:c,listeners:a}))}var pe=null,qe=null;function re$1(e){se(e,0)}function te(e){var a=ue(e);if(Wa(a))return e}function ve(e,a){if(e==="change")return a}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(e){if(e.propertyName==="value"&&te(qe)){var a=[];ne(a,qe,e,xb(e)),Jb(re$1,a)}}function Ce(e,a,c){e==="focusin"?(Ae(),pe=a,qe=c,pe.attachEvent("onpropertychange",Be)):e==="focusout"&&Ae()}function De(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return te(qe)}function Ee(e,a){if(e==="click")return te(a)}function Fe(e,a){if(e==="input"||e==="change")return te(a)}function Ge(e,a){return e===a&&(e!==0||1/e===1/a)||e!==e&&a!==a}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(e,a){if(He(e,a))return!0;if(typeof e!="object"||e===null||typeof a!="object"||a===null)return!1;var c=Object.keys(e),d=Object.keys(a);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var b=c[d];if(!ja.call(a,b)||!He(e[b],a[b]))return!1}return!0}function Je(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ke(e,a){var c=Je(e);e=0;for(var d;c;){if(c.nodeType===3){if(d=e+c.textContent.length,e<=a&&d>=a)return{node:c,offset:a-e};e=d}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Je(c)}}function Le(e,a){return e&&a?e===a?!0:e&&e.nodeType===3?!1:a&&a.nodeType===3?Le(e,a.parentNode):"contains"in e?e.contains(a):e.compareDocumentPosition?!!(e.compareDocumentPosition(a)&16):!1:!1}function Me(){for(var e=window,a=Xa();a instanceof e.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)e=a.contentWindow;else break;a=Xa(e.document)}return a}function Ne(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a&&(a==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||a==="textarea"||e.contentEditable==="true")}function Oe(e){var a=Me(),c=e.focusedElem,d=e.selectionRange;if(a!==c&&c&&c.ownerDocument&&Le(c.ownerDocument.documentElement,c)){if(d!==null&&Ne(c)){if(a=d.start,e=d.end,e===void 0&&(e=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(e,c.value.length);else if(e=(a=c.ownerDocument||document)&&a.defaultView||window,e.getSelection){e=e.getSelection();var b=c.textContent.length,h=Math.min(d.start,b);d=d.end===void 0?h:Math.min(d.end,b),!e.extend&&h>d&&(b=d,d=h,h=b),b=Ke(c,h);var _=Ke(c,d);b&&_&&(e.rangeCount!==1||e.anchorNode!==b.node||e.anchorOffset!==b.offset||e.focusNode!==_.node||e.focusOffset!==_.offset)&&(a=a.createRange(),a.setStart(b.node,b.offset),e.removeAllRanges(),h>d?(e.addRange(a),e.extend(_.node,_.offset)):(a.setEnd(_.node,_.offset),e.addRange(a)))}}for(a=[],e=c;e=e.parentNode;)e.nodeType===1&&a.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)e=a[c],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(e,a,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Te||Qe==null||Qe!==Xa(d)||(d=Qe,"selectionStart"in d&&Ne(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Se&&Ie(Se,d)||(Se=d,d=oe(Re,"onSelect"),0<d.length&&(a=new td("onSelect","select",null,a,c),e.push({event:a,listeners:d}),a.target=Qe)))}function Ve(e,a){var c={};return c[e.toLowerCase()]=a.toLowerCase(),c["Webkit"+e]="webkit"+a,c["Moz"+e]="moz"+a,c}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(e){if(Xe[e])return Xe[e];if(!We[e])return e;var a=We[e],c;for(c in a)if(a.hasOwnProperty(c)&&c in Ye)return Xe[e]=a[c];return e}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(e,a){df.set(e,a),fa(a,[e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(e,a,c){var d=e.type||"unknown-event";e.currentTarget=c,Ub(d,a,void 0,e),e.currentTarget=null}function se(e,a){a=(a&4)!==0;for(var c=0;c<e.length;c++){var d=e[c],b=d.event;d=d.listeners;e:{var h=void 0;if(a)for(var _=d.length-1;0<=_;_--){var j=d[_],_e=j.instance,et=j.currentTarget;if(j=j.listener,_e!==h&&b.isPropagationStopped())break e;nf(b,j,et),h=_e}else for(_=0;_<d.length;_++){if(j=d[_],_e=j.instance,et=j.currentTarget,j=j.listener,_e!==h&&b.isPropagationStopped())break e;nf(b,j,et),h=_e}}}if(Qb)throw e=Rb,Qb=!1,Rb=null,e}function D(e,a){var c=a[of];c===void 0&&(c=a[of]=new Set);var d=e+"__bubble";c.has(d)||(pf(a,e,2,!1),c.add(d))}function qf(e,a,c){var d=0;a&&(d|=4),pf(c,e,d,a)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(e){if(!e[rf]){e[rf]=!0,da.forEach(function(c){c!=="selectionchange"&&(mf.has(c)||qf(c,!1,e),qf(c,!0,e))});var a=e.nodeType===9?e:e.ownerDocument;a===null||a[rf]||(a[rf]=!0,qf("selectionchange",!1,a))}}function pf(e,a,c,d){switch(jd(a)){case 1:var b=ed;break;case 4:b=gd;break;default:b=fd}c=b.bind(null,a,c,e),b=void 0,!Lb||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(b=!0),d?b!==void 0?e.addEventListener(a,c,{capture:!0,passive:b}):e.addEventListener(a,c,!0):b!==void 0?e.addEventListener(a,c,{passive:b}):e.addEventListener(a,c,!1)}function hd(e,a,c,d,b){var h=d;if(!(a&1)&&!(a&2)&&d!==null)e:for(;;){if(d===null)return;var _=d.tag;if(_===3||_===4){var j=d.stateNode.containerInfo;if(j===b||j.nodeType===8&&j.parentNode===b)break;if(_===4)for(_=d.return;_!==null;){var _e=_.tag;if((_e===3||_e===4)&&(_e=_.stateNode.containerInfo,_e===b||_e.nodeType===8&&_e.parentNode===b))return;_=_.return}for(;j!==null;){if(_=Wc(j),_===null)return;if(_e=_.tag,_e===5||_e===6){d=h=_;continue e}j=j.parentNode}}d=d.return}Jb(function(){var et=h,$=xb(c),rt=[];e:{var nt=df.get(e);if(nt!==void 0){var st=td,at=e;switch(e){case"keypress":if(od(c)===0)break e;case"keydown":case"keyup":st=Rd;break;case"focusin":at="focus",st=Fd;break;case"focusout":at="blur",st=Fd;break;case"beforeblur":case"afterblur":st=Fd;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":st=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":st=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":st=Vd;break;case $e:case af:case bf:st=Hd;break;case cf:st=Xd;break;case"scroll":st=vd;break;case"wheel":st=Zd;break;case"copy":case"cut":case"paste":st=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":st=Td}var ut=(a&4)!==0,wt=!ut&&e==="scroll",pt=ut?nt!==null?nt+"Capture":null:nt;ut=[];for(var xt=et,St;xt!==null;){St=xt;var Nt=St.stateNode;if(St.tag===5&&Nt!==null&&(St=Nt,pt!==null&&(Nt=Kb(xt,pt),Nt!=null&&ut.push(tf(xt,Nt,St)))),wt)break;xt=xt.return}0<ut.length&&(nt=new st(nt,at,null,c,$),rt.push({event:nt,listeners:ut}))}}if(!(a&7)){e:{if(nt=e==="mouseover"||e==="pointerover",st=e==="mouseout"||e==="pointerout",nt&&c!==wb&&(at=c.relatedTarget||c.fromElement)&&(Wc(at)||at[uf]))break e;if((st||nt)&&(nt=$.window===$?$:(nt=$.ownerDocument)?nt.defaultView||nt.parentWindow:window,st?(at=c.relatedTarget||c.toElement,st=et,at=at?Wc(at):null,at!==null&&(wt=Vb(at),at!==wt||at.tag!==5&&at.tag!==6)&&(at=null)):(st=null,at=et),st!==at)){if(ut=Bd,Nt="onMouseLeave",pt="onMouseEnter",xt="mouse",(e==="pointerout"||e==="pointerover")&&(ut=Td,Nt="onPointerLeave",pt="onPointerEnter",xt="pointer"),wt=st==null?nt:ue(st),St=at==null?nt:ue(at),nt=new ut(Nt,xt+"leave",st,c,$),nt.target=wt,nt.relatedTarget=St,Nt=null,Wc($)===et&&(ut=new ut(pt,xt+"enter",at,c,$),ut.target=St,ut.relatedTarget=wt,Nt=ut),wt=Nt,st&&at)t:{for(ut=st,pt=at,xt=0,St=ut;St;St=vf(St))xt++;for(St=0,Nt=pt;Nt;Nt=vf(Nt))St++;for(;0<xt-St;)ut=vf(ut),xt--;for(;0<St-xt;)pt=vf(pt),St--;for(;xt--;){if(ut===pt||pt!==null&&ut===pt.alternate)break t;ut=vf(ut),pt=vf(pt)}ut=null}else ut=null;st!==null&&wf(rt,nt,st,ut,!1),at!==null&&wt!==null&&wf(rt,wt,at,ut,!0)}}e:{if(nt=et?ue(et):window,st=nt.nodeName&&nt.nodeName.toLowerCase(),st==="select"||st==="input"&&nt.type==="file")var At=ve;else if(me(nt))if(we)At=Fe;else{At=De;var Ct=Ce}else(st=nt.nodeName)&&st.toLowerCase()==="input"&&(nt.type==="checkbox"||nt.type==="radio")&&(At=Ee);if(At&&(At=At(e,et))){ne(rt,At,c,$);break e}Ct&&Ct(e,nt,et),e==="focusout"&&(Ct=nt._wrapperState)&&Ct.controlled&&nt.type==="number"&&cb(nt,"number",nt.value)}switch(Ct=et?ue(et):window,e){case"focusin":(me(Ct)||Ct.contentEditable==="true")&&(Qe=Ct,Re=et,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(rt,c,$);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(rt,c,$)}var Vt;if(ae)e:{switch(e){case"compositionstart":var Bt="onCompositionStart";break e;case"compositionend":Bt="onCompositionEnd";break e;case"compositionupdate":Bt="onCompositionUpdate";break e}Bt=void 0}else ie?ge(e,c)&&(Bt="onCompositionEnd"):e==="keydown"&&c.keyCode===229&&(Bt="onCompositionStart");Bt&&(de&&c.locale!=="ko"&&(ie||Bt!=="onCompositionStart"?Bt==="onCompositionEnd"&&ie&&(Vt=nd()):(kd=$,ld="value"in kd?kd.value:kd.textContent,ie=!0)),Ct=oe(et,Bt),0<Ct.length&&(Bt=new Ld(Bt,e,null,c,$),rt.push({event:Bt,listeners:Ct}),Vt?Bt.data=Vt:(Vt=he(c),Vt!==null&&(Bt.data=Vt)))),(Vt=ce?je(e,c):ke(e,c))&&(et=oe(et,"onBeforeInput"),0<et.length&&($=new Ld("onBeforeInput","beforeinput",null,c,$),rt.push({event:$,listeners:et}),$.data=Vt))}se(rt,a)})}function tf(e,a,c){return{instance:e,listener:a,currentTarget:c}}function oe(e,a){for(var c=a+"Capture",d=[];e!==null;){var b=e,h=b.stateNode;b.tag===5&&h!==null&&(b=h,h=Kb(e,c),h!=null&&d.unshift(tf(e,h,b)),h=Kb(e,a),h!=null&&d.push(tf(e,h,b))),e=e.return}return d}function vf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wf(e,a,c,d,b){for(var h=a._reactName,_=[];c!==null&&c!==d;){var j=c,_e=j.alternate,et=j.stateNode;if(_e!==null&&_e===d)break;j.tag===5&&et!==null&&(j=et,b?(_e=Kb(c,h),_e!=null&&_.unshift(tf(c,_e,j))):b||(_e=Kb(c,h),_e!=null&&_.push(tf(c,_e,j)))),c=c.return}_.length!==0&&e.push({event:a,listeners:_})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(e){return(typeof e=="string"?e:""+e).replace(xf,`
`).replace(yf,"")}function Af(e,a,c){if(a=zf(a),zf(e)!==a&&c)throw Error(p(425))}function Bf(){}var Cf=null,Df=null;function Ef(e,a){return e==="textarea"||e==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(e){return Hf.resolve(null).then(e).catch(If)}:Ff;function If(e){setTimeout(function(){throw e})}function Kf(e,a){var c=a,d=0;do{var b=c.nextSibling;if(e.removeChild(c),b&&b.nodeType===8)if(c=b.data,c==="/$"){if(d===0){e.removeChild(b),bd(a);return}d--}else c!=="$"&&c!=="$?"&&c!=="$!"||d++;c=b}while(c);bd(a)}function Lf(e){for(;e!=null;e=e.nextSibling){var a=e.nodeType;if(a===1||a===3)break;if(a===8){if(a=e.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return e}function Mf(e){e=e.previousSibling;for(var a=0;e;){if(e.nodeType===8){var c=e.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return e;a--}else c==="/$"&&a++}e=e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(e){var a=e[Of];if(a)return a;for(var c=e.parentNode;c;){if(a=c[uf]||c[Of]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(e=Mf(e);e!==null;){if(c=e[Of])return c;e=Mf(e)}return a}e=c,c=e.parentNode}return null}function Cb(e){return e=e[Of]||e[uf],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ue(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(p(33))}function Db(e){return e[Pf]||null}var Sf=[],Tf=-1;function Uf(e){return{current:e}}function E(e){0>Tf||(e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(e,a){Tf++,Sf[Tf]=e.current,e.current=a}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(e,a){var c=e.type.contextTypes;if(!c)return Vf;var d=e.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===a)return d.__reactInternalMemoizedMaskedChildContext;var b={},h;for(h in c)b[h]=a[h];return d&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=b),b}function Zf(e){return e=e.childContextTypes,e!=null}function $f(){E(Wf),E(H)}function ag(e,a,c){if(H.current!==Vf)throw Error(p(168));G(H,a),G(Wf,c)}function bg(e,a,c){var d=e.stateNode;if(a=a.childContextTypes,typeof d.getChildContext!="function")return c;d=d.getChildContext();for(var b in d)if(!(b in a))throw Error(p(108,Ra(e)||"Unknown",b));return A({},c,d)}function cg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,e),G(Wf,Wf.current),!0}function dg(e,a,c){var d=e.stateNode;if(!d)throw Error(p(169));c?(e=bg(e,a,Xf),d.__reactInternalMemoizedMergedChildContext=e,E(Wf),E(H),G(H,e)):E(Wf),G(Wf,c)}var eg=null,fg=!1,gg=!1;function hg(e){eg===null?eg=[e]:eg.push(e)}function ig(e){fg=!0,hg(e)}function jg(){if(!gg&&eg!==null){gg=!0;var e=0,a=C;try{var c=eg;for(C=1;e<c.length;e++){var d=c[e];do d=d(!0);while(d!==null)}eg=null,fg=!1}catch(b){throw eg!==null&&(eg=eg.slice(e+1)),ac(fc,jg),b}finally{C=a,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(e,a){kg[lg++]=ng,kg[lg++]=mg,mg=e,ng=a}function ug(e,a,c){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=e;var d=rg;e=sg;var b=32-oc(d)-1;d&=~(1<<b),c+=1;var h=32-oc(a)+b;if(30<h){var _=b-b%5;h=(d&(1<<_)-1).toString(32),d>>=_,b-=_,rg=1<<32-oc(a)+b|c<<b|d,sg=h+e}else rg=1<<h|c<<b|d,sg=e}function vg(e){e.return!==null&&(tg(e,1),ug(e,1,0))}function wg(e){for(;e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(e,a){var c=Bg(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=e,a=e.deletions,a===null?(e.deletions=[c],e.flags|=16):a.push(c)}function Cg(e,a){switch(e.tag){case 5:var c=e.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(e.stateNode=a,xg=e,yg=Lf(a.firstChild),!0):!1;case 6:return a=e.pendingProps===""||a.nodeType!==3?null:a,a!==null?(e.stateNode=a,xg=e,yg=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=qg!==null?{id:rg,overflow:sg}:null,e.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=Bg(18,null,null,0),c.stateNode=a,c.return=e,e.child=c,xg=e,yg=null,!0):!1;default:return!1}}function Dg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Eg(e){if(I){var a=yg;if(a){var c=a;if(!Cg(e,a)){if(Dg(e))throw Error(p(418));a=Lf(c.nextSibling);var d=xg;a&&Cg(e,a)?Ag(d,c):(e.flags=e.flags&-4097|2,I=!1,xg=e)}}else{if(Dg(e))throw Error(p(418));e.flags=e.flags&-4097|2,I=!1,xg=e}}}function Fg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xg=e}function Gg(e){if(e!==xg)return!1;if(!I)return Fg(e),I=!0,!1;var a;if((a=e.tag!==3)&&!(a=e.tag!==5)&&(a=e.type,a=a!=="head"&&a!=="body"&&!Ef(e.type,e.memoizedProps)),a&&(a=yg)){if(Dg(e))throw Hg(),Error(p(418));for(;a;)Ag(e,a),a=Lf(a.nextSibling)}if(Fg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(p(317));e:{for(e=e.nextSibling,a=0;e;){if(e.nodeType===8){var c=e.data;if(c==="/$"){if(a===0){yg=Lf(e.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}e=e.nextSibling}yg=null}}else yg=xg?Lf(e.stateNode.nextSibling):null;return!0}function Hg(){for(var e=yg;e;)e=Lf(e.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(e){zg===null?zg=[e]:zg.push(e)}var Kg=ua.ReactCurrentBatchConfig;function Lg(e,a,c){if(e=c.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(p(309));var d=c.stateNode}if(!d)throw Error(p(147,e));var b=d,h=""+e;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===h?a.ref:(a=function(_){var j=b.refs;_===null?delete j[h]:j[h]=_},a._stringRef=h,a)}if(typeof e!="string")throw Error(p(284));if(!c._owner)throw Error(p(290,e))}return e}function Mg(e,a){throw e=Object.prototype.toString.call(a),Error(p(31,e==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":e))}function Ng(e){var a=e._init;return a(e._payload)}function Og(e){function a(pt,xt){if(e){var St=pt.deletions;St===null?(pt.deletions=[xt],pt.flags|=16):St.push(xt)}}function c(pt,xt){if(!e)return null;for(;xt!==null;)a(pt,xt),xt=xt.sibling;return null}function d(pt,xt){for(pt=new Map;xt!==null;)xt.key!==null?pt.set(xt.key,xt):pt.set(xt.index,xt),xt=xt.sibling;return pt}function b(pt,xt){return pt=Pg(pt,xt),pt.index=0,pt.sibling=null,pt}function h(pt,xt,St){return pt.index=St,e?(St=pt.alternate,St!==null?(St=St.index,St<xt?(pt.flags|=2,xt):St):(pt.flags|=2,xt)):(pt.flags|=1048576,xt)}function _(pt){return e&&pt.alternate===null&&(pt.flags|=2),pt}function j(pt,xt,St,Nt){return xt===null||xt.tag!==6?(xt=Qg(St,pt.mode,Nt),xt.return=pt,xt):(xt=b(xt,St),xt.return=pt,xt)}function _e(pt,xt,St,Nt){var At=St.type;return At===ya?$(pt,xt,St.props.children,Nt,St.key):xt!==null&&(xt.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===Ha&&Ng(At)===xt.type)?(Nt=b(xt,St.props),Nt.ref=Lg(pt,xt,St),Nt.return=pt,Nt):(Nt=Rg(St.type,St.key,St.props,null,pt.mode,Nt),Nt.ref=Lg(pt,xt,St),Nt.return=pt,Nt)}function et(pt,xt,St,Nt){return xt===null||xt.tag!==4||xt.stateNode.containerInfo!==St.containerInfo||xt.stateNode.implementation!==St.implementation?(xt=Sg(St,pt.mode,Nt),xt.return=pt,xt):(xt=b(xt,St.children||[]),xt.return=pt,xt)}function $(pt,xt,St,Nt,At){return xt===null||xt.tag!==7?(xt=Tg(St,pt.mode,Nt,At),xt.return=pt,xt):(xt=b(xt,St),xt.return=pt,xt)}function rt(pt,xt,St){if(typeof xt=="string"&&xt!==""||typeof xt=="number")return xt=Qg(""+xt,pt.mode,St),xt.return=pt,xt;if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case va:return St=Rg(xt.type,xt.key,xt.props,null,pt.mode,St),St.ref=Lg(pt,null,xt),St.return=pt,St;case wa:return xt=Sg(xt,pt.mode,St),xt.return=pt,xt;case Ha:var Nt=xt._init;return rt(pt,Nt(xt._payload),St)}if(eb(xt)||Ka(xt))return xt=Tg(xt,pt.mode,St,null),xt.return=pt,xt;Mg(pt,xt)}return null}function nt(pt,xt,St,Nt){var At=xt!==null?xt.key:null;if(typeof St=="string"&&St!==""||typeof St=="number")return At!==null?null:j(pt,xt,""+St,Nt);if(typeof St=="object"&&St!==null){switch(St.$$typeof){case va:return St.key===At?_e(pt,xt,St,Nt):null;case wa:return St.key===At?et(pt,xt,St,Nt):null;case Ha:return At=St._init,nt(pt,xt,At(St._payload),Nt)}if(eb(St)||Ka(St))return At!==null?null:$(pt,xt,St,Nt,null);Mg(pt,St)}return null}function st(pt,xt,St,Nt,At){if(typeof Nt=="string"&&Nt!==""||typeof Nt=="number")return pt=pt.get(St)||null,j(xt,pt,""+Nt,At);if(typeof Nt=="object"&&Nt!==null){switch(Nt.$$typeof){case va:return pt=pt.get(Nt.key===null?St:Nt.key)||null,_e(xt,pt,Nt,At);case wa:return pt=pt.get(Nt.key===null?St:Nt.key)||null,et(xt,pt,Nt,At);case Ha:var Ct=Nt._init;return st(pt,xt,St,Ct(Nt._payload),At)}if(eb(Nt)||Ka(Nt))return pt=pt.get(St)||null,$(xt,pt,Nt,At,null);Mg(xt,Nt)}return null}function at(pt,xt,St,Nt){for(var At=null,Ct=null,Vt=xt,Bt=xt=0,Ut=null;Vt!==null&&Bt<St.length;Bt++){Vt.index>Bt?(Ut=Vt,Vt=null):Ut=Vt.sibling;var Ft=nt(pt,Vt,St[Bt],Nt);if(Ft===null){Vt===null&&(Vt=Ut);break}e&&Vt&&Ft.alternate===null&&a(pt,Vt),xt=h(Ft,xt,Bt),Ct===null?At=Ft:Ct.sibling=Ft,Ct=Ft,Vt=Ut}if(Bt===St.length)return c(pt,Vt),I&&tg(pt,Bt),At;if(Vt===null){for(;Bt<St.length;Bt++)Vt=rt(pt,St[Bt],Nt),Vt!==null&&(xt=h(Vt,xt,Bt),Ct===null?At=Vt:Ct.sibling=Vt,Ct=Vt);return I&&tg(pt,Bt),At}for(Vt=d(pt,Vt);Bt<St.length;Bt++)Ut=st(Vt,pt,Bt,St[Bt],Nt),Ut!==null&&(e&&Ut.alternate!==null&&Vt.delete(Ut.key===null?Bt:Ut.key),xt=h(Ut,xt,Bt),Ct===null?At=Ut:Ct.sibling=Ut,Ct=Ut);return e&&Vt.forEach(function(Mt){return a(pt,Mt)}),I&&tg(pt,Bt),At}function ut(pt,xt,St,Nt){var At=Ka(St);if(typeof At!="function")throw Error(p(150));if(St=At.call(St),St==null)throw Error(p(151));for(var Ct=At=null,Vt=xt,Bt=xt=0,Ut=null,Ft=St.next();Vt!==null&&!Ft.done;Bt++,Ft=St.next()){Vt.index>Bt?(Ut=Vt,Vt=null):Ut=Vt.sibling;var Mt=nt(pt,Vt,Ft.value,Nt);if(Mt===null){Vt===null&&(Vt=Ut);break}e&&Vt&&Mt.alternate===null&&a(pt,Vt),xt=h(Mt,xt,Bt),Ct===null?At=Mt:Ct.sibling=Mt,Ct=Mt,Vt=Ut}if(Ft.done)return c(pt,Vt),I&&tg(pt,Bt),At;if(Vt===null){for(;!Ft.done;Bt++,Ft=St.next())Ft=rt(pt,Ft.value,Nt),Ft!==null&&(xt=h(Ft,xt,Bt),Ct===null?At=Ft:Ct.sibling=Ft,Ct=Ft);return I&&tg(pt,Bt),At}for(Vt=d(pt,Vt);!Ft.done;Bt++,Ft=St.next())Ft=st(Vt,pt,Bt,Ft.value,Nt),Ft!==null&&(e&&Ft.alternate!==null&&Vt.delete(Ft.key===null?Bt:Ft.key),xt=h(Ft,xt,Bt),Ct===null?At=Ft:Ct.sibling=Ft,Ct=Ft);return e&&Vt.forEach(function(mt){return a(pt,mt)}),I&&tg(pt,Bt),At}function wt(pt,xt,St,Nt){if(typeof St=="object"&&St!==null&&St.type===ya&&St.key===null&&(St=St.props.children),typeof St=="object"&&St!==null){switch(St.$$typeof){case va:e:{for(var At=St.key,Ct=xt;Ct!==null;){if(Ct.key===At){if(At=St.type,At===ya){if(Ct.tag===7){c(pt,Ct.sibling),xt=b(Ct,St.props.children),xt.return=pt,pt=xt;break e}}else if(Ct.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===Ha&&Ng(At)===Ct.type){c(pt,Ct.sibling),xt=b(Ct,St.props),xt.ref=Lg(pt,Ct,St),xt.return=pt,pt=xt;break e}c(pt,Ct);break}else a(pt,Ct);Ct=Ct.sibling}St.type===ya?(xt=Tg(St.props.children,pt.mode,Nt,St.key),xt.return=pt,pt=xt):(Nt=Rg(St.type,St.key,St.props,null,pt.mode,Nt),Nt.ref=Lg(pt,xt,St),Nt.return=pt,pt=Nt)}return _(pt);case wa:e:{for(Ct=St.key;xt!==null;){if(xt.key===Ct)if(xt.tag===4&&xt.stateNode.containerInfo===St.containerInfo&&xt.stateNode.implementation===St.implementation){c(pt,xt.sibling),xt=b(xt,St.children||[]),xt.return=pt,pt=xt;break e}else{c(pt,xt);break}else a(pt,xt);xt=xt.sibling}xt=Sg(St,pt.mode,Nt),xt.return=pt,pt=xt}return _(pt);case Ha:return Ct=St._init,wt(pt,xt,Ct(St._payload),Nt)}if(eb(St))return at(pt,xt,St,Nt);if(Ka(St))return ut(pt,xt,St,Nt);Mg(pt,St)}return typeof St=="string"&&St!==""||typeof St=="number"?(St=""+St,xt!==null&&xt.tag===6?(c(pt,xt.sibling),xt=b(xt,St),xt.return=pt,pt=xt):(c(pt,xt),xt=Qg(St,pt.mode,Nt),xt.return=pt,pt=xt),_(pt)):c(pt,xt)}return wt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(e){var a=Wg.current;E(Wg),e._currentValue=a}function bh(e,a,c){for(;e!==null;){var d=e.alternate;if((e.childLanes&a)!==a?(e.childLanes|=a,d!==null&&(d.childLanes|=a)):d!==null&&(d.childLanes&a)!==a&&(d.childLanes|=a),e===c)break;e=e.return}}function ch(e,a){Xg=e,Zg=Yg=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&a&&(dh$1=!0),e.firstContext=null)}function eh(e){var a=e._currentValue;if(Zg!==e)if(e={context:e,memoizedValue:a,next:null},Yg===null){if(Xg===null)throw Error(p(308));Yg=e,Xg.dependencies={lanes:0,firstContext:e}}else Yg=Yg.next=e;return a}var fh=null;function gh(e){fh===null?fh=[e]:fh.push(e)}function hh(e,a,c,d){var b=a.interleaved;return b===null?(c.next=c,gh(a)):(c.next=b.next,b.next=c),a.interleaved=c,ih(e,d)}function ih(e,a){e.lanes|=a;var c=e.alternate;for(c!==null&&(c.lanes|=a),c=e,e=e.return;e!==null;)e.childLanes|=a,c=e.alternate,c!==null&&(c.childLanes|=a),c=e,e=e.return;return c.tag===3?c.stateNode:null}var jh=!1;function kh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(e,a){e=e.updateQueue,a.updateQueue===e&&(a.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mh(e,a){return{eventTime:e,lane:a,tag:0,payload:null,callback:null,next:null}}function nh(e,a,c){var d=e.updateQueue;if(d===null)return null;if(d=d.shared,K&2){var b=d.pending;return b===null?a.next=a:(a.next=b.next,b.next=a),d.pending=a,ih(e,c)}return b=d.interleaved,b===null?(a.next=a,gh(d)):(a.next=b.next,b.next=a),d.interleaved=a,ih(e,c)}function oh(e,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var d=a.lanes;d&=e.pendingLanes,c|=d,a.lanes=c,Cc(e,c)}}function ph(e,a){var c=e.updateQueue,d=e.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var b=null,h=null;if(c=c.firstBaseUpdate,c!==null){do{var _={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};h===null?b=h=_:h=h.next=_,c=c.next}while(c!==null);h===null?b=h=a:h=h.next=a}else b=h=a;c={baseState:d.baseState,firstBaseUpdate:b,lastBaseUpdate:h,shared:d.shared,effects:d.effects},e.updateQueue=c;return}e=c.lastBaseUpdate,e===null?c.firstBaseUpdate=a:e.next=a,c.lastBaseUpdate=a}function qh(e,a,c,d){var b=e.updateQueue;jh=!1;var h=b.firstBaseUpdate,_=b.lastBaseUpdate,j=b.shared.pending;if(j!==null){b.shared.pending=null;var _e=j,et=_e.next;_e.next=null,_===null?h=et:_.next=et,_=_e;var $=e.alternate;$!==null&&($=$.updateQueue,j=$.lastBaseUpdate,j!==_&&(j===null?$.firstBaseUpdate=et:j.next=et,$.lastBaseUpdate=_e))}if(h!==null){var rt=b.baseState;_=0,$=et=_e=null,j=h;do{var nt=j.lane,st=j.eventTime;if((d&nt)===nt){$!==null&&($=$.next={eventTime:st,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var at=e,ut=j;switch(nt=a,st=c,ut.tag){case 1:if(at=ut.payload,typeof at=="function"){rt=at.call(st,rt,nt);break e}rt=at;break e;case 3:at.flags=at.flags&-65537|128;case 0:if(at=ut.payload,nt=typeof at=="function"?at.call(st,rt,nt):at,nt==null)break e;rt=A({},rt,nt);break e;case 2:jh=!0}}j.callback!==null&&j.lane!==0&&(e.flags|=64,nt=b.effects,nt===null?b.effects=[j]:nt.push(j))}else st={eventTime:st,lane:nt,tag:j.tag,payload:j.payload,callback:j.callback,next:null},$===null?(et=$=st,_e=rt):$=$.next=st,_|=nt;if(j=j.next,j===null){if(j=b.shared.pending,j===null)break;nt=j,j=nt.next,nt.next=null,b.lastBaseUpdate=nt,b.shared.pending=null}}while(!0);if($===null&&(_e=rt),b.baseState=_e,b.firstBaseUpdate=et,b.lastBaseUpdate=$,a=b.shared.interleaved,a!==null){b=a;do _|=b.lane,b=b.next;while(b!==a)}else h===null&&(b.shared.lanes=0);rh|=_,e.lanes=_,e.memoizedState=rt}}function sh(e,a,c){if(e=a.effects,a.effects=null,e!==null)for(a=0;a<e.length;a++){var d=e[a],b=d.callback;if(b!==null){if(d.callback=null,d=c,typeof b!="function")throw Error(p(191,b));b.call(d)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(e){if(e===th)throw Error(p(174));return e}function yh(e,a){switch(G(wh,a),G(vh,e),G(uh,th),e=a.nodeType,e){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:lb(null,"");break;default:e=e===8?a.parentNode:a,a=e.namespaceURI||null,e=e.tagName,a=lb(a,e)}E(uh),G(uh,a)}function zh(){E(uh),E(vh),E(wh)}function Ah(e){xh(wh.current);var a=xh(uh.current),c=lb(a,e.type);a!==c&&(G(vh,e),G(uh,c))}function Bh(e){vh.current===e&&(E(uh),E(vh))}var L=Uf(0);function Ch(e){for(var a=e;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Dh=[];function Eh(){for(var e=0;e<Dh.length;e++)Dh[e]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p(321))}function Mh(e,a){if(a===null)return!1;for(var c=0;c<a.length&&c<e.length;c++)if(!He(e[c],a[c]))return!1;return!0}function Nh(e,a,c,d,b,h){if(Hh=h,M=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Fh.current=e===null||e.memoizedState===null?Oh:Ph,e=c(d,b),Jh){h=0;do{if(Jh=!1,Kh=0,25<=h)throw Error(p(301));h+=1,O=N=null,a.updateQueue=null,Fh.current=Qh,e=c(d,b)}while(Jh)}if(Fh.current=Rh,a=N!==null&&N.next!==null,Hh=0,O=N=M=null,Ih=!1,a)throw Error(p(300));return e}function Sh(){var e=Kh!==0;return Kh=0,e}function Th(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=e:O=O.next=e,O}function Uh(){if(N===null){var e=M.alternate;e=e!==null?e.memoizedState:null}else e=N.next;var a=O===null?M.memoizedState:O.next;if(a!==null)O=a,N=e;else{if(e===null)throw Error(p(310));N=e,e={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=e:O=O.next=e}return O}function Vh(e,a){return typeof a=="function"?a(e):a}function Wh(e){var a=Uh(),c=a.queue;if(c===null)throw Error(p(311));c.lastRenderedReducer=e;var d=N,b=d.baseQueue,h=c.pending;if(h!==null){if(b!==null){var _=b.next;b.next=h.next,h.next=_}d.baseQueue=b=h,c.pending=null}if(b!==null){h=b.next,d=d.baseState;var j=_=null,_e=null,et=h;do{var $=et.lane;if((Hh&$)===$)_e!==null&&(_e=_e.next={lane:0,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null}),d=et.hasEagerState?et.eagerState:e(d,et.action);else{var rt={lane:$,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null};_e===null?(j=_e=rt,_=d):_e=_e.next=rt,M.lanes|=$,rh|=$}et=et.next}while(et!==null&&et!==h);_e===null?_=d:_e.next=j,He(d,a.memoizedState)||(dh$1=!0),a.memoizedState=d,a.baseState=_,a.baseQueue=_e,c.lastRenderedState=d}if(e=c.interleaved,e!==null){b=e;do h=b.lane,M.lanes|=h,rh|=h,b=b.next;while(b!==e)}else b===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function Xh(e){var a=Uh(),c=a.queue;if(c===null)throw Error(p(311));c.lastRenderedReducer=e;var d=c.dispatch,b=c.pending,h=a.memoizedState;if(b!==null){c.pending=null;var _=b=b.next;do h=e(h,_.action),_=_.next;while(_!==b);He(h,a.memoizedState)||(dh$1=!0),a.memoizedState=h,a.baseQueue===null&&(a.baseState=h),c.lastRenderedState=h}return[h,d]}function Yh(){}function Zh(e,a){var c=M,d=Uh(),b=a(),h=!He(d.memoizedState,b);if(h&&(d.memoizedState=b,dh$1=!0),d=d.queue,$h(ai.bind(null,c,d,e),[e]),d.getSnapshot!==a||h||O!==null&&O.memoizedState.tag&1){if(c.flags|=2048,bi(9,ci.bind(null,c,d,b,a),void 0,null),Q===null)throw Error(p(349));Hh&30||di(c,a,b)}return b}function di(e,a,c){e.flags|=16384,e={getSnapshot:a,value:c},a=M.updateQueue,a===null?(a={lastEffect:null,stores:null},M.updateQueue=a,a.stores=[e]):(c=a.stores,c===null?a.stores=[e]:c.push(e))}function ci(e,a,c,d){a.value=c,a.getSnapshot=d,ei(a)&&fi(e)}function ai(e,a,c){return c(function(){ei(a)&&fi(e)})}function ei(e){var a=e.getSnapshot;e=e.value;try{var c=a();return!He(e,c)}catch{return!0}}function fi(e){var a=ih(e,1);a!==null&&gi(a,e,1,-1)}function hi(e){var a=Th();return typeof e=="function"&&(e=e()),a.memoizedState=a.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:e},a.queue=e,e=e.dispatch=ii.bind(null,M,e),[a.memoizedState,e]}function bi(e,a,c,d){return e={tag:e,create:a,destroy:c,deps:d,next:null},a=M.updateQueue,a===null?(a={lastEffect:null,stores:null},M.updateQueue=a,a.lastEffect=e.next=e):(c=a.lastEffect,c===null?a.lastEffect=e.next=e:(d=c.next,c.next=e,e.next=d,a.lastEffect=e)),e}function ji(){return Uh().memoizedState}function ki(e,a,c,d){var b=Th();M.flags|=e,b.memoizedState=bi(1|a,c,void 0,d===void 0?null:d)}function li(e,a,c,d){var b=Uh();d=d===void 0?null:d;var h=void 0;if(N!==null){var _=N.memoizedState;if(h=_.destroy,d!==null&&Mh(d,_.deps)){b.memoizedState=bi(a,c,h,d);return}}M.flags|=e,b.memoizedState=bi(1|a,c,h,d)}function mi(e,a){return ki(8390656,8,e,a)}function $h(e,a){return li(2048,8,e,a)}function ni(e,a){return li(4,2,e,a)}function oi(e,a){return li(4,4,e,a)}function pi(e,a){if(typeof a=="function")return e=e(),a(e),function(){a(null)};if(a!=null)return e=e(),a.current=e,function(){a.current=null}}function qi(e,a,c){return c=c!=null?c.concat([e]):null,li(4,4,pi.bind(null,a,e),c)}function ri(){}function si(e,a){var c=Uh();a=a===void 0?null:a;var d=c.memoizedState;return d!==null&&a!==null&&Mh(a,d[1])?d[0]:(c.memoizedState=[e,a],e)}function ti(e,a){var c=Uh();a=a===void 0?null:a;var d=c.memoizedState;return d!==null&&a!==null&&Mh(a,d[1])?d[0]:(e=e(),c.memoizedState=[e,a],e)}function ui(e,a,c){return Hh&21?(He(c,a)||(c=yc(),M.lanes|=c,rh|=c,e.baseState=!0),a):(e.baseState&&(e.baseState=!1,dh$1=!0),e.memoizedState=c)}function vi(e,a){var c=C;C=c!==0&&4>c?c:4,e(!0);var d=Gh.transition;Gh.transition={};try{e(!1),a()}finally{C=c,Gh.transition=d}}function wi(){return Uh().memoizedState}function xi(e,a,c){var d=yi(e);if(c={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null},zi(e))Ai(a,c);else if(c=hh(e,a,c,d),c!==null){var b=R$1();gi(c,e,d,b),Bi(c,a,d)}}function ii(e,a,c){var d=yi(e),b={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null};if(zi(e))Ai(a,b);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=a.lastRenderedReducer,h!==null))try{var _=a.lastRenderedState,j=h(_,c);if(b.hasEagerState=!0,b.eagerState=j,He(j,_)){var _e=a.interleaved;_e===null?(b.next=b,gh(a)):(b.next=_e.next,_e.next=b),a.interleaved=b;return}}catch{}finally{}c=hh(e,a,b,d),c!==null&&(b=R$1(),gi(c,e,d,b),Bi(c,a,d))}}function zi(e){var a=e.alternate;return e===M||a!==null&&a===M}function Ai(e,a){Jh=Ih=!0;var c=e.pending;c===null?a.next=a:(a.next=c.next,c.next=a),e.pending=a}function Bi(e,a,c){if(c&4194240){var d=a.lanes;d&=e.pendingLanes,c|=d,a.lanes=c,Cc(e,c)}}var Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(e,a){return Th().memoizedState=[e,a===void 0?null:a],e},useContext:eh,useEffect:mi,useImperativeHandle:function(e,a,c){return c=c!=null?c.concat([e]):null,ki(4194308,4,pi.bind(null,a,e),c)},useLayoutEffect:function(e,a){return ki(4194308,4,e,a)},useInsertionEffect:function(e,a){return ki(4,2,e,a)},useMemo:function(e,a){var c=Th();return a=a===void 0?null:a,e=e(),c.memoizedState=[e,a],e},useReducer:function(e,a,c){var d=Th();return a=c!==void 0?c(a):a,d.memoizedState=d.baseState=a,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},d.queue=e,e=e.dispatch=xi.bind(null,M,e),[d.memoizedState,e]},useRef:function(e){var a=Th();return e={current:e},a.memoizedState=e},useState:hi,useDebugValue:ri,useDeferredValue:function(e){return Th().memoizedState=e},useTransition:function(){var e=hi(!1),a=e[0];return e=vi.bind(null,e[1]),Th().memoizedState=e,[a,e]},useMutableSource:function(){},useSyncExternalStore:function(e,a,c){var d=M,b=Th();if(I){if(c===void 0)throw Error(p(407));c=c()}else{if(c=a(),Q===null)throw Error(p(349));Hh&30||di(d,a,c)}b.memoizedState=c;var h={value:c,getSnapshot:a};return b.queue=h,mi(ai.bind(null,d,h,e),[e]),d.flags|=2048,bi(9,ci.bind(null,d,h,c,a),void 0,null),c},useId:function(){var e=Th(),a=Q.identifierPrefix;if(I){var c=sg,d=rg;c=(d&~(1<<32-oc(d)-1)).toString(32)+c,a=":"+a+"R"+c,c=Kh++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=Lh++,a=":"+a+"r"+c.toString(32)+":";return e.memoizedState=a},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(e){var a=Uh();return ui(a,N.memoizedState,e)},useTransition:function(){var e=Wh(Vh)[0],a=Uh().memoizedState;return[e,a]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(e){var a=Uh();return N===null?a.memoizedState=e:ui(a,N.memoizedState,e)},useTransition:function(){var e=Xh(Vh)[0],a=Uh().memoizedState;return[e,a]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(e,a){if(e&&e.defaultProps){a=A({},a),e=e.defaultProps;for(var c in e)a[c]===void 0&&(a[c]=e[c]);return a}return a}function Di(e,a,c,d){a=e.memoizedState,c=c(d,a),c=c==null?a:A({},a,c),e.memoizedState=c,e.lanes===0&&(e.updateQueue.baseState=c)}var Ei={isMounted:function(e){return(e=e._reactInternals)?Vb(e)===e:!1},enqueueSetState:function(e,a,c){e=e._reactInternals;var d=R$1(),b=yi(e),h=mh(d,b);h.payload=a,c!=null&&(h.callback=c),a=nh(e,h,b),a!==null&&(gi(a,e,b,d),oh(a,e,b))},enqueueReplaceState:function(e,a,c){e=e._reactInternals;var d=R$1(),b=yi(e),h=mh(d,b);h.tag=1,h.payload=a,c!=null&&(h.callback=c),a=nh(e,h,b),a!==null&&(gi(a,e,b,d),oh(a,e,b))},enqueueForceUpdate:function(e,a){e=e._reactInternals;var c=R$1(),d=yi(e),b=mh(c,d);b.tag=2,a!=null&&(b.callback=a),a=nh(e,b,d),a!==null&&(gi(a,e,d,c),oh(a,e,d))}};function Fi(e,a,c,d,b,h,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(d,h,_):a.prototype&&a.prototype.isPureReactComponent?!Ie(c,d)||!Ie(b,h):!0}function Gi(e,a,c){var d=!1,b=Vf,h=a.contextType;return typeof h=="object"&&h!==null?h=eh(h):(b=Zf(a)?Xf:H.current,d=a.contextTypes,h=(d=d!=null)?Yf(e,b):Vf),a=new a(c,h),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Ei,e.stateNode=a,a._reactInternals=e,d&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=b,e.__reactInternalMemoizedMaskedChildContext=h),a}function Hi(e,a,c,d){e=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,d),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,d),a.state!==e&&Ei.enqueueReplaceState(a,a.state,null)}function Ii(e,a,c,d){var b=e.stateNode;b.props=c,b.state=e.memoizedState,b.refs={},kh(e);var h=a.contextType;typeof h=="object"&&h!==null?b.context=eh(h):(h=Zf(a)?Xf:H.current,b.context=Yf(e,h)),b.state=e.memoizedState,h=a.getDerivedStateFromProps,typeof h=="function"&&(Di(e,a,h,c),b.state=e.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(a=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),a!==b.state&&Ei.enqueueReplaceState(b,b.state,null),qh(e,c,b,d),b.state=e.memoizedState),typeof b.componentDidMount=="function"&&(e.flags|=4194308)}function Ji(e,a){try{var c="",d=a;do c+=Pa(d),d=d.return;while(d);var b=c}catch(h){b=`
Error generating stack: `+h.message+`
`+h.stack}return{value:e,source:a,stack:b,digest:null}}function Ki(e,a,c){return{value:e,source:null,stack:c??null,digest:a??null}}function Li(e,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(e,a,c){c=mh(-1,c),c.tag=3,c.payload={element:null};var d=a.value;return c.callback=function(){Oi||(Oi=!0,Pi=d),Li(e,a)},c}function Qi(e,a,c){c=mh(-1,c),c.tag=3;var d=e.type.getDerivedStateFromError;if(typeof d=="function"){var b=a.value;c.payload=function(){return d(b)},c.callback=function(){Li(e,a)}}var h=e.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(c.callback=function(){Li(e,a),typeof d!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var _=a.stack;this.componentDidCatch(a.value,{componentStack:_!==null?_:""})}),c}function Si(e,a,c){var d=e.pingCache;if(d===null){d=e.pingCache=new Mi;var b=new Set;d.set(a,b)}else b=d.get(a),b===void 0&&(b=new Set,d.set(a,b));b.has(c)||(b.add(c),e=Ti.bind(null,e,a,c),a.then(e,e))}function Ui(e){do{var a;if((a=e.tag===13)&&(a=e.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return e;e=e.return}while(e!==null);return null}function Vi(e,a,c,d,b){return e.mode&1?(e.flags|=65536,e.lanes=b,e):(e===a?e.flags|=65536:(e.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=mh(-1,1),a.tag=2,nh(c,a,1))),c.lanes|=1),e)}var Wi=ua.ReactCurrentOwner,dh$1=!1;function Xi(e,a,c,d){a.child=e===null?Vg(a,null,c,d):Ug(a,e.child,c,d)}function Yi(e,a,c,d,b){c=c.render;var h=a.ref;return ch(a,b),d=Nh(e,a,c,d,h,b),c=Sh(),e!==null&&!dh$1?(a.updateQueue=e.updateQueue,a.flags&=-2053,e.lanes&=~b,Zi(e,a,b)):(I&&c&&vg(a),a.flags|=1,Xi(e,a,d,b),a.child)}function $i(e,a,c,d,b){if(e===null){var h=c.type;return typeof h=="function"&&!aj(h)&&h.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=h,bj(e,a,h,d,b)):(e=Rg(c.type,null,d,a,a.mode,b),e.ref=a.ref,e.return=a,a.child=e)}if(h=e.child,!(e.lanes&b)){var _=h.memoizedProps;if(c=c.compare,c=c!==null?c:Ie,c(_,d)&&e.ref===a.ref)return Zi(e,a,b)}return a.flags|=1,e=Pg(h,d),e.ref=a.ref,e.return=a,a.child=e}function bj(e,a,c,d,b){if(e!==null){var h=e.memoizedProps;if(Ie(h,d)&&e.ref===a.ref)if(dh$1=!1,a.pendingProps=d=h,(e.lanes&b)!==0)e.flags&131072&&(dh$1=!0);else return a.lanes=e.lanes,Zi(e,a,b)}return cj(e,a,c,d,b)}function dj(e,a,c){var d=a.pendingProps,b=d.children,h=e!==null?e.memoizedState:null;if(d.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=c;else{if(!(c&1073741824))return e=h!==null?h.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:e,cachePool:null,transitions:null},a.updateQueue=null,G(ej,fj),fj|=e,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=h!==null?h.baseLanes:c,G(ej,fj),fj|=d}else h!==null?(d=h.baseLanes|c,a.memoizedState=null):d=c,G(ej,fj),fj|=d;return Xi(e,a,b,c),a.child}function gj(e,a){var c=a.ref;(e===null&&c!==null||e!==null&&e.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function cj(e,a,c,d,b){var h=Zf(c)?Xf:H.current;return h=Yf(a,h),ch(a,b),c=Nh(e,a,c,d,h,b),d=Sh(),e!==null&&!dh$1?(a.updateQueue=e.updateQueue,a.flags&=-2053,e.lanes&=~b,Zi(e,a,b)):(I&&d&&vg(a),a.flags|=1,Xi(e,a,c,b),a.child)}function hj(e,a,c,d,b){if(Zf(c)){var h=!0;cg(a)}else h=!1;if(ch(a,b),a.stateNode===null)ij(e,a),Gi(a,c,d),Ii(a,c,d,b),d=!0;else if(e===null){var _=a.stateNode,j=a.memoizedProps;_.props=j;var _e=_.context,et=c.contextType;typeof et=="object"&&et!==null?et=eh(et):(et=Zf(c)?Xf:H.current,et=Yf(a,et));var $=c.getDerivedStateFromProps,rt=typeof $=="function"||typeof _.getSnapshotBeforeUpdate=="function";rt||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(j!==d||_e!==et)&&Hi(a,_,d,et),jh=!1;var nt=a.memoizedState;_.state=nt,qh(a,d,_,b),_e=a.memoizedState,j!==d||nt!==_e||Wf.current||jh?(typeof $=="function"&&(Di(a,c,$,d),_e=a.memoizedState),(j=jh||Fi(a,c,j,d,nt,_e,et))?(rt||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(a.flags|=4194308)):(typeof _.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=d,a.memoizedState=_e),_.props=d,_.state=_e,_.context=et,d=j):(typeof _.componentDidMount=="function"&&(a.flags|=4194308),d=!1)}else{_=a.stateNode,lh(e,a),j=a.memoizedProps,et=a.type===a.elementType?j:Ci(a.type,j),_.props=et,rt=a.pendingProps,nt=_.context,_e=c.contextType,typeof _e=="object"&&_e!==null?_e=eh(_e):(_e=Zf(c)?Xf:H.current,_e=Yf(a,_e));var st=c.getDerivedStateFromProps;($=typeof st=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(j!==rt||nt!==_e)&&Hi(a,_,d,_e),jh=!1,nt=a.memoizedState,_.state=nt,qh(a,d,_,b);var at=a.memoizedState;j!==rt||nt!==at||Wf.current||jh?(typeof st=="function"&&(Di(a,c,st,d),at=a.memoizedState),(et=jh||Fi(a,c,et,d,nt,at,_e)||!1)?($||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(d,at,_e),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(d,at,_e)),typeof _.componentDidUpdate=="function"&&(a.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof _.componentDidUpdate!="function"||j===e.memoizedProps&&nt===e.memoizedState||(a.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||j===e.memoizedProps&&nt===e.memoizedState||(a.flags|=1024),a.memoizedProps=d,a.memoizedState=at),_.props=d,_.state=at,_.context=_e,d=et):(typeof _.componentDidUpdate!="function"||j===e.memoizedProps&&nt===e.memoizedState||(a.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||j===e.memoizedProps&&nt===e.memoizedState||(a.flags|=1024),d=!1)}return jj(e,a,c,d,h,b)}function jj(e,a,c,d,b,h){gj(e,a);var _=(a.flags&128)!==0;if(!d&&!_)return b&&dg(a,c,!1),Zi(e,a,h);d=a.stateNode,Wi.current=a;var j=_&&typeof c.getDerivedStateFromError!="function"?null:d.render();return a.flags|=1,e!==null&&_?(a.child=Ug(a,e.child,null,h),a.child=Ug(a,null,j,h)):Xi(e,a,j,h),a.memoizedState=d.state,b&&dg(a,c,!0),a.child}function kj(e){var a=e.stateNode;a.pendingContext?ag(e,a.pendingContext,a.pendingContext!==a.context):a.context&&ag(e,a.context,!1),yh(e,a.containerInfo)}function lj(e,a,c,d,b){return Ig(),Jg(b),a.flags|=256,Xi(e,a,c,d),a.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(e){return{baseLanes:e,cachePool:null,transitions:null}}function oj(e,a,c){var d=a.pendingProps,b=L.current,h=!1,_=(a.flags&128)!==0,j;if((j=_)||(j=e!==null&&e.memoizedState===null?!1:(b&2)!==0),j?(h=!0,a.flags&=-129):(e===null||e.memoizedState!==null)&&(b|=1),G(L,b&1),e===null)return Eg(a),e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(a.mode&1?e.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(_=d.children,e=d.fallback,h?(d=a.mode,h=a.child,_={mode:"hidden",children:_},!(d&1)&&h!==null?(h.childLanes=0,h.pendingProps=_):h=pj(_,d,0,null),e=Tg(e,d,c,null),h.return=a,e.return=a,h.sibling=e,a.child=h,a.child.memoizedState=nj(c),a.memoizedState=mj,e):qj(a,_));if(b=e.memoizedState,b!==null&&(j=b.dehydrated,j!==null))return rj(e,a,_,d,j,b,c);if(h){h=d.fallback,_=a.mode,b=e.child,j=b.sibling;var _e={mode:"hidden",children:d.children};return!(_&1)&&a.child!==b?(d=a.child,d.childLanes=0,d.pendingProps=_e,a.deletions=null):(d=Pg(b,_e),d.subtreeFlags=b.subtreeFlags&14680064),j!==null?h=Pg(j,h):(h=Tg(h,_,c,null),h.flags|=2),h.return=a,d.return=a,d.sibling=h,a.child=d,d=h,h=a.child,_=e.child.memoizedState,_=_===null?nj(c):{baseLanes:_.baseLanes|c,cachePool:null,transitions:_.transitions},h.memoizedState=_,h.childLanes=e.childLanes&~c,a.memoizedState=mj,d}return h=e.child,e=h.sibling,d=Pg(h,{mode:"visible",children:d.children}),!(a.mode&1)&&(d.lanes=c),d.return=a,d.sibling=null,e!==null&&(c=a.deletions,c===null?(a.deletions=[e],a.flags|=16):c.push(e)),a.child=d,a.memoizedState=null,d}function qj(e,a){return a=pj({mode:"visible",children:a},e.mode,0,null),a.return=e,e.child=a}function sj(e,a,c,d){return d!==null&&Jg(d),Ug(a,e.child,null,c),e=qj(a,a.pendingProps.children),e.flags|=2,a.memoizedState=null,e}function rj(e,a,c,d,b,h,_){if(c)return a.flags&256?(a.flags&=-257,d=Ki(Error(p(422))),sj(e,a,_,d)):a.memoizedState!==null?(a.child=e.child,a.flags|=128,null):(h=d.fallback,b=a.mode,d=pj({mode:"visible",children:d.children},b,0,null),h=Tg(h,b,_,null),h.flags|=2,d.return=a,h.return=a,d.sibling=h,a.child=d,a.mode&1&&Ug(a,e.child,null,_),a.child.memoizedState=nj(_),a.memoizedState=mj,h);if(!(a.mode&1))return sj(e,a,_,null);if(b.data==="$!"){if(d=b.nextSibling&&b.nextSibling.dataset,d)var j=d.dgst;return d=j,h=Error(p(419)),d=Ki(h,d,void 0),sj(e,a,_,d)}if(j=(_&e.childLanes)!==0,dh$1||j){if(d=Q,d!==null){switch(_&-_){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=b&(d.suspendedLanes|_)?0:b,b!==0&&b!==h.retryLane&&(h.retryLane=b,ih(e,b),gi(d,e,b,-1))}return tj(),d=Ki(Error(p(421))),sj(e,a,_,d)}return b.data==="$?"?(a.flags|=128,a.child=e.child,a=uj.bind(null,e),b._reactRetry=a,null):(e=h.treeContext,yg=Lf(b.nextSibling),xg=a,I=!0,zg=null,e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=e.id,sg=e.overflow,qg=a),a=qj(a,d.children),a.flags|=4096,a)}function vj(e,a,c){e.lanes|=a;var d=e.alternate;d!==null&&(d.lanes|=a),bh(e.return,a,c)}function wj(e,a,c,d,b){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:b}:(h.isBackwards=a,h.rendering=null,h.renderingStartTime=0,h.last=d,h.tail=c,h.tailMode=b)}function xj(e,a,c){var d=a.pendingProps,b=d.revealOrder,h=d.tail;if(Xi(e,a,d.children,c),d=L.current,d&2)d=d&1|2,a.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=a.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vj(e,c,a);else if(e.tag===19)vj(e,c,a);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===a)break e;for(;e.sibling===null;){if(e.return===null||e.return===a)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}d&=1}if(G(L,d),!(a.mode&1))a.memoizedState=null;else switch(b){case"forwards":for(c=a.child,b=null;c!==null;)e=c.alternate,e!==null&&Ch(e)===null&&(b=c),c=c.sibling;c=b,c===null?(b=a.child,a.child=null):(b=c.sibling,c.sibling=null),wj(a,!1,b,c,h);break;case"backwards":for(c=null,b=a.child,a.child=null;b!==null;){if(e=b.alternate,e!==null&&Ch(e)===null){a.child=b;break}e=b.sibling,b.sibling=c,c=b,b=e}wj(a,!0,c,null,h);break;case"together":wj(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ij(e,a){!(a.mode&1)&&e!==null&&(e.alternate=null,a.alternate=null,a.flags|=2)}function Zi(e,a,c){if(e!==null&&(a.dependencies=e.dependencies),rh|=a.lanes,!(c&a.childLanes))return null;if(e!==null&&a.child!==e.child)throw Error(p(153));if(a.child!==null){for(e=a.child,c=Pg(e,e.pendingProps),a.child=c,c.return=a;e.sibling!==null;)e=e.sibling,c=c.sibling=Pg(e,e.pendingProps),c.return=a;c.sibling=null}return a.child}function yj(e,a,c){switch(a.tag){case 3:kj(a),Ig();break;case 5:Ah(a);break;case 1:Zf(a.type)&&cg(a);break;case 4:yh(a,a.stateNode.containerInfo);break;case 10:var d=a.type._context,b=a.memoizedProps.value;G(Wg,d._currentValue),d._currentValue=b;break;case 13:if(d=a.memoizedState,d!==null)return d.dehydrated!==null?(G(L,L.current&1),a.flags|=128,null):c&a.child.childLanes?oj(e,a,c):(G(L,L.current&1),e=Zi(e,a,c),e!==null?e.sibling:null);G(L,L.current&1);break;case 19:if(d=(c&a.childLanes)!==0,e.flags&128){if(d)return xj(e,a,c);a.flags|=128}if(b=a.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),G(L,L.current),d)break;return null;case 22:case 23:return a.lanes=0,dj(e,a,c)}return Zi(e,a,c)}var zj,Aj,Bj,Cj;zj=function(e,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}};Aj=function(){};Bj=function(e,a,c,d){var b=e.memoizedProps;if(b!==d){e=a.stateNode,xh(uh.current);var h=null;switch(c){case"input":b=Ya(e,b),d=Ya(e,d),h=[];break;case"select":b=A({},b,{value:void 0}),d=A({},d,{value:void 0}),h=[];break;case"textarea":b=gb(e,b),d=gb(e,d),h=[];break;default:typeof b.onClick!="function"&&typeof d.onClick=="function"&&(e.onclick=Bf)}ub(c,d);var _;c=null;for(et in b)if(!d.hasOwnProperty(et)&&b.hasOwnProperty(et)&&b[et]!=null)if(et==="style"){var j=b[et];for(_ in j)j.hasOwnProperty(_)&&(c||(c={}),c[_]="")}else et!=="dangerouslySetInnerHTML"&&et!=="children"&&et!=="suppressContentEditableWarning"&&et!=="suppressHydrationWarning"&&et!=="autoFocus"&&(ea.hasOwnProperty(et)?h||(h=[]):(h=h||[]).push(et,null));for(et in d){var _e=d[et];if(j=b!=null?b[et]:void 0,d.hasOwnProperty(et)&&_e!==j&&(_e!=null||j!=null))if(et==="style")if(j){for(_ in j)!j.hasOwnProperty(_)||_e&&_e.hasOwnProperty(_)||(c||(c={}),c[_]="");for(_ in _e)_e.hasOwnProperty(_)&&j[_]!==_e[_]&&(c||(c={}),c[_]=_e[_])}else c||(h||(h=[]),h.push(et,c)),c=_e;else et==="dangerouslySetInnerHTML"?(_e=_e?_e.__html:void 0,j=j?j.__html:void 0,_e!=null&&j!==_e&&(h=h||[]).push(et,_e)):et==="children"?typeof _e!="string"&&typeof _e!="number"||(h=h||[]).push(et,""+_e):et!=="suppressContentEditableWarning"&&et!=="suppressHydrationWarning"&&(ea.hasOwnProperty(et)?(_e!=null&&et==="onScroll"&&D("scroll",e),h||j===_e||(h=[])):(h=h||[]).push(et,_e))}c&&(h=h||[]).push("style",c);var et=h;(a.updateQueue=et)&&(a.flags|=4)}};Cj=function(e,a,c,d){c!==d&&(a.flags|=4)};function Dj(e,a){if(!I)switch(e.tailMode){case"hidden":a=e.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?e.tail=null:c.sibling=null;break;case"collapsed":c=e.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?a||e.tail===null?e.tail=null:e.tail.sibling=null:d.sibling=null}}function S(e){var a=e.alternate!==null&&e.alternate.child===e.child,c=0,d=0;if(a)for(var b=e.child;b!==null;)c|=b.lanes|b.childLanes,d|=b.subtreeFlags&14680064,d|=b.flags&14680064,b.return=e,b=b.sibling;else for(b=e.child;b!==null;)c|=b.lanes|b.childLanes,d|=b.subtreeFlags,d|=b.flags,b.return=e,b=b.sibling;return e.subtreeFlags|=d,e.childLanes=c,a}function Ej(e,a,c){var d=a.pendingProps;switch(wg(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(a),null;case 1:return Zf(a.type)&&$f(),S(a),null;case 3:return d=a.stateNode,zh(),E(Wf),E(H),Eh(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(e===null||e.child===null)&&(Gg(a)?a.flags|=4:e===null||e.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(e,a),S(a),null;case 5:Bh(a);var b=xh(wh.current);if(c=a.type,e!==null&&a.stateNode!=null)Bj(e,a,c,d,b),e.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!d){if(a.stateNode===null)throw Error(p(166));return S(a),null}if(e=xh(uh.current),Gg(a)){d=a.stateNode,c=a.type;var h=a.memoizedProps;switch(d[Of]=a,d[Pf]=h,e=(a.mode&1)!==0,c){case"dialog":D("cancel",d),D("close",d);break;case"iframe":case"object":case"embed":D("load",d);break;case"video":case"audio":for(b=0;b<lf.length;b++)D(lf[b],d);break;case"source":D("error",d);break;case"img":case"image":case"link":D("error",d),D("load",d);break;case"details":D("toggle",d);break;case"input":Za(d,h),D("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!h.multiple},D("invalid",d);break;case"textarea":hb(d,h),D("invalid",d)}ub(c,h),b=null;for(var _ in h)if(h.hasOwnProperty(_)){var j=h[_];_==="children"?typeof j=="string"?d.textContent!==j&&(h.suppressHydrationWarning!==!0&&Af(d.textContent,j,e),b=["children",j]):typeof j=="number"&&d.textContent!==""+j&&(h.suppressHydrationWarning!==!0&&Af(d.textContent,j,e),b=["children",""+j]):ea.hasOwnProperty(_)&&j!=null&&_==="onScroll"&&D("scroll",d)}switch(c){case"input":Va(d),db(d,h,!0);break;case"textarea":Va(d),jb(d);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(d.onclick=Bf)}d=b,a.updateQueue=d,d!==null&&(a.flags|=4)}else{_=b.nodeType===9?b:b.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kb(c)),e==="http://www.w3.org/1999/xhtml"?c==="script"?(e=_.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof d.is=="string"?e=_.createElement(c,{is:d.is}):(e=_.createElement(c),c==="select"&&(_=e,d.multiple?_.multiple=!0:d.size&&(_.size=d.size))):e=_.createElementNS(e,c),e[Of]=a,e[Pf]=d,zj(e,a,!1,!1),a.stateNode=e;e:{switch(_=vb(c,d),c){case"dialog":D("cancel",e),D("close",e),b=d;break;case"iframe":case"object":case"embed":D("load",e),b=d;break;case"video":case"audio":for(b=0;b<lf.length;b++)D(lf[b],e);b=d;break;case"source":D("error",e),b=d;break;case"img":case"image":case"link":D("error",e),D("load",e),b=d;break;case"details":D("toggle",e),b=d;break;case"input":Za(e,d),b=Ya(e,d),D("invalid",e);break;case"option":b=d;break;case"select":e._wrapperState={wasMultiple:!!d.multiple},b=A({},d,{value:void 0}),D("invalid",e);break;case"textarea":hb(e,d),b=gb(e,d),D("invalid",e);break;default:b=d}ub(c,b),j=b;for(h in j)if(j.hasOwnProperty(h)){var _e=j[h];h==="style"?sb(e,_e):h==="dangerouslySetInnerHTML"?(_e=_e?_e.__html:void 0,_e!=null&&nb(e,_e)):h==="children"?typeof _e=="string"?(c!=="textarea"||_e!=="")&&ob(e,_e):typeof _e=="number"&&ob(e,""+_e):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(ea.hasOwnProperty(h)?_e!=null&&h==="onScroll"&&D("scroll",e):_e!=null&&ta(e,h,_e,_))}switch(c){case"input":Va(e),db(e,d,!1);break;case"textarea":Va(e),jb(e);break;case"option":d.value!=null&&e.setAttribute("value",""+Sa(d.value));break;case"select":e.multiple=!!d.multiple,h=d.value,h!=null?fb(e,!!d.multiple,h,!1):d.defaultValue!=null&&fb(e,!!d.multiple,d.defaultValue,!0);break;default:typeof b.onClick=="function"&&(e.onclick=Bf)}switch(c){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return S(a),null;case 6:if(e&&a.stateNode!=null)Cj(e,a,e.memoizedProps,d);else{if(typeof d!="string"&&a.stateNode===null)throw Error(p(166));if(c=xh(wh.current),xh(uh.current),Gg(a)){if(d=a.stateNode,c=a.memoizedProps,d[Of]=a,(h=d.nodeValue!==c)&&(e=xg,e!==null))switch(e.tag){case 3:Af(d.nodeValue,c,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Af(d.nodeValue,c,(e.mode&1)!==0)}h&&(a.flags|=4)}else d=(c.nodeType===9?c:c.ownerDocument).createTextNode(d),d[Of]=a,a.stateNode=d}return S(a),null;case 13:if(E(L),d=a.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(I&&yg!==null&&a.mode&1&&!(a.flags&128))Hg(),Ig(),a.flags|=98560,h=!1;else if(h=Gg(a),d!==null&&d.dehydrated!==null){if(e===null){if(!h)throw Error(p(318));if(h=a.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(p(317));h[Of]=a}else Ig(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;S(a),h=!1}else zg!==null&&(Fj(zg),zg=null),h=!0;if(!h)return a.flags&65536?a:null}return a.flags&128?(a.lanes=c,a):(d=d!==null,d!==(e!==null&&e.memoizedState!==null)&&d&&(a.child.flags|=8192,a.mode&1&&(e===null||L.current&1?T===0&&(T=3):tj())),a.updateQueue!==null&&(a.flags|=4),S(a),null);case 4:return zh(),Aj(e,a),e===null&&sf(a.stateNode.containerInfo),S(a),null;case 10:return ah(a.type._context),S(a),null;case 17:return Zf(a.type)&&$f(),S(a),null;case 19:if(E(L),h=a.memoizedState,h===null)return S(a),null;if(d=(a.flags&128)!==0,_=h.rendering,_===null)if(d)Dj(h,!1);else{if(T!==0||e!==null&&e.flags&128)for(e=a.child;e!==null;){if(_=Ch(e),_!==null){for(a.flags|=128,Dj(h,!1),d=_.updateQueue,d!==null&&(a.updateQueue=d,a.flags|=4),a.subtreeFlags=0,d=c,c=a.child;c!==null;)h=c,e=d,h.flags&=14680066,_=h.alternate,_===null?(h.childLanes=0,h.lanes=e,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=_.childLanes,h.lanes=_.lanes,h.child=_.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=_.memoizedProps,h.memoizedState=_.memoizedState,h.updateQueue=_.updateQueue,h.type=_.type,e=_.dependencies,h.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),c=c.sibling;return G(L,L.current&1|2),a.child}e=e.sibling}h.tail!==null&&B()>Gj&&(a.flags|=128,d=!0,Dj(h,!1),a.lanes=4194304)}else{if(!d)if(e=Ch(_),e!==null){if(a.flags|=128,d=!0,c=e.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),Dj(h,!0),h.tail===null&&h.tailMode==="hidden"&&!_.alternate&&!I)return S(a),null}else 2*B()-h.renderingStartTime>Gj&&c!==1073741824&&(a.flags|=128,d=!0,Dj(h,!1),a.lanes=4194304);h.isBackwards?(_.sibling=a.child,a.child=_):(c=h.last,c!==null?c.sibling=_:a.child=_,h.last=_)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=B(),a.sibling=null,c=L.current,G(L,d?c&1|2:c&1),a):(S(a),null);case 22:case 23:return Hj(),d=a.memoizedState!==null,e!==null&&e.memoizedState!==null!==d&&(a.flags|=8192),d&&a.mode&1?fj&1073741824&&(S(a),a.subtreeFlags&6&&(a.flags|=8192)):S(a),null;case 24:return null;case 25:return null}throw Error(p(156,a.tag))}function Ij(e,a){switch(wg(a),a.tag){case 1:return Zf(a.type)&&$f(),e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 3:return zh(),E(Wf),E(H),Eh(),e=a.flags,e&65536&&!(e&128)?(a.flags=e&-65537|128,a):null;case 5:return Bh(a),null;case 13:if(E(L),e=a.memoizedState,e!==null&&e.dehydrated!==null){if(a.alternate===null)throw Error(p(340));Ig()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(a.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(e,a){var c=e.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(d){W(e,a,d)}else c.current=null}function Mj(e,a,c){try{c()}catch(d){W(e,a,d)}}var Nj=!1;function Oj(e,a){if(Cf=dd,e=Me(),Ne(e)){if("selectionStart"in e)var c={start:e.selectionStart,end:e.selectionEnd};else e:{c=(c=e.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var b=d.anchorOffset,h=d.focusNode;d=d.focusOffset;try{c.nodeType,h.nodeType}catch{c=null;break e}var _=0,j=-1,_e=-1,et=0,$=0,rt=e,nt=null;t:for(;;){for(var st;rt!==c||b!==0&&rt.nodeType!==3||(j=_+b),rt!==h||d!==0&&rt.nodeType!==3||(_e=_+d),rt.nodeType===3&&(_+=rt.nodeValue.length),(st=rt.firstChild)!==null;)nt=rt,rt=st;for(;;){if(rt===e)break t;if(nt===c&&++et===b&&(j=_),nt===h&&++$===d&&(_e=_),(st=rt.nextSibling)!==null)break;rt=nt,nt=rt.parentNode}rt=st}c=j===-1||_e===-1?null:{start:j,end:_e}}else c=null}c=c||{start:0,end:0}}else c=null;for(Df={focusedElem:e,selectionRange:c},dd=!1,V=a;V!==null;)if(a=V,e=a.child,(a.subtreeFlags&1028)!==0&&e!==null)e.return=a,V=e;else for(;V!==null;){a=V;try{var at=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(at!==null){var ut=at.memoizedProps,wt=at.memoizedState,pt=a.stateNode,xt=pt.getSnapshotBeforeUpdate(a.elementType===a.type?ut:Ci(a.type,ut),wt);pt.__reactInternalSnapshotBeforeUpdate=xt}break;case 3:var St=a.stateNode.containerInfo;St.nodeType===1?St.textContent="":St.nodeType===9&&St.documentElement&&St.removeChild(St.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(Nt){W(a,a.return,Nt)}if(e=a.sibling,e!==null){e.return=a.return,V=e;break}V=a.return}return at=Nj,Nj=!1,at}function Pj(e,a,c){var d=a.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var b=d=d.next;do{if((b.tag&e)===e){var h=b.destroy;b.destroy=void 0,h!==void 0&&Mj(a,c,h)}b=b.next}while(b!==d)}}function Qj(e,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&e)===e){var d=c.create;c.destroy=d()}c=c.next}while(c!==a)}}function Rj(e){var a=e.ref;if(a!==null){var c=e.stateNode;switch(e.tag){case 5:e=c;break;default:e=c}typeof a=="function"?a(e):a.current=e}}function Sj(e){var a=e.alternate;a!==null&&(e.alternate=null,Sj(a)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(a=e.stateNode,a!==null&&(delete a[Of],delete a[Pf],delete a[of],delete a[Qf],delete a[Rf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Tj(e){return e.tag===5||e.tag===3||e.tag===4}function Uj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vj(e,a,c){var d=e.tag;if(d===5||d===6)e=e.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(e,a):c.insertBefore(e,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(e,c)):(a=c,a.appendChild(e)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Bf));else if(d!==4&&(e=e.child,e!==null))for(Vj(e,a,c),e=e.sibling;e!==null;)Vj(e,a,c),e=e.sibling}function Wj(e,a,c){var d=e.tag;if(d===5||d===6)e=e.stateNode,a?c.insertBefore(e,a):c.appendChild(e);else if(d!==4&&(e=e.child,e!==null))for(Wj(e,a,c),e=e.sibling;e!==null;)Wj(e,a,c),e=e.sibling}var X$1=null,Xj=!1;function Yj(e,a,c){for(c=c.child;c!==null;)Zj(e,a,c),c=c.sibling}function Zj(e,a,c){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,c)}catch{}switch(c.tag){case 5:U||Lj(c,a);case 6:var d=X$1,b=Xj;X$1=null,Yj(e,a,c),X$1=d,Xj=b,X$1!==null&&(Xj?(e=X$1,c=c.stateNode,e.nodeType===8?e.parentNode.removeChild(c):e.removeChild(c)):X$1.removeChild(c.stateNode));break;case 18:X$1!==null&&(Xj?(e=X$1,c=c.stateNode,e.nodeType===8?Kf(e.parentNode,c):e.nodeType===1&&Kf(e,c),bd(e)):Kf(X$1,c.stateNode));break;case 4:d=X$1,b=Xj,X$1=c.stateNode.containerInfo,Xj=!0,Yj(e,a,c),X$1=d,Xj=b;break;case 0:case 11:case 14:case 15:if(!U&&(d=c.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){b=d=d.next;do{var h=b,_=h.destroy;h=h.tag,_!==void 0&&(h&2||h&4)&&Mj(c,a,_),b=b.next}while(b!==d)}Yj(e,a,c);break;case 1:if(!U&&(Lj(c,a),d=c.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=c.memoizedProps,d.state=c.memoizedState,d.componentWillUnmount()}catch(j){W(c,a,j)}Yj(e,a,c);break;case 21:Yj(e,a,c);break;case 22:c.mode&1?(U=(d=U)||c.memoizedState!==null,Yj(e,a,c),U=d):Yj(e,a,c);break;default:Yj(e,a,c)}}function ak(e){var a=e.updateQueue;if(a!==null){e.updateQueue=null;var c=e.stateNode;c===null&&(c=e.stateNode=new Kj),a.forEach(function(d){var b=bk.bind(null,e,d);c.has(d)||(c.add(d),d.then(b,b))})}}function ck(e,a){var c=a.deletions;if(c!==null)for(var d=0;d<c.length;d++){var b=c[d];try{var h=e,_=a,j=_;e:for(;j!==null;){switch(j.tag){case 5:X$1=j.stateNode,Xj=!1;break e;case 3:X$1=j.stateNode.containerInfo,Xj=!0;break e;case 4:X$1=j.stateNode.containerInfo,Xj=!0;break e}j=j.return}if(X$1===null)throw Error(p(160));Zj(h,_,b),X$1=null,Xj=!1;var _e=b.alternate;_e!==null&&(_e.return=null),b.return=null}catch(et){W(b,a,et)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)dk(a,e),a=a.sibling}function dk(e,a){var c=e.alternate,d=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ck(a,e),ek(e),d&4){try{Pj(3,e,e.return),Qj(3,e)}catch(ut){W(e,e.return,ut)}try{Pj(5,e,e.return)}catch(ut){W(e,e.return,ut)}}break;case 1:ck(a,e),ek(e),d&512&&c!==null&&Lj(c,c.return);break;case 5:if(ck(a,e),ek(e),d&512&&c!==null&&Lj(c,c.return),e.flags&32){var b=e.stateNode;try{ob(b,"")}catch(ut){W(e,e.return,ut)}}if(d&4&&(b=e.stateNode,b!=null)){var h=e.memoizedProps,_=c!==null?c.memoizedProps:h,j=e.type,_e=e.updateQueue;if(e.updateQueue=null,_e!==null)try{j==="input"&&h.type==="radio"&&h.name!=null&&ab(b,h),vb(j,_);var et=vb(j,h);for(_=0;_<_e.length;_+=2){var $=_e[_],rt=_e[_+1];$==="style"?sb(b,rt):$==="dangerouslySetInnerHTML"?nb(b,rt):$==="children"?ob(b,rt):ta(b,$,rt,et)}switch(j){case"input":bb(b,h);break;case"textarea":ib(b,h);break;case"select":var nt=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!h.multiple;var st=h.value;st!=null?fb(b,!!h.multiple,st,!1):nt!==!!h.multiple&&(h.defaultValue!=null?fb(b,!!h.multiple,h.defaultValue,!0):fb(b,!!h.multiple,h.multiple?[]:"",!1))}b[Pf]=h}catch(ut){W(e,e.return,ut)}}break;case 6:if(ck(a,e),ek(e),d&4){if(e.stateNode===null)throw Error(p(162));b=e.stateNode,h=e.memoizedProps;try{b.nodeValue=h}catch(ut){W(e,e.return,ut)}}break;case 3:if(ck(a,e),ek(e),d&4&&c!==null&&c.memoizedState.isDehydrated)try{bd(a.containerInfo)}catch(ut){W(e,e.return,ut)}break;case 4:ck(a,e),ek(e);break;case 13:ck(a,e),ek(e),b=e.child,b.flags&8192&&(h=b.memoizedState!==null,b.stateNode.isHidden=h,!h||b.alternate!==null&&b.alternate.memoizedState!==null||(fk=B())),d&4&&ak(e);break;case 22:if($=c!==null&&c.memoizedState!==null,e.mode&1?(U=(et=U)||$,ck(a,e),U=et):ck(a,e),ek(e),d&8192){if(et=e.memoizedState!==null,(e.stateNode.isHidden=et)&&!$&&e.mode&1)for(V=e,$=e.child;$!==null;){for(rt=V=$;V!==null;){switch(nt=V,st=nt.child,nt.tag){case 0:case 11:case 14:case 15:Pj(4,nt,nt.return);break;case 1:Lj(nt,nt.return);var at=nt.stateNode;if(typeof at.componentWillUnmount=="function"){d=nt,c=nt.return;try{a=d,at.props=a.memoizedProps,at.state=a.memoizedState,at.componentWillUnmount()}catch(ut){W(d,c,ut)}}break;case 5:Lj(nt,nt.return);break;case 22:if(nt.memoizedState!==null){gk(rt);continue}}st!==null?(st.return=nt,V=st):gk(rt)}$=$.sibling}e:for($=null,rt=e;;){if(rt.tag===5){if($===null){$=rt;try{b=rt.stateNode,et?(h=b.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(j=rt.stateNode,_e=rt.memoizedProps.style,_=_e!=null&&_e.hasOwnProperty("display")?_e.display:null,j.style.display=rb("display",_))}catch(ut){W(e,e.return,ut)}}}else if(rt.tag===6){if($===null)try{rt.stateNode.nodeValue=et?"":rt.memoizedProps}catch(ut){W(e,e.return,ut)}}else if((rt.tag!==22&&rt.tag!==23||rt.memoizedState===null||rt===e)&&rt.child!==null){rt.child.return=rt,rt=rt.child;continue}if(rt===e)break e;for(;rt.sibling===null;){if(rt.return===null||rt.return===e)break e;$===rt&&($=null),rt=rt.return}$===rt&&($=null),rt.sibling.return=rt.return,rt=rt.sibling}}break;case 19:ck(a,e),ek(e),d&4&&ak(e);break;case 21:break;default:ck(a,e),ek(e)}}function ek(e){var a=e.flags;if(a&2){try{e:{for(var c=e.return;c!==null;){if(Tj(c)){var d=c;break e}c=c.return}throw Error(p(160))}switch(d.tag){case 5:var b=d.stateNode;d.flags&32&&(ob(b,""),d.flags&=-33);var h=Uj(e);Wj(e,h,b);break;case 3:case 4:var _=d.stateNode.containerInfo,j=Uj(e);Vj(e,j,_);break;default:throw Error(p(161))}}catch(_e){W(e,e.return,_e)}e.flags&=-3}a&4096&&(e.flags&=-4097)}function hk(e,a,c){V=e,ik(e)}function ik(e,a,c){for(var d=(e.mode&1)!==0;V!==null;){var b=V,h=b.child;if(b.tag===22&&d){var _=b.memoizedState!==null||Jj;if(!_){var j=b.alternate,_e=j!==null&&j.memoizedState!==null||U;j=Jj;var et=U;if(Jj=_,(U=_e)&&!et)for(V=b;V!==null;)_=V,_e=_.child,_.tag===22&&_.memoizedState!==null?jk(b):_e!==null?(_e.return=_,V=_e):jk(b);for(;h!==null;)V=h,ik(h),h=h.sibling;V=b,Jj=j,U=et}kk(e)}else b.subtreeFlags&8772&&h!==null?(h.return=b,V=h):kk(e)}}function kk(e){for(;V!==null;){var a=V;if(a.flags&8772){var c=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:U||Qj(5,a);break;case 1:var d=a.stateNode;if(a.flags&4&&!U)if(c===null)d.componentDidMount();else{var b=a.elementType===a.type?c.memoizedProps:Ci(a.type,c.memoizedProps);d.componentDidUpdate(b,c.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var h=a.updateQueue;h!==null&&sh(a,h,d);break;case 3:var _=a.updateQueue;if(_!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}sh(a,_,c)}break;case 5:var j=a.stateNode;if(c===null&&a.flags&4){c=j;var _e=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":_e.autoFocus&&c.focus();break;case"img":_e.src&&(c.src=_e.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var et=a.alternate;if(et!==null){var $=et.memoizedState;if($!==null){var rt=$.dehydrated;rt!==null&&bd(rt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}U||a.flags&512&&Rj(a)}catch(nt){W(a,a.return,nt)}}if(a===e){V=null;break}if(c=a.sibling,c!==null){c.return=a.return,V=c;break}V=a.return}}function gk(e){for(;V!==null;){var a=V;if(a===e){V=null;break}var c=a.sibling;if(c!==null){c.return=a.return,V=c;break}V=a.return}}function jk(e){for(;V!==null;){var a=V;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{Qj(4,a)}catch(_e){W(a,c,_e)}break;case 1:var d=a.stateNode;if(typeof d.componentDidMount=="function"){var b=a.return;try{d.componentDidMount()}catch(_e){W(a,b,_e)}}var h=a.return;try{Rj(a)}catch(_e){W(a,h,_e)}break;case 5:var _=a.return;try{Rj(a)}catch(_e){W(a,_,_e)}}}catch(_e){W(a,a.return,_e)}if(a===e){V=null;break}var j=a.sibling;if(j!==null){j.return=a.return,V=j;break}V=a.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok$2=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R$1(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(e){return e.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(e=C,e!==0||(e=window.event,e=e===void 0?16:jd(e.type)),e):1}function gi(e,a,c,d){if(50<yk)throw yk=0,zk=null,Error(p(185));Ac(e,c,d),(!(K&2)||e!==Q)&&(e===Q&&(!(K&2)&&(qk|=c),T===4&&Ck(e,Z)),Dk(e,d),c===1&&K===0&&!(a.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(e,a){var c=e.callbackNode;wc(e,a);var d=uc(e,e===Q?Z:0);if(d===0)c!==null&&bc(c),e.callbackNode=null,e.callbackPriority=0;else if(a=d&-d,e.callbackPriority!==a){if(c!=null&&bc(c),a===1)e.tag===0?ig(Ek.bind(null,e)):hg(Ek.bind(null,e)),Jf(function(){!(K&6)&&jg()}),c=null;else{switch(Dc(d)){case 1:c=fc;break;case 4:c=gc;break;case 16:c=hc;break;case 536870912:c=jc;break;default:c=hc}c=Fk(c,Gk.bind(null,e))}e.callbackPriority=a,e.callbackNode=c}}function Gk(e,a){if(Ak=-1,Bk=0,K&6)throw Error(p(327));var c=e.callbackNode;if(Hk()&&e.callbackNode!==c)return null;var d=uc(e,e===Q?Z:0);if(d===0)return null;if(d&30||d&e.expiredLanes||a)a=Ik(e,d);else{a=d;var b=K;K|=2;var h=Jk();(Q!==e||Z!==a)&&(uk=null,Gj=B()+500,Kk(e,a));do try{Lk();break}catch(j){Mk(e,j)}while(!0);$g(),mk.current=h,K=b,Y!==null?a=0:(Q=null,Z=0,a=T)}if(a!==0){if(a===2&&(b=xc(e),b!==0&&(d=b,a=Nk(e,b))),a===1)throw c=pk,Kk(e,0),Ck(e,d),Dk(e,B()),c;if(a===6)Ck(e,d);else{if(b=e.current.alternate,!(d&30)&&!Ok(b)&&(a=Ik(e,d),a===2&&(h=xc(e),h!==0&&(d=h,a=Nk(e,h))),a===1))throw c=pk,Kk(e,0),Ck(e,d),Dk(e,B()),c;switch(e.finishedWork=b,e.finishedLanes=d,a){case 0:case 1:throw Error(p(345));case 2:Pk(e,tk,uk);break;case 3:if(Ck(e,d),(d&130023424)===d&&(a=fk+500-B(),10<a)){if(uc(e,0)!==0)break;if(b=e.suspendedLanes,(b&d)!==d){R$1(),e.pingedLanes|=e.suspendedLanes&b;break}e.timeoutHandle=Ff(Pk.bind(null,e,tk,uk),a);break}Pk(e,tk,uk);break;case 4:if(Ck(e,d),(d&4194240)===d)break;for(a=e.eventTimes,b=-1;0<d;){var _=31-oc(d);h=1<<_,_=a[_],_>b&&(b=_),d&=~h}if(d=b,d=B()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*lk(d/1960))-d,10<d){e.timeoutHandle=Ff(Pk.bind(null,e,tk,uk),d);break}Pk(e,tk,uk);break;case 5:Pk(e,tk,uk);break;default:throw Error(p(329))}}}return Dk(e,B()),e.callbackNode===c?Gk.bind(null,e):null}function Nk(e,a){var c=sk;return e.current.memoizedState.isDehydrated&&(Kk(e,a).flags|=256),e=Ik(e,a),e!==2&&(a=tk,tk=c,a!==null&&Fj(a)),e}function Fj(e){tk===null?tk=e:tk.push.apply(tk,e)}function Ok(e){for(var a=e;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var d=0;d<c.length;d++){var b=c[d],h=b.getSnapshot;b=b.value;try{if(!He(h(),b))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ck(e,a){for(a&=~rk,a&=~qk,e.suspendedLanes|=a,e.pingedLanes&=~a,e=e.expirationTimes;0<a;){var c=31-oc(a),d=1<<c;e[c]=-1,a&=~d}}function Ek(e){if(K&6)throw Error(p(327));Hk();var a=uc(e,0);if(!(a&1))return Dk(e,B()),null;var c=Ik(e,a);if(e.tag!==0&&c===2){var d=xc(e);d!==0&&(a=d,c=Nk(e,d))}if(c===1)throw c=pk,Kk(e,0),Ck(e,a),Dk(e,B()),c;if(c===6)throw Error(p(345));return e.finishedWork=e.current.alternate,e.finishedLanes=a,Pk(e,tk,uk),Dk(e,B()),null}function Qk(e,a){var c=K;K|=1;try{return e(a)}finally{K=c,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(e){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var a=K;K|=1;var c=ok$2.transition,d=C;try{if(ok$2.transition=null,C=1,e)return e()}finally{C=d,ok$2.transition=c,K=a,!(K&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(e,a){e.finishedWork=null,e.finishedLanes=0;var c=e.timeoutHandle;if(c!==-1&&(e.timeoutHandle=-1,Gf(c)),Y!==null)for(c=Y.return;c!==null;){var d=c;switch(wg(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&$f();break;case 3:zh(),E(Wf),E(H),Eh();break;case 5:Bh(d);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(d.type._context);break;case 22:case 23:Hj()}c=c.return}if(Q=e,Y=e=Pg(e.current,null),Z=fj=a,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(a=0;a<fh.length;a++)if(c=fh[a],d=c.interleaved,d!==null){c.interleaved=null;var b=d.next,h=c.pending;if(h!==null){var _=h.next;h.next=b,d.next=_}c.pending=d}fh=null}return e}function Mk(e,a){do{var c=Y;try{if($g(),Fh.current=Rh,Ih){for(var d=M.memoizedState;d!==null;){var b=d.queue;b!==null&&(b.pending=null),d=d.next}Ih=!1}if(Hh=0,O=N=M=null,Jh=!1,Kh=0,nk.current=null,c===null||c.return===null){T=1,pk=a,Y=null;break}e:{var h=e,_=c.return,j=c,_e=a;if(a=Z,j.flags|=32768,_e!==null&&typeof _e=="object"&&typeof _e.then=="function"){var et=_e,$=j,rt=$.tag;if(!($.mode&1)&&(rt===0||rt===11||rt===15)){var nt=$.alternate;nt?($.updateQueue=nt.updateQueue,$.memoizedState=nt.memoizedState,$.lanes=nt.lanes):($.updateQueue=null,$.memoizedState=null)}var st=Ui(_);if(st!==null){st.flags&=-257,Vi(st,_,j,h,a),st.mode&1&&Si(h,et,a),a=st,_e=et;var at=a.updateQueue;if(at===null){var ut=new Set;ut.add(_e),a.updateQueue=ut}else at.add(_e);break e}else{if(!(a&1)){Si(h,et,a),tj();break e}_e=Error(p(426))}}else if(I&&j.mode&1){var wt=Ui(_);if(wt!==null){!(wt.flags&65536)&&(wt.flags|=256),Vi(wt,_,j,h,a),Jg(Ji(_e,j));break e}}h=_e=Ji(_e,j),T!==4&&(T=2),sk===null?sk=[h]:sk.push(h),h=_;do{switch(h.tag){case 3:h.flags|=65536,a&=-a,h.lanes|=a;var pt=Ni(h,_e,a);ph(h,pt);break e;case 1:j=_e;var xt=h.type,St=h.stateNode;if(!(h.flags&128)&&(typeof xt.getDerivedStateFromError=="function"||St!==null&&typeof St.componentDidCatch=="function"&&(Ri===null||!Ri.has(St)))){h.flags|=65536,a&=-a,h.lanes|=a;var Nt=Qi(h,j,a);ph(h,Nt);break e}}h=h.return}while(h!==null)}Sk(c)}catch(At){a=At,Y===c&&c!==null&&(Y=c=c.return);continue}break}while(!0)}function Jk(){var e=mk.current;return mk.current=Rh,e===null?Rh:e}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(e,a){var c=K;K|=2;var d=Jk();(Q!==e||Z!==a)&&(uk=null,Kk(e,a));do try{Tk();break}catch(b){Mk(e,b)}while(!0);if($g(),K=c,mk.current=d,Y!==null)throw Error(p(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(e){var a=Vk(e.alternate,e,fj);e.memoizedProps=e.pendingProps,a===null?Sk(e):Y=a,nk.current=null}function Sk(e){var a=e;do{var c=a.alternate;if(e=a.return,a.flags&32768){if(c=Ij(c,a),c!==null){c.flags&=32767,Y=c;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{T=6,Y=null;return}}else if(c=Ej(c,a,fj),c!==null){Y=c;return}if(a=a.sibling,a!==null){Y=a;return}Y=a=e}while(a!==null);T===0&&(T=5)}function Pk(e,a,c){var d=C,b=ok$2.transition;try{ok$2.transition=null,C=1,Wk(e,a,c,d)}finally{ok$2.transition=b,C=d}return null}function Wk(e,a,c,d){do Hk();while(wk!==null);if(K&6)throw Error(p(327));c=e.finishedWork;var b=e.finishedLanes;if(c===null)return null;if(e.finishedWork=null,e.finishedLanes=0,c===e.current)throw Error(p(177));e.callbackNode=null,e.callbackPriority=0;var h=c.lanes|c.childLanes;if(Bc(e,h),e===Q&&(Y=Q=null,Z=0),!(c.subtreeFlags&2064)&&!(c.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),h=(c.flags&15990)!==0,c.subtreeFlags&15990||h){h=ok$2.transition,ok$2.transition=null;var _=C;C=1;var j=K;K|=4,nk.current=null,Oj(e,c),dk(c,e),Oe(Df),dd=!!Cf,Df=Cf=null,e.current=c,hk(c),dc(),K=j,C=_,ok$2.transition=h}else e.current=c;if(vk&&(vk=!1,wk=e,xk=b),h=e.pendingLanes,h===0&&(Ri=null),mc(c.stateNode),Dk(e,B()),a!==null)for(d=e.onRecoverableError,c=0;c<a.length;c++)b=a[c],d(b.value,{componentStack:b.stack,digest:b.digest});if(Oi)throw Oi=!1,e=Pi,Pi=null,e;return xk&1&&e.tag!==0&&Hk(),h=e.pendingLanes,h&1?e===zk?yk++:(yk=0,zk=e):yk=0,jg(),null}function Hk(){if(wk!==null){var e=Dc(xk),a=ok$2.transition,c=C;try{if(ok$2.transition=null,C=16>e?16:e,wk===null)var d=!1;else{if(e=wk,wk=null,xk=0,K&6)throw Error(p(331));var b=K;for(K|=4,V=e.current;V!==null;){var h=V,_=h.child;if(V.flags&16){var j=h.deletions;if(j!==null){for(var _e=0;_e<j.length;_e++){var et=j[_e];for(V=et;V!==null;){var $=V;switch($.tag){case 0:case 11:case 15:Pj(8,$,h)}var rt=$.child;if(rt!==null)rt.return=$,V=rt;else for(;V!==null;){$=V;var nt=$.sibling,st=$.return;if(Sj($),$===et){V=null;break}if(nt!==null){nt.return=st,V=nt;break}V=st}}}var at=h.alternate;if(at!==null){var ut=at.child;if(ut!==null){at.child=null;do{var wt=ut.sibling;ut.sibling=null,ut=wt}while(ut!==null)}}V=h}}if(h.subtreeFlags&2064&&_!==null)_.return=h,V=_;else e:for(;V!==null;){if(h=V,h.flags&2048)switch(h.tag){case 0:case 11:case 15:Pj(9,h,h.return)}var pt=h.sibling;if(pt!==null){pt.return=h.return,V=pt;break e}V=h.return}}var xt=e.current;for(V=xt;V!==null;){_=V;var St=_.child;if(_.subtreeFlags&2064&&St!==null)St.return=_,V=St;else e:for(_=xt;V!==null;){if(j=V,j.flags&2048)try{switch(j.tag){case 0:case 11:case 15:Qj(9,j)}}catch(At){W(j,j.return,At)}if(j===_){V=null;break e}var Nt=j.sibling;if(Nt!==null){Nt.return=j.return,V=Nt;break e}V=j.return}}if(K=b,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,e)}catch{}d=!0}return d}finally{C=c,ok$2.transition=a}}return!1}function Xk(e,a,c){a=Ji(c,a),a=Ni(e,a,1),e=nh(e,a,1),a=R$1(),e!==null&&(Ac(e,1,a),Dk(e,a))}function W(e,a,c){if(e.tag===3)Xk(e,e,c);else for(;a!==null;){if(a.tag===3){Xk(a,e,c);break}else if(a.tag===1){var d=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ri===null||!Ri.has(d))){e=Ji(c,e),e=Qi(a,e,1),a=nh(a,e,1),e=R$1(),a!==null&&(Ac(a,1,e),Dk(a,e));break}}a=a.return}}function Ti(e,a,c){var d=e.pingCache;d!==null&&d.delete(a),a=R$1(),e.pingedLanes|=e.suspendedLanes&c,Q===e&&(Z&c)===c&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(e,0):rk|=c),Dk(e,a)}function Yk(e,a){a===0&&(e.mode&1?(a=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):a=1);var c=R$1();e=ih(e,a),e!==null&&(Ac(e,a,c),Dk(e,c))}function uj(e){var a=e.memoizedState,c=0;a!==null&&(c=a.retryLane),Yk(e,c)}function bk(e,a){var c=0;switch(e.tag){case 13:var d=e.stateNode,b=e.memoizedState;b!==null&&(c=b.retryLane);break;case 19:d=e.stateNode;break;default:throw Error(p(314))}d!==null&&d.delete(a),Yk(e,c)}var Vk;Vk=function(e,a,c){if(e!==null)if(e.memoizedProps!==a.pendingProps||Wf.current)dh$1=!0;else{if(!(e.lanes&c)&&!(a.flags&128))return dh$1=!1,yj(e,a,c);dh$1=!!(e.flags&131072)}else dh$1=!1,I&&a.flags&1048576&&ug(a,ng,a.index);switch(a.lanes=0,a.tag){case 2:var d=a.type;ij(e,a),e=a.pendingProps;var b=Yf(a,H.current);ch(a,c),b=Nh(null,a,d,e,b,c);var h=Sh();return a.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Zf(d)?(h=!0,cg(a)):h=!1,a.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,kh(a),b.updater=Ei,a.stateNode=b,b._reactInternals=a,Ii(a,d,e,c),a=jj(null,a,d,!0,h,c)):(a.tag=0,I&&h&&vg(a),Xi(null,a,b,c),a=a.child),a;case 16:d=a.elementType;e:{switch(ij(e,a),e=a.pendingProps,b=d._init,d=b(d._payload),a.type=d,b=a.tag=Zk(d),e=Ci(d,e),b){case 0:a=cj(null,a,d,e,c);break e;case 1:a=hj(null,a,d,e,c);break e;case 11:a=Yi(null,a,d,e,c);break e;case 14:a=$i(null,a,d,Ci(d.type,e),c);break e}throw Error(p(306,d,""))}return a;case 0:return d=a.type,b=a.pendingProps,b=a.elementType===d?b:Ci(d,b),cj(e,a,d,b,c);case 1:return d=a.type,b=a.pendingProps,b=a.elementType===d?b:Ci(d,b),hj(e,a,d,b,c);case 3:e:{if(kj(a),e===null)throw Error(p(387));d=a.pendingProps,h=a.memoizedState,b=h.element,lh(e,a),qh(a,d,null,c);var _=a.memoizedState;if(d=_.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},a.updateQueue.baseState=h,a.memoizedState=h,a.flags&256){b=Ji(Error(p(423)),a),a=lj(e,a,d,c,b);break e}else if(d!==b){b=Ji(Error(p(424)),a),a=lj(e,a,d,c,b);break e}else for(yg=Lf(a.stateNode.containerInfo.firstChild),xg=a,I=!0,zg=null,c=Vg(a,null,d,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Ig(),d===b){a=Zi(e,a,c);break e}Xi(e,a,d,c)}a=a.child}return a;case 5:return Ah(a),e===null&&Eg(a),d=a.type,b=a.pendingProps,h=e!==null?e.memoizedProps:null,_=b.children,Ef(d,b)?_=null:h!==null&&Ef(d,h)&&(a.flags|=32),gj(e,a),Xi(e,a,_,c),a.child;case 6:return e===null&&Eg(a),null;case 13:return oj(e,a,c);case 4:return yh(a,a.stateNode.containerInfo),d=a.pendingProps,e===null?a.child=Ug(a,null,d,c):Xi(e,a,d,c),a.child;case 11:return d=a.type,b=a.pendingProps,b=a.elementType===d?b:Ci(d,b),Yi(e,a,d,b,c);case 7:return Xi(e,a,a.pendingProps,c),a.child;case 8:return Xi(e,a,a.pendingProps.children,c),a.child;case 12:return Xi(e,a,a.pendingProps.children,c),a.child;case 10:e:{if(d=a.type._context,b=a.pendingProps,h=a.memoizedProps,_=b.value,G(Wg,d._currentValue),d._currentValue=_,h!==null)if(He(h.value,_)){if(h.children===b.children&&!Wf.current){a=Zi(e,a,c);break e}}else for(h=a.child,h!==null&&(h.return=a);h!==null;){var j=h.dependencies;if(j!==null){_=h.child;for(var _e=j.firstContext;_e!==null;){if(_e.context===d){if(h.tag===1){_e=mh(-1,c&-c),_e.tag=2;var et=h.updateQueue;if(et!==null){et=et.shared;var $=et.pending;$===null?_e.next=_e:(_e.next=$.next,$.next=_e),et.pending=_e}}h.lanes|=c,_e=h.alternate,_e!==null&&(_e.lanes|=c),bh(h.return,c,a),j.lanes|=c;break}_e=_e.next}}else if(h.tag===10)_=h.type===a.type?null:h.child;else if(h.tag===18){if(_=h.return,_===null)throw Error(p(341));_.lanes|=c,j=_.alternate,j!==null&&(j.lanes|=c),bh(_,c,a),_=h.sibling}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===a){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}Xi(e,a,b.children,c),a=a.child}return a;case 9:return b=a.type,d=a.pendingProps.children,ch(a,c),b=eh(b),d=d(b),a.flags|=1,Xi(e,a,d,c),a.child;case 14:return d=a.type,b=Ci(d,a.pendingProps),b=Ci(d.type,b),$i(e,a,d,b,c);case 15:return bj(e,a,a.type,a.pendingProps,c);case 17:return d=a.type,b=a.pendingProps,b=a.elementType===d?b:Ci(d,b),ij(e,a),a.tag=1,Zf(d)?(e=!0,cg(a)):e=!1,ch(a,c),Gi(a,d,b),Ii(a,d,b,c),jj(null,a,d,!0,e,c);case 19:return xj(e,a,c);case 22:return dj(e,a,c)}throw Error(p(156,a.tag))};function Fk(e,a){return ac(e,a)}function $k(e,a,c,d){this.tag=e,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(e,a,c,d){return new $k(e,a,c,d)}function aj(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zk(e){if(typeof e=="function")return aj(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Da)return 11;if(e===Ga)return 14}return 2}function Pg(e,a){var c=e.alternate;return c===null?(c=Bg(e.tag,a,e.key,e.mode),c.elementType=e.elementType,c.type=e.type,c.stateNode=e.stateNode,c.alternate=e,e.alternate=c):(c.pendingProps=a,c.type=e.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=e.flags&14680064,c.childLanes=e.childLanes,c.lanes=e.lanes,c.child=e.child,c.memoizedProps=e.memoizedProps,c.memoizedState=e.memoizedState,c.updateQueue=e.updateQueue,a=e.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=e.sibling,c.index=e.index,c.ref=e.ref,c}function Rg(e,a,c,d,b,h){var _=2;if(d=e,typeof e=="function")aj(e)&&(_=1);else if(typeof e=="string")_=5;else e:switch(e){case ya:return Tg(c.children,b,h,a);case za:_=8,b|=8;break;case Aa:return e=Bg(12,c,a,b|2),e.elementType=Aa,e.lanes=h,e;case Ea:return e=Bg(13,c,a,b),e.elementType=Ea,e.lanes=h,e;case Fa:return e=Bg(19,c,a,b),e.elementType=Fa,e.lanes=h,e;case Ia:return pj(c,b,h,a);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ba:_=10;break e;case Ca:_=9;break e;case Da:_=11;break e;case Ga:_=14;break e;case Ha:_=16,d=null;break e}throw Error(p(130,e==null?e:typeof e,""))}return a=Bg(_,c,a,b),a.elementType=e,a.type=d,a.lanes=h,a}function Tg(e,a,c,d){return e=Bg(7,e,d,a),e.lanes=c,e}function pj(e,a,c,d){return e=Bg(22,e,d,a),e.elementType=Ia,e.lanes=c,e.stateNode={isHidden:!1},e}function Qg(e,a,c){return e=Bg(6,e,null,a),e.lanes=c,e}function Sg(e,a,c){return a=Bg(4,e.children!==null?e.children:[],e.key,a),a.lanes=c,a.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},a}function al(e,a,c,d,b){this.tag=a,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=d,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function bl(e,a,c,d,b,h,_,j,_e){return e=new al(e,a,c,j,_e),a===1?(a=1,h===!0&&(a|=8)):a=0,h=Bg(3,null,null,a),e.current=h,h.stateNode=e,h.memoizedState={element:d,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(h),e}function cl(e,a,c){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:d==null?null:""+d,children:e,containerInfo:a,implementation:c}}function dl(e){if(!e)return Vf;e=e._reactInternals;e:{if(Vb(e)!==e||e.tag!==1)throw Error(p(170));var a=e;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Zf(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(p(171))}if(e.tag===1){var c=e.type;if(Zf(c))return bg(e,c,a)}return a}function el(e,a,c,d,b,h,_,j,_e){return e=bl(c,d,!0,e,b,h,_,j,_e),e.context=dl(null),c=e.current,d=R$1(),b=yi(c),h=mh(d,b),h.callback=a??null,nh(c,h,b),e.current.lanes=b,Ac(e,b,d),Dk(e,d),e}function fl(e,a,c,d){var b=a.current,h=R$1(),_=yi(b);return c=dl(c),a.context===null?a.context=c:a.pendingContext=c,a=mh(h,_),a.payload={element:e},d=d===void 0?null:d,d!==null&&(a.callback=d),e=nh(b,a,_),e!==null&&(gi(e,b,_,h),oh(e,b,_)),_}function gl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hl(e,a){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var c=e.retryLane;e.retryLane=c!==0&&c<a?c:a}}function il(e,a){hl(e,a),(e=e.alternate)&&hl(e,a)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(e){console.error(e)};function ll(e){this._internalRoot=e}ml.prototype.render=ll.prototype.render=function(e){var a=this._internalRoot;if(a===null)throw Error(p(409));fl(e,a,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var a=e.containerInfo;Rk(function(){fl(null,e,null,null)}),a[uf]=null}};function ml(e){this._internalRoot=e}ml.prototype.unstable_scheduleHydration=function(e){if(e){var a=Hc();e={blockedOn:null,target:e,priority:a};for(var c=0;c<Qc.length&&a!==0&&a<Qc[c].priority;c++);Qc.splice(c,0,e),c===0&&Vc(e)}};function nl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(e,a,c,d,b){if(b){if(typeof d=="function"){var h=d;d=function(){var et=gl(_);h.call(et)}}var _=el(a,d,e,0,null,!1,!1,"",pl);return e._reactRootContainer=_,e[uf]=_.current,sf(e.nodeType===8?e.parentNode:e),Rk(),_}for(;b=e.lastChild;)e.removeChild(b);if(typeof d=="function"){var j=d;d=function(){var et=gl(_e);j.call(et)}}var _e=bl(e,0,!1,null,null,!1,!1,"",pl);return e._reactRootContainer=_e,e[uf]=_e.current,sf(e.nodeType===8?e.parentNode:e),Rk(function(){fl(a,_e,c,d)}),_e}function rl(e,a,c,d,b){var h=c._reactRootContainer;if(h){var _=h;if(typeof b=="function"){var j=b;b=function(){var _e=gl(_);j.call(_e)}}fl(a,_,e,b)}else _=ql(c,a,e,b,d);return gl(_)}Ec=function(e){switch(e.tag){case 3:var a=e.stateNode;if(a.current.memoizedState.isDehydrated){var c=tc(a.pendingLanes);c!==0&&(Cc(a,c|1),Dk(a,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var d=ih(e,1);if(d!==null){var b=R$1();gi(d,e,1,b)}}),il(e,1)}};Fc=function(e){if(e.tag===13){var a=ih(e,134217728);if(a!==null){var c=R$1();gi(a,e,134217728,c)}il(e,134217728)}};Gc=function(e){if(e.tag===13){var a=yi(e),c=ih(e,a);if(c!==null){var d=R$1();gi(c,e,a,d)}il(e,a)}};Hc=function(){return C};Ic=function(e,a){var c=C;try{return C=e,a()}finally{C=c}};yb=function(e,a,c){switch(a){case"input":if(bb(e,c),a=c.name,c.type==="radio"&&a!=null){for(c=e;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var d=c[a];if(d!==e&&d.form===e.form){var b=Db(d);if(!b)throw Error(p(90));Wa(d),bb(d,b)}}}break;case"textarea":ib(e,c);break;case"select":a=c.value,a!=null&&fb(e,!!c.multiple,a,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Zb(e),e===null?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(e,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(a))throw Error(p(200));return cl(e,a,null,c)};reactDom_production_min.createRoot=function(e,a){if(!nl(e))throw Error(p(299));var c=!1,d="",b=kl;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onRecoverableError!==void 0&&(b=a.onRecoverableError)),a=bl(e,1,!1,null,null,c,!1,d,b),e[uf]=a.current,sf(e.nodeType===8?e.parentNode:e),new ll(a)};reactDom_production_min.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var a=e._reactInternals;if(a===void 0)throw typeof e.render=="function"?Error(p(188)):(e=Object.keys(e).join(","),Error(p(268,e)));return e=Zb(a),e=e===null?null:e.stateNode,e};reactDom_production_min.flushSync=function(e){return Rk(e)};reactDom_production_min.hydrate=function(e,a,c){if(!ol(a))throw Error(p(200));return rl(null,e,a,!0,c)};reactDom_production_min.hydrateRoot=function(e,a,c){if(!nl(e))throw Error(p(405));var d=c!=null&&c.hydratedSources||null,b=!1,h="",_=kl;if(c!=null&&(c.unstable_strictMode===!0&&(b=!0),c.identifierPrefix!==void 0&&(h=c.identifierPrefix),c.onRecoverableError!==void 0&&(_=c.onRecoverableError)),a=el(a,null,e,1,c??null,b,!1,h,_),e[uf]=a.current,sf(e),d)for(e=0;e<d.length;e++)c=d[e],b=c._getVersion,b=b(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,b]:a.mutableSourceEagerHydrationData.push(c,b);return new ml(a)};reactDom_production_min.render=function(e,a,c){if(!ol(a))throw Error(p(200));return rl(null,e,a,!1,c)};reactDom_production_min.unmountComponentAtNode=function(e){if(!ol(e))throw Error(p(40));return e._reactRootContainer?(Rk(function(){rl(null,null,e,!1,function(){e._reactRootContainer=null,e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(e,a,c,d){if(!ol(c))throw Error(p(200));if(e==null||e._reactInternals===void 0)throw Error(p(38));return rl(e,a,c,!1,d)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(e){console.error(e)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m=reactDomExports;client.createRoot=m.createRoot,client.hydrateRoot=m.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var c=arguments[a];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(e[d]=c[d])}return e},_extends$1.apply(this,arguments)}var Action;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(e){e===void 0&&(e={});function a(d,b){let{pathname:h,search:_,hash:j}=d.location;return createLocation("",{pathname:h,search:_,hash:j},b.state&&b.state.usr||null,b.state&&b.state.key||"default")}function c(d,b){return typeof b=="string"?b:createPath(b)}return getUrlBasedHistory(a,c,null,e)}function invariant(e,a){if(e===!1||e===null||typeof e>"u")throw new Error(a)}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(e,a){return{usr:e.state,key:e.key,idx:a}}function createLocation(e,a,c,d){return c===void 0&&(c=null),_extends$1({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof a=="string"?parsePath(a):a,{state:c,key:a&&a.key||d||createKey()})}function createPath(e){let{pathname:a="/",search:c="",hash:d=""}=e;return c&&c!=="?"&&(a+=c.charAt(0)==="?"?c:"?"+c),d&&d!=="#"&&(a+=d.charAt(0)==="#"?d:"#"+d),a}function parsePath(e){let a={};if(e){let c=e.indexOf("#");c>=0&&(a.hash=e.substr(c),e=e.substr(0,c));let d=e.indexOf("?");d>=0&&(a.search=e.substr(d),e=e.substr(0,d)),e&&(a.pathname=e)}return a}function getUrlBasedHistory(e,a,c,d){d===void 0&&(d={});let{window:b=document.defaultView,v5Compat:h=!1}=d,_=b.history,j=Action.Pop,_e=null,et=$();et==null&&(et=0,_.replaceState(_extends$1({},_.state,{idx:et}),""));function $(){return(_.state||{idx:null}).idx}function rt(){j=Action.Pop;let wt=$(),pt=wt==null?null:wt-et;et=wt,_e&&_e({action:j,location:ut.location,delta:pt})}function nt(wt,pt){j=Action.Push;let xt=createLocation(ut.location,wt,pt);et=$()+1;let St=getHistoryState(xt,et),Nt=ut.createHref(xt);try{_.pushState(St,"",Nt)}catch(At){if(At instanceof DOMException&&At.name==="DataCloneError")throw At;b.location.assign(Nt)}h&&_e&&_e({action:j,location:ut.location,delta:1})}function st(wt,pt){j=Action.Replace;let xt=createLocation(ut.location,wt,pt);et=$();let St=getHistoryState(xt,et),Nt=ut.createHref(xt);_.replaceState(St,"",Nt),h&&_e&&_e({action:j,location:ut.location,delta:0})}function at(wt){let pt=b.location.origin!=="null"?b.location.origin:b.location.href,xt=typeof wt=="string"?wt:createPath(wt);return xt=xt.replace(/ $/,"%20"),invariant(pt,"No window.location.(origin|href) available to create URL for href: "+xt),new URL(xt,pt)}let ut={get action(){return j},get location(){return e(b,_)},listen(wt){if(_e)throw new Error("A history only accepts one active listener");return b.addEventListener(PopStateEventType,rt),_e=wt,()=>{b.removeEventListener(PopStateEventType,rt),_e=null}},createHref(wt){return a(b,wt)},createURL:at,encodeLocation(wt){let pt=at(wt);return{pathname:pt.pathname,search:pt.search,hash:pt.hash}},push:nt,replace:st,go(wt){return _.go(wt)}};return ut}var ResultType;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ResultType||(ResultType={}));function stripBasename(e,a){if(a==="/")return e;if(!e.toLowerCase().startsWith(a.toLowerCase()))return null;let c=a.endsWith("/")?a.length-1:a.length,d=e.charAt(c);return d&&d!=="/"?null:e.slice(c)||"/"}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var c=arguments[a];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(e[d]=c[d])}return e},_extends.apply(this,arguments)}const NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null);function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function logV6DeprecationWarnings(e,a){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Router(e){let{basename:a="/",children:c=null,location:d,navigationType:b=Action.Pop,navigator:h,static:_=!1,future:j}=e;useInRouterContext()&&invariant(!1);let _e=a.replace(/^\/*/,"/"),et=reactExports.useMemo(()=>({basename:_e,navigator:h,static:_,future:_extends({v7_relativeSplatPath:!1},j)}),[_e,j,h,_]);typeof d=="string"&&(d=parsePath(d));let{pathname:$="/",search:rt="",hash:nt="",state:st=null,key:at="default"}=d,ut=reactExports.useMemo(()=>{let wt=stripBasename($,_e);return wt==null?null:{location:{pathname:wt,search:rt,hash:nt,state:st,key:at},navigationType:b}},[_e,$,rt,nt,st,at,b]);return ut==null?null:reactExports.createElement(NavigationContext.Provider,{value:et},reactExports.createElement(LocationContext.Provider,{children:c,value:ut}))}new Promise(()=>{});/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=React$1[START_TRANSITION];function BrowserRouter(e){let{basename:a,children:c,future:d,window:b}=e,h=reactExports.useRef();h.current==null&&(h.current=createBrowserHistory({window:b,v5Compat:!0}));let _=h.current,[j,_e]=reactExports.useState({action:_.action,location:_.location}),{v7_startTransition:et}=d||{},$=reactExports.useCallback(rt=>{et&&startTransitionImpl?startTransitionImpl(()=>_e(rt)):_e(rt)},[_e,et]);return reactExports.useLayoutEffect(()=>_.listen($),[_,$]),reactExports.useEffect(()=>logV6DeprecationWarnings(d),[d]),reactExports.createElement(Router,{basename:a,children:c,location:j.location,navigationType:j.action,navigator:_,future:d})}var DataRouterHook;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));var Subscribable=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},defaultTimeoutProvider={setTimeout:(e,a)=>setTimeout(e,a),clearTimeout:e=>clearTimeout(e),setInterval:(e,a)=>setInterval(e,a),clearInterval:e=>clearInterval(e)},es,oo,So,TimeoutManager=(So=class{constructor(){Ur(this,es,defaultTimeoutProvider);Ur(this,oo,!1)}setTimeoutProvider(e){Ar(this,es,e)}setTimeout(e,a){return rr(this,es).setTimeout(e,a)}clearTimeout(e){rr(this,es).clearTimeout(e)}setInterval(e,a){return rr(this,es).setInterval(e,a)}clearInterval(e){rr(this,es).clearInterval(e)}},es=new WeakMap,oo=new WeakMap,So),timeoutManager=new TimeoutManager;function systemSetTimeoutZero(e){setTimeout(e,0)}var isServer=typeof window>"u"||"Deno"in globalThis;function noop$2(){}function functionalUpdate(e,a){return typeof e=="function"?e(a):e}function isValidTimeout(e){return typeof e=="number"&&e>=0&&e!==1/0}function timeUntilStale(e,a){return Math.max(e+(a||0)-Date.now(),0)}function resolveStaleTime(e,a){return typeof e=="function"?e(a):e}function resolveEnabled(e,a){return typeof e=="function"?e(a):e}function matchQuery(e,a){const{type:c="all",exact:d,fetchStatus:b,predicate:h,queryKey:_,stale:j}=e;if(_){if(d){if(a.queryHash!==hashQueryKeyByOptions(_,a.options))return!1}else if(!partialMatchKey(a.queryKey,_))return!1}if(c!=="all"){const _e=a.isActive();if(c==="active"&&!_e||c==="inactive"&&_e)return!1}return!(typeof j=="boolean"&&a.isStale()!==j||b&&b!==a.state.fetchStatus||h&&!h(a))}function matchMutation(e,a){const{exact:c,status:d,predicate:b,mutationKey:h}=e;if(h){if(!a.options.mutationKey)return!1;if(c){if(hashKey(a.options.mutationKey)!==hashKey(h))return!1}else if(!partialMatchKey(a.options.mutationKey,h))return!1}return!(d&&a.state.status!==d||b&&!b(a))}function hashQueryKeyByOptions(e,a){return((a==null?void 0:a.queryKeyHashFn)||hashKey)(e)}function hashKey(e){return JSON.stringify(e,(a,c)=>isPlainObject$3(c)?Object.keys(c).sort().reduce((d,b)=>(d[b]=c[b],d),{}):c)}function partialMatchKey(e,a){return e===a?!0:typeof e!=typeof a?!1:e&&a&&typeof e=="object"&&typeof a=="object"?Object.keys(a).every(c=>partialMatchKey(e[c],a[c])):!1}var hasOwn$3=Object.prototype.hasOwnProperty;function replaceEqualDeep(e,a){if(e===a)return e;const c=isPlainArray(e)&&isPlainArray(a);if(!c&&!(isPlainObject$3(e)&&isPlainObject$3(a)))return a;const b=(c?e:Object.keys(e)).length,h=c?a:Object.keys(a),_=h.length,j=c?new Array(_):{};let _e=0;for(let et=0;et<_;et++){const $=c?et:h[et],rt=e[$],nt=a[$];if(rt===nt){j[$]=rt,(c?et<b:hasOwn$3.call(e,$))&&_e++;continue}if(rt===null||nt===null||typeof rt!="object"||typeof nt!="object"){j[$]=nt;continue}const st=replaceEqualDeep(rt,nt);j[$]=st,st===rt&&_e++}return b===_&&_e===b?e:j}function shallowEqualObjects(e,a){if(!a||Object.keys(e).length!==Object.keys(a).length)return!1;for(const c in e)if(e[c]!==a[c])return!1;return!0}function isPlainArray(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function isPlainObject$3(e){if(!hasObjectPrototype(e))return!1;const a=e.constructor;if(a===void 0)return!0;const c=a.prototype;return!(!hasObjectPrototype(c)||!c.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function hasObjectPrototype(e){return Object.prototype.toString.call(e)==="[object Object]"}function sleep(e){return new Promise(a=>{timeoutManager.setTimeout(a,e)})}function replaceData(e,a,c){return typeof c.structuralSharing=="function"?c.structuralSharing(e,a):c.structuralSharing!==!1?replaceEqualDeep(e,a):a}function addToEnd(e,a,c=0){const d=[...e,a];return c&&d.length>c?d.slice(1):d}function addToStart(e,a,c=0){const d=[a,...e];return c&&d.length>c?d.slice(0,-1):d}var skipToken=Symbol();function ensureQueryFn(e,a){return!e.queryFn&&(a!=null&&a.initialPromise)?()=>a.initialPromise:!e.queryFn||e.queryFn===skipToken?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function shouldThrowError(e,a){return typeof e=="function"?e(...a):!!e}var ds,ts,ws,_o,FocusManager=(_o=class extends Subscribable{constructor(){super();Ur(this,ds);Ur(this,ts);Ur(this,ws);Ar(this,ws,a=>{if(!isServer&&window.addEventListener){const c=()=>a();return window.addEventListener("visibilitychange",c,!1),()=>{window.removeEventListener("visibilitychange",c)}}})}onSubscribe(){rr(this,ts)||this.setEventListener(rr(this,ws))}onUnsubscribe(){var a;this.hasListeners()||((a=rr(this,ts))==null||a.call(this),Ar(this,ts,void 0))}setEventListener(a){var c;Ar(this,ws,a),(c=rr(this,ts))==null||c.call(this),Ar(this,ts,a(d=>{typeof d=="boolean"?this.setFocused(d):this.onFocus()}))}setFocused(a){rr(this,ds)!==a&&(Ar(this,ds,a),this.onFocus())}onFocus(){const a=this.isFocused();this.listeners.forEach(c=>{c(a)})}isFocused(){var a;return typeof rr(this,ds)=="boolean"?rr(this,ds):((a=globalThis.document)==null?void 0:a.visibilityState)!=="hidden"}},ds=new WeakMap,ts=new WeakMap,ws=new WeakMap,_o),focusManager=new FocusManager;function pendingThenable(){let e,a;const c=new Promise((b,h)=>{e=b,a=h});c.status="pending",c.catch(()=>{});function d(b){Object.assign(c,b),delete c.resolve,delete c.reject}return c.resolve=b=>{d({status:"fulfilled",value:b}),e(b)},c.reject=b=>{d({status:"rejected",reason:b}),a(b)},c}var defaultScheduler=systemSetTimeoutZero;function createNotifyManager(){let e=[],a=0,c=j=>{j()},d=j=>{j()},b=defaultScheduler;const h=j=>{a?e.push(j):b(()=>{c(j)})},_=()=>{const j=e;e=[],j.length&&b(()=>{d(()=>{j.forEach(_e=>{c(_e)})})})};return{batch:j=>{let _e;a++;try{_e=j()}finally{a--,a||_()}return _e},batchCalls:j=>(..._e)=>{h(()=>{j(..._e)})},schedule:h,setNotifyFunction:j=>{c=j},setBatchNotifyFunction:j=>{d=j},setScheduler:j=>{b=j}}}var notifyManager=createNotifyManager(),Es,rs,Ss,ko,OnlineManager=(ko=class extends Subscribable{constructor(){super();Ur(this,Es,!0);Ur(this,rs);Ur(this,Ss);Ar(this,Ss,a=>{if(!isServer&&window.addEventListener){const c=()=>a(!0),d=()=>a(!1);return window.addEventListener("online",c,!1),window.addEventListener("offline",d,!1),()=>{window.removeEventListener("online",c),window.removeEventListener("offline",d)}}})}onSubscribe(){rr(this,rs)||this.setEventListener(rr(this,Ss))}onUnsubscribe(){var a;this.hasListeners()||((a=rr(this,rs))==null||a.call(this),Ar(this,rs,void 0))}setEventListener(a){var c;Ar(this,Ss,a),(c=rr(this,rs))==null||c.call(this),Ar(this,rs,a(this.setOnline.bind(this)))}setOnline(a){rr(this,Es)!==a&&(Ar(this,Es,a),this.listeners.forEach(d=>{d(a)}))}isOnline(){return rr(this,Es)}},Es=new WeakMap,rs=new WeakMap,Ss=new WeakMap,ko),onlineManager=new OnlineManager;function defaultRetryDelay(e){return Math.min(1e3*2**e,3e4)}function canFetch(e){return(e??"online")==="online"?onlineManager.isOnline():!0}var CancelledError=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function createRetryer(e){let a=!1,c=0,d;const b=pendingThenable(),h=()=>b.status!=="pending",_=ut=>{var wt;if(!h()){const pt=new CancelledError(ut);nt(pt),(wt=e.onCancel)==null||wt.call(e,pt)}},j=()=>{a=!0},_e=()=>{a=!1},et=()=>focusManager.isFocused()&&(e.networkMode==="always"||onlineManager.isOnline())&&e.canRun(),$=()=>canFetch(e.networkMode)&&e.canRun(),rt=ut=>{h()||(d==null||d(),b.resolve(ut))},nt=ut=>{h()||(d==null||d(),b.reject(ut))},st=()=>new Promise(ut=>{var wt;d=pt=>{(h()||et())&&ut(pt)},(wt=e.onPause)==null||wt.call(e)}).then(()=>{var ut;d=void 0,h()||(ut=e.onContinue)==null||ut.call(e)}),at=()=>{if(h())return;let ut;const wt=c===0?e.initialPromise:void 0;try{ut=wt??e.fn()}catch(pt){ut=Promise.reject(pt)}Promise.resolve(ut).then(rt).catch(pt=>{var Ct;if(h())return;const xt=e.retry??(isServer?0:3),St=e.retryDelay??defaultRetryDelay,Nt=typeof St=="function"?St(c,pt):St,At=xt===!0||typeof xt=="number"&&c<xt||typeof xt=="function"&&xt(c,pt);if(a||!At){nt(pt);return}c++,(Ct=e.onFail)==null||Ct.call(e,c,pt),sleep(Nt).then(()=>et()?void 0:st()).then(()=>{a?nt(pt):at()})})};return{promise:b,status:()=>b.status,cancel:_,continue:()=>(d==null||d(),b),cancelRetry:j,continueRetry:_e,canStart:$,start:()=>($()?at():st().then(at),b)}}var hs,Ro,Removable=(Ro=class{constructor(){Ur(this,hs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),isValidTimeout(this.gcTime)&&Ar(this,hs,timeoutManager.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(isServer?1/0:5*60*1e3))}clearGcTimeout(){rr(this,hs)&&(timeoutManager.clearTimeout(rr(this,hs)),Ar(this,hs,void 0))}},hs=new WeakMap,Ro),ps,_s,Bn,ms,pn,Ls,gs,Dn,Kn,jo,Query=(jo=class extends Removable{constructor(a){super();Ur(this,Dn);Ur(this,ps);Ur(this,_s);Ur(this,Bn);Ur(this,ms);Ur(this,pn);Ur(this,Ls);Ur(this,gs);Ar(this,gs,!1),Ar(this,Ls,a.defaultOptions),this.setOptions(a.options),this.observers=[],Ar(this,ms,a.client),Ar(this,Bn,rr(this,ms).getQueryCache()),this.queryKey=a.queryKey,this.queryHash=a.queryHash,Ar(this,ps,getDefaultState$1(this.options)),this.state=a.state??rr(this,ps),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var a;return(a=rr(this,pn))==null?void 0:a.promise}setOptions(a){if(this.options={...rr(this,Ls),...a},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const c=getDefaultState$1(this.options);c.data!==void 0&&(this.setData(c.data,{updatedAt:c.dataUpdatedAt,manual:!0}),Ar(this,ps,c))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&rr(this,Bn).remove(this)}setData(a,c){const d=replaceData(this.state.data,a,this.options);return Yr(this,Dn,Kn).call(this,{data:d,type:"success",dataUpdatedAt:c==null?void 0:c.updatedAt,manual:c==null?void 0:c.manual}),d}setState(a,c){Yr(this,Dn,Kn).call(this,{type:"setState",state:a,setStateOptions:c})}cancel(a){var d,b;const c=(d=rr(this,pn))==null?void 0:d.promise;return(b=rr(this,pn))==null||b.cancel(a),c?c.then(noop$2).catch(noop$2):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(rr(this,ps))}isActive(){return this.observers.some(a=>resolveEnabled(a.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===skipToken||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(a=>resolveStaleTime(a.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(a=>a.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(a=0){return this.state.data===void 0?!0:a==="static"?!1:this.state.isInvalidated?!0:!timeUntilStale(this.state.dataUpdatedAt,a)}onFocus(){var c;const a=this.observers.find(d=>d.shouldFetchOnWindowFocus());a==null||a.refetch({cancelRefetch:!1}),(c=rr(this,pn))==null||c.continue()}onOnline(){var c;const a=this.observers.find(d=>d.shouldFetchOnReconnect());a==null||a.refetch({cancelRefetch:!1}),(c=rr(this,pn))==null||c.continue()}addObserver(a){this.observers.includes(a)||(this.observers.push(a),this.clearGcTimeout(),rr(this,Bn).notify({type:"observerAdded",query:this,observer:a}))}removeObserver(a){this.observers.includes(a)&&(this.observers=this.observers.filter(c=>c!==a),this.observers.length||(rr(this,pn)&&(rr(this,gs)?rr(this,pn).cancel({revert:!0}):rr(this,pn).cancelRetry()),this.scheduleGc()),rr(this,Bn).notify({type:"observerRemoved",query:this,observer:a}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Yr(this,Dn,Kn).call(this,{type:"invalidate"})}async fetch(a,c){var _e,et,$,rt,nt,st,at,ut,wt,pt,xt,St;if(this.state.fetchStatus!=="idle"&&((_e=rr(this,pn))==null?void 0:_e.status())!=="rejected"){if(this.state.data!==void 0&&(c!=null&&c.cancelRefetch))this.cancel({silent:!0});else if(rr(this,pn))return rr(this,pn).continueRetry(),rr(this,pn).promise}if(a&&this.setOptions(a),!this.options.queryFn){const Nt=this.observers.find(At=>At.options.queryFn);Nt&&this.setOptions(Nt.options)}const d=new AbortController,b=Nt=>{Object.defineProperty(Nt,"signal",{enumerable:!0,get:()=>(Ar(this,gs,!0),d.signal)})},h=()=>{const Nt=ensureQueryFn(this.options,c),Ct=(()=>{const Vt={client:rr(this,ms),queryKey:this.queryKey,meta:this.meta};return b(Vt),Vt})();return Ar(this,gs,!1),this.options.persister?this.options.persister(Nt,Ct,this):Nt(Ct)},j=(()=>{const Nt={fetchOptions:c,options:this.options,queryKey:this.queryKey,client:rr(this,ms),state:this.state,fetchFn:h};return b(Nt),Nt})();(et=this.options.behavior)==null||et.onFetch(j,this),Ar(this,_s,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==(($=j.fetchOptions)==null?void 0:$.meta))&&Yr(this,Dn,Kn).call(this,{type:"fetch",meta:(rt=j.fetchOptions)==null?void 0:rt.meta}),Ar(this,pn,createRetryer({initialPromise:c==null?void 0:c.initialPromise,fn:j.fetchFn,onCancel:Nt=>{Nt instanceof CancelledError&&Nt.revert&&this.setState({...rr(this,_s),fetchStatus:"idle"}),d.abort()},onFail:(Nt,At)=>{Yr(this,Dn,Kn).call(this,{type:"failed",failureCount:Nt,error:At})},onPause:()=>{Yr(this,Dn,Kn).call(this,{type:"pause"})},onContinue:()=>{Yr(this,Dn,Kn).call(this,{type:"continue"})},retry:j.options.retry,retryDelay:j.options.retryDelay,networkMode:j.options.networkMode,canRun:()=>!0}));try{const Nt=await rr(this,pn).start();if(Nt===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(Nt),(st=(nt=rr(this,Bn).config).onSuccess)==null||st.call(nt,Nt,this),(ut=(at=rr(this,Bn).config).onSettled)==null||ut.call(at,Nt,this.state.error,this),Nt}catch(Nt){if(Nt instanceof CancelledError){if(Nt.silent)return rr(this,pn).promise;if(Nt.revert){if(this.state.data===void 0)throw Nt;return this.state.data}}throw Yr(this,Dn,Kn).call(this,{type:"error",error:Nt}),(pt=(wt=rr(this,Bn).config).onError)==null||pt.call(wt,Nt,this),(St=(xt=rr(this,Bn).config).onSettled)==null||St.call(xt,this.state.data,Nt,this),Nt}finally{this.scheduleGc()}}},ps=new WeakMap,_s=new WeakMap,Bn=new WeakMap,ms=new WeakMap,pn=new WeakMap,Ls=new WeakMap,gs=new WeakMap,Dn=new WeakSet,Kn=function(a){const c=d=>{switch(a.type){case"failed":return{...d,fetchFailureCount:a.failureCount,fetchFailureReason:a.error};case"pause":return{...d,fetchStatus:"paused"};case"continue":return{...d,fetchStatus:"fetching"};case"fetch":return{...d,...fetchState(d.data,this.options),fetchMeta:a.meta??null};case"success":const b={...d,data:a.data,dataUpdateCount:d.dataUpdateCount+1,dataUpdatedAt:a.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!a.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Ar(this,_s,a.manual?b:void 0),b;case"error":const h=a.error;return{...d,error:h,errorUpdateCount:d.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:d.fetchFailureCount+1,fetchFailureReason:h,fetchStatus:"idle",status:"error"};case"invalidate":return{...d,isInvalidated:!0};case"setState":return{...d,...a.state}}};this.state=c(this.state),notifyManager.batch(()=>{this.observers.forEach(d=>{d.onQueryUpdate()}),rr(this,Bn).notify({query:this,type:"updated",action:a})})},jo);function fetchState(e,a){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:canFetch(a.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function getDefaultState$1(e){const a=typeof e.initialData=="function"?e.initialData():e.initialData,c=a!==void 0,d=c?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:a,dataUpdateCount:0,dataUpdatedAt:c?d??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:c?"success":"pending",fetchStatus:"idle"}}var Tn,Jr,qs,Sn,xs,ks,Gn,ns,Ds,Rs,js,ys,vs,is,Ns,sn,Bs,eo,to,ro,no,io,so,ao,Po,No,QueryObserver=(No=class extends Subscribable{constructor(a,c){super();Ur(this,sn);Ur(this,Tn);Ur(this,Jr);Ur(this,qs);Ur(this,Sn);Ur(this,xs);Ur(this,ks);Ur(this,Gn);Ur(this,ns);Ur(this,Ds);Ur(this,Rs);Ur(this,js);Ur(this,ys);Ur(this,vs);Ur(this,is);Ur(this,Ns,new Set);this.options=c,Ar(this,Tn,a),Ar(this,ns,null),Ar(this,Gn,pendingThenable()),this.bindMethods(),this.setOptions(c)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(rr(this,Jr).addObserver(this),shouldFetchOnMount(rr(this,Jr),this.options)?Yr(this,sn,Bs).call(this):this.updateResult(),Yr(this,sn,no).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return shouldFetchOn(rr(this,Jr),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return shouldFetchOn(rr(this,Jr),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Yr(this,sn,io).call(this),Yr(this,sn,so).call(this),rr(this,Jr).removeObserver(this)}setOptions(a){const c=this.options,d=rr(this,Jr);if(this.options=rr(this,Tn).defaultQueryOptions(a),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof resolveEnabled(this.options.enabled,rr(this,Jr))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Yr(this,sn,ao).call(this),rr(this,Jr).setOptions(this.options),c._defaulted&&!shallowEqualObjects(this.options,c)&&rr(this,Tn).getQueryCache().notify({type:"observerOptionsUpdated",query:rr(this,Jr),observer:this});const b=this.hasListeners();b&&shouldFetchOptionally(rr(this,Jr),d,this.options,c)&&Yr(this,sn,Bs).call(this),this.updateResult(),b&&(rr(this,Jr)!==d||resolveEnabled(this.options.enabled,rr(this,Jr))!==resolveEnabled(c.enabled,rr(this,Jr))||resolveStaleTime(this.options.staleTime,rr(this,Jr))!==resolveStaleTime(c.staleTime,rr(this,Jr)))&&Yr(this,sn,eo).call(this);const h=Yr(this,sn,to).call(this);b&&(rr(this,Jr)!==d||resolveEnabled(this.options.enabled,rr(this,Jr))!==resolveEnabled(c.enabled,rr(this,Jr))||h!==rr(this,is))&&Yr(this,sn,ro).call(this,h)}getOptimisticResult(a){const c=rr(this,Tn).getQueryCache().build(rr(this,Tn),a),d=this.createResult(c,a);return shouldAssignObserverCurrentProperties(this,d)&&(Ar(this,Sn,d),Ar(this,ks,this.options),Ar(this,xs,rr(this,Jr).state)),d}getCurrentResult(){return rr(this,Sn)}trackResult(a,c){return new Proxy(a,{get:(d,b)=>(this.trackProp(b),c==null||c(b),b==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&rr(this,Gn).status==="pending"&&rr(this,Gn).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(d,b))})}trackProp(a){rr(this,Ns).add(a)}getCurrentQuery(){return rr(this,Jr)}refetch({...a}={}){return this.fetch({...a})}fetchOptimistic(a){const c=rr(this,Tn).defaultQueryOptions(a),d=rr(this,Tn).getQueryCache().build(rr(this,Tn),c);return d.fetch().then(()=>this.createResult(d,c))}fetch(a){return Yr(this,sn,Bs).call(this,{...a,cancelRefetch:a.cancelRefetch??!0}).then(()=>(this.updateResult(),rr(this,Sn)))}createResult(a,c){var Ut;const d=rr(this,Jr),b=this.options,h=rr(this,Sn),_=rr(this,xs),j=rr(this,ks),et=a!==d?a.state:rr(this,qs),{state:$}=a;let rt={...$},nt=!1,st;if(c._optimisticResults){const Ft=this.hasListeners(),Mt=!Ft&&shouldFetchOnMount(a,c),mt=Ft&&shouldFetchOptionally(a,d,c,b);(Mt||mt)&&(rt={...rt,...fetchState($.data,a.options)}),c._optimisticResults==="isRestoring"&&(rt.fetchStatus="idle")}let{error:at,errorUpdatedAt:ut,status:wt}=rt;st=rt.data;let pt=!1;if(c.placeholderData!==void 0&&st===void 0&&wt==="pending"){let Ft;h!=null&&h.isPlaceholderData&&c.placeholderData===(j==null?void 0:j.placeholderData)?(Ft=h.data,pt=!0):Ft=typeof c.placeholderData=="function"?c.placeholderData((Ut=rr(this,js))==null?void 0:Ut.state.data,rr(this,js)):c.placeholderData,Ft!==void 0&&(wt="success",st=replaceData(h==null?void 0:h.data,Ft,c),nt=!0)}if(c.select&&st!==void 0&&!pt)if(h&&st===(_==null?void 0:_.data)&&c.select===rr(this,Ds))st=rr(this,Rs);else try{Ar(this,Ds,c.select),st=c.select(st),st=replaceData(h==null?void 0:h.data,st,c),Ar(this,Rs,st),Ar(this,ns,null)}catch(Ft){Ar(this,ns,Ft)}rr(this,ns)&&(at=rr(this,ns),st=rr(this,Rs),ut=Date.now(),wt="error");const xt=rt.fetchStatus==="fetching",St=wt==="pending",Nt=wt==="error",At=St&&xt,Ct=st!==void 0,Bt={status:wt,fetchStatus:rt.fetchStatus,isPending:St,isSuccess:wt==="success",isError:Nt,isInitialLoading:At,isLoading:At,data:st,dataUpdatedAt:rt.dataUpdatedAt,error:at,errorUpdatedAt:ut,failureCount:rt.fetchFailureCount,failureReason:rt.fetchFailureReason,errorUpdateCount:rt.errorUpdateCount,isFetched:rt.dataUpdateCount>0||rt.errorUpdateCount>0,isFetchedAfterMount:rt.dataUpdateCount>et.dataUpdateCount||rt.errorUpdateCount>et.errorUpdateCount,isFetching:xt,isRefetching:xt&&!St,isLoadingError:Nt&&!Ct,isPaused:rt.fetchStatus==="paused",isPlaceholderData:nt,isRefetchError:Nt&&Ct,isStale:isStale(a,c),refetch:this.refetch,promise:rr(this,Gn),isEnabled:resolveEnabled(c.enabled,a)!==!1};if(this.options.experimental_prefetchInRender){const Ft=ft=>{Bt.status==="error"?ft.reject(Bt.error):Bt.data!==void 0&&ft.resolve(Bt.data)},Mt=()=>{const ft=Ar(this,Gn,Bt.promise=pendingThenable());Ft(ft)},mt=rr(this,Gn);switch(mt.status){case"pending":a.queryHash===d.queryHash&&Ft(mt);break;case"fulfilled":(Bt.status==="error"||Bt.data!==mt.value)&&Mt();break;case"rejected":(Bt.status!=="error"||Bt.error!==mt.reason)&&Mt();break}}return Bt}updateResult(){const a=rr(this,Sn),c=this.createResult(rr(this,Jr),this.options);if(Ar(this,xs,rr(this,Jr).state),Ar(this,ks,this.options),rr(this,xs).data!==void 0&&Ar(this,js,rr(this,Jr)),shallowEqualObjects(c,a))return;Ar(this,Sn,c);const d=()=>{if(!a)return!0;const{notifyOnChangeProps:b}=this.options,h=typeof b=="function"?b():b;if(h==="all"||!h&&!rr(this,Ns).size)return!0;const _=new Set(h??rr(this,Ns));return this.options.throwOnError&&_.add("error"),Object.keys(rr(this,Sn)).some(j=>{const _e=j;return rr(this,Sn)[_e]!==a[_e]&&_.has(_e)})};Yr(this,sn,Po).call(this,{listeners:d()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Yr(this,sn,no).call(this)}},Tn=new WeakMap,Jr=new WeakMap,qs=new WeakMap,Sn=new WeakMap,xs=new WeakMap,ks=new WeakMap,Gn=new WeakMap,ns=new WeakMap,Ds=new WeakMap,Rs=new WeakMap,js=new WeakMap,ys=new WeakMap,vs=new WeakMap,is=new WeakMap,Ns=new WeakMap,sn=new WeakSet,Bs=function(a){Yr(this,sn,ao).call(this);let c=rr(this,Jr).fetch(this.options,a);return a!=null&&a.throwOnError||(c=c.catch(noop$2)),c},eo=function(){Yr(this,sn,io).call(this);const a=resolveStaleTime(this.options.staleTime,rr(this,Jr));if(isServer||rr(this,Sn).isStale||!isValidTimeout(a))return;const d=timeUntilStale(rr(this,Sn).dataUpdatedAt,a)+1;Ar(this,ys,timeoutManager.setTimeout(()=>{rr(this,Sn).isStale||this.updateResult()},d))},to=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(rr(this,Jr)):this.options.refetchInterval)??!1},ro=function(a){Yr(this,sn,so).call(this),Ar(this,is,a),!(isServer||resolveEnabled(this.options.enabled,rr(this,Jr))===!1||!isValidTimeout(rr(this,is))||rr(this,is)===0)&&Ar(this,vs,timeoutManager.setInterval(()=>{(this.options.refetchIntervalInBackground||focusManager.isFocused())&&Yr(this,sn,Bs).call(this)},rr(this,is)))},no=function(){Yr(this,sn,eo).call(this),Yr(this,sn,ro).call(this,Yr(this,sn,to).call(this))},io=function(){rr(this,ys)&&(timeoutManager.clearTimeout(rr(this,ys)),Ar(this,ys,void 0))},so=function(){rr(this,vs)&&(timeoutManager.clearInterval(rr(this,vs)),Ar(this,vs,void 0))},ao=function(){const a=rr(this,Tn).getQueryCache().build(rr(this,Tn),this.options);if(a===rr(this,Jr))return;const c=rr(this,Jr);Ar(this,Jr,a),Ar(this,qs,a.state),this.hasListeners()&&(c==null||c.removeObserver(this),a.addObserver(this))},Po=function(a){notifyManager.batch(()=>{a.listeners&&this.listeners.forEach(c=>{c(rr(this,Sn))}),rr(this,Tn).getQueryCache().notify({query:rr(this,Jr),type:"observerResultsUpdated"})})},No);function shouldLoadOnMount(e,a){return resolveEnabled(a.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&a.retryOnMount===!1)}function shouldFetchOnMount(e,a){return shouldLoadOnMount(e,a)||e.state.data!==void 0&&shouldFetchOn(e,a,a.refetchOnMount)}function shouldFetchOn(e,a,c){if(resolveEnabled(a.enabled,e)!==!1&&resolveStaleTime(a.staleTime,e)!=="static"){const d=typeof c=="function"?c(e):c;return d==="always"||d!==!1&&isStale(e,a)}return!1}function shouldFetchOptionally(e,a,c,d){return(e!==a||resolveEnabled(d.enabled,e)===!1)&&(!c.suspense||e.state.status!=="error")&&isStale(e,c)}function isStale(e,a){return resolveEnabled(a.enabled,e)!==!1&&e.isStaleByTime(resolveStaleTime(a.staleTime,e))}function shouldAssignObserverCurrentProperties(e,a){return!shallowEqualObjects(e.getCurrentResult(),a)}function infiniteQueryBehavior(e){return{onFetch:(a,c)=>{var $,rt,nt,st,at;const d=a.options,b=(nt=(rt=($=a.fetchOptions)==null?void 0:$.meta)==null?void 0:rt.fetchMore)==null?void 0:nt.direction,h=((st=a.state.data)==null?void 0:st.pages)||[],_=((at=a.state.data)==null?void 0:at.pageParams)||[];let j={pages:[],pageParams:[]},_e=0;const et=async()=>{let ut=!1;const wt=St=>{Object.defineProperty(St,"signal",{enumerable:!0,get:()=>(a.signal.aborted?ut=!0:a.signal.addEventListener("abort",()=>{ut=!0}),a.signal)})},pt=ensureQueryFn(a.options,a.fetchOptions),xt=async(St,Nt,At)=>{if(ut)return Promise.reject();if(Nt==null&&St.pages.length)return Promise.resolve(St);const Vt=(()=>{const Mt={client:a.client,queryKey:a.queryKey,pageParam:Nt,direction:At?"backward":"forward",meta:a.options.meta};return wt(Mt),Mt})(),Bt=await pt(Vt),{maxPages:Ut}=a.options,Ft=At?addToStart:addToEnd;return{pages:Ft(St.pages,Bt,Ut),pageParams:Ft(St.pageParams,Nt,Ut)}};if(b&&h.length){const St=b==="backward",Nt=St?getPreviousPageParam:getNextPageParam,At={pages:h,pageParams:_},Ct=Nt(d,At);j=await xt(At,Ct,St)}else{const St=e??h.length;do{const Nt=_e===0?_[0]??d.initialPageParam:getNextPageParam(d,j);if(_e>0&&Nt==null)break;j=await xt(j,Nt),_e++}while(_e<St)}return j};a.options.persister?a.fetchFn=()=>{var ut,wt;return(wt=(ut=a.options).persister)==null?void 0:wt.call(ut,et,{client:a.client,queryKey:a.queryKey,meta:a.options.meta,signal:a.signal},c)}:a.fetchFn=et}}}function getNextPageParam(e,{pages:a,pageParams:c}){const d=a.length-1;return a.length>0?e.getNextPageParam(a[d],a,c[d],c):void 0}function getPreviousPageParam(e,{pages:a,pageParams:c}){var d;return a.length>0?(d=e.getPreviousPageParam)==null?void 0:d.call(e,a[0],a,c[0],c):void 0}var Fs,zn,_n,bs,Vn,_i,Mo,Mutation=(Mo=class extends Removable{constructor(a){super();Ur(this,Vn);Ur(this,Fs);Ur(this,zn);Ur(this,_n);Ur(this,bs);Ar(this,Fs,a.client),this.mutationId=a.mutationId,Ar(this,_n,a.mutationCache),Ar(this,zn,[]),this.state=a.state||getDefaultState(),this.setOptions(a.options),this.scheduleGc()}setOptions(a){this.options=a,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(a){rr(this,zn).includes(a)||(rr(this,zn).push(a),this.clearGcTimeout(),rr(this,_n).notify({type:"observerAdded",mutation:this,observer:a}))}removeObserver(a){Ar(this,zn,rr(this,zn).filter(c=>c!==a)),this.scheduleGc(),rr(this,_n).notify({type:"observerRemoved",mutation:this,observer:a})}optionalRemove(){rr(this,zn).length||(this.state.status==="pending"?this.scheduleGc():rr(this,_n).remove(this))}continue(){var a;return((a=rr(this,bs))==null?void 0:a.continue())??this.execute(this.state.variables)}async execute(a){var _,j,_e,et,$,rt,nt,st,at,ut,wt,pt,xt,St,Nt,At,Ct,Vt,Bt,Ut;const c=()=>{Yr(this,Vn,_i).call(this,{type:"continue"})},d={client:rr(this,Fs),meta:this.options.meta,mutationKey:this.options.mutationKey};Ar(this,bs,createRetryer({fn:()=>this.options.mutationFn?this.options.mutationFn(a,d):Promise.reject(new Error("No mutationFn found")),onFail:(Ft,Mt)=>{Yr(this,Vn,_i).call(this,{type:"failed",failureCount:Ft,error:Mt})},onPause:()=>{Yr(this,Vn,_i).call(this,{type:"pause"})},onContinue:c,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>rr(this,_n).canRun(this)}));const b=this.state.status==="pending",h=!rr(this,bs).canStart();try{if(b)c();else{Yr(this,Vn,_i).call(this,{type:"pending",variables:a,isPaused:h}),await((j=(_=rr(this,_n).config).onMutate)==null?void 0:j.call(_,a,this,d));const Mt=await((et=(_e=this.options).onMutate)==null?void 0:et.call(_e,a,d));Mt!==this.state.context&&Yr(this,Vn,_i).call(this,{type:"pending",context:Mt,variables:a,isPaused:h})}const Ft=await rr(this,bs).start();return await((rt=($=rr(this,_n).config).onSuccess)==null?void 0:rt.call($,Ft,a,this.state.context,this,d)),await((st=(nt=this.options).onSuccess)==null?void 0:st.call(nt,Ft,a,this.state.context,d)),await((ut=(at=rr(this,_n).config).onSettled)==null?void 0:ut.call(at,Ft,null,this.state.variables,this.state.context,this,d)),await((pt=(wt=this.options).onSettled)==null?void 0:pt.call(wt,Ft,null,a,this.state.context,d)),Yr(this,Vn,_i).call(this,{type:"success",data:Ft}),Ft}catch(Ft){try{throw await((St=(xt=rr(this,_n).config).onError)==null?void 0:St.call(xt,Ft,a,this.state.context,this,d)),await((At=(Nt=this.options).onError)==null?void 0:At.call(Nt,Ft,a,this.state.context,d)),await((Vt=(Ct=rr(this,_n).config).onSettled)==null?void 0:Vt.call(Ct,void 0,Ft,this.state.variables,this.state.context,this,d)),await((Ut=(Bt=this.options).onSettled)==null?void 0:Ut.call(Bt,void 0,Ft,a,this.state.context,d)),Ft}finally{Yr(this,Vn,_i).call(this,{type:"error",error:Ft})}}finally{rr(this,_n).runNext(this)}}},Fs=new WeakMap,zn=new WeakMap,_n=new WeakMap,bs=new WeakMap,Vn=new WeakSet,_i=function(a){const c=d=>{switch(a.type){case"failed":return{...d,failureCount:a.failureCount,failureReason:a.error};case"pause":return{...d,isPaused:!0};case"continue":return{...d,isPaused:!1};case"pending":return{...d,context:a.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:a.isPaused,status:"pending",variables:a.variables,submittedAt:Date.now()};case"success":return{...d,data:a.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...d,data:void 0,error:a.error,failureCount:d.failureCount+1,failureReason:a.error,isPaused:!1,status:"error"}}};this.state=c(this.state),notifyManager.batch(()=>{rr(this,zn).forEach(d=>{d.onMutationUpdate(a)}),rr(this,_n).notify({mutation:this,type:"updated",action:a})})},Mo);function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Qn,Fn,Us,Ao,MutationCache=(Ao=class extends Subscribable{constructor(a={}){super();Ur(this,Qn);Ur(this,Fn);Ur(this,Us);this.config=a,Ar(this,Qn,new Set),Ar(this,Fn,new Map),Ar(this,Us,0)}build(a,c,d){const b=new Mutation({client:a,mutationCache:this,mutationId:++Qs(this,Us)._,options:a.defaultMutationOptions(c),state:d});return this.add(b),b}add(a){rr(this,Qn).add(a);const c=scopeFor(a);if(typeof c=="string"){const d=rr(this,Fn).get(c);d?d.push(a):rr(this,Fn).set(c,[a])}this.notify({type:"added",mutation:a})}remove(a){if(rr(this,Qn).delete(a)){const c=scopeFor(a);if(typeof c=="string"){const d=rr(this,Fn).get(c);if(d)if(d.length>1){const b=d.indexOf(a);b!==-1&&d.splice(b,1)}else d[0]===a&&rr(this,Fn).delete(c)}}this.notify({type:"removed",mutation:a})}canRun(a){const c=scopeFor(a);if(typeof c=="string"){const d=rr(this,Fn).get(c),b=d==null?void 0:d.find(h=>h.state.status==="pending");return!b||b===a}else return!0}runNext(a){var d;const c=scopeFor(a);if(typeof c=="string"){const b=(d=rr(this,Fn).get(c))==null?void 0:d.find(h=>h!==a&&h.state.isPaused);return(b==null?void 0:b.continue())??Promise.resolve()}else return Promise.resolve()}clear(){notifyManager.batch(()=>{rr(this,Qn).forEach(a=>{this.notify({type:"removed",mutation:a})}),rr(this,Qn).clear(),rr(this,Fn).clear()})}getAll(){return Array.from(rr(this,Qn))}find(a){const c={exact:!0,...a};return this.getAll().find(d=>matchMutation(c,d))}findAll(a={}){return this.getAll().filter(c=>matchMutation(a,c))}notify(a){notifyManager.batch(()=>{this.listeners.forEach(c=>{c(a)})})}resumePausedMutations(){const a=this.getAll().filter(c=>c.state.isPaused);return notifyManager.batch(()=>Promise.all(a.map(c=>c.continue().catch(noop$2))))}},Qn=new WeakMap,Fn=new WeakMap,Us=new WeakMap,Ao);function scopeFor(e){var a;return(a=e.options.scope)==null?void 0:a.id}var Hn,Co,QueryCache=(Co=class extends Subscribable{constructor(a={}){super();Ur(this,Hn);this.config=a,Ar(this,Hn,new Map)}build(a,c,d){const b=c.queryKey,h=c.queryHash??hashQueryKeyByOptions(b,c);let _=this.get(h);return _||(_=new Query({client:a,queryKey:b,queryHash:h,options:a.defaultQueryOptions(c),state:d,defaultOptions:a.getQueryDefaults(b)}),this.add(_)),_}add(a){rr(this,Hn).has(a.queryHash)||(rr(this,Hn).set(a.queryHash,a),this.notify({type:"added",query:a}))}remove(a){const c=rr(this,Hn).get(a.queryHash);c&&(a.destroy(),c===a&&rr(this,Hn).delete(a.queryHash),this.notify({type:"removed",query:a}))}clear(){notifyManager.batch(()=>{this.getAll().forEach(a=>{this.remove(a)})})}get(a){return rr(this,Hn).get(a)}getAll(){return[...rr(this,Hn).values()]}find(a){const c={exact:!0,...a};return this.getAll().find(d=>matchQuery(c,d))}findAll(a={}){const c=this.getAll();return Object.keys(a).length>0?c.filter(d=>matchQuery(a,d)):c}notify(a){notifyManager.batch(()=>{this.listeners.forEach(c=>{c(a)})})}onFocus(){notifyManager.batch(()=>{this.getAll().forEach(a=>{a.onFocus()})})}onOnline(){notifyManager.batch(()=>{this.getAll().forEach(a=>{a.onOnline()})})}},Hn=new WeakMap,Co),dn,ss,as,Ms,As,os,Cs,Is,Io,QueryClient=(Io=class{constructor(e={}){Ur(this,dn);Ur(this,ss);Ur(this,as);Ur(this,Ms);Ur(this,As);Ur(this,os);Ur(this,Cs);Ur(this,Is);Ar(this,dn,e.queryCache||new QueryCache),Ar(this,ss,e.mutationCache||new MutationCache),Ar(this,as,e.defaultOptions||{}),Ar(this,Ms,new Map),Ar(this,As,new Map),Ar(this,os,0)}mount(){Qs(this,os)._++,rr(this,os)===1&&(Ar(this,Cs,focusManager.subscribe(async e=>{e&&(await this.resumePausedMutations(),rr(this,dn).onFocus())})),Ar(this,Is,onlineManager.subscribe(async e=>{e&&(await this.resumePausedMutations(),rr(this,dn).onOnline())})))}unmount(){var e,a;Qs(this,os)._--,rr(this,os)===0&&((e=rr(this,Cs))==null||e.call(this),Ar(this,Cs,void 0),(a=rr(this,Is))==null||a.call(this),Ar(this,Is,void 0))}isFetching(e){return rr(this,dn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return rr(this,ss).findAll({...e,status:"pending"}).length}getQueryData(e){var c;const a=this.defaultQueryOptions({queryKey:e});return(c=rr(this,dn).get(a.queryHash))==null?void 0:c.state.data}ensureQueryData(e){const a=this.defaultQueryOptions(e),c=rr(this,dn).build(this,a),d=c.state.data;return d===void 0?this.fetchQuery(e):(e.revalidateIfStale&&c.isStaleByTime(resolveStaleTime(a.staleTime,c))&&this.prefetchQuery(a),Promise.resolve(d))}getQueriesData(e){return rr(this,dn).findAll(e).map(({queryKey:a,state:c})=>{const d=c.data;return[a,d]})}setQueryData(e,a,c){const d=this.defaultQueryOptions({queryKey:e}),b=rr(this,dn).get(d.queryHash),h=b==null?void 0:b.state.data,_=functionalUpdate(a,h);if(_!==void 0)return rr(this,dn).build(this,d).setData(_,{...c,manual:!0})}setQueriesData(e,a,c){return notifyManager.batch(()=>rr(this,dn).findAll(e).map(({queryKey:d})=>[d,this.setQueryData(d,a,c)]))}getQueryState(e){var c;const a=this.defaultQueryOptions({queryKey:e});return(c=rr(this,dn).get(a.queryHash))==null?void 0:c.state}removeQueries(e){const a=rr(this,dn);notifyManager.batch(()=>{a.findAll(e).forEach(c=>{a.remove(c)})})}resetQueries(e,a){const c=rr(this,dn);return notifyManager.batch(()=>(c.findAll(e).forEach(d=>{d.reset()}),this.refetchQueries({type:"active",...e},a)))}cancelQueries(e,a={}){const c={revert:!0,...a},d=notifyManager.batch(()=>rr(this,dn).findAll(e).map(b=>b.cancel(c)));return Promise.all(d).then(noop$2).catch(noop$2)}invalidateQueries(e,a={}){return notifyManager.batch(()=>(rr(this,dn).findAll(e).forEach(c=>{c.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},a)))}refetchQueries(e,a={}){const c={...a,cancelRefetch:a.cancelRefetch??!0},d=notifyManager.batch(()=>rr(this,dn).findAll(e).filter(b=>!b.isDisabled()&&!b.isStatic()).map(b=>{let h=b.fetch(void 0,c);return c.throwOnError||(h=h.catch(noop$2)),b.state.fetchStatus==="paused"?Promise.resolve():h}));return Promise.all(d).then(noop$2)}fetchQuery(e){const a=this.defaultQueryOptions(e);a.retry===void 0&&(a.retry=!1);const c=rr(this,dn).build(this,a);return c.isStaleByTime(resolveStaleTime(a.staleTime,c))?c.fetch(a):Promise.resolve(c.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(noop$2).catch(noop$2)}fetchInfiniteQuery(e){return e.behavior=infiniteQueryBehavior(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(noop$2).catch(noop$2)}ensureInfiniteQueryData(e){return e.behavior=infiniteQueryBehavior(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return onlineManager.isOnline()?rr(this,ss).resumePausedMutations():Promise.resolve()}getQueryCache(){return rr(this,dn)}getMutationCache(){return rr(this,ss)}getDefaultOptions(){return rr(this,as)}setDefaultOptions(e){Ar(this,as,e)}setQueryDefaults(e,a){rr(this,Ms).set(hashKey(e),{queryKey:e,defaultOptions:a})}getQueryDefaults(e){const a=[...rr(this,Ms).values()],c={};return a.forEach(d=>{partialMatchKey(e,d.queryKey)&&Object.assign(c,d.defaultOptions)}),c}setMutationDefaults(e,a){rr(this,As).set(hashKey(e),{mutationKey:e,defaultOptions:a})}getMutationDefaults(e){const a=[...rr(this,As).values()],c={};return a.forEach(d=>{partialMatchKey(e,d.mutationKey)&&Object.assign(c,d.defaultOptions)}),c}defaultQueryOptions(e){if(e._defaulted)return e;const a={...rr(this,as).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return a.queryHash||(a.queryHash=hashQueryKeyByOptions(a.queryKey,a)),a.refetchOnReconnect===void 0&&(a.refetchOnReconnect=a.networkMode!=="always"),a.throwOnError===void 0&&(a.throwOnError=!!a.suspense),!a.networkMode&&a.persister&&(a.networkMode="offlineFirst"),a.queryFn===skipToken&&(a.enabled=!1),a}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...rr(this,as).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){rr(this,dn).clear(),rr(this,ss).clear()}},dn=new WeakMap,ss=new WeakMap,as=new WeakMap,Ms=new WeakMap,As=new WeakMap,os=new WeakMap,Cs=new WeakMap,Is=new WeakMap,Io),QueryClientContext=reactExports.createContext(void 0),useQueryClient=e=>{const a=reactExports.useContext(QueryClientContext);if(!a)throw new Error("No QueryClient set, use QueryClientProvider to set one");return a},QueryClientProvider=({client:e,children:a})=>(reactExports.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),jsxRuntimeExports.jsx(QueryClientContext.Provider,{value:e,children:a})),IsRestoringContext=reactExports.createContext(!1),useIsRestoring=()=>reactExports.useContext(IsRestoringContext);IsRestoringContext.Provider;function createValue(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var QueryErrorResetBoundaryContext=reactExports.createContext(createValue()),useQueryErrorResetBoundary=()=>reactExports.useContext(QueryErrorResetBoundaryContext),ensurePreventErrorBoundaryRetry=(e,a)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(a.isReset()||(e.retryOnMount=!1))},useClearResetErrorBoundary=e=>{reactExports.useEffect(()=>{e.clearReset()},[e])},getHasError=({result:e,errorResetBoundary:a,throwOnError:c,query:d,suspense:b})=>e.isError&&!a.isReset()&&!e.isFetching&&d&&(b&&e.data===void 0||shouldThrowError(c,[e.error,d])),ensureSuspenseTimers=e=>{if(e.suspense){const c=b=>b==="static"?b:Math.max(b??1e3,1e3),d=e.staleTime;e.staleTime=typeof d=="function"?(...b)=>c(d(...b)):c(d),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},willFetch=(e,a)=>e.isLoading&&e.isFetching&&!a,shouldSuspend=(e,a)=>(e==null?void 0:e.suspense)&&a.isPending,fetchOptimistic=(e,a,c)=>a.fetchOptimistic(e).catch(()=>{c.clearReset()});function useBaseQuery(e,a,c){var rt,nt,st,at,ut;const d=useIsRestoring(),b=useQueryErrorResetBoundary(),h=useQueryClient(),_=h.defaultQueryOptions(e);(nt=(rt=h.getDefaultOptions().queries)==null?void 0:rt._experimental_beforeQuery)==null||nt.call(rt,_),_._optimisticResults=d?"isRestoring":"optimistic",ensureSuspenseTimers(_),ensurePreventErrorBoundaryRetry(_,b),useClearResetErrorBoundary(b);const j=!h.getQueryCache().get(_.queryHash),[_e]=reactExports.useState(()=>new a(h,_)),et=_e.getOptimisticResult(_),$=!d&&e.subscribed!==!1;if(reactExports.useSyncExternalStore(reactExports.useCallback(wt=>{const pt=$?_e.subscribe(notifyManager.batchCalls(wt)):noop$2;return _e.updateResult(),pt},[_e,$]),()=>_e.getCurrentResult(),()=>_e.getCurrentResult()),reactExports.useEffect(()=>{_e.setOptions(_)},[_,_e]),shouldSuspend(_,et))throw fetchOptimistic(_,_e,b);if(getHasError({result:et,errorResetBoundary:b,throwOnError:_.throwOnError,query:h.getQueryCache().get(_.queryHash),suspense:_.suspense}))throw et.error;if((at=(st=h.getDefaultOptions().queries)==null?void 0:st._experimental_afterQuery)==null||at.call(st,_,et),_.experimental_prefetchInRender&&!isServer&&willFetch(et,d)){const wt=j?fetchOptimistic(_,_e,b):(ut=h.getQueryCache().get(_.queryHash))==null?void 0:ut.promise;wt==null||wt.catch(noop$2).finally(()=>{_e.updateResult()})}return _.notifyOnChangeProps?et:_e.trackResult(et)}function useQuery(e,a){return useBaseQuery(e,QueryObserver)}const warn=(e,a,c,d)=>{var h,_,j,_e;const b=[c,{code:a,...d||{}}];if((_=(h=e==null?void 0:e.services)==null?void 0:h.logger)!=null&&_.forward)return e.services.logger.forward(b,"warn","react-i18next::",!0);isString$2(b[0])&&(b[0]=`react-i18next:: ${b[0]}`),(_e=(j=e==null?void 0:e.services)==null?void 0:j.logger)!=null&&_e.warn?e.services.logger.warn(...b):console!=null&&console.warn&&console.warn(...b)},alreadyWarned={},warnOnce=(e,a,c,d)=>{isString$2(c)&&alreadyWarned[c]||(isString$2(c)&&(alreadyWarned[c]=new Date),warn(e,a,c,d))},loadedClb=(e,a)=>()=>{if(e.isInitialized)a();else{const c=()=>{setTimeout(()=>{e.off("initialized",c)},0),a()};e.on("initialized",c)}},loadNamespaces=(e,a,c)=>{e.loadNamespaces(a,loadedClb(e,c))},loadLanguages=(e,a,c,d)=>{if(isString$2(c)&&(c=[c]),e.options.preload&&e.options.preload.indexOf(a)>-1)return loadNamespaces(e,c,d);c.forEach(b=>{e.options.ns.indexOf(b)<0&&e.options.ns.push(b)}),e.loadLanguages(a,loadedClb(e,d))},hasLoadedNamespace=(e,a,c={})=>!a.languages||!a.languages.length?(warnOnce(a,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:a.languages}),!0):a.hasLoadedNamespace(e,{lng:c.lng,precheck:(d,b)=>{if(c.bindI18n&&c.bindI18n.indexOf("languageChanging")>-1&&d.services.backendConnector.backend&&d.isLanguageChangingTo&&!b(d.isLanguageChangingTo,e))return!1}}),isString$2=e=>typeof e=="string",isObject$1=e=>typeof e=="object"&&e!==null,matchHtmlEntity=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,htmlEntities={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},unescapeHtmlEntity=e=>htmlEntities[e],unescape=e=>e.replace(matchHtmlEntity,unescapeHtmlEntity);let defaultOptions$1={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape};const setDefaults=(e={})=>{defaultOptions$1={...defaultOptions$1,...e}},getDefaults$1=()=>defaultOptions$1;let i18nInstance;const setI18n=e=>{i18nInstance=e},getI18n=()=>i18nInstance,initReactI18next={type:"3rdParty",init(e){setDefaults(e.options.react),setI18n(e)}},I18nContext=reactExports.createContext();class ReportNamespaces{constructor(){this.usedNamespaces={}}addUsedNamespaces(a){a.forEach(c=>{this.usedNamespaces[c]||(this.usedNamespaces[c]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const usePrevious=(e,a)=>{const c=reactExports.useRef();return reactExports.useEffect(()=>{c.current=e},[e,a]),c.current},alwaysNewT=(e,a,c,d)=>e.getFixedT(a,c,d),useMemoizedT=(e,a,c,d)=>reactExports.useCallback(alwaysNewT(e,a,c,d),[e,a,c,d]),useTranslation=(e,a={})=>{var Nt,At,Ct,Vt;const{i18n:c}=a,{i18n:d,defaultNS:b}=reactExports.useContext(I18nContext)||{},h=c||d||getI18n();if(h&&!h.reportNamespaces&&(h.reportNamespaces=new ReportNamespaces),!h){warnOnce(h,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const Bt=(Ft,Mt)=>isString$2(Mt)?Mt:isObject$1(Mt)&&isString$2(Mt.defaultValue)?Mt.defaultValue:Array.isArray(Ft)?Ft[Ft.length-1]:Ft,Ut=[Bt,{},!1];return Ut.t=Bt,Ut.i18n={},Ut.ready=!1,Ut}(Nt=h.options.react)!=null&&Nt.wait&&warnOnce(h,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const _={...getDefaults$1(),...h.options.react,...a},{useSuspense:j,keyPrefix:_e}=_;let et=b||((At=h.options)==null?void 0:At.defaultNS);et=isString$2(et)?[et]:et||["translation"],(Vt=(Ct=h.reportNamespaces).addUsedNamespaces)==null||Vt.call(Ct,et);const $=(h.isInitialized||h.initializedStoreOnce)&&et.every(Bt=>hasLoadedNamespace(Bt,h,_)),rt=useMemoizedT(h,a.lng||null,_.nsMode==="fallback"?et:et[0],_e),nt=()=>rt,st=()=>alwaysNewT(h,a.lng||null,_.nsMode==="fallback"?et:et[0],_e),[at,ut]=reactExports.useState(nt);let wt=et.join();a.lng&&(wt=`${a.lng}${wt}`);const pt=usePrevious(wt),xt=reactExports.useRef(!0);reactExports.useEffect(()=>{const{bindI18n:Bt,bindI18nStore:Ut}=_;xt.current=!0,!$&&!j&&(a.lng?loadLanguages(h,a.lng,et,()=>{xt.current&&ut(st)}):loadNamespaces(h,et,()=>{xt.current&&ut(st)})),$&&pt&&pt!==wt&&xt.current&&ut(st);const Ft=()=>{xt.current&&ut(st)};return Bt&&(h==null||h.on(Bt,Ft)),Ut&&(h==null||h.store.on(Ut,Ft)),()=>{xt.current=!1,h&&Bt&&(Bt==null||Bt.split(" ").forEach(Mt=>h.off(Mt,Ft))),Ut&&h&&Ut.split(" ").forEach(Mt=>h.store.off(Mt,Ft))}},[h,wt]),reactExports.useEffect(()=>{xt.current&&$&&ut(nt)},[h,_e,$]);const St=[at,h,$];if(St.t=at,St.i18n=h,St.ready=$,$||!$&&!j)return St;throw new Promise(Bt=>{a.lng?loadLanguages(h,a.lng,et,()=>Bt()):loadNamespaces(h,et,()=>Bt())})};function I18nextProvider({i18n:e,defaultNS:a,children:c}){const d=reactExports.useMemo(()=>({i18n:e,defaultNS:a}),[e,a]);return reactExports.createElement(I18nContext.Provider,{value:d},c)}function SkipLink(){const{t:e}=useTranslation();return jsxRuntimeExports.jsx("a",{href:"#main-content",className:`\r
        sr-only\r
        focus:not-sr-only\r
        focus:absolute\r
        focus:top-4\r
        focus:left-4\r
        focus:z-50\r
        focus:inline-block\r
        focus:rounded-lg\r
        focus:bg-sky-600\r
        focus:px-4\r
        focus:py-2\r
        focus:text-sm\r
        focus:font-semibold\r
        focus:text-white\r
        focus:shadow-lg\r
        focus:outline-none\r
        focus:ring-2\r
        focus:ring-sky-500\r
        focus:ring-offset-2\r
        dark:focus:ring-offset-slate-950\r
      `,children:e("accessibility.skipToMain",{defaultValue:"Skip to main content"})})}function r$1(e){var a,c,d="";if(typeof e=="string"||typeof e=="number")d+=e;else if(typeof e=="object")if(Array.isArray(e)){var b=e.length;for(a=0;a<b;a++)e[a]&&(c=r$1(e[a]))&&(d&&(d+=" "),d+=c)}else for(c in e)e[c]&&(d&&(d+=" "),d+=c);return d}function clsx(){for(var e,a,c=0,d="",b=arguments.length;c<b;c++)(e=arguments[c])&&(a=r$1(e))&&(d&&(d+=" "),d+=a);return d}/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mergeClasses=(...e)=>e.filter((a,c,d)=>!!a&&a.trim()!==""&&d.indexOf(a)===c).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Icon=reactExports.forwardRef(({color:e="currentColor",size:a=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:b="",children:h,iconNode:_,...j},_e)=>reactExports.createElement("svg",{ref:_e,...defaultAttributes,width:a,height:a,stroke:e,strokeWidth:d?Number(c)*24/Number(a):c,className:mergeClasses("lucide",b),...j},[..._.map(([et,$])=>reactExports.createElement(et,$)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const createLucideIcon=(e,a)=>{const c=reactExports.forwardRef(({className:d,...b},h)=>reactExports.createElement(Icon,{ref:h,iconNode:a,className:mergeClasses(`lucide-${toKebabCase(e)}`,d),...b}));return c.displayName=`${e}`,c};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Activity=createLucideIcon("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowLeft=createLucideIcon("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowRight=createLucideIcon("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Brain=createLucideIcon("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Check=createLucideIcon("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronDown=createLucideIcon("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronRight=createLucideIcon("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronUp=createLucideIcon("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CircleAlert=createLucideIcon("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CircleCheck=createLucideIcon("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CirclePlus=createLucideIcon("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Clipboard=createLucideIcon("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Clock=createLucideIcon("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Code=createLucideIcon("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Database=createLucideIcon("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DollarSign=createLucideIcon("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Download=createLucideIcon("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EyeOff=createLucideIcon("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eye=createLucideIcon("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileText=createLucideIcon("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GitBranch=createLucideIcon("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GitFork=createLucideIcon("GitFork",[["circle",{cx:"12",cy:"18",r:"3",key:"1mpf1b"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["path",{d:"M18 9v2c0 .6-.4 1-1 1H7c-.6 0-1-.4-1-1V9",key:"1uq4wg"}],["path",{d:"M12 12v3",key:"158kv8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Github=createLucideIcon("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Globe=createLucideIcon("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HardDrive=createLucideIcon("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hash=createLucideIcon("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const History=createLucideIcon("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Info$1=createLucideIcon("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Link2=createLucideIcon("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LockOpen=createLucideIcon("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lock=createLucideIcon("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Menu=createLucideIcon("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MessageSquare=createLucideIcon("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PenLine=createLucideIcon("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Play=createLucideIcon("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Plug=createLucideIcon("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Plus=createLucideIcon("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Power=createLucideIcon("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Radio=createLucideIcon("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RefreshCcw=createLucideIcon("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RefreshCw=createLucideIcon("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Save=createLucideIcon("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Settings2=createLucideIcon("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Shield=createLucideIcon("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sparkles=createLucideIcon("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Star=createLucideIcon("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Store=createLucideIcon("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Trash2=createLucideIcon("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TriangleAlert=createLucideIcon("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Upload=createLucideIcon("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const User=createLucideIcon("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Users=createLucideIcon("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WandSparkles=createLucideIcon("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Workflow=createLucideIcon("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=createLucideIcon("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zap=createLucideIcon("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),createStoreImpl=e=>{let a;const c=new Set,d=(et,$)=>{const rt=typeof et=="function"?et(a):et;if(!Object.is(rt,a)){const nt=a;a=$??(typeof rt!="object"||rt===null)?rt:Object.assign({},a,rt),c.forEach(st=>st(a,nt))}},b=()=>a,j={setState:d,getState:b,getInitialState:()=>_e,subscribe:et=>(c.add(et),()=>c.delete(et))},_e=a=e(d,b,j);return j},createStore=e=>e?createStoreImpl(e):createStoreImpl,identity=e=>e;function useStore(e,a=identity){const c=React.useSyncExternalStore(e.subscribe,React.useCallback(()=>a(e.getState()),[e,a]),React.useCallback(()=>a(e.getInitialState()),[e,a]));return React.useDebugValue(c),c}const createImpl=e=>{const a=createStore(e),c=d=>useStore(a,d);return Object.assign(c,a),c},create$1=e=>createImpl;function createJSONStorage(e,a){let c;try{c=e()}catch{return}return{getItem:b=>{var h;const _=_e=>_e===null?null:JSON.parse(_e,void 0),j=(h=c.getItem(b))!=null?h:null;return j instanceof Promise?j.then(_):_(j)},setItem:(b,h)=>c.setItem(b,JSON.stringify(h,void 0)),removeItem:b=>c.removeItem(b)}}const toThenable=e=>a=>{try{const c=e(a);return c instanceof Promise?c:{then(d){return toThenable(d)(c)},catch(d){return this}}}catch(c){return{then(d){return this},catch(d){return toThenable(d)(c)}}}},persistImpl=(e,a)=>(c,d,b)=>{let h={storage:createJSONStorage(()=>localStorage),partialize:ut=>ut,version:0,merge:(ut,wt)=>({...wt,...ut}),...a},_=!1;const j=new Set,_e=new Set;let et=h.storage;if(!et)return e((...ut)=>{console.warn(`[zustand persist middleware] Unable to update item '${h.name}', the given storage is currently unavailable.`),c(...ut)},d,b);const $=()=>{const ut=h.partialize({...d()});return et.setItem(h.name,{state:ut,version:h.version})},rt=b.setState;b.setState=(ut,wt)=>(rt(ut,wt),$());const nt=e((...ut)=>(c(...ut),$()),d,b);b.getInitialState=()=>nt;let st;const at=()=>{var ut,wt;if(!et)return;_=!1,j.forEach(xt=>{var St;return xt((St=d())!=null?St:nt)});const pt=((wt=h.onRehydrateStorage)==null?void 0:wt.call(h,(ut=d())!=null?ut:nt))||void 0;return toThenable(et.getItem.bind(et))(h.name).then(xt=>{if(xt)if(typeof xt.version=="number"&&xt.version!==h.version){if(h.migrate){const St=h.migrate(xt.state,xt.version);return St instanceof Promise?St.then(Nt=>[!0,Nt]):[!0,St]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,xt.state];return[!1,void 0]}).then(xt=>{var St;const[Nt,At]=xt;if(st=h.merge(At,(St=d())!=null?St:nt),c(st,!0),Nt)return $()}).then(()=>{pt==null||pt(st,void 0),st=d(),_=!0,_e.forEach(xt=>xt(st))}).catch(xt=>{pt==null||pt(void 0,xt)})};return b.persist={setOptions:ut=>{h={...h,...ut},ut.storage&&(et=ut.storage)},clearStorage:()=>{et==null||et.removeItem(h.name)},getOptions:()=>h,rehydrate:()=>at(),hasHydrated:()=>_,onHydrate:ut=>(j.add(ut),()=>{j.delete(ut)}),onFinishHydration:ut=>(_e.add(ut),()=>{_e.delete(ut)})},h.skipHydration||at(),st||nt},persist=persistImpl,DB_NAME="agentosClientDB",STORE_NAME="kv",DB_VERSION$1=1;function openDb(){return new Promise((e,a)=>{const c=indexedDB.open(DB_NAME,DB_VERSION$1);c.onupgradeneeded=()=>{const d=c.result;d.objectStoreNames.contains(STORE_NAME)||d.createObjectStore(STORE_NAME)},c.onsuccess=()=>e(c.result),c.onerror=()=>a(c.error)})}async function withStore(e,a){const c=await openDb();return new Promise((d,b)=>{const h=c.transaction(STORE_NAME,e),_=h.objectStore(STORE_NAME);Promise.resolve(a(_)).then(j=>{h.oncomplete=()=>d(j),h.onerror=()=>b(h.error)}).catch(b)})}const idbStorage={async getItem(e){return withStore("readonly",a=>new Promise((c,d)=>{const b=a.get(e);b.onsuccess=()=>c(b.result??null),b.onerror=()=>d(b.error)}))},async setItem(e,a){return withStore("readwrite",c=>new Promise((d,b)=>{const h=c.put(a,e);h.onsuccess=()=>d(),h.onerror=()=>b(h.error)}))},async removeItem(e){return withStore("readwrite",a=>new Promise((c,d)=>{const b=a.delete(e);b.onsuccess=()=>c(),b.onerror=()=>d(b.error)}))},async clearAll(){return withStore("readwrite",e=>new Promise((a,c)=>{const d=e.clear();d.onsuccess=()=>a(),d.onerror=()=>c(d.error)}))}};class StorageResolutionError extends Error{constructor(a,c=[]){super(a),this.causes=c,this.name="StorageResolutionError"}}function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var browser$c={exports:{}},process=browser$c.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cachedSetTimeout=setTimeout:cachedSetTimeout=defaultSetTimout}catch{cachedSetTimeout=defaultSetTimout}try{typeof clearTimeout=="function"?cachedClearTimeout=clearTimeout:cachedClearTimeout=defaultClearTimeout}catch{cachedClearTimeout=defaultClearTimeout}})();function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch{try{return cachedSetTimeout.call(null,e,0)}catch{return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch{try{return cachedClearTimeout.call(null,e)}catch{return cachedClearTimeout.call(this,e)}}}var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var a=queue.length;a;){for(currentQueue=queue,queue=[];++queueIndex<a;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,a=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}process.nextTick=function(e){var a=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)a[c-1]=arguments[c];queue.push(new Item(e,a)),queue.length===1&&!draining&&runTimeout(drainQueue)};function Item(e,a){this.fun=e,this.array=a}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=!0;process.env={};process.argv=[];process.version="";process.versions={};function noop$1(){}process.on=noop$1;process.addListener=noop$1;process.once=noop$1;process.off=noop$1;process.removeListener=noop$1;process.removeAllListeners=noop$1;process.emit=noop$1;process.prependListener=noop$1;process.prependOnceListener=noop$1;process.listeners=function(e){return[]};process.binding=function(e){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(e){throw new Error("process.chdir is not supported")};process.umask=function(){return 0};var browserExports=browser$c.exports;const process$1=getDefaultExportFromCjs(browserExports),scriptRel="modulepreload",assetsURL=function(e){return"/"+e},seen={},__vitePreload=function(a,c,d){let b=Promise.resolve();if(c&&c.length>0){document.getElementsByTagName("link");const _=document.querySelector("meta[property=csp-nonce]"),j=(_==null?void 0:_.nonce)||(_==null?void 0:_.getAttribute("nonce"));b=Promise.allSettled(c.map(_e=>{if(_e=assetsURL(_e),_e in seen)return;seen[_e]=!0;const et=_e.endsWith(".css"),$=et?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${_e}"]${$}`))return;const rt=document.createElement("link");if(rt.rel=et?"stylesheet":scriptRel,et||(rt.as="script"),rt.crossOrigin="",rt.href=_e,j&&rt.setAttribute("nonce",j),document.head.appendChild(rt),et)return new Promise((nt,st)=>{rt.addEventListener("load",nt),rt.addEventListener("error",()=>st(new Error(`Unable to preload CSS for ${_e}`)))})}))}function h(_){const j=new Event("vite:preloadError",{cancelable:!0});if(j.payload=_,window.dispatchEvent(j),!j.defaultPrevented)throw _}return b.then(_=>{for(const j of _||[])j.status==="rejected"&&h(j.reason);return a().catch(h)})};var pathBrowserify,hasRequiredPathBrowserify;function requirePathBrowserify(){if(hasRequiredPathBrowserify)return pathBrowserify;hasRequiredPathBrowserify=1;function e(b){if(typeof b!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(b))}function a(b,h){for(var _="",j=0,_e=-1,et=0,$,rt=0;rt<=b.length;++rt){if(rt<b.length)$=b.charCodeAt(rt);else{if($===47)break;$=47}if($===47){if(!(_e===rt-1||et===1))if(_e!==rt-1&&et===2){if(_.length<2||j!==2||_.charCodeAt(_.length-1)!==46||_.charCodeAt(_.length-2)!==46){if(_.length>2){var nt=_.lastIndexOf("/");if(nt!==_.length-1){nt===-1?(_="",j=0):(_=_.slice(0,nt),j=_.length-1-_.lastIndexOf("/")),_e=rt,et=0;continue}}else if(_.length===2||_.length===1){_="",j=0,_e=rt,et=0;continue}}h&&(_.length>0?_+="/..":_="..",j=2)}else _.length>0?_+="/"+b.slice(_e+1,rt):_=b.slice(_e+1,rt),j=rt-_e-1;_e=rt,et=0}else $===46&&et!==-1?++et:et=-1}return _}function c(b,h){var _=h.dir||h.root,j=h.base||(h.name||"")+(h.ext||"");return _?_===h.root?_+j:_+b+j:j}var d={resolve:function(){for(var h="",_=!1,j,_e=arguments.length-1;_e>=-1&&!_;_e--){var et;_e>=0?et=arguments[_e]:(j===void 0&&(j=process$1.cwd()),et=j),e(et),et.length!==0&&(h=et+"/"+h,_=et.charCodeAt(0)===47)}return h=a(h,!_),_?h.length>0?"/"+h:"/":h.length>0?h:"."},normalize:function(h){if(e(h),h.length===0)return".";var _=h.charCodeAt(0)===47,j=h.charCodeAt(h.length-1)===47;return h=a(h,!_),h.length===0&&!_&&(h="."),h.length>0&&j&&(h+="/"),_?"/"+h:h},isAbsolute:function(h){return e(h),h.length>0&&h.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var h,_=0;_<arguments.length;++_){var j=arguments[_];e(j),j.length>0&&(h===void 0?h=j:h+="/"+j)}return h===void 0?".":d.normalize(h)},relative:function(h,_){if(e(h),e(_),h===_||(h=d.resolve(h),_=d.resolve(_),h===_))return"";for(var j=1;j<h.length&&h.charCodeAt(j)===47;++j);for(var _e=h.length,et=_e-j,$=1;$<_.length&&_.charCodeAt($)===47;++$);for(var rt=_.length,nt=rt-$,st=et<nt?et:nt,at=-1,ut=0;ut<=st;++ut){if(ut===st){if(nt>st){if(_.charCodeAt($+ut)===47)return _.slice($+ut+1);if(ut===0)return _.slice($+ut)}else et>st&&(h.charCodeAt(j+ut)===47?at=ut:ut===0&&(at=0));break}var wt=h.charCodeAt(j+ut),pt=_.charCodeAt($+ut);if(wt!==pt)break;wt===47&&(at=ut)}var xt="";for(ut=j+at+1;ut<=_e;++ut)(ut===_e||h.charCodeAt(ut)===47)&&(xt.length===0?xt+="..":xt+="/..");return xt.length>0?xt+_.slice($+at):($+=at,_.charCodeAt($)===47&&++$,_.slice($))},_makeLong:function(h){return h},dirname:function(h){if(e(h),h.length===0)return".";for(var _=h.charCodeAt(0),j=_===47,_e=-1,et=!0,$=h.length-1;$>=1;--$)if(_=h.charCodeAt($),_===47){if(!et){_e=$;break}}else et=!1;return _e===-1?j?"/":".":j&&_e===1?"//":h.slice(0,_e)},basename:function(h,_){if(_!==void 0&&typeof _!="string")throw new TypeError('"ext" argument must be a string');e(h);var j=0,_e=-1,et=!0,$;if(_!==void 0&&_.length>0&&_.length<=h.length){if(_.length===h.length&&_===h)return"";var rt=_.length-1,nt=-1;for($=h.length-1;$>=0;--$){var st=h.charCodeAt($);if(st===47){if(!et){j=$+1;break}}else nt===-1&&(et=!1,nt=$+1),rt>=0&&(st===_.charCodeAt(rt)?--rt===-1&&(_e=$):(rt=-1,_e=nt))}return j===_e?_e=nt:_e===-1&&(_e=h.length),h.slice(j,_e)}else{for($=h.length-1;$>=0;--$)if(h.charCodeAt($)===47){if(!et){j=$+1;break}}else _e===-1&&(et=!1,_e=$+1);return _e===-1?"":h.slice(j,_e)}},extname:function(h){e(h);for(var _=-1,j=0,_e=-1,et=!0,$=0,rt=h.length-1;rt>=0;--rt){var nt=h.charCodeAt(rt);if(nt===47){if(!et){j=rt+1;break}continue}_e===-1&&(et=!1,_e=rt+1),nt===46?_===-1?_=rt:$!==1&&($=1):_!==-1&&($=-1)}return _===-1||_e===-1||$===0||$===1&&_===_e-1&&_===j+1?"":h.slice(_,_e)},format:function(h){if(h===null||typeof h!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof h);return c("/",h)},parse:function(h){e(h);var _={root:"",dir:"",base:"",ext:"",name:""};if(h.length===0)return _;var j=h.charCodeAt(0),_e=j===47,et;_e?(_.root="/",et=1):et=0;for(var $=-1,rt=0,nt=-1,st=!0,at=h.length-1,ut=0;at>=et;--at){if(j=h.charCodeAt(at),j===47){if(!st){rt=at+1;break}continue}nt===-1&&(st=!1,nt=at+1),j===46?$===-1?$=at:ut!==1&&(ut=1):$!==-1&&(ut=-1)}return $===-1||nt===-1||ut===0||ut===1&&$===nt-1&&$===rt+1?nt!==-1&&(rt===0&&_e?_.base=_.name=h.slice(1,nt):_.base=_.name=h.slice(rt,nt)):(rt===0&&_e?(_.name=h.slice(1,$),_.base=h.slice(1,nt)):(_.name=h.slice(rt,$),_.base=h.slice(rt,nt)),_.ext=h.slice($,nt)),rt>0?_.dir=h.slice(0,rt-1):_e&&(_.dir="/"),_},sep:"/",delimiter:":",win32:null,posix:null};return d.posix=d,pathBrowserify=d,pathBrowserify}var pathBrowserifyExports=requirePathBrowserify();const path$1=getDefaultExportFromCjs$1(pathBrowserifyExports),index$2=_mergeNamespaces({__proto__:null,default:path$1},[pathBrowserifyExports]),normaliseParameters=e=>e==null?{}:Array.isArray(e)?{positional:e}:typeof e=="object"?{named:e}:{positional:[e]},isBrowser$2=typeof window<"u"&&typeof window.document<"u",loadBetterSqlite=async()=>{try{return await __vitePreload(()=>import("./index-B-9X3_HW.js").then(e=>e.i),[])}catch{try{const{createRequire:e}=await __vitePreload(async()=>{const{createRequire:c}=await import("./empty-C9JxmfLz.js").then(d=>d.e);return{createRequire:c}},[]);return e(path$1.join(process$1.cwd(),"noop.js"))("better-sqlite3")}catch(e){return console.warn("[StorageAdapter] better-sqlite3 module not available.",e),null}}},normaliseRowId$1=e=>e==null?null:typeof e=="bigint"?e.toString():e;class BetterSqliteAdapter{constructor(a){Kr(this,"kind","better-sqlite3");Kr(this,"capabilities",new Set(["sync","transactions","wal","locks","persistence","prepared","batch"]));Kr(this,"module",null);Kr(this,"db",null);Kr(this,"preparedStatements",new Map);this.defaultFilePath=a}async open(a){if(this.db)return;if(isBrowser$2)throw new Error("[StorageAdapter] better-sqlite3 adapter cannot be opened in a browser environment.");if(this.module=await loadBetterSqlite(),!this.module)throw new Error("better-sqlite3 module is not available. Install it or choose another adapter.");const c=this.module,d=c.default??c,b=(a==null?void 0:a.filePath)??this.defaultFilePath,h=a!=null&&a.readOnly?{readonly:!0}:void 0;this.db=new d(b,h)}async run(a,c){const d=this.prepareInternal(a),{named:b,positional:h}=normaliseParameters(c),_=b?d.run(b):d.run(h??[]);return{changes:_.changes,lastInsertRowid:normaliseRowId$1(_.lastInsertRowid)}}async get(a,c){const d=this.prepareInternal(a),{named:b,positional:h}=normaliseParameters(c);return(b?d.get(b):d.get(h??[]))??null}async all(a,c){const d=this.prepareInternal(a),{named:b,positional:h}=normaliseParameters(c);return b?d.all(b):d.all(h??[])}async exec(a){this.ensureOpen(),this.db.exec(a)}async transaction(a){this.ensureOpen(),this.db.exec("BEGIN");try{const c=await a(this);return this.db.exec("COMMIT"),c}catch(c){try{this.db.exec("ROLLBACK")}catch{}throw c}}async close(){this.db&&(this.preparedStatements.clear(),this.db.close(),this.db=null)}async batch(a){this.ensureOpen();const c=[],d=[];let b=0,h=0;const _=this.db.transaction(()=>{a.forEach((j,_e)=>{try{const et=this.prepareInternal(j.statement),{named:$,positional:rt}=normaliseParameters(j.parameters),nt=$?et.run($):et.run(rt??[]);c.push({changes:nt.changes,lastInsertRowid:normaliseRowId$1(nt.lastInsertRowid)}),b++}catch(et){h++,d.push({index:_e,error:et instanceof Error?et:new Error(String(et))})}})});try{_()}catch(j){return{successful:0,failed:a.length,errors:[{index:-1,error:j instanceof Error?j:new Error(String(j))}]}}return{successful:b,failed:h,results:c,errors:d}}prepareInternal(a){return this.ensureOpen(),this.preparedStatements.has(a)||this.preparedStatements.set(a,this.db.prepare(a)),this.preparedStatements.get(a)}ensureOpen(){if(!this.db)throw new Error("Storage adapter not opened. Call open() before executing statements.")}}const createBetterSqliteAdapter=e=>{if(e===":memory:"||e.startsWith("file:"))return new BetterSqliteAdapter(e);const a=path$1.isAbsolute(e)?e:path$1.resolve(process$1.cwd(),e);return new BetterSqliteAdapter(a)};var buffer$1={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$1=0,len=code$1.length;i$1<len;++i$1)lookup[i$1]=code$1[i$1],revLookup[code$1.charCodeAt(i$1)]=i$1;revLookup[45]=62;revLookup[95]=63;function getLens(e){var a=e.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var c=e.indexOf("=");c===-1&&(c=a);var d=c===a?0:4-c%4;return[c,d]}function byteLength(e){var a=getLens(e),c=a[0],d=a[1];return(c+d)*3/4-d}function _byteLength(e,a,c){return(a+c)*3/4-c}function toByteArray(e){var a,c=getLens(e),d=c[0],b=c[1],h=new Arr(_byteLength(e,d,b)),_=0,j=b>0?d-4:d,_e;for(_e=0;_e<j;_e+=4)a=revLookup[e.charCodeAt(_e)]<<18|revLookup[e.charCodeAt(_e+1)]<<12|revLookup[e.charCodeAt(_e+2)]<<6|revLookup[e.charCodeAt(_e+3)],h[_++]=a>>16&255,h[_++]=a>>8&255,h[_++]=a&255;return b===2&&(a=revLookup[e.charCodeAt(_e)]<<2|revLookup[e.charCodeAt(_e+1)]>>4,h[_++]=a&255),b===1&&(a=revLookup[e.charCodeAt(_e)]<<10|revLookup[e.charCodeAt(_e+1)]<<4|revLookup[e.charCodeAt(_e+2)]>>2,h[_++]=a>>8&255,h[_++]=a&255),h}function tripletToBase64(e){return lookup[e>>18&63]+lookup[e>>12&63]+lookup[e>>6&63]+lookup[e&63]}function encodeChunk(e,a,c){for(var d,b=[],h=a;h<c;h+=3)d=(e[h]<<16&16711680)+(e[h+1]<<8&65280)+(e[h+2]&255),b.push(tripletToBase64(d));return b.join("")}function fromByteArray(e){for(var a,c=e.length,d=c%3,b=[],h=16383,_=0,j=c-d;_<j;_+=h)b.push(encodeChunk(e,_,_+h>j?j:_+h));return d===1?(a=e[c-1],b.push(lookup[a>>2]+lookup[a<<4&63]+"==")):d===2&&(a=(e[c-2]<<8)+e[c-1],b.push(lookup[a>>10]+lookup[a>>4&63]+lookup[a<<2&63]+"=")),b.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(e,a,c,d,b){var h,_,j=b*8-d-1,_e=(1<<j)-1,et=_e>>1,$=-7,rt=c?b-1:0,nt=c?-1:1,st=e[a+rt];for(rt+=nt,h=st&(1<<-$)-1,st>>=-$,$+=j;$>0;h=h*256+e[a+rt],rt+=nt,$-=8);for(_=h&(1<<-$)-1,h>>=-$,$+=d;$>0;_=_*256+e[a+rt],rt+=nt,$-=8);if(h===0)h=1-et;else{if(h===_e)return _?NaN:(st?-1:1)*(1/0);_=_+Math.pow(2,d),h=h-et}return(st?-1:1)*_*Math.pow(2,h-d)};ieee754.write=function(e,a,c,d,b,h){var _,j,_e,et=h*8-b-1,$=(1<<et)-1,rt=$>>1,nt=b===23?Math.pow(2,-24)-Math.pow(2,-77):0,st=d?0:h-1,at=d?1:-1,ut=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(j=isNaN(a)?1:0,_=$):(_=Math.floor(Math.log(a)/Math.LN2),a*(_e=Math.pow(2,-_))<1&&(_--,_e*=2),_+rt>=1?a+=nt/_e:a+=nt*Math.pow(2,1-rt),a*_e>=2&&(_++,_e/=2),_+rt>=$?(j=0,_=$):_+rt>=1?(j=(a*_e-1)*Math.pow(2,b),_=_+rt):(j=a*Math.pow(2,rt-1)*Math.pow(2,b),_=0));b>=8;e[c+st]=j&255,st+=at,j/=256,b-=8);for(_=_<<b|j,et+=b;et>0;e[c+st]=_&255,st+=at,_/=256,et-=8);e[c+st-at]|=ut*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const a=base64Js,c=ieee754,d=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=$,e.SlowBuffer=At,e.INSPECT_MAX_BYTES=50;const b=2147483647;e.kMaxLength=b;const{Uint8Array:h,ArrayBuffer:_,SharedArrayBuffer:j}=globalThis;$.TYPED_ARRAY_SUPPORT=_e(),!$.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function _e(){try{const Tt=new h(1),Et={foo:function(){return 42}};return Object.setPrototypeOf(Et,h.prototype),Object.setPrototypeOf(Tt,Et),Tt.foo()===42}catch{return!1}}Object.defineProperty($.prototype,"parent",{enumerable:!0,get:function(){if($.isBuffer(this))return this.buffer}}),Object.defineProperty($.prototype,"offset",{enumerable:!0,get:function(){if($.isBuffer(this))return this.byteOffset}});function et(Tt){if(Tt>b)throw new RangeError('The value "'+Tt+'" is invalid for option "size"');const Et=new h(Tt);return Object.setPrototypeOf(Et,$.prototype),Et}function $(Tt,Et,Rt){if(typeof Tt=="number"){if(typeof Et=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return at(Tt)}return rt(Tt,Et,Rt)}$.poolSize=8192;function rt(Tt,Et,Rt){if(typeof Tt=="string")return ut(Tt,Et);if(_.isView(Tt))return pt(Tt);if(Tt==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Tt);if(lr(Tt,_)||Tt&&lr(Tt.buffer,_)||typeof j<"u"&&(lr(Tt,j)||Tt&&lr(Tt.buffer,j)))return xt(Tt,Et,Rt);if(typeof Tt=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Ot=Tt.valueOf&&Tt.valueOf();if(Ot!=null&&Ot!==Tt)return $.from(Ot,Et,Rt);const Wt=St(Tt);if(Wt)return Wt;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Tt[Symbol.toPrimitive]=="function")return $.from(Tt[Symbol.toPrimitive]("string"),Et,Rt);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Tt)}$.from=function(Tt,Et,Rt){return rt(Tt,Et,Rt)},Object.setPrototypeOf($.prototype,h.prototype),Object.setPrototypeOf($,h);function nt(Tt){if(typeof Tt!="number")throw new TypeError('"size" argument must be of type number');if(Tt<0)throw new RangeError('The value "'+Tt+'" is invalid for option "size"')}function st(Tt,Et,Rt){return nt(Tt),Tt<=0?et(Tt):Et!==void 0?typeof Rt=="string"?et(Tt).fill(Et,Rt):et(Tt).fill(Et):et(Tt)}$.alloc=function(Tt,Et,Rt){return st(Tt,Et,Rt)};function at(Tt){return nt(Tt),et(Tt<0?0:Nt(Tt)|0)}$.allocUnsafe=function(Tt){return at(Tt)},$.allocUnsafeSlow=function(Tt){return at(Tt)};function ut(Tt,Et){if((typeof Et!="string"||Et==="")&&(Et="utf8"),!$.isEncoding(Et))throw new TypeError("Unknown encoding: "+Et);const Rt=Ct(Tt,Et)|0;let Ot=et(Rt);const Wt=Ot.write(Tt,Et);return Wt!==Rt&&(Ot=Ot.slice(0,Wt)),Ot}function wt(Tt){const Et=Tt.length<0?0:Nt(Tt.length)|0,Rt=et(Et);for(let Ot=0;Ot<Et;Ot+=1)Rt[Ot]=Tt[Ot]&255;return Rt}function pt(Tt){if(lr(Tt,h)){const Et=new h(Tt);return xt(Et.buffer,Et.byteOffset,Et.byteLength)}return wt(Tt)}function xt(Tt,Et,Rt){if(Et<0||Tt.byteLength<Et)throw new RangeError('"offset" is outside of buffer bounds');if(Tt.byteLength<Et+(Rt||0))throw new RangeError('"length" is outside of buffer bounds');let Ot;return Et===void 0&&Rt===void 0?Ot=new h(Tt):Rt===void 0?Ot=new h(Tt,Et):Ot=new h(Tt,Et,Rt),Object.setPrototypeOf(Ot,$.prototype),Ot}function St(Tt){if($.isBuffer(Tt)){const Et=Nt(Tt.length)|0,Rt=et(Et);return Rt.length===0||Tt.copy(Rt,0,0,Et),Rt}if(Tt.length!==void 0)return typeof Tt.length!="number"||Qt(Tt.length)?et(0):wt(Tt);if(Tt.type==="Buffer"&&Array.isArray(Tt.data))return wt(Tt.data)}function Nt(Tt){if(Tt>=b)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+b.toString(16)+" bytes");return Tt|0}function At(Tt){return+Tt!=Tt&&(Tt=0),$.alloc(+Tt)}$.isBuffer=function(Et){return Et!=null&&Et._isBuffer===!0&&Et!==$.prototype},$.compare=function(Et,Rt){if(lr(Et,h)&&(Et=$.from(Et,Et.offset,Et.byteLength)),lr(Rt,h)&&(Rt=$.from(Rt,Rt.offset,Rt.byteLength)),!$.isBuffer(Et)||!$.isBuffer(Rt))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Et===Rt)return 0;let Ot=Et.length,Wt=Rt.length;for(let Jt=0,er=Math.min(Ot,Wt);Jt<er;++Jt)if(Et[Jt]!==Rt[Jt]){Ot=Et[Jt],Wt=Rt[Jt];break}return Ot<Wt?-1:Wt<Ot?1:0},$.isEncoding=function(Et){switch(String(Et).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},$.concat=function(Et,Rt){if(!Array.isArray(Et))throw new TypeError('"list" argument must be an Array of Buffers');if(Et.length===0)return $.alloc(0);let Ot;if(Rt===void 0)for(Rt=0,Ot=0;Ot<Et.length;++Ot)Rt+=Et[Ot].length;const Wt=$.allocUnsafe(Rt);let Jt=0;for(Ot=0;Ot<Et.length;++Ot){let er=Et[Ot];if(lr(er,h))Jt+er.length>Wt.length?($.isBuffer(er)||(er=$.from(er)),er.copy(Wt,Jt)):h.prototype.set.call(Wt,er,Jt);else if($.isBuffer(er))er.copy(Wt,Jt);else throw new TypeError('"list" argument must be an Array of Buffers');Jt+=er.length}return Wt};function Ct(Tt,Et){if($.isBuffer(Tt))return Tt.length;if(_.isView(Tt)||lr(Tt,_))return Tt.byteLength;if(typeof Tt!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Tt);const Rt=Tt.length,Ot=arguments.length>2&&arguments[2]===!0;if(!Ot&&Rt===0)return 0;let Wt=!1;for(;;)switch(Et){case"ascii":case"latin1":case"binary":return Rt;case"utf8":case"utf-8":return Zt(Tt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Rt*2;case"hex":return Rt>>>1;case"base64":return ur(Tt).length;default:if(Wt)return Ot?-1:Zt(Tt).length;Et=(""+Et).toLowerCase(),Wt=!0}}$.byteLength=Ct;function Vt(Tt,Et,Rt){let Ot=!1;if((Et===void 0||Et<0)&&(Et=0),Et>this.length||((Rt===void 0||Rt>this.length)&&(Rt=this.length),Rt<=0)||(Rt>>>=0,Et>>>=0,Rt<=Et))return"";for(Tt||(Tt="utf8");;)switch(Tt){case"hex":return ct(this,Et,Rt);case"utf8":case"utf-8":return dt(this,Et,Rt);case"ascii":return ot(this,Et,Rt);case"latin1":case"binary":return vt(this,Et,Rt);case"base64":return ht(this,Et,Rt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return yt(this,Et,Rt);default:if(Ot)throw new TypeError("Unknown encoding: "+Tt);Tt=(Tt+"").toLowerCase(),Ot=!0}}$.prototype._isBuffer=!0;function Bt(Tt,Et,Rt){const Ot=Tt[Et];Tt[Et]=Tt[Rt],Tt[Rt]=Ot}$.prototype.swap16=function(){const Et=this.length;if(Et%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let Rt=0;Rt<Et;Rt+=2)Bt(this,Rt,Rt+1);return this},$.prototype.swap32=function(){const Et=this.length;if(Et%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let Rt=0;Rt<Et;Rt+=4)Bt(this,Rt,Rt+3),Bt(this,Rt+1,Rt+2);return this},$.prototype.swap64=function(){const Et=this.length;if(Et%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let Rt=0;Rt<Et;Rt+=8)Bt(this,Rt,Rt+7),Bt(this,Rt+1,Rt+6),Bt(this,Rt+2,Rt+5),Bt(this,Rt+3,Rt+4);return this},$.prototype.toString=function(){const Et=this.length;return Et===0?"":arguments.length===0?dt(this,0,Et):Vt.apply(this,arguments)},$.prototype.toLocaleString=$.prototype.toString,$.prototype.equals=function(Et){if(!$.isBuffer(Et))throw new TypeError("Argument must be a Buffer");return this===Et?!0:$.compare(this,Et)===0},$.prototype.inspect=function(){let Et="";const Rt=e.INSPECT_MAX_BYTES;return Et=this.toString("hex",0,Rt).replace(/(.{2})/g,"$1 ").trim(),this.length>Rt&&(Et+=" ... "),"<Buffer "+Et+">"},d&&($.prototype[d]=$.prototype.inspect),$.prototype.compare=function(Et,Rt,Ot,Wt,Jt){if(lr(Et,h)&&(Et=$.from(Et,Et.offset,Et.byteLength)),!$.isBuffer(Et))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Et);if(Rt===void 0&&(Rt=0),Ot===void 0&&(Ot=Et?Et.length:0),Wt===void 0&&(Wt=0),Jt===void 0&&(Jt=this.length),Rt<0||Ot>Et.length||Wt<0||Jt>this.length)throw new RangeError("out of range index");if(Wt>=Jt&&Rt>=Ot)return 0;if(Wt>=Jt)return-1;if(Rt>=Ot)return 1;if(Rt>>>=0,Ot>>>=0,Wt>>>=0,Jt>>>=0,this===Et)return 0;let er=Jt-Wt,Er=Ot-Rt;const xr=Math.min(er,Er),vr=this.slice(Wt,Jt),Rr=Et.slice(Rt,Ot);for(let _r=0;_r<xr;++_r)if(vr[_r]!==Rr[_r]){er=vr[_r],Er=Rr[_r];break}return er<Er?-1:Er<er?1:0};function Ut(Tt,Et,Rt,Ot,Wt){if(Tt.length===0)return-1;if(typeof Rt=="string"?(Ot=Rt,Rt=0):Rt>2147483647?Rt=2147483647:Rt<-2147483648&&(Rt=-2147483648),Rt=+Rt,Qt(Rt)&&(Rt=Wt?0:Tt.length-1),Rt<0&&(Rt=Tt.length+Rt),Rt>=Tt.length){if(Wt)return-1;Rt=Tt.length-1}else if(Rt<0)if(Wt)Rt=0;else return-1;if(typeof Et=="string"&&(Et=$.from(Et,Ot)),$.isBuffer(Et))return Et.length===0?-1:Ft(Tt,Et,Rt,Ot,Wt);if(typeof Et=="number")return Et=Et&255,typeof h.prototype.indexOf=="function"?Wt?h.prototype.indexOf.call(Tt,Et,Rt):h.prototype.lastIndexOf.call(Tt,Et,Rt):Ft(Tt,[Et],Rt,Ot,Wt);throw new TypeError("val must be string, number or Buffer")}function Ft(Tt,Et,Rt,Ot,Wt){let Jt=1,er=Tt.length,Er=Et.length;if(Ot!==void 0&&(Ot=String(Ot).toLowerCase(),Ot==="ucs2"||Ot==="ucs-2"||Ot==="utf16le"||Ot==="utf-16le")){if(Tt.length<2||Et.length<2)return-1;Jt=2,er/=2,Er/=2,Rt/=2}function xr(Rr,_r){return Jt===1?Rr[_r]:Rr.readUInt16BE(_r*Jt)}let vr;if(Wt){let Rr=-1;for(vr=Rt;vr<er;vr++)if(xr(Tt,vr)===xr(Et,Rr===-1?0:vr-Rr)){if(Rr===-1&&(Rr=vr),vr-Rr+1===Er)return Rr*Jt}else Rr!==-1&&(vr-=vr-Rr),Rr=-1}else for(Rt+Er>er&&(Rt=er-Er),vr=Rt;vr>=0;vr--){let Rr=!0;for(let _r=0;_r<Er;_r++)if(xr(Tt,vr+_r)!==xr(Et,_r)){Rr=!1;break}if(Rr)return vr}return-1}$.prototype.includes=function(Et,Rt,Ot){return this.indexOf(Et,Rt,Ot)!==-1},$.prototype.indexOf=function(Et,Rt,Ot){return Ut(this,Et,Rt,Ot,!0)},$.prototype.lastIndexOf=function(Et,Rt,Ot){return Ut(this,Et,Rt,Ot,!1)};function Mt(Tt,Et,Rt,Ot){Rt=Number(Rt)||0;const Wt=Tt.length-Rt;Ot?(Ot=Number(Ot),Ot>Wt&&(Ot=Wt)):Ot=Wt;const Jt=Et.length;Ot>Jt/2&&(Ot=Jt/2);let er;for(er=0;er<Ot;++er){const Er=parseInt(Et.substr(er*2,2),16);if(Qt(Er))return er;Tt[Rt+er]=Er}return er}function mt(Tt,Et,Rt,Ot){return ir(Zt(Et,Tt.length-Rt),Tt,Rt,Ot)}function ft(Tt,Et,Rt,Ot){return ir(Gt(Et),Tt,Rt,Ot)}function tt(Tt,Et,Rt,Ot){return ir(ur(Et),Tt,Rt,Ot)}function it(Tt,Et,Rt,Ot){return ir(nr(Et,Tt.length-Rt),Tt,Rt,Ot)}$.prototype.write=function(Et,Rt,Ot,Wt){if(Rt===void 0)Wt="utf8",Ot=this.length,Rt=0;else if(Ot===void 0&&typeof Rt=="string")Wt=Rt,Ot=this.length,Rt=0;else if(isFinite(Rt))Rt=Rt>>>0,isFinite(Ot)?(Ot=Ot>>>0,Wt===void 0&&(Wt="utf8")):(Wt=Ot,Ot=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Jt=this.length-Rt;if((Ot===void 0||Ot>Jt)&&(Ot=Jt),Et.length>0&&(Ot<0||Rt<0)||Rt>this.length)throw new RangeError("Attempt to write outside buffer bounds");Wt||(Wt="utf8");let er=!1;for(;;)switch(Wt){case"hex":return Mt(this,Et,Rt,Ot);case"utf8":case"utf-8":return mt(this,Et,Rt,Ot);case"ascii":case"latin1":case"binary":return ft(this,Et,Rt,Ot);case"base64":return tt(this,Et,Rt,Ot);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return it(this,Et,Rt,Ot);default:if(er)throw new TypeError("Unknown encoding: "+Wt);Wt=(""+Wt).toLowerCase(),er=!0}},$.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ht(Tt,Et,Rt){return Et===0&&Rt===Tt.length?a.fromByteArray(Tt):a.fromByteArray(Tt.slice(Et,Rt))}function dt(Tt,Et,Rt){Rt=Math.min(Tt.length,Rt);const Ot=[];let Wt=Et;for(;Wt<Rt;){const Jt=Tt[Wt];let er=null,Er=Jt>239?4:Jt>223?3:Jt>191?2:1;if(Wt+Er<=Rt){let xr,vr,Rr,_r;switch(Er){case 1:Jt<128&&(er=Jt);break;case 2:xr=Tt[Wt+1],(xr&192)===128&&(_r=(Jt&31)<<6|xr&63,_r>127&&(er=_r));break;case 3:xr=Tt[Wt+1],vr=Tt[Wt+2],(xr&192)===128&&(vr&192)===128&&(_r=(Jt&15)<<12|(xr&63)<<6|vr&63,_r>2047&&(_r<55296||_r>57343)&&(er=_r));break;case 4:xr=Tt[Wt+1],vr=Tt[Wt+2],Rr=Tt[Wt+3],(xr&192)===128&&(vr&192)===128&&(Rr&192)===128&&(_r=(Jt&15)<<18|(xr&63)<<12|(vr&63)<<6|Rr&63,_r>65535&&_r<1114112&&(er=_r))}}er===null?(er=65533,Er=1):er>65535&&(er-=65536,Ot.push(er>>>10&1023|55296),er=56320|er&1023),Ot.push(er),Wt+=Er}return gt(Ot)}const lt=4096;function gt(Tt){const Et=Tt.length;if(Et<=lt)return String.fromCharCode.apply(String,Tt);let Rt="",Ot=0;for(;Ot<Et;)Rt+=String.fromCharCode.apply(String,Tt.slice(Ot,Ot+=lt));return Rt}function ot(Tt,Et,Rt){let Ot="";Rt=Math.min(Tt.length,Rt);for(let Wt=Et;Wt<Rt;++Wt)Ot+=String.fromCharCode(Tt[Wt]&127);return Ot}function vt(Tt,Et,Rt){let Ot="";Rt=Math.min(Tt.length,Rt);for(let Wt=Et;Wt<Rt;++Wt)Ot+=String.fromCharCode(Tt[Wt]);return Ot}function ct(Tt,Et,Rt){const Ot=Tt.length;(!Et||Et<0)&&(Et=0),(!Rt||Rt<0||Rt>Ot)&&(Rt=Ot);let Wt="";for(let Jt=Et;Jt<Rt;++Jt)Wt+=tr[Tt[Jt]];return Wt}function yt(Tt,Et,Rt){const Ot=Tt.slice(Et,Rt);let Wt="";for(let Jt=0;Jt<Ot.length-1;Jt+=2)Wt+=String.fromCharCode(Ot[Jt]+Ot[Jt+1]*256);return Wt}$.prototype.slice=function(Et,Rt){const Ot=this.length;Et=~~Et,Rt=Rt===void 0?Ot:~~Rt,Et<0?(Et+=Ot,Et<0&&(Et=0)):Et>Ot&&(Et=Ot),Rt<0?(Rt+=Ot,Rt<0&&(Rt=0)):Rt>Ot&&(Rt=Ot),Rt<Et&&(Rt=Et);const Wt=this.subarray(Et,Rt);return Object.setPrototypeOf(Wt,$.prototype),Wt};function Dt(Tt,Et,Rt){if(Tt%1!==0||Tt<0)throw new RangeError("offset is not uint");if(Tt+Et>Rt)throw new RangeError("Trying to access beyond buffer length")}$.prototype.readUintLE=$.prototype.readUIntLE=function(Et,Rt,Ot){Et=Et>>>0,Rt=Rt>>>0,Ot||Dt(Et,Rt,this.length);let Wt=this[Et],Jt=1,er=0;for(;++er<Rt&&(Jt*=256);)Wt+=this[Et+er]*Jt;return Wt},$.prototype.readUintBE=$.prototype.readUIntBE=function(Et,Rt,Ot){Et=Et>>>0,Rt=Rt>>>0,Ot||Dt(Et,Rt,this.length);let Wt=this[Et+--Rt],Jt=1;for(;Rt>0&&(Jt*=256);)Wt+=this[Et+--Rt]*Jt;return Wt},$.prototype.readUint8=$.prototype.readUInt8=function(Et,Rt){return Et=Et>>>0,Rt||Dt(Et,1,this.length),this[Et]},$.prototype.readUint16LE=$.prototype.readUInt16LE=function(Et,Rt){return Et=Et>>>0,Rt||Dt(Et,2,this.length),this[Et]|this[Et+1]<<8},$.prototype.readUint16BE=$.prototype.readUInt16BE=function(Et,Rt){return Et=Et>>>0,Rt||Dt(Et,2,this.length),this[Et]<<8|this[Et+1]},$.prototype.readUint32LE=$.prototype.readUInt32LE=function(Et,Rt){return Et=Et>>>0,Rt||Dt(Et,4,this.length),(this[Et]|this[Et+1]<<8|this[Et+2]<<16)+this[Et+3]*16777216},$.prototype.readUint32BE=$.prototype.readUInt32BE=function(Et,Rt){return Et=Et>>>0,Rt||Dt(Et,4,this.length),this[Et]*16777216+(this[Et+1]<<16|this[Et+2]<<8|this[Et+3])},$.prototype.readBigUInt64LE=gr(function(Et){Et=Et>>>0,hr(Et,"offset");const Rt=this[Et],Ot=this[Et+7];(Rt===void 0||Ot===void 0)&&yr(Et,this.length-8);const Wt=Rt+this[++Et]*2**8+this[++Et]*2**16+this[++Et]*2**24,Jt=this[++Et]+this[++Et]*2**8+this[++Et]*2**16+Ot*2**24;return BigInt(Wt)+(BigInt(Jt)<<BigInt(32))}),$.prototype.readBigUInt64BE=gr(function(Et){Et=Et>>>0,hr(Et,"offset");const Rt=this[Et],Ot=this[Et+7];(Rt===void 0||Ot===void 0)&&yr(Et,this.length-8);const Wt=Rt*2**24+this[++Et]*2**16+this[++Et]*2**8+this[++Et],Jt=this[++Et]*2**24+this[++Et]*2**16+this[++Et]*2**8+Ot;return(BigInt(Wt)<<BigInt(32))+BigInt(Jt)}),$.prototype.readIntLE=function(Et,Rt,Ot){Et=Et>>>0,Rt=Rt>>>0,Ot||Dt(Et,Rt,this.length);let Wt=this[Et],Jt=1,er=0;for(;++er<Rt&&(Jt*=256);)Wt+=this[Et+er]*Jt;return Jt*=128,Wt>=Jt&&(Wt-=Math.pow(2,8*Rt)),Wt},$.prototype.readIntBE=function(Et,Rt,Ot){Et=Et>>>0,Rt=Rt>>>0,Ot||Dt(Et,Rt,this.length);let Wt=Rt,Jt=1,er=this[Et+--Wt];for(;Wt>0&&(Jt*=256);)er+=this[Et+--Wt]*Jt;return Jt*=128,er>=Jt&&(er-=Math.pow(2,8*Rt)),er},$.prototype.readInt8=function(Et,Rt){return Et=Et>>>0,Rt||Dt(Et,1,this.length),this[Et]&128?(255-this[Et]+1)*-1:this[Et]},$.prototype.readInt16LE=function(Et,Rt){Et=Et>>>0,Rt||Dt(Et,2,this.length);const Ot=this[Et]|this[Et+1]<<8;return Ot&32768?Ot|4294901760:Ot},$.prototype.readInt16BE=function(Et,Rt){Et=Et>>>0,Rt||Dt(Et,2,this.length);const Ot=this[Et+1]|this[Et]<<8;return Ot&32768?Ot|4294901760:Ot},$.prototype.readInt32LE=function(Et,Rt){return Et=Et>>>0,Rt||Dt(Et,4,this.length),this[Et]|this[Et+1]<<8|this[Et+2]<<16|this[Et+3]<<24},$.prototype.readInt32BE=function(Et,Rt){return Et=Et>>>0,Rt||Dt(Et,4,this.length),this[Et]<<24|this[Et+1]<<16|this[Et+2]<<8|this[Et+3]},$.prototype.readBigInt64LE=gr(function(Et){Et=Et>>>0,hr(Et,"offset");const Rt=this[Et],Ot=this[Et+7];(Rt===void 0||Ot===void 0)&&yr(Et,this.length-8);const Wt=this[Et+4]+this[Et+5]*2**8+this[Et+6]*2**16+(Ot<<24);return(BigInt(Wt)<<BigInt(32))+BigInt(Rt+this[++Et]*2**8+this[++Et]*2**16+this[++Et]*2**24)}),$.prototype.readBigInt64BE=gr(function(Et){Et=Et>>>0,hr(Et,"offset");const Rt=this[Et],Ot=this[Et+7];(Rt===void 0||Ot===void 0)&&yr(Et,this.length-8);const Wt=(Rt<<24)+this[++Et]*2**16+this[++Et]*2**8+this[++Et];return(BigInt(Wt)<<BigInt(32))+BigInt(this[++Et]*2**24+this[++Et]*2**16+this[++Et]*2**8+Ot)}),$.prototype.readFloatLE=function(Et,Rt){return Et=Et>>>0,Rt||Dt(Et,4,this.length),c.read(this,Et,!0,23,4)},$.prototype.readFloatBE=function(Et,Rt){return Et=Et>>>0,Rt||Dt(Et,4,this.length),c.read(this,Et,!1,23,4)},$.prototype.readDoubleLE=function(Et,Rt){return Et=Et>>>0,Rt||Dt(Et,8,this.length),c.read(this,Et,!0,52,8)},$.prototype.readDoubleBE=function(Et,Rt){return Et=Et>>>0,Rt||Dt(Et,8,this.length),c.read(this,Et,!1,52,8)};function Ht(Tt,Et,Rt,Ot,Wt,Jt){if(!$.isBuffer(Tt))throw new TypeError('"buffer" argument must be a Buffer instance');if(Et>Wt||Et<Jt)throw new RangeError('"value" argument is out of bounds');if(Rt+Ot>Tt.length)throw new RangeError("Index out of range")}$.prototype.writeUintLE=$.prototype.writeUIntLE=function(Et,Rt,Ot,Wt){if(Et=+Et,Rt=Rt>>>0,Ot=Ot>>>0,!Wt){const Er=Math.pow(2,8*Ot)-1;Ht(this,Et,Rt,Ot,Er,0)}let Jt=1,er=0;for(this[Rt]=Et&255;++er<Ot&&(Jt*=256);)this[Rt+er]=Et/Jt&255;return Rt+Ot},$.prototype.writeUintBE=$.prototype.writeUIntBE=function(Et,Rt,Ot,Wt){if(Et=+Et,Rt=Rt>>>0,Ot=Ot>>>0,!Wt){const Er=Math.pow(2,8*Ot)-1;Ht(this,Et,Rt,Ot,Er,0)}let Jt=Ot-1,er=1;for(this[Rt+Jt]=Et&255;--Jt>=0&&(er*=256);)this[Rt+Jt]=Et/er&255;return Rt+Ot},$.prototype.writeUint8=$.prototype.writeUInt8=function(Et,Rt,Ot){return Et=+Et,Rt=Rt>>>0,Ot||Ht(this,Et,Rt,1,255,0),this[Rt]=Et&255,Rt+1},$.prototype.writeUint16LE=$.prototype.writeUInt16LE=function(Et,Rt,Ot){return Et=+Et,Rt=Rt>>>0,Ot||Ht(this,Et,Rt,2,65535,0),this[Rt]=Et&255,this[Rt+1]=Et>>>8,Rt+2},$.prototype.writeUint16BE=$.prototype.writeUInt16BE=function(Et,Rt,Ot){return Et=+Et,Rt=Rt>>>0,Ot||Ht(this,Et,Rt,2,65535,0),this[Rt]=Et>>>8,this[Rt+1]=Et&255,Rt+2},$.prototype.writeUint32LE=$.prototype.writeUInt32LE=function(Et,Rt,Ot){return Et=+Et,Rt=Rt>>>0,Ot||Ht(this,Et,Rt,4,4294967295,0),this[Rt+3]=Et>>>24,this[Rt+2]=Et>>>16,this[Rt+1]=Et>>>8,this[Rt]=Et&255,Rt+4},$.prototype.writeUint32BE=$.prototype.writeUInt32BE=function(Et,Rt,Ot){return Et=+Et,Rt=Rt>>>0,Ot||Ht(this,Et,Rt,4,4294967295,0),this[Rt]=Et>>>24,this[Rt+1]=Et>>>16,this[Rt+2]=Et>>>8,this[Rt+3]=Et&255,Rt+4};function qt(Tt,Et,Rt,Ot,Wt){fr(Et,Ot,Wt,Tt,Rt,7);let Jt=Number(Et&BigInt(4294967295));Tt[Rt++]=Jt,Jt=Jt>>8,Tt[Rt++]=Jt,Jt=Jt>>8,Tt[Rt++]=Jt,Jt=Jt>>8,Tt[Rt++]=Jt;let er=Number(Et>>BigInt(32)&BigInt(4294967295));return Tt[Rt++]=er,er=er>>8,Tt[Rt++]=er,er=er>>8,Tt[Rt++]=er,er=er>>8,Tt[Rt++]=er,Rt}function _t(Tt,Et,Rt,Ot,Wt){fr(Et,Ot,Wt,Tt,Rt,7);let Jt=Number(Et&BigInt(4294967295));Tt[Rt+7]=Jt,Jt=Jt>>8,Tt[Rt+6]=Jt,Jt=Jt>>8,Tt[Rt+5]=Jt,Jt=Jt>>8,Tt[Rt+4]=Jt;let er=Number(Et>>BigInt(32)&BigInt(4294967295));return Tt[Rt+3]=er,er=er>>8,Tt[Rt+2]=er,er=er>>8,Tt[Rt+1]=er,er=er>>8,Tt[Rt]=er,Rt+8}$.prototype.writeBigUInt64LE=gr(function(Et,Rt=0){return qt(this,Et,Rt,BigInt(0),BigInt("0xffffffffffffffff"))}),$.prototype.writeBigUInt64BE=gr(function(Et,Rt=0){return _t(this,Et,Rt,BigInt(0),BigInt("0xffffffffffffffff"))}),$.prototype.writeIntLE=function(Et,Rt,Ot,Wt){if(Et=+Et,Rt=Rt>>>0,!Wt){const xr=Math.pow(2,8*Ot-1);Ht(this,Et,Rt,Ot,xr-1,-xr)}let Jt=0,er=1,Er=0;for(this[Rt]=Et&255;++Jt<Ot&&(er*=256);)Et<0&&Er===0&&this[Rt+Jt-1]!==0&&(Er=1),this[Rt+Jt]=(Et/er>>0)-Er&255;return Rt+Ot},$.prototype.writeIntBE=function(Et,Rt,Ot,Wt){if(Et=+Et,Rt=Rt>>>0,!Wt){const xr=Math.pow(2,8*Ot-1);Ht(this,Et,Rt,Ot,xr-1,-xr)}let Jt=Ot-1,er=1,Er=0;for(this[Rt+Jt]=Et&255;--Jt>=0&&(er*=256);)Et<0&&Er===0&&this[Rt+Jt+1]!==0&&(Er=1),this[Rt+Jt]=(Et/er>>0)-Er&255;return Rt+Ot},$.prototype.writeInt8=function(Et,Rt,Ot){return Et=+Et,Rt=Rt>>>0,Ot||Ht(this,Et,Rt,1,127,-128),Et<0&&(Et=255+Et+1),this[Rt]=Et&255,Rt+1},$.prototype.writeInt16LE=function(Et,Rt,Ot){return Et=+Et,Rt=Rt>>>0,Ot||Ht(this,Et,Rt,2,32767,-32768),this[Rt]=Et&255,this[Rt+1]=Et>>>8,Rt+2},$.prototype.writeInt16BE=function(Et,Rt,Ot){return Et=+Et,Rt=Rt>>>0,Ot||Ht(this,Et,Rt,2,32767,-32768),this[Rt]=Et>>>8,this[Rt+1]=Et&255,Rt+2},$.prototype.writeInt32LE=function(Et,Rt,Ot){return Et=+Et,Rt=Rt>>>0,Ot||Ht(this,Et,Rt,4,2147483647,-2147483648),this[Rt]=Et&255,this[Rt+1]=Et>>>8,this[Rt+2]=Et>>>16,this[Rt+3]=Et>>>24,Rt+4},$.prototype.writeInt32BE=function(Et,Rt,Ot){return Et=+Et,Rt=Rt>>>0,Ot||Ht(this,Et,Rt,4,2147483647,-2147483648),Et<0&&(Et=4294967295+Et+1),this[Rt]=Et>>>24,this[Rt+1]=Et>>>16,this[Rt+2]=Et>>>8,this[Rt+3]=Et&255,Rt+4},$.prototype.writeBigInt64LE=gr(function(Et,Rt=0){return qt(this,Et,Rt,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),$.prototype.writeBigInt64BE=gr(function(Et,Rt=0){return _t(this,Et,Rt,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function kt(Tt,Et,Rt,Ot,Wt,Jt){if(Rt+Ot>Tt.length)throw new RangeError("Index out of range");if(Rt<0)throw new RangeError("Index out of range")}function Lt(Tt,Et,Rt,Ot,Wt){return Et=+Et,Rt=Rt>>>0,Wt||kt(Tt,Et,Rt,4),c.write(Tt,Et,Rt,Ot,23,4),Rt+4}$.prototype.writeFloatLE=function(Et,Rt,Ot){return Lt(this,Et,Rt,!0,Ot)},$.prototype.writeFloatBE=function(Et,Rt,Ot){return Lt(this,Et,Rt,!1,Ot)};function Kt(Tt,Et,Rt,Ot,Wt){return Et=+Et,Rt=Rt>>>0,Wt||kt(Tt,Et,Rt,8),c.write(Tt,Et,Rt,Ot,52,8),Rt+8}$.prototype.writeDoubleLE=function(Et,Rt,Ot){return Kt(this,Et,Rt,!0,Ot)},$.prototype.writeDoubleBE=function(Et,Rt,Ot){return Kt(this,Et,Rt,!1,Ot)},$.prototype.copy=function(Et,Rt,Ot,Wt){if(!$.isBuffer(Et))throw new TypeError("argument should be a Buffer");if(Ot||(Ot=0),!Wt&&Wt!==0&&(Wt=this.length),Rt>=Et.length&&(Rt=Et.length),Rt||(Rt=0),Wt>0&&Wt<Ot&&(Wt=Ot),Wt===Ot||Et.length===0||this.length===0)return 0;if(Rt<0)throw new RangeError("targetStart out of bounds");if(Ot<0||Ot>=this.length)throw new RangeError("Index out of range");if(Wt<0)throw new RangeError("sourceEnd out of bounds");Wt>this.length&&(Wt=this.length),Et.length-Rt<Wt-Ot&&(Wt=Et.length-Rt+Ot);const Jt=Wt-Ot;return this===Et&&typeof h.prototype.copyWithin=="function"?this.copyWithin(Rt,Ot,Wt):h.prototype.set.call(Et,this.subarray(Ot,Wt),Rt),Jt},$.prototype.fill=function(Et,Rt,Ot,Wt){if(typeof Et=="string"){if(typeof Rt=="string"?(Wt=Rt,Rt=0,Ot=this.length):typeof Ot=="string"&&(Wt=Ot,Ot=this.length),Wt!==void 0&&typeof Wt!="string")throw new TypeError("encoding must be a string");if(typeof Wt=="string"&&!$.isEncoding(Wt))throw new TypeError("Unknown encoding: "+Wt);if(Et.length===1){const er=Et.charCodeAt(0);(Wt==="utf8"&&er<128||Wt==="latin1")&&(Et=er)}}else typeof Et=="number"?Et=Et&255:typeof Et=="boolean"&&(Et=Number(Et));if(Rt<0||this.length<Rt||this.length<Ot)throw new RangeError("Out of range index");if(Ot<=Rt)return this;Rt=Rt>>>0,Ot=Ot===void 0?this.length:Ot>>>0,Et||(Et=0);let Jt;if(typeof Et=="number")for(Jt=Rt;Jt<Ot;++Jt)this[Jt]=Et;else{const er=$.isBuffer(Et)?Et:$.from(Et,Wt),Er=er.length;if(Er===0)throw new TypeError('The value "'+Et+'" is invalid for argument "value"');for(Jt=0;Jt<Ot-Rt;++Jt)this[Jt+Rt]=er[Jt%Er]}return this};const $t={};function It(Tt,Et,Rt){$t[Tt]=class extends Rt{constructor(){super(),Object.defineProperty(this,"message",{value:Et.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Tt}]`,this.stack,delete this.name}get code(){return Tt}set code(Wt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Wt,writable:!0})}toString(){return`${this.name} [${Tt}]: ${this.message}`}}}It("ERR_BUFFER_OUT_OF_BOUNDS",function(Tt){return Tt?`${Tt} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),It("ERR_INVALID_ARG_TYPE",function(Tt,Et){return`The "${Tt}" argument must be of type number. Received type ${typeof Et}`},TypeError),It("ERR_OUT_OF_RANGE",function(Tt,Et,Rt){let Ot=`The value of "${Tt}" is out of range.`,Wt=Rt;return Number.isInteger(Rt)&&Math.abs(Rt)>2**32?Wt=Xt(String(Rt)):typeof Rt=="bigint"&&(Wt=String(Rt),(Rt>BigInt(2)**BigInt(32)||Rt<-(BigInt(2)**BigInt(32)))&&(Wt=Xt(Wt)),Wt+="n"),Ot+=` It must be ${Et}. Received ${Wt}`,Ot},RangeError);function Xt(Tt){let Et="",Rt=Tt.length;const Ot=Tt[0]==="-"?1:0;for(;Rt>=Ot+4;Rt-=3)Et=`_${Tt.slice(Rt-3,Rt)}${Et}`;return`${Tt.slice(0,Rt)}${Et}`}function cr(Tt,Et,Rt){hr(Et,"offset"),(Tt[Et]===void 0||Tt[Et+Rt]===void 0)&&yr(Et,Tt.length-(Rt+1))}function fr(Tt,Et,Rt,Ot,Wt,Jt){if(Tt>Rt||Tt<Et){const er=typeof Et=="bigint"?"n":"";let Er;throw Et===0||Et===BigInt(0)?Er=`>= 0${er} and < 2${er} ** ${(Jt+1)*8}${er}`:Er=`>= -(2${er} ** ${(Jt+1)*8-1}${er}) and < 2 ** ${(Jt+1)*8-1}${er}`,new $t.ERR_OUT_OF_RANGE("value",Er,Tt)}cr(Ot,Wt,Jt)}function hr(Tt,Et){if(typeof Tt!="number")throw new $t.ERR_INVALID_ARG_TYPE(Et,"number",Tt)}function yr(Tt,Et,Rt){throw Math.floor(Tt)!==Tt?(hr(Tt,Rt),new $t.ERR_OUT_OF_RANGE("offset","an integer",Tt)):Et<0?new $t.ERR_BUFFER_OUT_OF_BOUNDS:new $t.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${Et}`,Tt)}const Sr=/[^+/0-9A-Za-z-_]/g;function sr(Tt){if(Tt=Tt.split("=")[0],Tt=Tt.trim().replace(Sr,""),Tt.length<2)return"";for(;Tt.length%4!==0;)Tt=Tt+"=";return Tt}function Zt(Tt,Et){Et=Et||1/0;let Rt;const Ot=Tt.length;let Wt=null;const Jt=[];for(let er=0;er<Ot;++er){if(Rt=Tt.charCodeAt(er),Rt>55295&&Rt<57344){if(!Wt){if(Rt>56319){(Et-=3)>-1&&Jt.push(239,191,189);continue}else if(er+1===Ot){(Et-=3)>-1&&Jt.push(239,191,189);continue}Wt=Rt;continue}if(Rt<56320){(Et-=3)>-1&&Jt.push(239,191,189),Wt=Rt;continue}Rt=(Wt-55296<<10|Rt-56320)+65536}else Wt&&(Et-=3)>-1&&Jt.push(239,191,189);if(Wt=null,Rt<128){if((Et-=1)<0)break;Jt.push(Rt)}else if(Rt<2048){if((Et-=2)<0)break;Jt.push(Rt>>6|192,Rt&63|128)}else if(Rt<65536){if((Et-=3)<0)break;Jt.push(Rt>>12|224,Rt>>6&63|128,Rt&63|128)}else if(Rt<1114112){if((Et-=4)<0)break;Jt.push(Rt>>18|240,Rt>>12&63|128,Rt>>6&63|128,Rt&63|128)}else throw new Error("Invalid code point")}return Jt}function Gt(Tt){const Et=[];for(let Rt=0;Rt<Tt.length;++Rt)Et.push(Tt.charCodeAt(Rt)&255);return Et}function nr(Tt,Et){let Rt,Ot,Wt;const Jt=[];for(let er=0;er<Tt.length&&!((Et-=2)<0);++er)Rt=Tt.charCodeAt(er),Ot=Rt>>8,Wt=Rt%256,Jt.push(Wt),Jt.push(Ot);return Jt}function ur(Tt){return a.toByteArray(sr(Tt))}function ir(Tt,Et,Rt,Ot){let Wt;for(Wt=0;Wt<Ot&&!(Wt+Rt>=Et.length||Wt>=Tt.length);++Wt)Et[Wt+Rt]=Tt[Wt];return Wt}function lr(Tt,Et){return Tt instanceof Et||Tt!=null&&Tt.constructor!=null&&Tt.constructor.name!=null&&Tt.constructor.name===Et.name}function Qt(Tt){return Tt!==Tt}const tr=function(){const Tt="0123456789abcdef",Et=new Array(256);for(let Rt=0;Rt<16;++Rt){const Ot=Rt*16;for(let Wt=0;Wt<16;++Wt)Et[Ot+Wt]=Tt[Rt]+Tt[Wt]}return Et}();function gr(Tt){return typeof BigInt>"u"?wr:Tt}function wr(){throw new Error("BigInt not supported")}})(buffer$1);const Buffer=buffer$1.Buffer,Blob$1=buffer$1.Blob,BlobOptions=buffer$1.BlobOptions,Buffer$1=buffer$1.Buffer,File=buffer$1.File,FileOptions=buffer$1.FileOptions,INSPECT_MAX_BYTES=buffer$1.INSPECT_MAX_BYTES,SlowBuffer=buffer$1.SlowBuffer,TranscodeEncoding=buffer$1.TranscodeEncoding,atob$1=buffer$1.atob,btoa=buffer$1.btoa,constants$1=buffer$1.constants,isAscii=buffer$1.isAscii,isUtf8=buffer$1.isUtf8,kMaxLength=buffer$1.kMaxLength,kStringMaxLength=buffer$1.kStringMaxLength,resolveObjectURL=buffer$1.resolveObjectURL,transcode=buffer$1.transcode,dist=Object.freeze(Object.defineProperty({__proto__:null,Blob:Blob$1,BlobOptions,Buffer:Buffer$1,File,FileOptions,INSPECT_MAX_BYTES,SlowBuffer,TranscodeEncoding,atob:atob$1,btoa,constants:constants$1,default:Buffer,isAscii,isUtf8,kMaxLength,kStringMaxLength,resolveObjectURL,transcode},Symbol.toStringTag,{value:"Module"}));var sqlWasm={exports:{}};const fs={},__viteBrowserExternal=Object.freeze(Object.defineProperty({__proto__:null,default:fs},Symbol.toStringTag,{value:"Module"})),require$$0$2=getAugmentedNamespace(__viteBrowserExternal);var cryptoBrowserify={},browser$b={exports:{}},safeBuffer$2={exports:{}};const require$$0$1=getAugmentedNamespace(dist);/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var hasRequiredSafeBuffer$2;function requireSafeBuffer$2(){return hasRequiredSafeBuffer$2||(hasRequiredSafeBuffer$2=1,function(e,a){var c=require$$0$1,d=c.Buffer;function b(_,j){for(var _e in _)j[_e]=_[_e]}d.from&&d.alloc&&d.allocUnsafe&&d.allocUnsafeSlow?e.exports=c:(b(c,a),a.Buffer=h);function h(_,j,_e){return d(_,j,_e)}h.prototype=Object.create(d.prototype),b(d,h),h.from=function(_,j,_e){if(typeof _=="number")throw new TypeError("Argument must not be a number");return d(_,j,_e)},h.alloc=function(_,j,_e){if(typeof _!="number")throw new TypeError("Argument must be a number");var et=d(_);return j!==void 0?typeof _e=="string"?et.fill(j,_e):et.fill(j):et.fill(0),et},h.allocUnsafe=function(_){if(typeof _!="number")throw new TypeError("Argument must be a number");return d(_)},h.allocUnsafeSlow=function(_){if(typeof _!="number")throw new TypeError("Argument must be a number");return c.SlowBuffer(_)}}(safeBuffer$2,safeBuffer$2.exports)),safeBuffer$2.exports}var hasRequiredBrowser$b;function requireBrowser$b(){if(hasRequiredBrowser$b)return browser$b.exports;hasRequiredBrowser$b=1;var e=65536,a=4294967295;function c(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var d=requireSafeBuffer$2().Buffer,b=commonjsGlobal.crypto||commonjsGlobal.msCrypto;b&&b.getRandomValues?browser$b.exports=h:browser$b.exports=c;function h(_,j){if(_>a)throw new RangeError("requested too many random bytes");var _e=d.allocUnsafe(_);if(_>0)if(_>e)for(var et=0;et<_;et+=e)b.getRandomValues(_e.slice(et,et+e));else b.getRandomValues(_e);return typeof j=="function"?process$1.nextTick(function(){j(null,_e)}):_e}return browser$b.exports}var inherits_browser={exports:{}};typeof Object.create=="function"?inherits_browser.exports=function(a,c){c&&(a.super_=c,a.prototype=Object.create(c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(a,c){if(c){a.super_=c;var d=function(){};d.prototype=c.prototype,a.prototype=new d,a.prototype.constructor=a}};var inherits_browserExports=inherits_browser.exports,isarray$2,hasRequiredIsarray$2;function requireIsarray$2(){if(hasRequiredIsarray$2)return isarray$2;hasRequiredIsarray$2=1;var e={}.toString;return isarray$2=Array.isArray||function(a){return e.call(a)=="[object Array]"},isarray$2}var type=TypeError,esObjectAtoms=Object,esErrors=Error,_eval=EvalError,range=RangeError,ref=ReferenceError,syntax=SyntaxError,uri=URIError,abs$1=Math.abs,floor$1=Math.floor,max$2=Math.max,min$1=Math.min,pow$1=Math.pow,round$1=Math.round,_isNaN=Number.isNaN||function(a){return a!==a},$isNaN=_isNaN,sign$2=function(a){return $isNaN(a)||a===0?a:a<0?-1:1},gOPD$5=Object.getOwnPropertyDescriptor,$gOPD$1=gOPD$5;if($gOPD$1)try{$gOPD$1([],"length")}catch{$gOPD$1=null}var gopd$1=$gOPD$1,$defineProperty$3=Object.defineProperty||!1;if($defineProperty$3)try{$defineProperty$3({},"a",{value:1})}catch{$defineProperty$3=!1}var esDefineProperty=$defineProperty$3,shams$1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var a={},c=Symbol("test"),d=Object(c);if(typeof c=="string"||Object.prototype.toString.call(c)!=="[object Symbol]"||Object.prototype.toString.call(d)!=="[object Symbol]")return!1;var b=42;a[c]=b;for(var h in a)return!1;if(typeof Object.keys=="function"&&Object.keys(a).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(a).length!==0)return!1;var _=Object.getOwnPropertySymbols(a);if(_.length!==1||_[0]!==c||!Object.prototype.propertyIsEnumerable.call(a,c))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var j=Object.getOwnPropertyDescriptor(a,c);if(j.value!==b||j.enumerable!==!0)return!1}return!0},hasSymbols$2,hasRequiredHasSymbols;function requireHasSymbols(){if(hasRequiredHasSymbols)return hasSymbols$2;hasRequiredHasSymbols=1;var e=typeof Symbol<"u"&&Symbol,a=shams$1;return hasSymbols$2=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:a()},hasSymbols$2}var Reflect_getPrototypeOf=typeof Reflect<"u"&&Reflect.getPrototypeOf||null,$Object$2=esObjectAtoms,Object_getPrototypeOf=$Object$2.getPrototypeOf||null,ERROR_MESSAGE="Function.prototype.bind called on incompatible ",toStr$4=Object.prototype.toString,max$1=Math.max,funcType="[object Function]",concatty=function(a,c){for(var d=[],b=0;b<a.length;b+=1)d[b]=a[b];for(var h=0;h<c.length;h+=1)d[h+a.length]=c[h];return d},slicy=function(a,c){for(var d=[],b=c,h=0;b<a.length;b+=1,h+=1)d[h]=a[b];return d},joiny=function(e,a){for(var c="",d=0;d<e.length;d+=1)c+=e[d],d+1<e.length&&(c+=a);return c},implementation$1=function(a){var c=this;if(typeof c!="function"||toStr$4.apply(c)!==funcType)throw new TypeError(ERROR_MESSAGE+c);for(var d=slicy(arguments,1),b,h=function(){if(this instanceof b){var $=c.apply(this,concatty(d,arguments));return Object($)===$?$:this}return c.apply(a,concatty(d,arguments))},_=max$1(0,c.length-d.length),j=[],_e=0;_e<_;_e++)j[_e]="$"+_e;if(b=Function("binder","return function ("+joiny(j,",")+"){ return binder.apply(this,arguments); }")(h),c.prototype){var et=function(){};et.prototype=c.prototype,b.prototype=new et,et.prototype=null}return b},implementation=implementation$1,functionBind=Function.prototype.bind||implementation,functionCall=Function.prototype.call,functionApply=Function.prototype.apply,reflectApply$1=typeof Reflect<"u"&&Reflect&&Reflect.apply,bind$3=functionBind,$apply$2=functionApply,$call$2=functionCall,$reflectApply=reflectApply$1,actualApply$1=$reflectApply||bind$3.call($call$2,$apply$2),bind$2=functionBind,$TypeError$4=type,$call$1=functionCall,$actualApply=actualApply$1,callBindApplyHelpers=function(a){if(a.length<1||typeof a[0]!="function")throw new $TypeError$4("a function is required");return $actualApply(bind$2,$call$1,a)},callBind$2=callBindApplyHelpers,gOPD$4=gopd$1,hasProtoAccessor;try{hasProtoAccessor=[].__proto__===Array.prototype}catch(e){if(!e||typeof e!="object"||!("code"in e)||e.code!=="ERR_PROTO_ACCESS")throw e}var desc=!!hasProtoAccessor&&gOPD$4&&gOPD$4(Object.prototype,"__proto__"),$Object$1=Object,$getPrototypeOf=$Object$1.getPrototypeOf,get$2=desc&&typeof desc.get=="function"?callBind$2([desc.get]):typeof $getPrototypeOf=="function"?function(a){return $getPrototypeOf(a==null?a:$Object$1(a))}:!1,reflectGetProto=Reflect_getPrototypeOf,originalGetProto=Object_getPrototypeOf,getDunderProto=get$2,getProto$3=reflectGetProto?function(a){return reflectGetProto(a)}:originalGetProto?function(a){if(!a||typeof a!="object"&&typeof a!="function")throw new TypeError("getProto: not an object");return originalGetProto(a)}:getDunderProto?function(a){return getDunderProto(a)}:null,hasown,hasRequiredHasown;function requireHasown(){if(hasRequiredHasown)return hasown;hasRequiredHasown=1;var e=Function.prototype.call,a=Object.prototype.hasOwnProperty,c=functionBind;return hasown=c.call(e,a),hasown}var undefined$1,$Object=esObjectAtoms,$Error=esErrors,$EvalError=_eval,$RangeError=range,$ReferenceError=ref,$SyntaxError$1=syntax,$TypeError$3=type,$URIError=uri,abs=abs$1,floor=floor$1,max=max$2,min=min$1,pow=pow$1,round=round$1,sign$1=sign$2,$Function=Function,getEvalledConstructor=function(e){try{return $Function('"use strict"; return ('+e+").constructor;")()}catch{}},$gOPD=gopd$1,$defineProperty$2=esDefineProperty,throwTypeError=function(){throw new $TypeError$3},ThrowTypeError=$gOPD?function(){try{return arguments.callee,throwTypeError}catch{try{return $gOPD(arguments,"callee").get}catch{return throwTypeError}}}():throwTypeError,hasSymbols$1=requireHasSymbols()(),getProto$2=getProto$3,$ObjectGPO=Object_getPrototypeOf,$ReflectGPO=Reflect_getPrototypeOf,$apply$1=functionApply,$call=functionCall,needsEval={},TypedArray=typeof Uint8Array>"u"||!getProto$2?undefined$1:getProto$2(Uint8Array),INTRINSICS={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?undefined$1:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?undefined$1:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols$1&&getProto$2?getProto$2([][Symbol.iterator]()):undefined$1,"%AsyncFromSyncIteratorPrototype%":undefined$1,"%AsyncFunction%":needsEval,"%AsyncGenerator%":needsEval,"%AsyncGeneratorFunction%":needsEval,"%AsyncIteratorPrototype%":needsEval,"%Atomics%":typeof Atomics>"u"?undefined$1:Atomics,"%BigInt%":typeof BigInt>"u"?undefined$1:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?undefined$1:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?undefined$1:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?undefined$1:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":$Error,"%eval%":eval,"%EvalError%":$EvalError,"%Float16Array%":typeof Float16Array>"u"?undefined$1:Float16Array,"%Float32Array%":typeof Float32Array>"u"?undefined$1:Float32Array,"%Float64Array%":typeof Float64Array>"u"?undefined$1:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?undefined$1:FinalizationRegistry,"%Function%":$Function,"%GeneratorFunction%":needsEval,"%Int8Array%":typeof Int8Array>"u"?undefined$1:Int8Array,"%Int16Array%":typeof Int16Array>"u"?undefined$1:Int16Array,"%Int32Array%":typeof Int32Array>"u"?undefined$1:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols$1&&getProto$2?getProto$2(getProto$2([][Symbol.iterator]())):undefined$1,"%JSON%":typeof JSON=="object"?JSON:undefined$1,"%Map%":typeof Map>"u"?undefined$1:Map,"%MapIteratorPrototype%":typeof Map>"u"||!hasSymbols$1||!getProto$2?undefined$1:getProto$2(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":$Object,"%Object.getOwnPropertyDescriptor%":$gOPD,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?undefined$1:Promise,"%Proxy%":typeof Proxy>"u"?undefined$1:Proxy,"%RangeError%":$RangeError,"%ReferenceError%":$ReferenceError,"%Reflect%":typeof Reflect>"u"?undefined$1:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?undefined$1:Set,"%SetIteratorPrototype%":typeof Set>"u"||!hasSymbols$1||!getProto$2?undefined$1:getProto$2(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?undefined$1:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols$1&&getProto$2?getProto$2(""[Symbol.iterator]()):undefined$1,"%Symbol%":hasSymbols$1?Symbol:undefined$1,"%SyntaxError%":$SyntaxError$1,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":TypedArray,"%TypeError%":$TypeError$3,"%Uint8Array%":typeof Uint8Array>"u"?undefined$1:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?undefined$1:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?undefined$1:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?undefined$1:Uint32Array,"%URIError%":$URIError,"%WeakMap%":typeof WeakMap>"u"?undefined$1:WeakMap,"%WeakRef%":typeof WeakRef>"u"?undefined$1:WeakRef,"%WeakSet%":typeof WeakSet>"u"?undefined$1:WeakSet,"%Function.prototype.call%":$call,"%Function.prototype.apply%":$apply$1,"%Object.defineProperty%":$defineProperty$2,"%Object.getPrototypeOf%":$ObjectGPO,"%Math.abs%":abs,"%Math.floor%":floor,"%Math.max%":max,"%Math.min%":min,"%Math.pow%":pow,"%Math.round%":round,"%Math.sign%":sign$1,"%Reflect.getPrototypeOf%":$ReflectGPO};if(getProto$2)try{null.error}catch(e){var errorProto=getProto$2(getProto$2(e));INTRINSICS["%Error.prototype%"]=errorProto}var doEval=function e(a){var c;if(a==="%AsyncFunction%")c=getEvalledConstructor("async function () {}");else if(a==="%GeneratorFunction%")c=getEvalledConstructor("function* () {}");else if(a==="%AsyncGeneratorFunction%")c=getEvalledConstructor("async function* () {}");else if(a==="%AsyncGenerator%"){var d=e("%AsyncGeneratorFunction%");d&&(c=d.prototype)}else if(a==="%AsyncIteratorPrototype%"){var b=e("%AsyncGenerator%");b&&getProto$2&&(c=getProto$2(b.prototype))}return INTRINSICS[a]=c,c},LEGACY_ALIASES={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bind$1=functionBind,hasOwn$2=requireHasown(),$concat=bind$1.call($call,Array.prototype.concat),$spliceApply=bind$1.call($apply$1,Array.prototype.splice),$replace=bind$1.call($call,String.prototype.replace),$strSlice=bind$1.call($call,String.prototype.slice),$exec$2=bind$1.call($call,RegExp.prototype.exec),rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar=/\\(\\)?/g,stringToPath$1=function(a){var c=$strSlice(a,0,1),d=$strSlice(a,-1);if(c==="%"&&d!=="%")throw new $SyntaxError$1("invalid intrinsic syntax, expected closing `%`");if(d==="%"&&c!=="%")throw new $SyntaxError$1("invalid intrinsic syntax, expected opening `%`");var b=[];return $replace(a,rePropName,function(h,_,j,_e){b[b.length]=j?$replace(_e,reEscapeChar,"$1"):_||h}),b},getBaseIntrinsic=function(a,c){var d=a,b;if(hasOwn$2(LEGACY_ALIASES,d)&&(b=LEGACY_ALIASES[d],d="%"+b[0]+"%"),hasOwn$2(INTRINSICS,d)){var h=INTRINSICS[d];if(h===needsEval&&(h=doEval(d)),typeof h>"u"&&!c)throw new $TypeError$3("intrinsic "+a+" exists, but is not available. Please file an issue!");return{alias:b,name:d,value:h}}throw new $SyntaxError$1("intrinsic "+a+" does not exist!")},getIntrinsic=function(a,c){if(typeof a!="string"||a.length===0)throw new $TypeError$3("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof c!="boolean")throw new $TypeError$3('"allowMissing" argument must be a boolean');if($exec$2(/^%?[^%]*%?$/,a)===null)throw new $SyntaxError$1("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var d=stringToPath$1(a),b=d.length>0?d[0]:"",h=getBaseIntrinsic("%"+b+"%",c),_=h.name,j=h.value,_e=!1,et=h.alias;et&&(b=et[0],$spliceApply(d,$concat([0,1],et)));for(var $=1,rt=!0;$<d.length;$+=1){var nt=d[$],st=$strSlice(nt,0,1),at=$strSlice(nt,-1);if((st==='"'||st==="'"||st==="`"||at==='"'||at==="'"||at==="`")&&st!==at)throw new $SyntaxError$1("property names with quotes must have matching quotes");if((nt==="constructor"||!rt)&&(_e=!0),b+="."+nt,_="%"+b+"%",hasOwn$2(INTRINSICS,_))j=INTRINSICS[_];else if(j!=null){if(!(nt in j)){if(!c)throw new $TypeError$3("base intrinsic for "+a+" exists, but the property is not available.");return}if($gOPD&&$+1>=d.length){var ut=$gOPD(j,nt);rt=!!ut,rt&&"get"in ut&&!("originalValue"in ut.get)?j=ut.get:j=j[nt]}else rt=hasOwn$2(j,nt),j=j[nt];rt&&!_e&&(INTRINSICS[_]=j)}}return j},GetIntrinsic$1=getIntrinsic,callBindBasic=callBindApplyHelpers,$indexOf$1=callBindBasic([GetIntrinsic$1("%String.prototype.indexOf%")]),callBound$5=function(a,c){var d=GetIntrinsic$1(a,!!c);return typeof d=="function"&&$indexOf$1(a,".prototype.")>-1?callBindBasic([d]):d},fnToStr$1=Function.prototype.toString,reflectApply=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,badArrayLike,isCallableMarker;if(typeof reflectApply=="function"&&typeof Object.defineProperty=="function")try{badArrayLike=Object.defineProperty({},"length",{get:function(){throw isCallableMarker}}),isCallableMarker={},reflectApply(function(){throw 42},null,badArrayLike)}catch(e){e!==isCallableMarker&&(reflectApply=null)}else reflectApply=null;var constructorRegex=/^\s*class\b/,isES6ClassFn=function(a){try{var c=fnToStr$1.call(a);return constructorRegex.test(c)}catch{return!1}},tryFunctionObject=function(a){try{return isES6ClassFn(a)?!1:(fnToStr$1.call(a),!0)}catch{return!1}},toStr$3=Object.prototype.toString,objectClass="[object Object]",fnClass="[object Function]",genClass="[object GeneratorFunction]",ddaClass="[object HTMLAllCollection]",ddaClass2="[object HTML document.all class]",ddaClass3="[object HTMLCollection]",hasToStringTag$4=typeof Symbol=="function"&&!!Symbol.toStringTag,isIE68=!(0 in[,]),isDDA=function(){return!1};if(typeof document=="object"){var all$1=document.all;toStr$3.call(all$1)===toStr$3.call(document.all)&&(isDDA=function(a){if((isIE68||!a)&&(typeof a>"u"||typeof a=="object"))try{var c=toStr$3.call(a);return(c===ddaClass||c===ddaClass2||c===ddaClass3||c===objectClass)&&a("")==null}catch{}return!1})}var isCallable$1=reflectApply?function(a){if(isDDA(a))return!0;if(!a||typeof a!="function"&&typeof a!="object")return!1;try{reflectApply(a,null,badArrayLike)}catch(c){if(c!==isCallableMarker)return!1}return!isES6ClassFn(a)&&tryFunctionObject(a)}:function(a){if(isDDA(a))return!0;if(!a||typeof a!="function"&&typeof a!="object")return!1;if(hasToStringTag$4)return tryFunctionObject(a);if(isES6ClassFn(a))return!1;var c=toStr$3.call(a);return c!==fnClass&&c!==genClass&&!/^\[object HTML/.test(c)?!1:tryFunctionObject(a)},isCallable=isCallable$1,toStr$2=Object.prototype.toString,hasOwnProperty$1=Object.prototype.hasOwnProperty,forEachArray=function(a,c,d){for(var b=0,h=a.length;b<h;b++)hasOwnProperty$1.call(a,b)&&(d==null?c(a[b],b,a):c.call(d,a[b],b,a))},forEachString=function(a,c,d){for(var b=0,h=a.length;b<h;b++)d==null?c(a.charAt(b),b,a):c.call(d,a.charAt(b),b,a)},forEachObject=function(a,c,d){for(var b in a)hasOwnProperty$1.call(a,b)&&(d==null?c(a[b],b,a):c.call(d,a[b],b,a))};function isArray$1(e){return toStr$2.call(e)==="[object Array]"}var forEach$1=function(a,c,d){if(!isCallable(c))throw new TypeError("iterator must be a function");var b;arguments.length>=3&&(b=d),isArray$1(a)?forEachArray(a,c,b):typeof a=="string"?forEachString(a,c,b):forEachObject(a,c,b)},possibleTypedArrayNames=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"],possibleNames=possibleTypedArrayNames,g$1=typeof globalThis>"u"?commonjsGlobal:globalThis,availableTypedArrays$1=function(){for(var a=[],c=0;c<possibleNames.length;c++)typeof g$1[possibleNames[c]]=="function"&&(a[a.length]=possibleNames[c]);return a},callBind$1={exports:{}},$defineProperty$1=esDefineProperty,$SyntaxError=syntax,$TypeError$2=type,gopd=gopd$1,defineDataProperty=function(a,c,d){if(!a||typeof a!="object"&&typeof a!="function")throw new $TypeError$2("`obj` must be an object or a function`");if(typeof c!="string"&&typeof c!="symbol")throw new $TypeError$2("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new $TypeError$2("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new $TypeError$2("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new $TypeError$2("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new $TypeError$2("`loose`, if provided, must be a boolean");var b=arguments.length>3?arguments[3]:null,h=arguments.length>4?arguments[4]:null,_=arguments.length>5?arguments[5]:null,j=arguments.length>6?arguments[6]:!1,_e=!!gopd&&gopd(a,c);if($defineProperty$1)$defineProperty$1(a,c,{configurable:_===null&&_e?_e.configurable:!_,enumerable:b===null&&_e?_e.enumerable:!b,value:d,writable:h===null&&_e?_e.writable:!h});else if(j||!b&&!h&&!_)a[c]=d;else throw new $SyntaxError("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},$defineProperty=esDefineProperty,hasPropertyDescriptors=function(){return!!$defineProperty};hasPropertyDescriptors.hasArrayLengthDefineBug=function(){if(!$defineProperty)return null;try{return $defineProperty([],"length",{value:1}).length!==1}catch{return!0}};var hasPropertyDescriptors_1=hasPropertyDescriptors,GetIntrinsic=getIntrinsic,define=defineDataProperty,hasDescriptors=hasPropertyDescriptors_1(),gOPD$3=gopd$1,$TypeError$1=type,$floor=GetIntrinsic("%Math.floor%"),setFunctionLength=function(a,c){if(typeof a!="function")throw new $TypeError$1("`fn` is not a function");if(typeof c!="number"||c<0||c>4294967295||$floor(c)!==c)throw new $TypeError$1("`length` must be a positive 32-bit integer");var d=arguments.length>2&&!!arguments[2],b=!0,h=!0;if("length"in a&&gOPD$3){var _=gOPD$3(a,"length");_&&!_.configurable&&(b=!1),_&&!_.writable&&(h=!1)}return(b||h||!d)&&(hasDescriptors?define(a,"length",c,!0,!0):define(a,"length",c)),a},bind=functionBind,$apply=functionApply,actualApply=actualApply$1,applyBind=function(){return actualApply(bind,$apply,arguments)};(function(e){var a=setFunctionLength,c=esDefineProperty,d=callBindApplyHelpers,b=applyBind;e.exports=function(_){var j=d(arguments),_e=_.length-(arguments.length-1);return a(j,1+(_e>0?_e:0),!0)},c?c(e.exports,"apply",{value:b}):e.exports.apply=b})(callBind$1);var callBindExports=callBind$1.exports,hasSymbols=shams$1,shams=function(){return hasSymbols()&&!!Symbol.toStringTag},forEach=forEach$1,availableTypedArrays=availableTypedArrays$1,callBind=callBindExports,callBound$4=callBound$5,gOPD$2=gopd$1,getProto$1=getProto$3,$toString$2=callBound$4("Object.prototype.toString"),hasToStringTag$3=shams(),g=typeof globalThis>"u"?commonjsGlobal:globalThis,typedArrays=availableTypedArrays(),$slice=callBound$4("String.prototype.slice"),$indexOf=callBound$4("Array.prototype.indexOf",!0)||function(a,c){for(var d=0;d<a.length;d+=1)if(a[d]===c)return d;return-1},cache={__proto__:null};hasToStringTag$3&&gOPD$2&&getProto$1?forEach(typedArrays,function(e){var a=new g[e];if(Symbol.toStringTag in a&&getProto$1){var c=getProto$1(a),d=gOPD$2(c,Symbol.toStringTag);if(!d&&c){var b=getProto$1(c);d=gOPD$2(b,Symbol.toStringTag)}cache["$"+e]=callBind(d.get)}}):forEach(typedArrays,function(e){var a=new g[e],c=a.slice||a.set;c&&(cache["$"+e]=callBind(c))});var tryTypedArrays=function(a){var c=!1;return forEach(cache,function(d,b){if(!c)try{"$"+d(a)===b&&(c=$slice(b,1))}catch{}}),c},trySlices=function(a){var c=!1;return forEach(cache,function(d,b){if(!c)try{d(a),c=$slice(b,1)}catch{}}),c},whichTypedArray$1=function(a){if(!a||typeof a!="object")return!1;if(!hasToStringTag$3){var c=$slice($toString$2(a),8,-1);return $indexOf(typedArrays,c)>-1?c:c!=="Object"?!1:trySlices(a)}return gOPD$2?tryTypedArrays(a):null},whichTypedArray=whichTypedArray$1,isTypedArray=function(a){return!!whichTypedArray(a)},typedArrayBuffer,hasRequiredTypedArrayBuffer;function requireTypedArrayBuffer(){if(hasRequiredTypedArrayBuffer)return typedArrayBuffer;hasRequiredTypedArrayBuffer=1;var e=type,a=callBound$5,c=a("TypedArray.prototype.buffer",!0),d=isTypedArray;return typedArrayBuffer=c||function(h){if(!d(h))throw new e("Not a Typed Array");return h.buffer},typedArrayBuffer}var toBuffer,hasRequiredToBuffer$2;function requireToBuffer$2(){if(hasRequiredToBuffer$2)return toBuffer;hasRequiredToBuffer$2=1;var e=requireSafeBuffer$2().Buffer,a=requireIsarray$2(),c=requireTypedArrayBuffer(),d=ArrayBuffer.isView||function(_e){try{return c(_e),!0}catch{return!1}},b=typeof Uint8Array<"u",h=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",_=h&&(e.prototype instanceof Uint8Array||e.TYPED_ARRAY_SUPPORT);return toBuffer=function(_e,et){if(e.isBuffer(_e))return _e.constructor&&!("isBuffer"in _e)?e.from(_e):_e;if(typeof _e=="string")return e.from(_e,et);if(h&&d(_e)){if(_e.byteLength===0)return e.alloc(0);if(_){var $=e.from(_e.buffer,_e.byteOffset,_e.byteLength);if($.byteLength===_e.byteLength)return $}var rt=_e instanceof Uint8Array?_e:new Uint8Array(_e.buffer,_e.byteOffset,_e.byteLength),nt=e.from(rt);if(nt.length===_e.byteLength)return nt}if(b&&_e instanceof Uint8Array)return e.from(_e);var st=a(_e);if(st)for(var at=0;at<_e.length;at+=1){var ut=_e[at];if(typeof ut!="number"||ut<0||ut>255||~~ut!==ut)throw new RangeError("Array items must be numbers in the range 0-255.")}if(st||e.isBuffer(_e)&&_e.constructor&&typeof _e.constructor.isBuffer=="function"&&_e.constructor.isBuffer(_e))return e.from(_e);throw new TypeError('The "data" argument must be a string, an Array, a Buffer, a Uint8Array, or a DataView.')},toBuffer}var toBuffer_1$1,hasRequiredToBuffer$1;function requireToBuffer$1(){if(hasRequiredToBuffer$1)return toBuffer_1$1;hasRequiredToBuffer$1=1;var e=requireSafeBuffer$2().Buffer,a=requireToBuffer$2(),c=typeof Uint8Array<"u",d=c&&typeof ArrayBuffer<"u",b=d&&ArrayBuffer.isView;return toBuffer_1$1=function(h,_){if(typeof h=="string"||e.isBuffer(h)||c&&h instanceof Uint8Array||b&&b(h))return a(h,_);throw new TypeError('The "data" argument must be a string, a Buffer, a Uint8Array, or a DataView')},toBuffer_1$1}var readableBrowser$1={exports:{}},processNextickArgs={exports:{}},hasRequiredProcessNextickArgs;function requireProcessNextickArgs(){if(hasRequiredProcessNextickArgs)return processNextickArgs.exports;hasRequiredProcessNextickArgs=1,typeof process$1>"u"||!process$1.version||process$1.version.indexOf("v0.")===0||process$1.version.indexOf("v1.")===0&&process$1.version.indexOf("v1.8.")!==0?processNextickArgs.exports={nextTick:e}:processNextickArgs.exports=process$1;function e(a,c,d,b){if(typeof a!="function")throw new TypeError('"callback" argument must be a function');var h=arguments.length,_,j;switch(h){case 0:case 1:return process$1.nextTick(a);case 2:return process$1.nextTick(function(){a.call(null,c)});case 3:return process$1.nextTick(function(){a.call(null,c,d)});case 4:return process$1.nextTick(function(){a.call(null,c,d,b)});default:for(_=new Array(h-1),j=0;j<_.length;)_[j++]=arguments[j];return process$1.nextTick(function(){a.apply(null,_)})}}return processNextickArgs.exports}var isarray$1,hasRequiredIsarray$1;function requireIsarray$1(){if(hasRequiredIsarray$1)return isarray$1;hasRequiredIsarray$1=1;var e={}.toString;return isarray$1=Array.isArray||function(a){return e.call(a)=="[object Array]"},isarray$1}var events={exports:{}},R=typeof Reflect=="object"?Reflect:null,ReflectApply=R&&typeof R.apply=="function"?R.apply:function(a,c,d){return Function.prototype.apply.call(a,c,d)},ReflectOwnKeys;R&&typeof R.ownKeys=="function"?ReflectOwnKeys=R.ownKeys:Object.getOwnPropertySymbols?ReflectOwnKeys=function(a){return Object.getOwnPropertyNames(a).concat(Object.getOwnPropertySymbols(a))}:ReflectOwnKeys=function(a){return Object.getOwnPropertyNames(a)};function ProcessEmitWarning(e){console&&console.warn&&console.warn(e)}var NumberIsNaN=Number.isNaN||function(a){return a!==a};function EventEmitter$1(){EventEmitter$1.init.call(this)}events.exports=EventEmitter$1;events.exports.once=once;EventEmitter$1.EventEmitter=EventEmitter$1;EventEmitter$1.prototype._events=void 0;EventEmitter$1.prototype._eventsCount=0;EventEmitter$1.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(EventEmitter$1,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(e){if(typeof e!="number"||e<0||NumberIsNaN(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");defaultMaxListeners=e}});EventEmitter$1.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};EventEmitter$1.prototype.setMaxListeners=function(a){if(typeof a!="number"||a<0||NumberIsNaN(a))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+a+".");return this._maxListeners=a,this};function _getMaxListeners(e){return e._maxListeners===void 0?EventEmitter$1.defaultMaxListeners:e._maxListeners}EventEmitter$1.prototype.getMaxListeners=function(){return _getMaxListeners(this)};EventEmitter$1.prototype.emit=function(a){for(var c=[],d=1;d<arguments.length;d++)c.push(arguments[d]);var b=a==="error",h=this._events;if(h!==void 0)b=b&&h.error===void 0;else if(!b)return!1;if(b){var _;if(c.length>0&&(_=c[0]),_ instanceof Error)throw _;var j=new Error("Unhandled error."+(_?" ("+_.message+")":""));throw j.context=_,j}var _e=h[a];if(_e===void 0)return!1;if(typeof _e=="function")ReflectApply(_e,this,c);else for(var et=_e.length,$=arrayClone(_e,et),d=0;d<et;++d)ReflectApply($[d],this,c);return!0};function _addListener(e,a,c,d){var b,h,_;if(checkListener(c),h=e._events,h===void 0?(h=e._events=Object.create(null),e._eventsCount=0):(h.newListener!==void 0&&(e.emit("newListener",a,c.listener?c.listener:c),h=e._events),_=h[a]),_===void 0)_=h[a]=c,++e._eventsCount;else if(typeof _=="function"?_=h[a]=d?[c,_]:[_,c]:d?_.unshift(c):_.push(c),b=_getMaxListeners(e),b>0&&_.length>b&&!_.warned){_.warned=!0;var j=new Error("Possible EventEmitter memory leak detected. "+_.length+" "+String(a)+" listeners added. Use emitter.setMaxListeners() to increase limit");j.name="MaxListenersExceededWarning",j.emitter=e,j.type=a,j.count=_.length,ProcessEmitWarning(j)}return e}EventEmitter$1.prototype.addListener=function(a,c){return _addListener(this,a,c,!1)};EventEmitter$1.prototype.on=EventEmitter$1.prototype.addListener;EventEmitter$1.prototype.prependListener=function(a,c){return _addListener(this,a,c,!0)};function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(e,a,c){var d={fired:!1,wrapFn:void 0,target:e,type:a,listener:c},b=onceWrapper.bind(d);return b.listener=c,d.wrapFn=b,b}EventEmitter$1.prototype.once=function(a,c){return checkListener(c),this.on(a,_onceWrap(this,a,c)),this};EventEmitter$1.prototype.prependOnceListener=function(a,c){return checkListener(c),this.prependListener(a,_onceWrap(this,a,c)),this};EventEmitter$1.prototype.removeListener=function(a,c){var d,b,h,_,j;if(checkListener(c),b=this._events,b===void 0)return this;if(d=b[a],d===void 0)return this;if(d===c||d.listener===c)--this._eventsCount===0?this._events=Object.create(null):(delete b[a],b.removeListener&&this.emit("removeListener",a,d.listener||c));else if(typeof d!="function"){for(h=-1,_=d.length-1;_>=0;_--)if(d[_]===c||d[_].listener===c){j=d[_].listener,h=_;break}if(h<0)return this;h===0?d.shift():spliceOne(d,h),d.length===1&&(b[a]=d[0]),b.removeListener!==void 0&&this.emit("removeListener",a,j||c)}return this};EventEmitter$1.prototype.off=EventEmitter$1.prototype.removeListener;EventEmitter$1.prototype.removeAllListeners=function(a){var c,d,b;if(d=this._events,d===void 0)return this;if(d.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):d[a]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete d[a]),this;if(arguments.length===0){var h=Object.keys(d),_;for(b=0;b<h.length;++b)_=h[b],_!=="removeListener"&&this.removeAllListeners(_);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(c=d[a],typeof c=="function")this.removeListener(a,c);else if(c!==void 0)for(b=c.length-1;b>=0;b--)this.removeListener(a,c[b]);return this};function _listeners(e,a,c){var d=e._events;if(d===void 0)return[];var b=d[a];return b===void 0?[]:typeof b=="function"?c?[b.listener||b]:[b]:c?unwrapListeners(b):arrayClone(b,b.length)}EventEmitter$1.prototype.listeners=function(a){return _listeners(this,a,!0)};EventEmitter$1.prototype.rawListeners=function(a){return _listeners(this,a,!1)};EventEmitter$1.listenerCount=function(e,a){return typeof e.listenerCount=="function"?e.listenerCount(a):listenerCount.call(e,a)};EventEmitter$1.prototype.listenerCount=listenerCount;function listenerCount(e){var a=this._events;if(a!==void 0){var c=a[e];if(typeof c=="function")return 1;if(c!==void 0)return c.length}return 0}EventEmitter$1.prototype.eventNames=function(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};function arrayClone(e,a){for(var c=new Array(a),d=0;d<a;++d)c[d]=e[d];return c}function spliceOne(e,a){for(;a+1<e.length;a++)e[a]=e[a+1];e.pop()}function unwrapListeners(e){for(var a=new Array(e.length),c=0;c<a.length;++c)a[c]=e[c].listener||e[c];return a}function once(e,a){return new Promise(function(c,d){function b(_){e.removeListener(a,h),d(_)}function h(){typeof e.removeListener=="function"&&e.removeListener("error",b),c([].slice.call(arguments))}eventTargetAgnosticAddListener(e,a,h,{once:!0}),a!=="error"&&addErrorHandlerIfEventEmitter(e,b,{once:!0})})}function addErrorHandlerIfEventEmitter(e,a,c){typeof e.on=="function"&&eventTargetAgnosticAddListener(e,"error",a,c)}function eventTargetAgnosticAddListener(e,a,c,d){if(typeof e.on=="function")d.once?e.once(a,c):e.on(a,c);else if(typeof e.addEventListener=="function")e.addEventListener(a,function b(h){d.once&&e.removeEventListener(a,b),c(h)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var eventsExports=events.exports,streamBrowser$2,hasRequiredStreamBrowser$2;function requireStreamBrowser$2(){return hasRequiredStreamBrowser$2||(hasRequiredStreamBrowser$2=1,streamBrowser$2=eventsExports.EventEmitter),streamBrowser$2}var safeBuffer$1={exports:{}},hasRequiredSafeBuffer$1;function requireSafeBuffer$1(){return hasRequiredSafeBuffer$1||(hasRequiredSafeBuffer$1=1,function(e,a){var c=require$$0$1,d=c.Buffer;function b(_,j){for(var _e in _)j[_e]=_[_e]}d.from&&d.alloc&&d.allocUnsafe&&d.allocUnsafeSlow?e.exports=c:(b(c,a),a.Buffer=h);function h(_,j,_e){return d(_,j,_e)}b(d,h),h.from=function(_,j,_e){if(typeof _=="number")throw new TypeError("Argument must not be a number");return d(_,j,_e)},h.alloc=function(_,j,_e){if(typeof _!="number")throw new TypeError("Argument must be a number");var et=d(_);return j!==void 0?typeof _e=="string"?et.fill(j,_e):et.fill(j):et.fill(0),et},h.allocUnsafe=function(_){if(typeof _!="number")throw new TypeError("Argument must be a number");return d(_)},h.allocUnsafeSlow=function(_){if(typeof _!="number")throw new TypeError("Argument must be a number");return c.SlowBuffer(_)}}(safeBuffer$1,safeBuffer$1.exports)),safeBuffer$1.exports}var util$2={},hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util$2;hasRequiredUtil=1;function e(ut){return Array.isArray?Array.isArray(ut):at(ut)==="[object Array]"}util$2.isArray=e;function a(ut){return typeof ut=="boolean"}util$2.isBoolean=a;function c(ut){return ut===null}util$2.isNull=c;function d(ut){return ut==null}util$2.isNullOrUndefined=d;function b(ut){return typeof ut=="number"}util$2.isNumber=b;function h(ut){return typeof ut=="string"}util$2.isString=h;function _(ut){return typeof ut=="symbol"}util$2.isSymbol=_;function j(ut){return ut===void 0}util$2.isUndefined=j;function _e(ut){return at(ut)==="[object RegExp]"}util$2.isRegExp=_e;function et(ut){return typeof ut=="object"&&ut!==null}util$2.isObject=et;function $(ut){return at(ut)==="[object Date]"}util$2.isDate=$;function rt(ut){return at(ut)==="[object Error]"||ut instanceof Error}util$2.isError=rt;function nt(ut){return typeof ut=="function"}util$2.isFunction=nt;function st(ut){return ut===null||typeof ut=="boolean"||typeof ut=="number"||typeof ut=="string"||typeof ut=="symbol"||typeof ut>"u"}util$2.isPrimitive=st,util$2.isBuffer=require$$0$1.Buffer.isBuffer;function at(ut){return Object.prototype.toString.call(ut)}return util$2}var util$1={},types$1={},hasToStringTag$2=shams(),callBound$3=callBound$5,$toString$1=callBound$3("Object.prototype.toString"),isStandardArguments=function(a){return hasToStringTag$2&&a&&typeof a=="object"&&Symbol.toStringTag in a?!1:$toString$1(a)==="[object Arguments]"},isLegacyArguments=function(a){return isStandardArguments(a)?!0:a!==null&&typeof a=="object"&&"length"in a&&typeof a.length=="number"&&a.length>=0&&$toString$1(a)!=="[object Array]"&&"callee"in a&&$toString$1(a.callee)==="[object Function]"},supportsStandardArguments=function(){return isStandardArguments(arguments)}();isStandardArguments.isLegacyArguments=isLegacyArguments;var isArguments=supportsStandardArguments?isStandardArguments:isLegacyArguments,callBound$2=callBound$5,hasToStringTag$1=shams(),hasOwn$1=requireHasown(),gOPD$1=gopd$1,fn;if(hasToStringTag$1){var $exec$1=callBound$2("RegExp.prototype.exec"),isRegexMarker={},throwRegexMarker=function(){throw isRegexMarker},badStringifier={toString:throwRegexMarker,valueOf:throwRegexMarker};typeof Symbol.toPrimitive=="symbol"&&(badStringifier[Symbol.toPrimitive]=throwRegexMarker),fn=function(a){if(!a||typeof a!="object")return!1;var c=gOPD$1(a,"lastIndex"),d=c&&hasOwn$1(c,"value");if(!d)return!1;try{$exec$1(a,badStringifier)}catch(b){return b===isRegexMarker}}}else{var $toString=callBound$2("Object.prototype.toString"),regexClass="[object RegExp]";fn=function(a){return!a||typeof a!="object"&&typeof a!="function"?!1:$toString(a)===regexClass}}var isRegex$2=fn,callBound$1=callBound$5,isRegex$1=isRegex$2,$exec=callBound$1("RegExp.prototype.exec"),$TypeError=type,safeRegexTest$1=function(a){if(!isRegex$1(a))throw new $TypeError("`regex` must be a RegExp");return function(d){return $exec(a,d)!==null}},generatorFunction,hasRequiredGeneratorFunction;function requireGeneratorFunction(){if(hasRequiredGeneratorFunction)return generatorFunction;hasRequiredGeneratorFunction=1;const e=(function*(){}).constructor;return generatorFunction=()=>e,generatorFunction}var callBound=callBound$5,safeRegexTest=safeRegexTest$1,isFnRegex=safeRegexTest(/^\s*(?:function)?\*/),hasToStringTag=shams(),getProto=getProto$3,toStr$1=callBound("Object.prototype.toString"),fnToStr=callBound("Function.prototype.toString"),getGeneratorFunction=requireGeneratorFunction(),isGeneratorFunction=function(a){if(typeof a!="function")return!1;if(isFnRegex(fnToStr(a)))return!0;if(!hasToStringTag){var c=toStr$1(a);return c==="[object GeneratorFunction]"}if(!getProto)return!1;var d=getGeneratorFunction();return d&&getProto(a)===d.prototype};(function(e){var a=isArguments,c=isGeneratorFunction,d=whichTypedArray$1,b=isTypedArray;function h(sr){return sr.call.bind(sr)}var _=typeof BigInt<"u",j=typeof Symbol<"u",_e=h(Object.prototype.toString),et=h(Number.prototype.valueOf),$=h(String.prototype.valueOf),rt=h(Boolean.prototype.valueOf);if(_)var nt=h(BigInt.prototype.valueOf);if(j)var st=h(Symbol.prototype.valueOf);function at(sr,Zt){if(typeof sr!="object")return!1;try{return Zt(sr),!0}catch{return!1}}e.isArgumentsObject=a,e.isGeneratorFunction=c,e.isTypedArray=b;function ut(sr){return typeof Promise<"u"&&sr instanceof Promise||sr!==null&&typeof sr=="object"&&typeof sr.then=="function"&&typeof sr.catch=="function"}e.isPromise=ut;function wt(sr){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(sr):b(sr)||yt(sr)}e.isArrayBufferView=wt;function pt(sr){return d(sr)==="Uint8Array"}e.isUint8Array=pt;function xt(sr){return d(sr)==="Uint8ClampedArray"}e.isUint8ClampedArray=xt;function St(sr){return d(sr)==="Uint16Array"}e.isUint16Array=St;function Nt(sr){return d(sr)==="Uint32Array"}e.isUint32Array=Nt;function At(sr){return d(sr)==="Int8Array"}e.isInt8Array=At;function Ct(sr){return d(sr)==="Int16Array"}e.isInt16Array=Ct;function Vt(sr){return d(sr)==="Int32Array"}e.isInt32Array=Vt;function Bt(sr){return d(sr)==="Float32Array"}e.isFloat32Array=Bt;function Ut(sr){return d(sr)==="Float64Array"}e.isFloat64Array=Ut;function Ft(sr){return d(sr)==="BigInt64Array"}e.isBigInt64Array=Ft;function Mt(sr){return d(sr)==="BigUint64Array"}e.isBigUint64Array=Mt;function mt(sr){return _e(sr)==="[object Map]"}mt.working=typeof Map<"u"&&mt(new Map);function ft(sr){return typeof Map>"u"?!1:mt.working?mt(sr):sr instanceof Map}e.isMap=ft;function tt(sr){return _e(sr)==="[object Set]"}tt.working=typeof Set<"u"&&tt(new Set);function it(sr){return typeof Set>"u"?!1:tt.working?tt(sr):sr instanceof Set}e.isSet=it;function ht(sr){return _e(sr)==="[object WeakMap]"}ht.working=typeof WeakMap<"u"&&ht(new WeakMap);function dt(sr){return typeof WeakMap>"u"?!1:ht.working?ht(sr):sr instanceof WeakMap}e.isWeakMap=dt;function lt(sr){return _e(sr)==="[object WeakSet]"}lt.working=typeof WeakSet<"u"&&lt(new WeakSet);function gt(sr){return lt(sr)}e.isWeakSet=gt;function ot(sr){return _e(sr)==="[object ArrayBuffer]"}ot.working=typeof ArrayBuffer<"u"&&ot(new ArrayBuffer);function vt(sr){return typeof ArrayBuffer>"u"?!1:ot.working?ot(sr):sr instanceof ArrayBuffer}e.isArrayBuffer=vt;function ct(sr){return _e(sr)==="[object DataView]"}ct.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&ct(new DataView(new ArrayBuffer(1),0,1));function yt(sr){return typeof DataView>"u"?!1:ct.working?ct(sr):sr instanceof DataView}e.isDataView=yt;var Dt=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function Ht(sr){return _e(sr)==="[object SharedArrayBuffer]"}function qt(sr){return typeof Dt>"u"?!1:(typeof Ht.working>"u"&&(Ht.working=Ht(new Dt)),Ht.working?Ht(sr):sr instanceof Dt)}e.isSharedArrayBuffer=qt;function _t(sr){return _e(sr)==="[object AsyncFunction]"}e.isAsyncFunction=_t;function kt(sr){return _e(sr)==="[object Map Iterator]"}e.isMapIterator=kt;function Lt(sr){return _e(sr)==="[object Set Iterator]"}e.isSetIterator=Lt;function Kt(sr){return _e(sr)==="[object Generator]"}e.isGeneratorObject=Kt;function $t(sr){return _e(sr)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=$t;function It(sr){return at(sr,et)}e.isNumberObject=It;function Xt(sr){return at(sr,$)}e.isStringObject=Xt;function cr(sr){return at(sr,rt)}e.isBooleanObject=cr;function fr(sr){return _&&at(sr,nt)}e.isBigIntObject=fr;function hr(sr){return j&&at(sr,st)}e.isSymbolObject=hr;function yr(sr){return It(sr)||Xt(sr)||cr(sr)||fr(sr)||hr(sr)}e.isBoxedPrimitive=yr;function Sr(sr){return typeof Uint8Array<"u"&&(vt(sr)||qt(sr))}e.isAnyArrayBuffer=Sr,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(sr){Object.defineProperty(e,sr,{enumerable:!1,value:function(){throw new Error(sr+" is not supported in userland")}})})})(types$1);var isBufferBrowser=function(a){return a&&typeof a=="object"&&typeof a.copy=="function"&&typeof a.fill=="function"&&typeof a.readUInt8=="function"};(function(e){var a={},c=Object.getOwnPropertyDescriptors||function(Dt){for(var Ht=Object.keys(Dt),qt={},_t=0;_t<Ht.length;_t++)qt[Ht[_t]]=Object.getOwnPropertyDescriptor(Dt,Ht[_t]);return qt},d=/%[sdj%]/g;e.format=function(yt){if(!Ct(yt)){for(var Dt=[],Ht=0;Ht<arguments.length;Ht++)Dt.push(j(arguments[Ht]));return Dt.join(" ")}for(var Ht=1,qt=arguments,_t=qt.length,kt=String(yt).replace(d,function(Kt){if(Kt==="%%")return"%";if(Ht>=_t)return Kt;switch(Kt){case"%s":return String(qt[Ht++]);case"%d":return Number(qt[Ht++]);case"%j":try{return JSON.stringify(qt[Ht++])}catch{return"[Circular]"}default:return Kt}}),Lt=qt[Ht];Ht<_t;Lt=qt[++Ht])St(Lt)||!Ft(Lt)?kt+=" "+Lt:kt+=" "+j(Lt);return kt},e.deprecate=function(yt,Dt){if(typeof process$1<"u"&&process$1.noDeprecation===!0)return yt;if(typeof process$1>"u")return function(){return e.deprecate(yt,Dt).apply(this,arguments)};var Ht=!1;function qt(){if(!Ht){if(process$1.throwDeprecation)throw new Error(Dt);process$1.traceDeprecation?console.trace(Dt):console.error(Dt),Ht=!0}return yt.apply(this,arguments)}return qt};var b={},h=/^$/;if(a.NODE_DEBUG){var _=a.NODE_DEBUG;_=_.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),h=new RegExp("^"+_+"$","i")}e.debuglog=function(yt){if(yt=yt.toUpperCase(),!b[yt])if(h.test(yt)){var Dt=process$1.pid;b[yt]=function(){var Ht=e.format.apply(e,arguments);console.error("%s %d: %s",yt,Dt,Ht)}}else b[yt]=function(){};return b[yt]};function j(yt,Dt){var Ht={seen:[],stylize:et};return arguments.length>=3&&(Ht.depth=arguments[2]),arguments.length>=4&&(Ht.colors=arguments[3]),xt(Dt)?Ht.showHidden=Dt:Dt&&e._extend(Ht,Dt),Bt(Ht.showHidden)&&(Ht.showHidden=!1),Bt(Ht.depth)&&(Ht.depth=2),Bt(Ht.colors)&&(Ht.colors=!1),Bt(Ht.customInspect)&&(Ht.customInspect=!0),Ht.colors&&(Ht.stylize=_e),rt(Ht,yt,Ht.depth)}e.inspect=j,j.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},j.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function _e(yt,Dt){var Ht=j.styles[Dt];return Ht?"\x1B["+j.colors[Ht][0]+"m"+yt+"\x1B["+j.colors[Ht][1]+"m":yt}function et(yt,Dt){return yt}function $(yt){var Dt={};return yt.forEach(function(Ht,qt){Dt[Ht]=!0}),Dt}function rt(yt,Dt,Ht){if(yt.customInspect&&Dt&&ft(Dt.inspect)&&Dt.inspect!==e.inspect&&!(Dt.constructor&&Dt.constructor.prototype===Dt)){var qt=Dt.inspect(Ht,yt);return Ct(qt)||(qt=rt(yt,qt,Ht)),qt}var _t=nt(yt,Dt);if(_t)return _t;var kt=Object.keys(Dt),Lt=$(kt);if(yt.showHidden&&(kt=Object.getOwnPropertyNames(Dt)),mt(Dt)&&(kt.indexOf("message")>=0||kt.indexOf("description")>=0))return st(Dt);if(kt.length===0){if(ft(Dt)){var Kt=Dt.name?": "+Dt.name:"";return yt.stylize("[Function"+Kt+"]","special")}if(Ut(Dt))return yt.stylize(RegExp.prototype.toString.call(Dt),"regexp");if(Mt(Dt))return yt.stylize(Date.prototype.toString.call(Dt),"date");if(mt(Dt))return st(Dt)}var $t="",It=!1,Xt=["{","}"];if(pt(Dt)&&(It=!0,Xt=["[","]"]),ft(Dt)){var cr=Dt.name?": "+Dt.name:"";$t=" [Function"+cr+"]"}if(Ut(Dt)&&($t=" "+RegExp.prototype.toString.call(Dt)),Mt(Dt)&&($t=" "+Date.prototype.toUTCString.call(Dt)),mt(Dt)&&($t=" "+st(Dt)),kt.length===0&&(!It||Dt.length==0))return Xt[0]+$t+Xt[1];if(Ht<0)return Ut(Dt)?yt.stylize(RegExp.prototype.toString.call(Dt),"regexp"):yt.stylize("[Object]","special");yt.seen.push(Dt);var fr;return It?fr=at(yt,Dt,Ht,Lt,kt):fr=kt.map(function(hr){return ut(yt,Dt,Ht,Lt,hr,It)}),yt.seen.pop(),wt(fr,$t,Xt)}function nt(yt,Dt){if(Bt(Dt))return yt.stylize("undefined","undefined");if(Ct(Dt)){var Ht="'"+JSON.stringify(Dt).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return yt.stylize(Ht,"string")}if(At(Dt))return yt.stylize(""+Dt,"number");if(xt(Dt))return yt.stylize(""+Dt,"boolean");if(St(Dt))return yt.stylize("null","null")}function st(yt){return"["+Error.prototype.toString.call(yt)+"]"}function at(yt,Dt,Ht,qt,_t){for(var kt=[],Lt=0,Kt=Dt.length;Lt<Kt;++Lt)gt(Dt,String(Lt))?kt.push(ut(yt,Dt,Ht,qt,String(Lt),!0)):kt.push("");return _t.forEach(function($t){$t.match(/^\d+$/)||kt.push(ut(yt,Dt,Ht,qt,$t,!0))}),kt}function ut(yt,Dt,Ht,qt,_t,kt){var Lt,Kt,$t;if($t=Object.getOwnPropertyDescriptor(Dt,_t)||{value:Dt[_t]},$t.get?$t.set?Kt=yt.stylize("[Getter/Setter]","special"):Kt=yt.stylize("[Getter]","special"):$t.set&&(Kt=yt.stylize("[Setter]","special")),gt(qt,_t)||(Lt="["+_t+"]"),Kt||(yt.seen.indexOf($t.value)<0?(St(Ht)?Kt=rt(yt,$t.value,null):Kt=rt(yt,$t.value,Ht-1),Kt.indexOf(`
`)>-1&&(kt?Kt=Kt.split(`
`).map(function(It){return"  "+It}).join(`
`).slice(2):Kt=`
`+Kt.split(`
`).map(function(It){return"   "+It}).join(`
`))):Kt=yt.stylize("[Circular]","special")),Bt(Lt)){if(kt&&_t.match(/^\d+$/))return Kt;Lt=JSON.stringify(""+_t),Lt.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Lt=Lt.slice(1,-1),Lt=yt.stylize(Lt,"name")):(Lt=Lt.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Lt=yt.stylize(Lt,"string"))}return Lt+": "+Kt}function wt(yt,Dt,Ht){var qt=yt.reduce(function(_t,kt){return kt.indexOf(`
`)>=0,_t+kt.replace(/\u001b\[\d\d?m/g,"").length+1},0);return qt>60?Ht[0]+(Dt===""?"":Dt+`
 `)+" "+yt.join(`,
  `)+" "+Ht[1]:Ht[0]+Dt+" "+yt.join(", ")+" "+Ht[1]}e.types=types$1;function pt(yt){return Array.isArray(yt)}e.isArray=pt;function xt(yt){return typeof yt=="boolean"}e.isBoolean=xt;function St(yt){return yt===null}e.isNull=St;function Nt(yt){return yt==null}e.isNullOrUndefined=Nt;function At(yt){return typeof yt=="number"}e.isNumber=At;function Ct(yt){return typeof yt=="string"}e.isString=Ct;function Vt(yt){return typeof yt=="symbol"}e.isSymbol=Vt;function Bt(yt){return yt===void 0}e.isUndefined=Bt;function Ut(yt){return Ft(yt)&&it(yt)==="[object RegExp]"}e.isRegExp=Ut,e.types.isRegExp=Ut;function Ft(yt){return typeof yt=="object"&&yt!==null}e.isObject=Ft;function Mt(yt){return Ft(yt)&&it(yt)==="[object Date]"}e.isDate=Mt,e.types.isDate=Mt;function mt(yt){return Ft(yt)&&(it(yt)==="[object Error]"||yt instanceof Error)}e.isError=mt,e.types.isNativeError=mt;function ft(yt){return typeof yt=="function"}e.isFunction=ft;function tt(yt){return yt===null||typeof yt=="boolean"||typeof yt=="number"||typeof yt=="string"||typeof yt=="symbol"||typeof yt>"u"}e.isPrimitive=tt,e.isBuffer=isBufferBrowser;function it(yt){return Object.prototype.toString.call(yt)}function ht(yt){return yt<10?"0"+yt.toString(10):yt.toString(10)}var dt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function lt(){var yt=new Date,Dt=[ht(yt.getHours()),ht(yt.getMinutes()),ht(yt.getSeconds())].join(":");return[yt.getDate(),dt[yt.getMonth()],Dt].join(" ")}e.log=function(){console.log("%s - %s",lt(),e.format.apply(e,arguments))},e.inherits=inherits_browserExports,e._extend=function(yt,Dt){if(!Dt||!Ft(Dt))return yt;for(var Ht=Object.keys(Dt),qt=Ht.length;qt--;)yt[Ht[qt]]=Dt[Ht[qt]];return yt};function gt(yt,Dt){return Object.prototype.hasOwnProperty.call(yt,Dt)}var ot=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(Dt){if(typeof Dt!="function")throw new TypeError('The "original" argument must be of type Function');if(ot&&Dt[ot]){var Ht=Dt[ot];if(typeof Ht!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Ht,ot,{value:Ht,enumerable:!1,writable:!1,configurable:!0}),Ht}function Ht(){for(var qt,_t,kt=new Promise(function($t,It){qt=$t,_t=It}),Lt=[],Kt=0;Kt<arguments.length;Kt++)Lt.push(arguments[Kt]);Lt.push(function($t,It){$t?_t($t):qt(It)});try{Dt.apply(this,Lt)}catch($t){_t($t)}return kt}return Object.setPrototypeOf(Ht,Object.getPrototypeOf(Dt)),ot&&Object.defineProperty(Ht,ot,{value:Ht,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Ht,c(Dt))},e.promisify.custom=ot;function vt(yt,Dt){if(!yt){var Ht=new Error("Promise was rejected with a falsy value");Ht.reason=yt,yt=Ht}return Dt(yt)}function ct(yt){if(typeof yt!="function")throw new TypeError('The "original" argument must be of type Function');function Dt(){for(var Ht=[],qt=0;qt<arguments.length;qt++)Ht.push(arguments[qt]);var _t=Ht.pop();if(typeof _t!="function")throw new TypeError("The last argument must be of type Function");var kt=this,Lt=function(){return _t.apply(kt,arguments)};yt.apply(this,Ht).then(function(Kt){process$1.nextTick(Lt.bind(null,null,Kt))},function(Kt){process$1.nextTick(vt.bind(null,Kt,Lt))})}return Object.setPrototypeOf(Dt,Object.getPrototypeOf(yt)),Object.defineProperties(Dt,c(yt)),Dt}e.callbackify=ct})(util$1);var BufferList$1={exports:{}},hasRequiredBufferList$1;function requireBufferList$1(){return hasRequiredBufferList$1||(hasRequiredBufferList$1=1,function(e){function a(h,_){if(!(h instanceof _))throw new TypeError("Cannot call a class as a function")}var c=requireSafeBuffer$1().Buffer,d=util$1;function b(h,_,j){h.copy(_,j)}e.exports=function(){function h(){a(this,h),this.head=null,this.tail=null,this.length=0}return h.prototype.push=function(j){var _e={data:j,next:null};this.length>0?this.tail.next=_e:this.head=_e,this.tail=_e,++this.length},h.prototype.unshift=function(j){var _e={data:j,next:this.head};this.length===0&&(this.tail=_e),this.head=_e,++this.length},h.prototype.shift=function(){if(this.length!==0){var j=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,j}},h.prototype.clear=function(){this.head=this.tail=null,this.length=0},h.prototype.join=function(j){if(this.length===0)return"";for(var _e=this.head,et=""+_e.data;_e=_e.next;)et+=j+_e.data;return et},h.prototype.concat=function(j){if(this.length===0)return c.alloc(0);for(var _e=c.allocUnsafe(j>>>0),et=this.head,$=0;et;)b(et.data,_e,$),$+=et.data.length,et=et.next;return _e},h}(),d&&d.inspect&&d.inspect.custom&&(e.exports.prototype[d.inspect.custom]=function(){var h=d.inspect({length:this.length});return this.constructor.name+" "+h})}(BufferList$1)),BufferList$1.exports}var destroy_1$2,hasRequiredDestroy$2;function requireDestroy$2(){if(hasRequiredDestroy$2)return destroy_1$2;hasRequiredDestroy$2=1;var e=requireProcessNextickArgs();function a(b,h){var _=this,j=this._readableState&&this._readableState.destroyed,_e=this._writableState&&this._writableState.destroyed;return j||_e?(h?h(b):b&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(d,this,b)):e.nextTick(d,this,b)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(b||null,function(et){!h&&et?_._writableState?_._writableState.errorEmitted||(_._writableState.errorEmitted=!0,e.nextTick(d,_,et)):e.nextTick(d,_,et):h&&h(et)}),this)}function c(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function d(b,h){b.emit("error",h)}return destroy_1$2={destroy:a,undestroy:c},destroy_1$2}var browser$a,hasRequiredBrowser$a;function requireBrowser$a(){if(hasRequiredBrowser$a)return browser$a;hasRequiredBrowser$a=1,browser$a=e;function e(c,d){if(a("noDeprecation"))return c;var b=!1;function h(){if(!b){if(a("throwDeprecation"))throw new Error(d);a("traceDeprecation")?console.trace(d):console.warn(d),b=!0}return c.apply(this,arguments)}return h}function a(c){try{if(!commonjsGlobal.localStorage)return!1}catch{return!1}var d=commonjsGlobal.localStorage[c];return d==null?!1:String(d).toLowerCase()==="true"}return browser$a}var _stream_writable$2,hasRequired_stream_writable$2;function require_stream_writable$2(){if(hasRequired_stream_writable$2)return _stream_writable$2;hasRequired_stream_writable$2=1;var e=requireProcessNextickArgs();_stream_writable$2=ut;function a(dt){var lt=this;this.next=null,this.entry=null,this.finish=function(){ht(lt,dt)}}var c=!process$1.browser&&["v0.10","v0.9."].indexOf(process$1.version.slice(0,5))>-1?setImmediate:e.nextTick,d;ut.WritableState=st;var b=Object.create(requireUtil());b.inherits=inherits_browserExports;var h={deprecate:requireBrowser$a()},_=requireStreamBrowser$2(),j=requireSafeBuffer$1().Buffer,_e=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function et(dt){return j.from(dt)}function $(dt){return j.isBuffer(dt)||dt instanceof _e}var rt=requireDestroy$2();b.inherits(ut,_);function nt(){}function st(dt,lt){d=d||require_stream_duplex$2(),dt=dt||{};var gt=lt instanceof d;this.objectMode=!!dt.objectMode,gt&&(this.objectMode=this.objectMode||!!dt.writableObjectMode);var ot=dt.highWaterMark,vt=dt.writableHighWaterMark,ct=this.objectMode?16:16*1024;ot||ot===0?this.highWaterMark=ot:gt&&(vt||vt===0)?this.highWaterMark=vt:this.highWaterMark=ct,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var yt=dt.decodeStrings===!1;this.decodeStrings=!yt,this.defaultEncoding=dt.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Dt){Vt(lt,Dt)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}st.prototype.getBuffer=function(){for(var lt=this.bufferedRequest,gt=[];lt;)gt.push(lt),lt=lt.next;return gt},function(){try{Object.defineProperty(st.prototype,"buffer",{get:h.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var at;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(at=Function.prototype[Symbol.hasInstance],Object.defineProperty(ut,Symbol.hasInstance,{value:function(dt){return at.call(this,dt)?!0:this!==ut?!1:dt&&dt._writableState instanceof st}})):at=function(dt){return dt instanceof this};function ut(dt){if(d=d||require_stream_duplex$2(),!at.call(ut,this)&&!(this instanceof d))return new ut(dt);this._writableState=new st(dt,this),this.writable=!0,dt&&(typeof dt.write=="function"&&(this._write=dt.write),typeof dt.writev=="function"&&(this._writev=dt.writev),typeof dt.destroy=="function"&&(this._destroy=dt.destroy),typeof dt.final=="function"&&(this._final=dt.final)),_.call(this)}ut.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function wt(dt,lt){var gt=new Error("write after end");dt.emit("error",gt),e.nextTick(lt,gt)}function pt(dt,lt,gt,ot){var vt=!0,ct=!1;return gt===null?ct=new TypeError("May not write null values to stream"):typeof gt!="string"&&gt!==void 0&&!lt.objectMode&&(ct=new TypeError("Invalid non-string/buffer chunk")),ct&&(dt.emit("error",ct),e.nextTick(ot,ct),vt=!1),vt}ut.prototype.write=function(dt,lt,gt){var ot=this._writableState,vt=!1,ct=!ot.objectMode&&$(dt);return ct&&!j.isBuffer(dt)&&(dt=et(dt)),typeof lt=="function"&&(gt=lt,lt=null),ct?lt="buffer":lt||(lt=ot.defaultEncoding),typeof gt!="function"&&(gt=nt),ot.ended?wt(this,gt):(ct||pt(this,ot,dt,gt))&&(ot.pendingcb++,vt=St(this,ot,ct,dt,lt,gt)),vt},ut.prototype.cork=function(){var dt=this._writableState;dt.corked++},ut.prototype.uncork=function(){var dt=this._writableState;dt.corked&&(dt.corked--,!dt.writing&&!dt.corked&&!dt.bufferProcessing&&dt.bufferedRequest&&Ft(this,dt))},ut.prototype.setDefaultEncoding=function(lt){if(typeof lt=="string"&&(lt=lt.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((lt+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+lt);return this._writableState.defaultEncoding=lt,this};function xt(dt,lt,gt){return!dt.objectMode&&dt.decodeStrings!==!1&&typeof lt=="string"&&(lt=j.from(lt,gt)),lt}Object.defineProperty(ut.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function St(dt,lt,gt,ot,vt,ct){if(!gt){var yt=xt(lt,ot,vt);ot!==yt&&(gt=!0,vt="buffer",ot=yt)}var Dt=lt.objectMode?1:ot.length;lt.length+=Dt;var Ht=lt.length<lt.highWaterMark;if(Ht||(lt.needDrain=!0),lt.writing||lt.corked){var qt=lt.lastBufferedRequest;lt.lastBufferedRequest={chunk:ot,encoding:vt,isBuf:gt,callback:ct,next:null},qt?qt.next=lt.lastBufferedRequest:lt.bufferedRequest=lt.lastBufferedRequest,lt.bufferedRequestCount+=1}else Nt(dt,lt,!1,Dt,ot,vt,ct);return Ht}function Nt(dt,lt,gt,ot,vt,ct,yt){lt.writelen=ot,lt.writecb=yt,lt.writing=!0,lt.sync=!0,gt?dt._writev(vt,lt.onwrite):dt._write(vt,ct,lt.onwrite),lt.sync=!1}function At(dt,lt,gt,ot,vt){--lt.pendingcb,gt?(e.nextTick(vt,ot),e.nextTick(tt,dt,lt),dt._writableState.errorEmitted=!0,dt.emit("error",ot)):(vt(ot),dt._writableState.errorEmitted=!0,dt.emit("error",ot),tt(dt,lt))}function Ct(dt){dt.writing=!1,dt.writecb=null,dt.length-=dt.writelen,dt.writelen=0}function Vt(dt,lt){var gt=dt._writableState,ot=gt.sync,vt=gt.writecb;if(Ct(gt),lt)At(dt,gt,ot,lt,vt);else{var ct=Mt(gt);!ct&&!gt.corked&&!gt.bufferProcessing&&gt.bufferedRequest&&Ft(dt,gt),ot?c(Bt,dt,gt,ct,vt):Bt(dt,gt,ct,vt)}}function Bt(dt,lt,gt,ot){gt||Ut(dt,lt),lt.pendingcb--,ot(),tt(dt,lt)}function Ut(dt,lt){lt.length===0&&lt.needDrain&&(lt.needDrain=!1,dt.emit("drain"))}function Ft(dt,lt){lt.bufferProcessing=!0;var gt=lt.bufferedRequest;if(dt._writev&&gt&&gt.next){var ot=lt.bufferedRequestCount,vt=new Array(ot),ct=lt.corkedRequestsFree;ct.entry=gt;for(var yt=0,Dt=!0;gt;)vt[yt]=gt,gt.isBuf||(Dt=!1),gt=gt.next,yt+=1;vt.allBuffers=Dt,Nt(dt,lt,!0,lt.length,vt,"",ct.finish),lt.pendingcb++,lt.lastBufferedRequest=null,ct.next?(lt.corkedRequestsFree=ct.next,ct.next=null):lt.corkedRequestsFree=new a(lt),lt.bufferedRequestCount=0}else{for(;gt;){var Ht=gt.chunk,qt=gt.encoding,_t=gt.callback,kt=lt.objectMode?1:Ht.length;if(Nt(dt,lt,!1,kt,Ht,qt,_t),gt=gt.next,lt.bufferedRequestCount--,lt.writing)break}gt===null&&(lt.lastBufferedRequest=null)}lt.bufferedRequest=gt,lt.bufferProcessing=!1}ut.prototype._write=function(dt,lt,gt){gt(new Error("_write() is not implemented"))},ut.prototype._writev=null,ut.prototype.end=function(dt,lt,gt){var ot=this._writableState;typeof dt=="function"?(gt=dt,dt=null,lt=null):typeof lt=="function"&&(gt=lt,lt=null),dt!=null&&this.write(dt,lt),ot.corked&&(ot.corked=1,this.uncork()),ot.ending||it(this,ot,gt)};function Mt(dt){return dt.ending&&dt.length===0&&dt.bufferedRequest===null&&!dt.finished&&!dt.writing}function mt(dt,lt){dt._final(function(gt){lt.pendingcb--,gt&&dt.emit("error",gt),lt.prefinished=!0,dt.emit("prefinish"),tt(dt,lt)})}function ft(dt,lt){!lt.prefinished&&!lt.finalCalled&&(typeof dt._final=="function"?(lt.pendingcb++,lt.finalCalled=!0,e.nextTick(mt,dt,lt)):(lt.prefinished=!0,dt.emit("prefinish")))}function tt(dt,lt){var gt=Mt(lt);return gt&&(ft(dt,lt),lt.pendingcb===0&&(lt.finished=!0,dt.emit("finish"))),gt}function it(dt,lt,gt){lt.ending=!0,tt(dt,lt),gt&&(lt.finished?e.nextTick(gt):dt.once("finish",gt)),lt.ended=!0,dt.writable=!1}function ht(dt,lt,gt){var ot=dt.entry;for(dt.entry=null;ot;){var vt=ot.callback;lt.pendingcb--,vt(gt),ot=ot.next}lt.corkedRequestsFree.next=dt}return Object.defineProperty(ut.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(dt){this._writableState&&(this._writableState.destroyed=dt)}}),ut.prototype.destroy=rt.destroy,ut.prototype._undestroy=rt.undestroy,ut.prototype._destroy=function(dt,lt){this.end(),lt(dt)},_stream_writable$2}var _stream_duplex$2,hasRequired_stream_duplex$2;function require_stream_duplex$2(){if(hasRequired_stream_duplex$2)return _stream_duplex$2;hasRequired_stream_duplex$2=1;var e=requireProcessNextickArgs(),a=Object.keys||function(rt){var nt=[];for(var st in rt)nt.push(st);return nt};_stream_duplex$2=_e;var c=Object.create(requireUtil());c.inherits=inherits_browserExports;var d=require_stream_readable$2(),b=require_stream_writable$2();c.inherits(_e,d);for(var h=a(b.prototype),_=0;_<h.length;_++){var j=h[_];_e.prototype[j]||(_e.prototype[j]=b.prototype[j])}function _e(rt){if(!(this instanceof _e))return new _e(rt);d.call(this,rt),b.call(this,rt),rt&&rt.readable===!1&&(this.readable=!1),rt&&rt.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,rt&&rt.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",et)}Object.defineProperty(_e.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function et(){this.allowHalfOpen||this._writableState.ended||e.nextTick($,this)}function $(rt){rt.end()}return Object.defineProperty(_e.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(rt){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=rt,this._writableState.destroyed=rt)}}),_e.prototype._destroy=function(rt,nt){this.push(null),this.end(),e.nextTick(nt,rt)},_stream_duplex$2}var string_decoder={},hasRequiredString_decoder;function requireString_decoder(){if(hasRequiredString_decoder)return string_decoder;hasRequiredString_decoder=1;var e=requireSafeBuffer$2().Buffer,a=e.isEncoding||function(pt){switch(pt=""+pt,pt&&pt.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function c(pt){if(!pt)return"utf8";for(var xt;;)switch(pt){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return pt;default:if(xt)return;pt=(""+pt).toLowerCase(),xt=!0}}function d(pt){var xt=c(pt);if(typeof xt!="string"&&(e.isEncoding===a||!a(pt)))throw new Error("Unknown encoding: "+pt);return xt||pt}string_decoder.StringDecoder=b;function b(pt){this.encoding=d(pt);var xt;switch(this.encoding){case"utf16le":this.text=rt,this.end=nt,xt=4;break;case"utf8":this.fillLast=_e,xt=4;break;case"base64":this.text=st,this.end=at,xt=3;break;default:this.write=ut,this.end=wt;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(xt)}b.prototype.write=function(pt){if(pt.length===0)return"";var xt,St;if(this.lastNeed){if(xt=this.fillLast(pt),xt===void 0)return"";St=this.lastNeed,this.lastNeed=0}else St=0;return St<pt.length?xt?xt+this.text(pt,St):this.text(pt,St):xt||""},b.prototype.end=$,b.prototype.text=et,b.prototype.fillLast=function(pt){if(this.lastNeed<=pt.length)return pt.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);pt.copy(this.lastChar,this.lastTotal-this.lastNeed,0,pt.length),this.lastNeed-=pt.length};function h(pt){return pt<=127?0:pt>>5===6?2:pt>>4===14?3:pt>>3===30?4:pt>>6===2?-1:-2}function _(pt,xt,St){var Nt=xt.length-1;if(Nt<St)return 0;var At=h(xt[Nt]);return At>=0?(At>0&&(pt.lastNeed=At-1),At):--Nt<St||At===-2?0:(At=h(xt[Nt]),At>=0?(At>0&&(pt.lastNeed=At-2),At):--Nt<St||At===-2?0:(At=h(xt[Nt]),At>=0?(At>0&&(At===2?At=0:pt.lastNeed=At-3),At):0))}function j(pt,xt,St){if((xt[0]&192)!==128)return pt.lastNeed=0,"";if(pt.lastNeed>1&&xt.length>1){if((xt[1]&192)!==128)return pt.lastNeed=1,"";if(pt.lastNeed>2&&xt.length>2&&(xt[2]&192)!==128)return pt.lastNeed=2,""}}function _e(pt){var xt=this.lastTotal-this.lastNeed,St=j(this,pt);if(St!==void 0)return St;if(this.lastNeed<=pt.length)return pt.copy(this.lastChar,xt,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);pt.copy(this.lastChar,xt,0,pt.length),this.lastNeed-=pt.length}function et(pt,xt){var St=_(this,pt,xt);if(!this.lastNeed)return pt.toString("utf8",xt);this.lastTotal=St;var Nt=pt.length-(St-this.lastNeed);return pt.copy(this.lastChar,0,Nt),pt.toString("utf8",xt,Nt)}function $(pt){var xt=pt&&pt.length?this.write(pt):"";return this.lastNeed?xt+"":xt}function rt(pt,xt){if((pt.length-xt)%2===0){var St=pt.toString("utf16le",xt);if(St){var Nt=St.charCodeAt(St.length-1);if(Nt>=55296&&Nt<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=pt[pt.length-2],this.lastChar[1]=pt[pt.length-1],St.slice(0,-1)}return St}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=pt[pt.length-1],pt.toString("utf16le",xt,pt.length-1)}function nt(pt){var xt=pt&&pt.length?this.write(pt):"";if(this.lastNeed){var St=this.lastTotal-this.lastNeed;return xt+this.lastChar.toString("utf16le",0,St)}return xt}function st(pt,xt){var St=(pt.length-xt)%3;return St===0?pt.toString("base64",xt):(this.lastNeed=3-St,this.lastTotal=3,St===1?this.lastChar[0]=pt[pt.length-1]:(this.lastChar[0]=pt[pt.length-2],this.lastChar[1]=pt[pt.length-1]),pt.toString("base64",xt,pt.length-St))}function at(pt){var xt=pt&&pt.length?this.write(pt):"";return this.lastNeed?xt+this.lastChar.toString("base64",0,3-this.lastNeed):xt}function ut(pt){return pt.toString(this.encoding)}function wt(pt){return pt&&pt.length?this.write(pt):""}return string_decoder}var _stream_readable$2,hasRequired_stream_readable$2;function require_stream_readable$2(){if(hasRequired_stream_readable$2)return _stream_readable$2;hasRequired_stream_readable$2=1;var e=requireProcessNextickArgs();_stream_readable$2=xt;var a=requireIsarray$1(),c;xt.ReadableState=pt,eventsExports.EventEmitter;var d=function(_t,kt){return _t.listeners(kt).length},b=requireStreamBrowser$2(),h=requireSafeBuffer$1().Buffer,_=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function j(_t){return h.from(_t)}function _e(_t){return h.isBuffer(_t)||_t instanceof _}var et=Object.create(requireUtil());et.inherits=inherits_browserExports;var $=util$1,rt=void 0;$&&$.debuglog?rt=$.debuglog("stream"):rt=function(){};var nt=requireBufferList$1(),st=requireDestroy$2(),at;et.inherits(xt,b);var ut=["error","close","destroy","pause","resume"];function wt(_t,kt,Lt){if(typeof _t.prependListener=="function")return _t.prependListener(kt,Lt);!_t._events||!_t._events[kt]?_t.on(kt,Lt):a(_t._events[kt])?_t._events[kt].unshift(Lt):_t._events[kt]=[Lt,_t._events[kt]]}function pt(_t,kt){c=c||require_stream_duplex$2(),_t=_t||{};var Lt=kt instanceof c;this.objectMode=!!_t.objectMode,Lt&&(this.objectMode=this.objectMode||!!_t.readableObjectMode);var Kt=_t.highWaterMark,$t=_t.readableHighWaterMark,It=this.objectMode?16:16*1024;Kt||Kt===0?this.highWaterMark=Kt:Lt&&($t||$t===0)?this.highWaterMark=$t:this.highWaterMark=It,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new nt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=_t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,_t.encoding&&(at||(at=requireString_decoder().StringDecoder),this.decoder=new at(_t.encoding),this.encoding=_t.encoding)}function xt(_t){if(c=c||require_stream_duplex$2(),!(this instanceof xt))return new xt(_t);this._readableState=new pt(_t,this),this.readable=!0,_t&&(typeof _t.read=="function"&&(this._read=_t.read),typeof _t.destroy=="function"&&(this._destroy=_t.destroy)),b.call(this)}Object.defineProperty(xt.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(_t){this._readableState&&(this._readableState.destroyed=_t)}}),xt.prototype.destroy=st.destroy,xt.prototype._undestroy=st.undestroy,xt.prototype._destroy=function(_t,kt){this.push(null),kt(_t)},xt.prototype.push=function(_t,kt){var Lt=this._readableState,Kt;return Lt.objectMode?Kt=!0:typeof _t=="string"&&(kt=kt||Lt.defaultEncoding,kt!==Lt.encoding&&(_t=h.from(_t,kt),kt=""),Kt=!0),St(this,_t,kt,!1,Kt)},xt.prototype.unshift=function(_t){return St(this,_t,null,!0,!1)};function St(_t,kt,Lt,Kt,$t){var It=_t._readableState;if(kt===null)It.reading=!1,Ft(_t,It);else{var Xt;$t||(Xt=At(It,kt)),Xt?_t.emit("error",Xt):It.objectMode||kt&&kt.length>0?(typeof kt!="string"&&!It.objectMode&&Object.getPrototypeOf(kt)!==h.prototype&&(kt=j(kt)),Kt?It.endEmitted?_t.emit("error",new Error("stream.unshift() after end event")):Nt(_t,It,kt,!0):It.ended?_t.emit("error",new Error("stream.push() after EOF")):(It.reading=!1,It.decoder&&!Lt?(kt=It.decoder.write(kt),It.objectMode||kt.length!==0?Nt(_t,It,kt,!1):ft(_t,It)):Nt(_t,It,kt,!1))):Kt||(It.reading=!1)}return Ct(It)}function Nt(_t,kt,Lt,Kt){kt.flowing&&kt.length===0&&!kt.sync?(_t.emit("data",Lt),_t.read(0)):(kt.length+=kt.objectMode?1:Lt.length,Kt?kt.buffer.unshift(Lt):kt.buffer.push(Lt),kt.needReadable&&Mt(_t)),ft(_t,kt)}function At(_t,kt){var Lt;return!_e(kt)&&typeof kt!="string"&&kt!==void 0&&!_t.objectMode&&(Lt=new TypeError("Invalid non-string/buffer chunk")),Lt}function Ct(_t){return!_t.ended&&(_t.needReadable||_t.length<_t.highWaterMark||_t.length===0)}xt.prototype.isPaused=function(){return this._readableState.flowing===!1},xt.prototype.setEncoding=function(_t){return at||(at=requireString_decoder().StringDecoder),this._readableState.decoder=new at(_t),this._readableState.encoding=_t,this};var Vt=8388608;function Bt(_t){return _t>=Vt?_t=Vt:(_t--,_t|=_t>>>1,_t|=_t>>>2,_t|=_t>>>4,_t|=_t>>>8,_t|=_t>>>16,_t++),_t}function Ut(_t,kt){return _t<=0||kt.length===0&&kt.ended?0:kt.objectMode?1:_t!==_t?kt.flowing&&kt.length?kt.buffer.head.data.length:kt.length:(_t>kt.highWaterMark&&(kt.highWaterMark=Bt(_t)),_t<=kt.length?_t:kt.ended?kt.length:(kt.needReadable=!0,0))}xt.prototype.read=function(_t){rt("read",_t),_t=parseInt(_t,10);var kt=this._readableState,Lt=_t;if(_t!==0&&(kt.emittedReadable=!1),_t===0&&kt.needReadable&&(kt.length>=kt.highWaterMark||kt.ended))return rt("read: emitReadable",kt.length,kt.ended),kt.length===0&&kt.ended?Dt(this):Mt(this),null;if(_t=Ut(_t,kt),_t===0&&kt.ended)return kt.length===0&&Dt(this),null;var Kt=kt.needReadable;rt("need readable",Kt),(kt.length===0||kt.length-_t<kt.highWaterMark)&&(Kt=!0,rt("length less than watermark",Kt)),kt.ended||kt.reading?(Kt=!1,rt("reading or ended",Kt)):Kt&&(rt("do read"),kt.reading=!0,kt.sync=!0,kt.length===0&&(kt.needReadable=!0),this._read(kt.highWaterMark),kt.sync=!1,kt.reading||(_t=Ut(Lt,kt)));var $t;return _t>0?$t=ot(_t,kt):$t=null,$t===null?(kt.needReadable=!0,_t=0):kt.length-=_t,kt.length===0&&(kt.ended||(kt.needReadable=!0),Lt!==_t&&kt.ended&&Dt(this)),$t!==null&&this.emit("data",$t),$t};function Ft(_t,kt){if(!kt.ended){if(kt.decoder){var Lt=kt.decoder.end();Lt&&Lt.length&&(kt.buffer.push(Lt),kt.length+=kt.objectMode?1:Lt.length)}kt.ended=!0,Mt(_t)}}function Mt(_t){var kt=_t._readableState;kt.needReadable=!1,kt.emittedReadable||(rt("emitReadable",kt.flowing),kt.emittedReadable=!0,kt.sync?e.nextTick(mt,_t):mt(_t))}function mt(_t){rt("emit readable"),_t.emit("readable"),gt(_t)}function ft(_t,kt){kt.readingMore||(kt.readingMore=!0,e.nextTick(tt,_t,kt))}function tt(_t,kt){for(var Lt=kt.length;!kt.reading&&!kt.flowing&&!kt.ended&&kt.length<kt.highWaterMark&&(rt("maybeReadMore read 0"),_t.read(0),Lt!==kt.length);)Lt=kt.length;kt.readingMore=!1}xt.prototype._read=function(_t){this.emit("error",new Error("_read() is not implemented"))},xt.prototype.pipe=function(_t,kt){var Lt=this,Kt=this._readableState;switch(Kt.pipesCount){case 0:Kt.pipes=_t;break;case 1:Kt.pipes=[Kt.pipes,_t];break;default:Kt.pipes.push(_t);break}Kt.pipesCount+=1,rt("pipe count=%d opts=%j",Kt.pipesCount,kt);var $t=(!kt||kt.end!==!1)&&_t!==process$1.stdout&&_t!==process$1.stderr,It=$t?cr:ur;Kt.endEmitted?e.nextTick(It):Lt.once("end",It),_t.on("unpipe",Xt);function Xt(ir,lr){rt("onunpipe"),ir===Lt&&lr&&lr.hasUnpiped===!1&&(lr.hasUnpiped=!0,yr())}function cr(){rt("onend"),_t.end()}var fr=it(Lt);_t.on("drain",fr);var hr=!1;function yr(){rt("cleanup"),_t.removeListener("close",Gt),_t.removeListener("finish",nr),_t.removeListener("drain",fr),_t.removeListener("error",Zt),_t.removeListener("unpipe",Xt),Lt.removeListener("end",cr),Lt.removeListener("end",ur),Lt.removeListener("data",sr),hr=!0,Kt.awaitDrain&&(!_t._writableState||_t._writableState.needDrain)&&fr()}var Sr=!1;Lt.on("data",sr);function sr(ir){rt("ondata"),Sr=!1;var lr=_t.write(ir);lr===!1&&!Sr&&((Kt.pipesCount===1&&Kt.pipes===_t||Kt.pipesCount>1&&qt(Kt.pipes,_t)!==-1)&&!hr&&(rt("false write response, pause",Kt.awaitDrain),Kt.awaitDrain++,Sr=!0),Lt.pause())}function Zt(ir){rt("onerror",ir),ur(),_t.removeListener("error",Zt),d(_t,"error")===0&&_t.emit("error",ir)}wt(_t,"error",Zt);function Gt(){_t.removeListener("finish",nr),ur()}_t.once("close",Gt);function nr(){rt("onfinish"),_t.removeListener("close",Gt),ur()}_t.once("finish",nr);function ur(){rt("unpipe"),Lt.unpipe(_t)}return _t.emit("pipe",Lt),Kt.flowing||(rt("pipe resume"),Lt.resume()),_t};function it(_t){return function(){var kt=_t._readableState;rt("pipeOnDrain",kt.awaitDrain),kt.awaitDrain&&kt.awaitDrain--,kt.awaitDrain===0&&d(_t,"data")&&(kt.flowing=!0,gt(_t))}}xt.prototype.unpipe=function(_t){var kt=this._readableState,Lt={hasUnpiped:!1};if(kt.pipesCount===0)return this;if(kt.pipesCount===1)return _t&&_t!==kt.pipes?this:(_t||(_t=kt.pipes),kt.pipes=null,kt.pipesCount=0,kt.flowing=!1,_t&&_t.emit("unpipe",this,Lt),this);if(!_t){var Kt=kt.pipes,$t=kt.pipesCount;kt.pipes=null,kt.pipesCount=0,kt.flowing=!1;for(var It=0;It<$t;It++)Kt[It].emit("unpipe",this,{hasUnpiped:!1});return this}var Xt=qt(kt.pipes,_t);return Xt===-1?this:(kt.pipes.splice(Xt,1),kt.pipesCount-=1,kt.pipesCount===1&&(kt.pipes=kt.pipes[0]),_t.emit("unpipe",this,Lt),this)},xt.prototype.on=function(_t,kt){var Lt=b.prototype.on.call(this,_t,kt);if(_t==="data")this._readableState.flowing!==!1&&this.resume();else if(_t==="readable"){var Kt=this._readableState;!Kt.endEmitted&&!Kt.readableListening&&(Kt.readableListening=Kt.needReadable=!0,Kt.emittedReadable=!1,Kt.reading?Kt.length&&Mt(this):e.nextTick(ht,this))}return Lt},xt.prototype.addListener=xt.prototype.on;function ht(_t){rt("readable nexttick read 0"),_t.read(0)}xt.prototype.resume=function(){var _t=this._readableState;return _t.flowing||(rt("resume"),_t.flowing=!0,dt(this,_t)),this};function dt(_t,kt){kt.resumeScheduled||(kt.resumeScheduled=!0,e.nextTick(lt,_t,kt))}function lt(_t,kt){kt.reading||(rt("resume read 0"),_t.read(0)),kt.resumeScheduled=!1,kt.awaitDrain=0,_t.emit("resume"),gt(_t),kt.flowing&&!kt.reading&&_t.read(0)}xt.prototype.pause=function(){return rt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(rt("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function gt(_t){var kt=_t._readableState;for(rt("flow",kt.flowing);kt.flowing&&_t.read()!==null;);}xt.prototype.wrap=function(_t){var kt=this,Lt=this._readableState,Kt=!1;_t.on("end",function(){if(rt("wrapped end"),Lt.decoder&&!Lt.ended){var Xt=Lt.decoder.end();Xt&&Xt.length&&kt.push(Xt)}kt.push(null)}),_t.on("data",function(Xt){if(rt("wrapped data"),Lt.decoder&&(Xt=Lt.decoder.write(Xt)),!(Lt.objectMode&&Xt==null)&&!(!Lt.objectMode&&(!Xt||!Xt.length))){var cr=kt.push(Xt);cr||(Kt=!0,_t.pause())}});for(var $t in _t)this[$t]===void 0&&typeof _t[$t]=="function"&&(this[$t]=function(Xt){return function(){return _t[Xt].apply(_t,arguments)}}($t));for(var It=0;It<ut.length;It++)_t.on(ut[It],this.emit.bind(this,ut[It]));return this._read=function(Xt){rt("wrapped _read",Xt),Kt&&(Kt=!1,_t.resume())},this},Object.defineProperty(xt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),xt._fromList=ot;function ot(_t,kt){if(kt.length===0)return null;var Lt;return kt.objectMode?Lt=kt.buffer.shift():!_t||_t>=kt.length?(kt.decoder?Lt=kt.buffer.join(""):kt.buffer.length===1?Lt=kt.buffer.head.data:Lt=kt.buffer.concat(kt.length),kt.buffer.clear()):Lt=vt(_t,kt.buffer,kt.decoder),Lt}function vt(_t,kt,Lt){var Kt;return _t<kt.head.data.length?(Kt=kt.head.data.slice(0,_t),kt.head.data=kt.head.data.slice(_t)):_t===kt.head.data.length?Kt=kt.shift():Kt=Lt?ct(_t,kt):yt(_t,kt),Kt}function ct(_t,kt){var Lt=kt.head,Kt=1,$t=Lt.data;for(_t-=$t.length;Lt=Lt.next;){var It=Lt.data,Xt=_t>It.length?It.length:_t;if(Xt===It.length?$t+=It:$t+=It.slice(0,_t),_t-=Xt,_t===0){Xt===It.length?(++Kt,Lt.next?kt.head=Lt.next:kt.head=kt.tail=null):(kt.head=Lt,Lt.data=It.slice(Xt));break}++Kt}return kt.length-=Kt,$t}function yt(_t,kt){var Lt=h.allocUnsafe(_t),Kt=kt.head,$t=1;for(Kt.data.copy(Lt),_t-=Kt.data.length;Kt=Kt.next;){var It=Kt.data,Xt=_t>It.length?It.length:_t;if(It.copy(Lt,Lt.length-_t,0,Xt),_t-=Xt,_t===0){Xt===It.length?(++$t,Kt.next?kt.head=Kt.next:kt.head=kt.tail=null):(kt.head=Kt,Kt.data=It.slice(Xt));break}++$t}return kt.length-=$t,Lt}function Dt(_t){var kt=_t._readableState;if(kt.length>0)throw new Error('"endReadable()" called on non-empty stream');kt.endEmitted||(kt.ended=!0,e.nextTick(Ht,kt,_t))}function Ht(_t,kt){!_t.endEmitted&&_t.length===0&&(_t.endEmitted=!0,kt.readable=!1,kt.emit("end"))}function qt(_t,kt){for(var Lt=0,Kt=_t.length;Lt<Kt;Lt++)if(_t[Lt]===kt)return Lt;return-1}return _stream_readable$2}var _stream_transform$2,hasRequired_stream_transform$2;function require_stream_transform$2(){if(hasRequired_stream_transform$2)return _stream_transform$2;hasRequired_stream_transform$2=1,_stream_transform$2=d;var e=require_stream_duplex$2(),a=Object.create(requireUtil());a.inherits=inherits_browserExports,a.inherits(d,e);function c(_,j){var _e=this._transformState;_e.transforming=!1;var et=_e.writecb;if(!et)return this.emit("error",new Error("write callback called multiple times"));_e.writechunk=null,_e.writecb=null,j!=null&&this.push(j),et(_);var $=this._readableState;$.reading=!1,($.needReadable||$.length<$.highWaterMark)&&this._read($.highWaterMark)}function d(_){if(!(this instanceof d))return new d(_);e.call(this,_),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,_&&(typeof _.transform=="function"&&(this._transform=_.transform),typeof _.flush=="function"&&(this._flush=_.flush)),this.on("prefinish",b)}function b(){var _=this;typeof this._flush=="function"?this._flush(function(j,_e){h(_,j,_e)}):h(this,null,null)}d.prototype.push=function(_,j){return this._transformState.needTransform=!1,e.prototype.push.call(this,_,j)},d.prototype._transform=function(_,j,_e){throw new Error("_transform() is not implemented")},d.prototype._write=function(_,j,_e){var et=this._transformState;if(et.writecb=_e,et.writechunk=_,et.writeencoding=j,!et.transforming){var $=this._readableState;(et.needTransform||$.needReadable||$.length<$.highWaterMark)&&this._read($.highWaterMark)}},d.prototype._read=function(_){var j=this._transformState;j.writechunk!==null&&j.writecb&&!j.transforming?(j.transforming=!0,this._transform(j.writechunk,j.writeencoding,j.afterTransform)):j.needTransform=!0},d.prototype._destroy=function(_,j){var _e=this;e.prototype._destroy.call(this,_,function(et){j(et),_e.emit("close")})};function h(_,j,_e){if(j)return _.emit("error",j);if(_e!=null&&_.push(_e),_._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(_._transformState.transforming)throw new Error("Calling transform done when still transforming");return _.push(null)}return _stream_transform$2}var _stream_passthrough$2,hasRequired_stream_passthrough$2;function require_stream_passthrough$2(){if(hasRequired_stream_passthrough$2)return _stream_passthrough$2;hasRequired_stream_passthrough$2=1,_stream_passthrough$2=c;var e=require_stream_transform$2(),a=Object.create(requireUtil());a.inherits=inherits_browserExports,a.inherits(c,e);function c(d){if(!(this instanceof c))return new c(d);e.call(this,d)}return c.prototype._transform=function(d,b,h){h(null,d)},_stream_passthrough$2}var hasRequiredReadableBrowser$1;function requireReadableBrowser$1(){return hasRequiredReadableBrowser$1||(hasRequiredReadableBrowser$1=1,function(e,a){a=e.exports=require_stream_readable$2(),a.Stream=a,a.Readable=a,a.Writable=require_stream_writable$2(),a.Duplex=require_stream_duplex$2(),a.Transform=require_stream_transform$2(),a.PassThrough=require_stream_passthrough$2()}(readableBrowser$1,readableBrowser$1.exports)),readableBrowser$1.exports}var hashBase,hasRequiredHashBase;function requireHashBase(){if(hasRequiredHashBase)return hashBase;hasRequiredHashBase=1;var e=requireSafeBuffer$2().Buffer,a=requireToBuffer$1(),c=requireReadableBrowser$1().Transform,d=inherits_browserExports;function b(h){c.call(this),this._block=e.allocUnsafe(h),this._blockSize=h,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}return d(b,c),b.prototype._transform=function(h,_,j){var _e=null;try{this.update(h,_)}catch(et){_e=et}j(_e)},b.prototype._flush=function(h){var _=null;try{this.push(this.digest())}catch(j){_=j}h(_)},b.prototype.update=function(h,_){if(this._finalized)throw new Error("Digest already called");for(var j=a(h,_),_e=this._block,et=0;this._blockOffset+j.length-et>=this._blockSize;){for(var $=this._blockOffset;$<this._blockSize;)_e[$]=j[et],$+=1,et+=1;this._update(),this._blockOffset=0}for(;et<j.length;)_e[this._blockOffset]=j[et],this._blockOffset+=1,et+=1;for(var rt=0,nt=j.length*8;nt>0;++rt)this._length[rt]+=nt,nt=this._length[rt]/4294967296|0,nt>0&&(this._length[rt]-=4294967296*nt);return this},b.prototype._update=function(){throw new Error("_update is not implemented")},b.prototype.digest=function(h){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var _=this._digest();h!==void 0&&(_=_.toString(h)),this._block.fill(0),this._blockOffset=0;for(var j=0;j<4;++j)this._length[j]=0;return _},b.prototype._digest=function(){throw new Error("_digest is not implemented")},hashBase=b,hashBase}var md5_js,hasRequiredMd5_js;function requireMd5_js(){if(hasRequiredMd5_js)return md5_js;hasRequiredMd5_js=1;var e=inherits_browserExports,a=requireHashBase(),c=requireSafeBuffer$2().Buffer,d=new Array(16);function b(){a.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}e(b,a),b.prototype._update=function(){for(var $=d,rt=0;rt<16;++rt)$[rt]=this._block.readInt32LE(rt*4);var nt=this._a,st=this._b,at=this._c,ut=this._d;nt=_(nt,st,at,ut,$[0],3614090360,7),ut=_(ut,nt,st,at,$[1],3905402710,12),at=_(at,ut,nt,st,$[2],606105819,17),st=_(st,at,ut,nt,$[3],3250441966,22),nt=_(nt,st,at,ut,$[4],4118548399,7),ut=_(ut,nt,st,at,$[5],1200080426,12),at=_(at,ut,nt,st,$[6],2821735955,17),st=_(st,at,ut,nt,$[7],4249261313,22),nt=_(nt,st,at,ut,$[8],1770035416,7),ut=_(ut,nt,st,at,$[9],2336552879,12),at=_(at,ut,nt,st,$[10],4294925233,17),st=_(st,at,ut,nt,$[11],2304563134,22),nt=_(nt,st,at,ut,$[12],1804603682,7),ut=_(ut,nt,st,at,$[13],4254626195,12),at=_(at,ut,nt,st,$[14],2792965006,17),st=_(st,at,ut,nt,$[15],1236535329,22),nt=j(nt,st,at,ut,$[1],4129170786,5),ut=j(ut,nt,st,at,$[6],3225465664,9),at=j(at,ut,nt,st,$[11],643717713,14),st=j(st,at,ut,nt,$[0],3921069994,20),nt=j(nt,st,at,ut,$[5],3593408605,5),ut=j(ut,nt,st,at,$[10],38016083,9),at=j(at,ut,nt,st,$[15],3634488961,14),st=j(st,at,ut,nt,$[4],3889429448,20),nt=j(nt,st,at,ut,$[9],568446438,5),ut=j(ut,nt,st,at,$[14],3275163606,9),at=j(at,ut,nt,st,$[3],4107603335,14),st=j(st,at,ut,nt,$[8],1163531501,20),nt=j(nt,st,at,ut,$[13],2850285829,5),ut=j(ut,nt,st,at,$[2],4243563512,9),at=j(at,ut,nt,st,$[7],1735328473,14),st=j(st,at,ut,nt,$[12],2368359562,20),nt=_e(nt,st,at,ut,$[5],4294588738,4),ut=_e(ut,nt,st,at,$[8],2272392833,11),at=_e(at,ut,nt,st,$[11],1839030562,16),st=_e(st,at,ut,nt,$[14],4259657740,23),nt=_e(nt,st,at,ut,$[1],2763975236,4),ut=_e(ut,nt,st,at,$[4],1272893353,11),at=_e(at,ut,nt,st,$[7],4139469664,16),st=_e(st,at,ut,nt,$[10],3200236656,23),nt=_e(nt,st,at,ut,$[13],681279174,4),ut=_e(ut,nt,st,at,$[0],3936430074,11),at=_e(at,ut,nt,st,$[3],3572445317,16),st=_e(st,at,ut,nt,$[6],76029189,23),nt=_e(nt,st,at,ut,$[9],3654602809,4),ut=_e(ut,nt,st,at,$[12],3873151461,11),at=_e(at,ut,nt,st,$[15],530742520,16),st=_e(st,at,ut,nt,$[2],3299628645,23),nt=et(nt,st,at,ut,$[0],4096336452,6),ut=et(ut,nt,st,at,$[7],1126891415,10),at=et(at,ut,nt,st,$[14],2878612391,15),st=et(st,at,ut,nt,$[5],4237533241,21),nt=et(nt,st,at,ut,$[12],1700485571,6),ut=et(ut,nt,st,at,$[3],2399980690,10),at=et(at,ut,nt,st,$[10],4293915773,15),st=et(st,at,ut,nt,$[1],2240044497,21),nt=et(nt,st,at,ut,$[8],1873313359,6),ut=et(ut,nt,st,at,$[15],4264355552,10),at=et(at,ut,nt,st,$[6],2734768916,15),st=et(st,at,ut,nt,$[13],1309151649,21),nt=et(nt,st,at,ut,$[4],4149444226,6),ut=et(ut,nt,st,at,$[11],3174756917,10),at=et(at,ut,nt,st,$[2],718787259,15),st=et(st,at,ut,nt,$[9],3951481745,21),this._a=this._a+nt|0,this._b=this._b+st|0,this._c=this._c+at|0,this._d=this._d+ut|0},b.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var $=c.allocUnsafe(16);return $.writeInt32LE(this._a,0),$.writeInt32LE(this._b,4),$.writeInt32LE(this._c,8),$.writeInt32LE(this._d,12),$};function h($,rt){return $<<rt|$>>>32-rt}function _($,rt,nt,st,at,ut,wt){return h($+(rt&nt|~rt&st)+at+ut|0,wt)+rt|0}function j($,rt,nt,st,at,ut,wt){return h($+(rt&st|nt&~st)+at+ut|0,wt)+rt|0}function _e($,rt,nt,st,at,ut,wt){return h($+(rt^nt^st)+at+ut|0,wt)+rt|0}function et($,rt,nt,st,at,ut,wt){return h($+(nt^(rt|~st))+at+ut|0,wt)+rt|0}return md5_js=b,md5_js}var ripemd160,hasRequiredRipemd160;function requireRipemd160(){if(hasRequiredRipemd160)return ripemd160;hasRequiredRipemd160=1;var e=require$$0$1.Buffer,a=inherits_browserExports,c=requireHashBase(),d=new Array(16),b=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],h=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],_=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],j=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],_e=[0,1518500249,1859775393,2400959708,2840853838],et=[1352829926,1548603684,1836072691,2053994217,0];function $(pt,xt){return pt<<xt|pt>>>32-xt}function rt(pt,xt,St,Nt,At,Ct,Vt,Bt){return $(pt+(xt^St^Nt)+Ct+Vt|0,Bt)+At|0}function nt(pt,xt,St,Nt,At,Ct,Vt,Bt){return $(pt+(xt&St|~xt&Nt)+Ct+Vt|0,Bt)+At|0}function st(pt,xt,St,Nt,At,Ct,Vt,Bt){return $(pt+((xt|~St)^Nt)+Ct+Vt|0,Bt)+At|0}function at(pt,xt,St,Nt,At,Ct,Vt,Bt){return $(pt+(xt&Nt|St&~Nt)+Ct+Vt|0,Bt)+At|0}function ut(pt,xt,St,Nt,At,Ct,Vt,Bt){return $(pt+(xt^(St|~Nt))+Ct+Vt|0,Bt)+At|0}function wt(){c.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}return a(wt,c),wt.prototype._update=function(){for(var pt=d,xt=0;xt<16;++xt)pt[xt]=this._block.readInt32LE(xt*4);for(var St=this._a|0,Nt=this._b|0,At=this._c|0,Ct=this._d|0,Vt=this._e|0,Bt=this._a|0,Ut=this._b|0,Ft=this._c|0,Mt=this._d|0,mt=this._e|0,ft=0;ft<80;ft+=1){var tt,it;ft<16?(tt=rt(St,Nt,At,Ct,Vt,pt[b[ft]],_e[0],_[ft]),it=ut(Bt,Ut,Ft,Mt,mt,pt[h[ft]],et[0],j[ft])):ft<32?(tt=nt(St,Nt,At,Ct,Vt,pt[b[ft]],_e[1],_[ft]),it=at(Bt,Ut,Ft,Mt,mt,pt[h[ft]],et[1],j[ft])):ft<48?(tt=st(St,Nt,At,Ct,Vt,pt[b[ft]],_e[2],_[ft]),it=st(Bt,Ut,Ft,Mt,mt,pt[h[ft]],et[2],j[ft])):ft<64?(tt=at(St,Nt,At,Ct,Vt,pt[b[ft]],_e[3],_[ft]),it=nt(Bt,Ut,Ft,Mt,mt,pt[h[ft]],et[3],j[ft])):(tt=ut(St,Nt,At,Ct,Vt,pt[b[ft]],_e[4],_[ft]),it=rt(Bt,Ut,Ft,Mt,mt,pt[h[ft]],et[4],j[ft])),St=Vt,Vt=Ct,Ct=$(At,10),At=Nt,Nt=tt,Bt=mt,mt=Mt,Mt=$(Ft,10),Ft=Ut,Ut=it}var ht=this._b+At+Mt|0;this._b=this._c+Ct+mt|0,this._c=this._d+Vt+Bt|0,this._d=this._e+St+Ut|0,this._e=this._a+Nt+Ft|0,this._a=ht},wt.prototype._digest=function(){this._block[this._blockOffset]=128,this._blockOffset+=1,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var pt=e.alloc?e.alloc(20):new e(20);return pt.writeInt32LE(this._a,0),pt.writeInt32LE(this._b,4),pt.writeInt32LE(this._c,8),pt.writeInt32LE(this._d,12),pt.writeInt32LE(this._e,16),pt},ripemd160=wt,ripemd160}var sha_js={exports:{}},hash$1,hasRequiredHash$1;function requireHash$1(){if(hasRequiredHash$1)return hash$1;hasRequiredHash$1=1;var e=requireSafeBuffer$2().Buffer,a=requireToBuffer$2();function c(d,b){this._block=e.alloc(d),this._finalSize=b,this._blockSize=d,this._len=0}return c.prototype.update=function(d,b){d=a(d,b||"utf8");for(var h=this._block,_=this._blockSize,j=d.length,_e=this._len,et=0;et<j;){for(var $=_e%_,rt=Math.min(j-et,_-$),nt=0;nt<rt;nt++)h[$+nt]=d[et+nt];_e+=rt,et+=rt,_e%_===0&&this._update(h)}return this._len+=j,this},c.prototype.digest=function(d){var b=this._len%this._blockSize;this._block[b]=128,this._block.fill(0,b+1),b>=this._finalSize&&(this._update(this._block),this._block.fill(0));var h=this._len*8;if(h<=4294967295)this._block.writeUInt32BE(h,this._blockSize-4);else{var _=(h&4294967295)>>>0,j=(h-_)/4294967296;this._block.writeUInt32BE(j,this._blockSize-8),this._block.writeUInt32BE(_,this._blockSize-4)}this._update(this._block);var _e=this._hash();return d?_e.toString(d):_e},c.prototype._update=function(){throw new Error("_update must be implemented by subclass")},hash$1=c,hash$1}var sha$1,hasRequiredSha$1;function requireSha$1(){if(hasRequiredSha$1)return sha$1;hasRequiredSha$1=1;var e=inherits_browserExports,a=requireHash$1(),c=requireSafeBuffer$2().Buffer,d=[1518500249,1859775393,-1894007588,-899497514],b=new Array(80);function h(){this.init(),this._w=b,a.call(this,64,56)}e(h,a),h.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function _(et){return et<<5|et>>>27}function j(et){return et<<30|et>>>2}function _e(et,$,rt,nt){return et===0?$&rt|~$&nt:et===2?$&rt|$&nt|rt&nt:$^rt^nt}return h.prototype._update=function(et){for(var $=this._w,rt=this._a|0,nt=this._b|0,st=this._c|0,at=this._d|0,ut=this._e|0,wt=0;wt<16;++wt)$[wt]=et.readInt32BE(wt*4);for(;wt<80;++wt)$[wt]=$[wt-3]^$[wt-8]^$[wt-14]^$[wt-16];for(var pt=0;pt<80;++pt){var xt=~~(pt/20),St=_(rt)+_e(xt,nt,st,at)+ut+$[pt]+d[xt]|0;ut=at,at=st,st=j(nt),nt=rt,rt=St}this._a=rt+this._a|0,this._b=nt+this._b|0,this._c=st+this._c|0,this._d=at+this._d|0,this._e=ut+this._e|0},h.prototype._hash=function(){var et=c.allocUnsafe(20);return et.writeInt32BE(this._a|0,0),et.writeInt32BE(this._b|0,4),et.writeInt32BE(this._c|0,8),et.writeInt32BE(this._d|0,12),et.writeInt32BE(this._e|0,16),et},sha$1=h,sha$1}var sha1,hasRequiredSha1;function requireSha1(){if(hasRequiredSha1)return sha1;hasRequiredSha1=1;var e=inherits_browserExports,a=requireHash$1(),c=requireSafeBuffer$2().Buffer,d=[1518500249,1859775393,-1894007588,-899497514],b=new Array(80);function h(){this.init(),this._w=b,a.call(this,64,56)}e(h,a),h.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function _($){return $<<1|$>>>31}function j($){return $<<5|$>>>27}function _e($){return $<<30|$>>>2}function et($,rt,nt,st){return $===0?rt&nt|~rt&st:$===2?rt&nt|rt&st|nt&st:rt^nt^st}return h.prototype._update=function($){for(var rt=this._w,nt=this._a|0,st=this._b|0,at=this._c|0,ut=this._d|0,wt=this._e|0,pt=0;pt<16;++pt)rt[pt]=$.readInt32BE(pt*4);for(;pt<80;++pt)rt[pt]=_(rt[pt-3]^rt[pt-8]^rt[pt-14]^rt[pt-16]);for(var xt=0;xt<80;++xt){var St=~~(xt/20),Nt=j(nt)+et(St,st,at,ut)+wt+rt[xt]+d[St]|0;wt=ut,ut=at,at=_e(st),st=nt,nt=Nt}this._a=nt+this._a|0,this._b=st+this._b|0,this._c=at+this._c|0,this._d=ut+this._d|0,this._e=wt+this._e|0},h.prototype._hash=function(){var $=c.allocUnsafe(20);return $.writeInt32BE(this._a|0,0),$.writeInt32BE(this._b|0,4),$.writeInt32BE(this._c|0,8),$.writeInt32BE(this._d|0,12),$.writeInt32BE(this._e|0,16),$},sha1=h,sha1}var sha256$1,hasRequiredSha256;function requireSha256(){if(hasRequiredSha256)return sha256$1;hasRequiredSha256=1;var e=inherits_browserExports,a=requireHash$1(),c=requireSafeBuffer$2().Buffer,d=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],b=new Array(64);function h(){this.init(),this._w=b,a.call(this,64,56)}e(h,a),h.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function _(nt,st,at){return at^nt&(st^at)}function j(nt,st,at){return nt&st|at&(nt|st)}function _e(nt){return(nt>>>2|nt<<30)^(nt>>>13|nt<<19)^(nt>>>22|nt<<10)}function et(nt){return(nt>>>6|nt<<26)^(nt>>>11|nt<<21)^(nt>>>25|nt<<7)}function $(nt){return(nt>>>7|nt<<25)^(nt>>>18|nt<<14)^nt>>>3}function rt(nt){return(nt>>>17|nt<<15)^(nt>>>19|nt<<13)^nt>>>10}return h.prototype._update=function(nt){for(var st=this._w,at=this._a|0,ut=this._b|0,wt=this._c|0,pt=this._d|0,xt=this._e|0,St=this._f|0,Nt=this._g|0,At=this._h|0,Ct=0;Ct<16;++Ct)st[Ct]=nt.readInt32BE(Ct*4);for(;Ct<64;++Ct)st[Ct]=rt(st[Ct-2])+st[Ct-7]+$(st[Ct-15])+st[Ct-16]|0;for(var Vt=0;Vt<64;++Vt){var Bt=At+et(xt)+_(xt,St,Nt)+d[Vt]+st[Vt]|0,Ut=_e(at)+j(at,ut,wt)|0;At=Nt,Nt=St,St=xt,xt=pt+Bt|0,pt=wt,wt=ut,ut=at,at=Bt+Ut|0}this._a=at+this._a|0,this._b=ut+this._b|0,this._c=wt+this._c|0,this._d=pt+this._d|0,this._e=xt+this._e|0,this._f=St+this._f|0,this._g=Nt+this._g|0,this._h=At+this._h|0},h.prototype._hash=function(){var nt=c.allocUnsafe(32);return nt.writeInt32BE(this._a,0),nt.writeInt32BE(this._b,4),nt.writeInt32BE(this._c,8),nt.writeInt32BE(this._d,12),nt.writeInt32BE(this._e,16),nt.writeInt32BE(this._f,20),nt.writeInt32BE(this._g,24),nt.writeInt32BE(this._h,28),nt},sha256$1=h,sha256$1}var sha224$1,hasRequiredSha224;function requireSha224(){if(hasRequiredSha224)return sha224$1;hasRequiredSha224=1;var e=inherits_browserExports,a=requireSha256(),c=requireHash$1(),d=requireSafeBuffer$2().Buffer,b=new Array(64);function h(){this.init(),this._w=b,c.call(this,64,56)}return e(h,a),h.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},h.prototype._hash=function(){var _=d.allocUnsafe(28);return _.writeInt32BE(this._a,0),_.writeInt32BE(this._b,4),_.writeInt32BE(this._c,8),_.writeInt32BE(this._d,12),_.writeInt32BE(this._e,16),_.writeInt32BE(this._f,20),_.writeInt32BE(this._g,24),_},sha224$1=h,sha224$1}var sha512$1,hasRequiredSha512;function requireSha512(){if(hasRequiredSha512)return sha512$1;hasRequiredSha512=1;var e=inherits_browserExports,a=requireHash$1(),c=requireSafeBuffer$2().Buffer,d=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],b=new Array(160);function h(){this.init(),this._w=b,a.call(this,128,112)}e(h,a),h.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function _(ut,wt,pt){return pt^ut&(wt^pt)}function j(ut,wt,pt){return ut&wt|pt&(ut|wt)}function _e(ut,wt){return(ut>>>28|wt<<4)^(wt>>>2|ut<<30)^(wt>>>7|ut<<25)}function et(ut,wt){return(ut>>>14|wt<<18)^(ut>>>18|wt<<14)^(wt>>>9|ut<<23)}function $(ut,wt){return(ut>>>1|wt<<31)^(ut>>>8|wt<<24)^ut>>>7}function rt(ut,wt){return(ut>>>1|wt<<31)^(ut>>>8|wt<<24)^(ut>>>7|wt<<25)}function nt(ut,wt){return(ut>>>19|wt<<13)^(wt>>>29|ut<<3)^ut>>>6}function st(ut,wt){return(ut>>>19|wt<<13)^(wt>>>29|ut<<3)^(ut>>>6|wt<<26)}function at(ut,wt){return ut>>>0<wt>>>0?1:0}return h.prototype._update=function(ut){for(var wt=this._w,pt=this._ah|0,xt=this._bh|0,St=this._ch|0,Nt=this._dh|0,At=this._eh|0,Ct=this._fh|0,Vt=this._gh|0,Bt=this._hh|0,Ut=this._al|0,Ft=this._bl|0,Mt=this._cl|0,mt=this._dl|0,ft=this._el|0,tt=this._fl|0,it=this._gl|0,ht=this._hl|0,dt=0;dt<32;dt+=2)wt[dt]=ut.readInt32BE(dt*4),wt[dt+1]=ut.readInt32BE(dt*4+4);for(;dt<160;dt+=2){var lt=wt[dt-30],gt=wt[dt-15*2+1],ot=$(lt,gt),vt=rt(gt,lt);lt=wt[dt-2*2],gt=wt[dt-2*2+1];var ct=nt(lt,gt),yt=st(gt,lt),Dt=wt[dt-7*2],Ht=wt[dt-7*2+1],qt=wt[dt-16*2],_t=wt[dt-16*2+1],kt=vt+Ht|0,Lt=ot+Dt+at(kt,vt)|0;kt=kt+yt|0,Lt=Lt+ct+at(kt,yt)|0,kt=kt+_t|0,Lt=Lt+qt+at(kt,_t)|0,wt[dt]=Lt,wt[dt+1]=kt}for(var Kt=0;Kt<160;Kt+=2){Lt=wt[Kt],kt=wt[Kt+1];var $t=j(pt,xt,St),It=j(Ut,Ft,Mt),Xt=_e(pt,Ut),cr=_e(Ut,pt),fr=et(At,ft),hr=et(ft,At),yr=d[Kt],Sr=d[Kt+1],sr=_(At,Ct,Vt),Zt=_(ft,tt,it),Gt=ht+hr|0,nr=Bt+fr+at(Gt,ht)|0;Gt=Gt+Zt|0,nr=nr+sr+at(Gt,Zt)|0,Gt=Gt+Sr|0,nr=nr+yr+at(Gt,Sr)|0,Gt=Gt+kt|0,nr=nr+Lt+at(Gt,kt)|0;var ur=cr+It|0,ir=Xt+$t+at(ur,cr)|0;Bt=Vt,ht=it,Vt=Ct,it=tt,Ct=At,tt=ft,ft=mt+Gt|0,At=Nt+nr+at(ft,mt)|0,Nt=St,mt=Mt,St=xt,Mt=Ft,xt=pt,Ft=Ut,Ut=Gt+ur|0,pt=nr+ir+at(Ut,Gt)|0}this._al=this._al+Ut|0,this._bl=this._bl+Ft|0,this._cl=this._cl+Mt|0,this._dl=this._dl+mt|0,this._el=this._el+ft|0,this._fl=this._fl+tt|0,this._gl=this._gl+it|0,this._hl=this._hl+ht|0,this._ah=this._ah+pt+at(this._al,Ut)|0,this._bh=this._bh+xt+at(this._bl,Ft)|0,this._ch=this._ch+St+at(this._cl,Mt)|0,this._dh=this._dh+Nt+at(this._dl,mt)|0,this._eh=this._eh+At+at(this._el,ft)|0,this._fh=this._fh+Ct+at(this._fl,tt)|0,this._gh=this._gh+Vt+at(this._gl,it)|0,this._hh=this._hh+Bt+at(this._hl,ht)|0},h.prototype._hash=function(){var ut=c.allocUnsafe(64);function wt(pt,xt,St){ut.writeInt32BE(pt,St),ut.writeInt32BE(xt,St+4)}return wt(this._ah,this._al,0),wt(this._bh,this._bl,8),wt(this._ch,this._cl,16),wt(this._dh,this._dl,24),wt(this._eh,this._el,32),wt(this._fh,this._fl,40),wt(this._gh,this._gl,48),wt(this._hh,this._hl,56),ut},sha512$1=h,sha512$1}var sha384$1,hasRequiredSha384;function requireSha384(){if(hasRequiredSha384)return sha384$1;hasRequiredSha384=1;var e=inherits_browserExports,a=requireSha512(),c=requireHash$1(),d=requireSafeBuffer$2().Buffer,b=new Array(160);function h(){this.init(),this._w=b,c.call(this,128,112)}return e(h,a),h.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},h.prototype._hash=function(){var _=d.allocUnsafe(48);function j(_e,et,$){_.writeInt32BE(_e,$),_.writeInt32BE(et,$+4)}return j(this._ah,this._al,0),j(this._bh,this._bl,8),j(this._ch,this._cl,16),j(this._dh,this._dl,24),j(this._eh,this._el,32),j(this._fh,this._fl,40),_},sha384$1=h,sha384$1}var hasRequiredSha_js;function requireSha_js(){return hasRequiredSha_js||(hasRequiredSha_js=1,function(e){e.exports=function(c){var d=c.toLowerCase(),b=e.exports[d];if(!b)throw new Error(d+" is not supported (we accept pull requests)");return new b},e.exports.sha=requireSha$1(),e.exports.sha1=requireSha1(),e.exports.sha224=requireSha224(),e.exports.sha256=requireSha256(),e.exports.sha384=requireSha384(),e.exports.sha512=requireSha512()}(sha_js)),sha_js.exports}var streamBrowser$1,hasRequiredStreamBrowser$1;function requireStreamBrowser$1(){return hasRequiredStreamBrowser$1||(hasRequiredStreamBrowser$1=1,streamBrowser$1=eventsExports.EventEmitter),streamBrowser$1}var buffer_list,hasRequiredBuffer_list;function requireBuffer_list(){if(hasRequiredBuffer_list)return buffer_list;hasRequiredBuffer_list=1;function e(at,ut){var wt=Object.keys(at);if(Object.getOwnPropertySymbols){var pt=Object.getOwnPropertySymbols(at);ut&&(pt=pt.filter(function(xt){return Object.getOwnPropertyDescriptor(at,xt).enumerable})),wt.push.apply(wt,pt)}return wt}function a(at){for(var ut=1;ut<arguments.length;ut++){var wt=arguments[ut]!=null?arguments[ut]:{};ut%2?e(Object(wt),!0).forEach(function(pt){c(at,pt,wt[pt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(at,Object.getOwnPropertyDescriptors(wt)):e(Object(wt)).forEach(function(pt){Object.defineProperty(at,pt,Object.getOwnPropertyDescriptor(wt,pt))})}return at}function c(at,ut,wt){return ut=_(ut),ut in at?Object.defineProperty(at,ut,{value:wt,enumerable:!0,configurable:!0,writable:!0}):at[ut]=wt,at}function d(at,ut){if(!(at instanceof ut))throw new TypeError("Cannot call a class as a function")}function b(at,ut){for(var wt=0;wt<ut.length;wt++){var pt=ut[wt];pt.enumerable=pt.enumerable||!1,pt.configurable=!0,"value"in pt&&(pt.writable=!0),Object.defineProperty(at,_(pt.key),pt)}}function h(at,ut,wt){return ut&&b(at.prototype,ut),Object.defineProperty(at,"prototype",{writable:!1}),at}function _(at){var ut=j(at,"string");return typeof ut=="symbol"?ut:String(ut)}function j(at,ut){if(typeof at!="object"||at===null)return at;var wt=at[Symbol.toPrimitive];if(wt!==void 0){var pt=wt.call(at,ut);if(typeof pt!="object")return pt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(at)}var _e=require$$0$1,et=_e.Buffer,$=util$1,rt=$.inspect,nt=rt&&rt.custom||"inspect";function st(at,ut,wt){et.prototype.copy.call(at,ut,wt)}return buffer_list=function(){function at(){d(this,at),this.head=null,this.tail=null,this.length=0}return h(at,[{key:"push",value:function(wt){var pt={data:wt,next:null};this.length>0?this.tail.next=pt:this.head=pt,this.tail=pt,++this.length}},{key:"unshift",value:function(wt){var pt={data:wt,next:this.head};this.length===0&&(this.tail=pt),this.head=pt,++this.length}},{key:"shift",value:function(){if(this.length!==0){var wt=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,wt}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(wt){if(this.length===0)return"";for(var pt=this.head,xt=""+pt.data;pt=pt.next;)xt+=wt+pt.data;return xt}},{key:"concat",value:function(wt){if(this.length===0)return et.alloc(0);for(var pt=et.allocUnsafe(wt>>>0),xt=this.head,St=0;xt;)st(xt.data,pt,St),St+=xt.data.length,xt=xt.next;return pt}},{key:"consume",value:function(wt,pt){var xt;return wt<this.head.data.length?(xt=this.head.data.slice(0,wt),this.head.data=this.head.data.slice(wt)):wt===this.head.data.length?xt=this.shift():xt=pt?this._getString(wt):this._getBuffer(wt),xt}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(wt){var pt=this.head,xt=1,St=pt.data;for(wt-=St.length;pt=pt.next;){var Nt=pt.data,At=wt>Nt.length?Nt.length:wt;if(At===Nt.length?St+=Nt:St+=Nt.slice(0,wt),wt-=At,wt===0){At===Nt.length?(++xt,pt.next?this.head=pt.next:this.head=this.tail=null):(this.head=pt,pt.data=Nt.slice(At));break}++xt}return this.length-=xt,St}},{key:"_getBuffer",value:function(wt){var pt=et.allocUnsafe(wt),xt=this.head,St=1;for(xt.data.copy(pt),wt-=xt.data.length;xt=xt.next;){var Nt=xt.data,At=wt>Nt.length?Nt.length:wt;if(Nt.copy(pt,pt.length-wt,0,At),wt-=At,wt===0){At===Nt.length?(++St,xt.next?this.head=xt.next:this.head=this.tail=null):(this.head=xt,xt.data=Nt.slice(At));break}++St}return this.length-=St,pt}},{key:nt,value:function(wt,pt){return rt(this,a(a({},pt),{},{depth:0,customInspect:!1}))}}]),at}(),buffer_list}var destroy_1$1,hasRequiredDestroy$1;function requireDestroy$1(){if(hasRequiredDestroy$1)return destroy_1$1;hasRequiredDestroy$1=1;function e(_,j){var _e=this,et=this._readableState&&this._readableState.destroyed,$=this._writableState&&this._writableState.destroyed;return et||$?(j?j(_):_&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process$1.nextTick(b,this,_)):process$1.nextTick(b,this,_)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(_||null,function(rt){!j&&rt?_e._writableState?_e._writableState.errorEmitted?process$1.nextTick(c,_e):(_e._writableState.errorEmitted=!0,process$1.nextTick(a,_e,rt)):process$1.nextTick(a,_e,rt):j?(process$1.nextTick(c,_e),j(rt)):process$1.nextTick(c,_e)}),this)}function a(_,j){b(_,j),c(_)}function c(_){_._writableState&&!_._writableState.emitClose||_._readableState&&!_._readableState.emitClose||_.emit("close")}function d(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function b(_,j){_.emit("error",j)}function h(_,j){var _e=_._readableState,et=_._writableState;_e&&_e.autoDestroy||et&&et.autoDestroy?_.destroy(j):_.emit("error",j)}return destroy_1$1={destroy:e,undestroy:d,errorOrDestroy:h},destroy_1$1}var errorsBrowser={},hasRequiredErrorsBrowser;function requireErrorsBrowser(){if(hasRequiredErrorsBrowser)return errorsBrowser;hasRequiredErrorsBrowser=1;function e(j,_e){j.prototype=Object.create(_e.prototype),j.prototype.constructor=j,j.__proto__=_e}var a={};function c(j,_e,et){et||(et=Error);function $(nt,st,at){return typeof _e=="string"?_e:_e(nt,st,at)}var rt=function(nt){e(st,nt);function st(at,ut,wt){return nt.call(this,$(at,ut,wt))||this}return st}(et);rt.prototype.name=et.name,rt.prototype.code=j,a[j]=rt}function d(j,_e){if(Array.isArray(j)){var et=j.length;return j=j.map(function($){return String($)}),et>2?"one of ".concat(_e," ").concat(j.slice(0,et-1).join(", "),", or ")+j[et-1]:et===2?"one of ".concat(_e," ").concat(j[0]," or ").concat(j[1]):"of ".concat(_e," ").concat(j[0])}else return"of ".concat(_e," ").concat(String(j))}function b(j,_e,et){return j.substr(0,_e.length)===_e}function h(j,_e,et){return(et===void 0||et>j.length)&&(et=j.length),j.substring(et-_e.length,et)===_e}function _(j,_e,et){return typeof et!="number"&&(et=0),et+_e.length>j.length?!1:j.indexOf(_e,et)!==-1}return c("ERR_INVALID_OPT_VALUE",function(j,_e){return'The value "'+_e+'" is invalid for option "'+j+'"'},TypeError),c("ERR_INVALID_ARG_TYPE",function(j,_e,et){var $;typeof _e=="string"&&b(_e,"not ")?($="must not be",_e=_e.replace(/^not /,"")):$="must be";var rt;if(h(j," argument"))rt="The ".concat(j," ").concat($," ").concat(d(_e,"type"));else{var nt=_(j,".")?"property":"argument";rt='The "'.concat(j,'" ').concat(nt," ").concat($," ").concat(d(_e,"type"))}return rt+=". Received type ".concat(typeof et),rt},TypeError),c("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),c("ERR_METHOD_NOT_IMPLEMENTED",function(j){return"The "+j+" method is not implemented"}),c("ERR_STREAM_PREMATURE_CLOSE","Premature close"),c("ERR_STREAM_DESTROYED",function(j){return"Cannot call "+j+" after a stream was destroyed"}),c("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),c("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),c("ERR_STREAM_WRITE_AFTER_END","write after end"),c("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),c("ERR_UNKNOWN_ENCODING",function(j){return"Unknown encoding: "+j},TypeError),c("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),errorsBrowser.codes=a,errorsBrowser}var state,hasRequiredState;function requireState(){if(hasRequiredState)return state;hasRequiredState=1;var e=requireErrorsBrowser().codes.ERR_INVALID_OPT_VALUE;function a(d,b,h){return d.highWaterMark!=null?d.highWaterMark:b?d[h]:null}function c(d,b,h,_){var j=a(b,_,h);if(j!=null){if(!(isFinite(j)&&Math.floor(j)===j)||j<0){var _e=_?h:"highWaterMark";throw new e(_e,j)}return Math.floor(j)}return d.objectMode?16:16*1024}return state={getHighWaterMark:c},state}var _stream_writable$1,hasRequired_stream_writable$1;function require_stream_writable$1(){if(hasRequired_stream_writable$1)return _stream_writable$1;hasRequired_stream_writable$1=1,_stream_writable$1=Bt;function e(qt){var _t=this;this.next=null,this.entry=null,this.finish=function(){Ht(_t,qt)}}var a;Bt.WritableState=Ct;var c={deprecate:requireBrowser$a()},d=requireStreamBrowser$1(),b=require$$0$1.Buffer,h=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function _(qt){return b.from(qt)}function j(qt){return b.isBuffer(qt)||qt instanceof h}var _e=requireDestroy$1(),et=requireState(),$=et.getHighWaterMark,rt=requireErrorsBrowser().codes,nt=rt.ERR_INVALID_ARG_TYPE,st=rt.ERR_METHOD_NOT_IMPLEMENTED,at=rt.ERR_MULTIPLE_CALLBACK,ut=rt.ERR_STREAM_CANNOT_PIPE,wt=rt.ERR_STREAM_DESTROYED,pt=rt.ERR_STREAM_NULL_VALUES,xt=rt.ERR_STREAM_WRITE_AFTER_END,St=rt.ERR_UNKNOWN_ENCODING,Nt=_e.errorOrDestroy;inherits_browserExports(Bt,d);function At(){}function Ct(qt,_t,kt){a=a||require_stream_duplex$1(),qt=qt||{},typeof kt!="boolean"&&(kt=_t instanceof a),this.objectMode=!!qt.objectMode,kt&&(this.objectMode=this.objectMode||!!qt.writableObjectMode),this.highWaterMark=$(this,qt,"writableHighWaterMark",kt),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Lt=qt.decodeStrings===!1;this.decodeStrings=!Lt,this.defaultEncoding=qt.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Kt){ht(_t,Kt)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=qt.emitClose!==!1,this.autoDestroy=!!qt.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}Ct.prototype.getBuffer=function(){for(var _t=this.bufferedRequest,kt=[];_t;)kt.push(_t),_t=_t.next;return kt},function(){try{Object.defineProperty(Ct.prototype,"buffer",{get:c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var Vt;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Vt=Function.prototype[Symbol.hasInstance],Object.defineProperty(Bt,Symbol.hasInstance,{value:function(_t){return Vt.call(this,_t)?!0:this!==Bt?!1:_t&&_t._writableState instanceof Ct}})):Vt=function(_t){return _t instanceof this};function Bt(qt){a=a||require_stream_duplex$1();var _t=this instanceof a;if(!_t&&!Vt.call(Bt,this))return new Bt(qt);this._writableState=new Ct(qt,this,_t),this.writable=!0,qt&&(typeof qt.write=="function"&&(this._write=qt.write),typeof qt.writev=="function"&&(this._writev=qt.writev),typeof qt.destroy=="function"&&(this._destroy=qt.destroy),typeof qt.final=="function"&&(this._final=qt.final)),d.call(this)}Bt.prototype.pipe=function(){Nt(this,new ut)};function Ut(qt,_t){var kt=new xt;Nt(qt,kt),process$1.nextTick(_t,kt)}function Ft(qt,_t,kt,Lt){var Kt;return kt===null?Kt=new pt:typeof kt!="string"&&!_t.objectMode&&(Kt=new nt("chunk",["string","Buffer"],kt)),Kt?(Nt(qt,Kt),process$1.nextTick(Lt,Kt),!1):!0}Bt.prototype.write=function(qt,_t,kt){var Lt=this._writableState,Kt=!1,$t=!Lt.objectMode&&j(qt);return $t&&!b.isBuffer(qt)&&(qt=_(qt)),typeof _t=="function"&&(kt=_t,_t=null),$t?_t="buffer":_t||(_t=Lt.defaultEncoding),typeof kt!="function"&&(kt=At),Lt.ending?Ut(this,kt):($t||Ft(this,Lt,qt,kt))&&(Lt.pendingcb++,Kt=mt(this,Lt,$t,qt,_t,kt)),Kt},Bt.prototype.cork=function(){this._writableState.corked++},Bt.prototype.uncork=function(){var qt=this._writableState;qt.corked&&(qt.corked--,!qt.writing&&!qt.corked&&!qt.bufferProcessing&&qt.bufferedRequest&&gt(this,qt))},Bt.prototype.setDefaultEncoding=function(_t){if(typeof _t=="string"&&(_t=_t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((_t+"").toLowerCase())>-1))throw new St(_t);return this._writableState.defaultEncoding=_t,this},Object.defineProperty(Bt.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Mt(qt,_t,kt){return!qt.objectMode&&qt.decodeStrings!==!1&&typeof _t=="string"&&(_t=b.from(_t,kt)),_t}Object.defineProperty(Bt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function mt(qt,_t,kt,Lt,Kt,$t){if(!kt){var It=Mt(_t,Lt,Kt);Lt!==It&&(kt=!0,Kt="buffer",Lt=It)}var Xt=_t.objectMode?1:Lt.length;_t.length+=Xt;var cr=_t.length<_t.highWaterMark;if(cr||(_t.needDrain=!0),_t.writing||_t.corked){var fr=_t.lastBufferedRequest;_t.lastBufferedRequest={chunk:Lt,encoding:Kt,isBuf:kt,callback:$t,next:null},fr?fr.next=_t.lastBufferedRequest:_t.bufferedRequest=_t.lastBufferedRequest,_t.bufferedRequestCount+=1}else ft(qt,_t,!1,Xt,Lt,Kt,$t);return cr}function ft(qt,_t,kt,Lt,Kt,$t,It){_t.writelen=Lt,_t.writecb=It,_t.writing=!0,_t.sync=!0,_t.destroyed?_t.onwrite(new wt("write")):kt?qt._writev(Kt,_t.onwrite):qt._write(Kt,$t,_t.onwrite),_t.sync=!1}function tt(qt,_t,kt,Lt,Kt){--_t.pendingcb,kt?(process$1.nextTick(Kt,Lt),process$1.nextTick(yt,qt,_t),qt._writableState.errorEmitted=!0,Nt(qt,Lt)):(Kt(Lt),qt._writableState.errorEmitted=!0,Nt(qt,Lt),yt(qt,_t))}function it(qt){qt.writing=!1,qt.writecb=null,qt.length-=qt.writelen,qt.writelen=0}function ht(qt,_t){var kt=qt._writableState,Lt=kt.sync,Kt=kt.writecb;if(typeof Kt!="function")throw new at;if(it(kt),_t)tt(qt,kt,Lt,_t,Kt);else{var $t=ot(kt)||qt.destroyed;!$t&&!kt.corked&&!kt.bufferProcessing&&kt.bufferedRequest&&gt(qt,kt),Lt?process$1.nextTick(dt,qt,kt,$t,Kt):dt(qt,kt,$t,Kt)}}function dt(qt,_t,kt,Lt){kt||lt(qt,_t),_t.pendingcb--,Lt(),yt(qt,_t)}function lt(qt,_t){_t.length===0&&_t.needDrain&&(_t.needDrain=!1,qt.emit("drain"))}function gt(qt,_t){_t.bufferProcessing=!0;var kt=_t.bufferedRequest;if(qt._writev&&kt&&kt.next){var Lt=_t.bufferedRequestCount,Kt=new Array(Lt),$t=_t.corkedRequestsFree;$t.entry=kt;for(var It=0,Xt=!0;kt;)Kt[It]=kt,kt.isBuf||(Xt=!1),kt=kt.next,It+=1;Kt.allBuffers=Xt,ft(qt,_t,!0,_t.length,Kt,"",$t.finish),_t.pendingcb++,_t.lastBufferedRequest=null,$t.next?(_t.corkedRequestsFree=$t.next,$t.next=null):_t.corkedRequestsFree=new e(_t),_t.bufferedRequestCount=0}else{for(;kt;){var cr=kt.chunk,fr=kt.encoding,hr=kt.callback,yr=_t.objectMode?1:cr.length;if(ft(qt,_t,!1,yr,cr,fr,hr),kt=kt.next,_t.bufferedRequestCount--,_t.writing)break}kt===null&&(_t.lastBufferedRequest=null)}_t.bufferedRequest=kt,_t.bufferProcessing=!1}Bt.prototype._write=function(qt,_t,kt){kt(new st("_write()"))},Bt.prototype._writev=null,Bt.prototype.end=function(qt,_t,kt){var Lt=this._writableState;return typeof qt=="function"?(kt=qt,qt=null,_t=null):typeof _t=="function"&&(kt=_t,_t=null),qt!=null&&this.write(qt,_t),Lt.corked&&(Lt.corked=1,this.uncork()),Lt.ending||Dt(this,Lt,kt),this},Object.defineProperty(Bt.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ot(qt){return qt.ending&&qt.length===0&&qt.bufferedRequest===null&&!qt.finished&&!qt.writing}function vt(qt,_t){qt._final(function(kt){_t.pendingcb--,kt&&Nt(qt,kt),_t.prefinished=!0,qt.emit("prefinish"),yt(qt,_t)})}function ct(qt,_t){!_t.prefinished&&!_t.finalCalled&&(typeof qt._final=="function"&&!_t.destroyed?(_t.pendingcb++,_t.finalCalled=!0,process$1.nextTick(vt,qt,_t)):(_t.prefinished=!0,qt.emit("prefinish")))}function yt(qt,_t){var kt=ot(_t);if(kt&&(ct(qt,_t),_t.pendingcb===0&&(_t.finished=!0,qt.emit("finish"),_t.autoDestroy))){var Lt=qt._readableState;(!Lt||Lt.autoDestroy&&Lt.endEmitted)&&qt.destroy()}return kt}function Dt(qt,_t,kt){_t.ending=!0,yt(qt,_t),kt&&(_t.finished?process$1.nextTick(kt):qt.once("finish",kt)),_t.ended=!0,qt.writable=!1}function Ht(qt,_t,kt){var Lt=qt.entry;for(qt.entry=null;Lt;){var Kt=Lt.callback;_t.pendingcb--,Kt(kt),Lt=Lt.next}_t.corkedRequestsFree.next=qt}return Object.defineProperty(Bt.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(_t){this._writableState&&(this._writableState.destroyed=_t)}}),Bt.prototype.destroy=_e.destroy,Bt.prototype._undestroy=_e.undestroy,Bt.prototype._destroy=function(qt,_t){_t(qt)},_stream_writable$1}var _stream_duplex$1,hasRequired_stream_duplex$1;function require_stream_duplex$1(){if(hasRequired_stream_duplex$1)return _stream_duplex$1;hasRequired_stream_duplex$1=1;var e=Object.keys||function(et){var $=[];for(var rt in et)$.push(rt);return $};_stream_duplex$1=_;var a=require_stream_readable$1(),c=require_stream_writable$1();inherits_browserExports(_,a);for(var d=e(c.prototype),b=0;b<d.length;b++){var h=d[b];_.prototype[h]||(_.prototype[h]=c.prototype[h])}function _(et){if(!(this instanceof _))return new _(et);a.call(this,et),c.call(this,et),this.allowHalfOpen=!0,et&&(et.readable===!1&&(this.readable=!1),et.writable===!1&&(this.writable=!1),et.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",j)))}Object.defineProperty(_.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(_.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(_.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function j(){this._writableState.ended||process$1.nextTick(_e,this)}function _e(et){et.end()}return Object.defineProperty(_.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function($){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=$,this._writableState.destroyed=$)}}),_stream_duplex$1}var endOfStream,hasRequiredEndOfStream;function requireEndOfStream(){if(hasRequiredEndOfStream)return endOfStream;hasRequiredEndOfStream=1;var e=requireErrorsBrowser().codes.ERR_STREAM_PREMATURE_CLOSE;function a(h){var _=!1;return function(){if(!_){_=!0;for(var j=arguments.length,_e=new Array(j),et=0;et<j;et++)_e[et]=arguments[et];h.apply(this,_e)}}}function c(){}function d(h){return h.setHeader&&typeof h.abort=="function"}function b(h,_,j){if(typeof _=="function")return b(h,null,_);_||(_={}),j=a(j||c);var _e=_.readable||_.readable!==!1&&h.readable,et=_.writable||_.writable!==!1&&h.writable,$=function(){h.writable||nt()},rt=h._writableState&&h._writableState.finished,nt=function(){et=!1,rt=!0,_e||j.call(h)},st=h._readableState&&h._readableState.endEmitted,at=function(){_e=!1,st=!0,et||j.call(h)},ut=function(St){j.call(h,St)},wt=function(){var St;if(_e&&!st)return(!h._readableState||!h._readableState.ended)&&(St=new e),j.call(h,St);if(et&&!rt)return(!h._writableState||!h._writableState.ended)&&(St=new e),j.call(h,St)},pt=function(){h.req.on("finish",nt)};return d(h)?(h.on("complete",nt),h.on("abort",wt),h.req?pt():h.on("request",pt)):et&&!h._writableState&&(h.on("end",$),h.on("close",$)),h.on("end",at),h.on("finish",nt),_.error!==!1&&h.on("error",ut),h.on("close",wt),function(){h.removeListener("complete",nt),h.removeListener("abort",wt),h.removeListener("request",pt),h.req&&h.req.removeListener("finish",nt),h.removeListener("end",$),h.removeListener("close",$),h.removeListener("finish",nt),h.removeListener("end",at),h.removeListener("error",ut),h.removeListener("close",wt)}}return endOfStream=b,endOfStream}var async_iterator,hasRequiredAsync_iterator;function requireAsync_iterator(){if(hasRequiredAsync_iterator)return async_iterator;hasRequiredAsync_iterator=1;var e;function a(St,Nt,At){return Nt=c(Nt),Nt in St?Object.defineProperty(St,Nt,{value:At,enumerable:!0,configurable:!0,writable:!0}):St[Nt]=At,St}function c(St){var Nt=d(St,"string");return typeof Nt=="symbol"?Nt:String(Nt)}function d(St,Nt){if(typeof St!="object"||St===null)return St;var At=St[Symbol.toPrimitive];if(At!==void 0){var Ct=At.call(St,Nt);if(typeof Ct!="object")return Ct;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Nt==="string"?String:Number)(St)}var b=requireEndOfStream(),h=Symbol("lastResolve"),_=Symbol("lastReject"),j=Symbol("error"),_e=Symbol("ended"),et=Symbol("lastPromise"),$=Symbol("handlePromise"),rt=Symbol("stream");function nt(St,Nt){return{value:St,done:Nt}}function st(St){var Nt=St[h];if(Nt!==null){var At=St[rt].read();At!==null&&(St[et]=null,St[h]=null,St[_]=null,Nt(nt(At,!1)))}}function at(St){process$1.nextTick(st,St)}function ut(St,Nt){return function(At,Ct){St.then(function(){if(Nt[_e]){At(nt(void 0,!0));return}Nt[$](At,Ct)},Ct)}}var wt=Object.getPrototypeOf(function(){}),pt=Object.setPrototypeOf((e={get stream(){return this[rt]},next:function(){var Nt=this,At=this[j];if(At!==null)return Promise.reject(At);if(this[_e])return Promise.resolve(nt(void 0,!0));if(this[rt].destroyed)return new Promise(function(Ut,Ft){process$1.nextTick(function(){Nt[j]?Ft(Nt[j]):Ut(nt(void 0,!0))})});var Ct=this[et],Vt;if(Ct)Vt=new Promise(ut(Ct,this));else{var Bt=this[rt].read();if(Bt!==null)return Promise.resolve(nt(Bt,!1));Vt=new Promise(this[$])}return this[et]=Vt,Vt}},a(e,Symbol.asyncIterator,function(){return this}),a(e,"return",function(){var Nt=this;return new Promise(function(At,Ct){Nt[rt].destroy(null,function(Vt){if(Vt){Ct(Vt);return}At(nt(void 0,!0))})})}),e),wt),xt=function(Nt){var At,Ct=Object.create(pt,(At={},a(At,rt,{value:Nt,writable:!0}),a(At,h,{value:null,writable:!0}),a(At,_,{value:null,writable:!0}),a(At,j,{value:null,writable:!0}),a(At,_e,{value:Nt._readableState.endEmitted,writable:!0}),a(At,$,{value:function(Bt,Ut){var Ft=Ct[rt].read();Ft?(Ct[et]=null,Ct[h]=null,Ct[_]=null,Bt(nt(Ft,!1))):(Ct[h]=Bt,Ct[_]=Ut)},writable:!0}),At));return Ct[et]=null,b(Nt,function(Vt){if(Vt&&Vt.code!=="ERR_STREAM_PREMATURE_CLOSE"){var Bt=Ct[_];Bt!==null&&(Ct[et]=null,Ct[h]=null,Ct[_]=null,Bt(Vt)),Ct[j]=Vt;return}var Ut=Ct[h];Ut!==null&&(Ct[et]=null,Ct[h]=null,Ct[_]=null,Ut(nt(void 0,!0))),Ct[_e]=!0}),Nt.on("readable",at.bind(null,Ct)),Ct};return async_iterator=xt,async_iterator}var fromBrowser,hasRequiredFromBrowser;function requireFromBrowser(){return hasRequiredFromBrowser||(hasRequiredFromBrowser=1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")}),fromBrowser}var _stream_readable$1,hasRequired_stream_readable$1;function require_stream_readable$1(){if(hasRequired_stream_readable$1)return _stream_readable$1;hasRequired_stream_readable$1=1,_stream_readable$1=Ut;var e;Ut.ReadableState=Bt,eventsExports.EventEmitter;var a=function(It,Xt){return It.listeners(Xt).length},c=requireStreamBrowser$1(),d=require$$0$1.Buffer,b=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function h($t){return d.from($t)}function _($t){return d.isBuffer($t)||$t instanceof b}var j=util$1,_e;j&&j.debuglog?_e=j.debuglog("stream"):_e=function(){};var et=requireBuffer_list(),$=requireDestroy$1(),rt=requireState(),nt=rt.getHighWaterMark,st=requireErrorsBrowser().codes,at=st.ERR_INVALID_ARG_TYPE,ut=st.ERR_STREAM_PUSH_AFTER_EOF,wt=st.ERR_METHOD_NOT_IMPLEMENTED,pt=st.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,xt,St,Nt;inherits_browserExports(Ut,c);var At=$.errorOrDestroy,Ct=["error","close","destroy","pause","resume"];function Vt($t,It,Xt){if(typeof $t.prependListener=="function")return $t.prependListener(It,Xt);!$t._events||!$t._events[It]?$t.on(It,Xt):Array.isArray($t._events[It])?$t._events[It].unshift(Xt):$t._events[It]=[Xt,$t._events[It]]}function Bt($t,It,Xt){e=e||require_stream_duplex$1(),$t=$t||{},typeof Xt!="boolean"&&(Xt=It instanceof e),this.objectMode=!!$t.objectMode,Xt&&(this.objectMode=this.objectMode||!!$t.readableObjectMode),this.highWaterMark=nt(this,$t,"readableHighWaterMark",Xt),this.buffer=new et,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=$t.emitClose!==!1,this.autoDestroy=!!$t.autoDestroy,this.destroyed=!1,this.defaultEncoding=$t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,$t.encoding&&(xt||(xt=requireString_decoder().StringDecoder),this.decoder=new xt($t.encoding),this.encoding=$t.encoding)}function Ut($t){if(e=e||require_stream_duplex$1(),!(this instanceof Ut))return new Ut($t);var It=this instanceof e;this._readableState=new Bt($t,this,It),this.readable=!0,$t&&(typeof $t.read=="function"&&(this._read=$t.read),typeof $t.destroy=="function"&&(this._destroy=$t.destroy)),c.call(this)}Object.defineProperty(Ut.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(It){this._readableState&&(this._readableState.destroyed=It)}}),Ut.prototype.destroy=$.destroy,Ut.prototype._undestroy=$.undestroy,Ut.prototype._destroy=function($t,It){It($t)},Ut.prototype.push=function($t,It){var Xt=this._readableState,cr;return Xt.objectMode?cr=!0:typeof $t=="string"&&(It=It||Xt.defaultEncoding,It!==Xt.encoding&&($t=d.from($t,It),It=""),cr=!0),Ft(this,$t,It,!1,cr)},Ut.prototype.unshift=function($t){return Ft(this,$t,null,!0,!1)};function Ft($t,It,Xt,cr,fr){_e("readableAddChunk",It);var hr=$t._readableState;if(It===null)hr.reading=!1,ht($t,hr);else{var yr;if(fr||(yr=mt(hr,It)),yr)At($t,yr);else if(hr.objectMode||It&&It.length>0)if(typeof It!="string"&&!hr.objectMode&&Object.getPrototypeOf(It)!==d.prototype&&(It=h(It)),cr)hr.endEmitted?At($t,new pt):Mt($t,hr,It,!0);else if(hr.ended)At($t,new ut);else{if(hr.destroyed)return!1;hr.reading=!1,hr.decoder&&!Xt?(It=hr.decoder.write(It),hr.objectMode||It.length!==0?Mt($t,hr,It,!1):gt($t,hr)):Mt($t,hr,It,!1)}else cr||(hr.reading=!1,gt($t,hr))}return!hr.ended&&(hr.length<hr.highWaterMark||hr.length===0)}function Mt($t,It,Xt,cr){It.flowing&&It.length===0&&!It.sync?(It.awaitDrain=0,$t.emit("data",Xt)):(It.length+=It.objectMode?1:Xt.length,cr?It.buffer.unshift(Xt):It.buffer.push(Xt),It.needReadable&&dt($t)),gt($t,It)}function mt($t,It){var Xt;return!_(It)&&typeof It!="string"&&It!==void 0&&!$t.objectMode&&(Xt=new at("chunk",["string","Buffer","Uint8Array"],It)),Xt}Ut.prototype.isPaused=function(){return this._readableState.flowing===!1},Ut.prototype.setEncoding=function($t){xt||(xt=requireString_decoder().StringDecoder);var It=new xt($t);this._readableState.decoder=It,this._readableState.encoding=this._readableState.decoder.encoding;for(var Xt=this._readableState.buffer.head,cr="";Xt!==null;)cr+=It.write(Xt.data),Xt=Xt.next;return this._readableState.buffer.clear(),cr!==""&&this._readableState.buffer.push(cr),this._readableState.length=cr.length,this};var ft=1073741824;function tt($t){return $t>=ft?$t=ft:($t--,$t|=$t>>>1,$t|=$t>>>2,$t|=$t>>>4,$t|=$t>>>8,$t|=$t>>>16,$t++),$t}function it($t,It){return $t<=0||It.length===0&&It.ended?0:It.objectMode?1:$t!==$t?It.flowing&&It.length?It.buffer.head.data.length:It.length:($t>It.highWaterMark&&(It.highWaterMark=tt($t)),$t<=It.length?$t:It.ended?It.length:(It.needReadable=!0,0))}Ut.prototype.read=function($t){_e("read",$t),$t=parseInt($t,10);var It=this._readableState,Xt=$t;if($t!==0&&(It.emittedReadable=!1),$t===0&&It.needReadable&&((It.highWaterMark!==0?It.length>=It.highWaterMark:It.length>0)||It.ended))return _e("read: emitReadable",It.length,It.ended),It.length===0&&It.ended?kt(this):dt(this),null;if($t=it($t,It),$t===0&&It.ended)return It.length===0&&kt(this),null;var cr=It.needReadable;_e("need readable",cr),(It.length===0||It.length-$t<It.highWaterMark)&&(cr=!0,_e("length less than watermark",cr)),It.ended||It.reading?(cr=!1,_e("reading or ended",cr)):cr&&(_e("do read"),It.reading=!0,It.sync=!0,It.length===0&&(It.needReadable=!0),this._read(It.highWaterMark),It.sync=!1,It.reading||($t=it(Xt,It)));var fr;return $t>0?fr=_t($t,It):fr=null,fr===null?(It.needReadable=It.length<=It.highWaterMark,$t=0):(It.length-=$t,It.awaitDrain=0),It.length===0&&(It.ended||(It.needReadable=!0),Xt!==$t&&It.ended&&kt(this)),fr!==null&&this.emit("data",fr),fr};function ht($t,It){if(_e("onEofChunk"),!It.ended){if(It.decoder){var Xt=It.decoder.end();Xt&&Xt.length&&(It.buffer.push(Xt),It.length+=It.objectMode?1:Xt.length)}It.ended=!0,It.sync?dt($t):(It.needReadable=!1,It.emittedReadable||(It.emittedReadable=!0,lt($t)))}}function dt($t){var It=$t._readableState;_e("emitReadable",It.needReadable,It.emittedReadable),It.needReadable=!1,It.emittedReadable||(_e("emitReadable",It.flowing),It.emittedReadable=!0,process$1.nextTick(lt,$t))}function lt($t){var It=$t._readableState;_e("emitReadable_",It.destroyed,It.length,It.ended),!It.destroyed&&(It.length||It.ended)&&($t.emit("readable"),It.emittedReadable=!1),It.needReadable=!It.flowing&&!It.ended&&It.length<=It.highWaterMark,qt($t)}function gt($t,It){It.readingMore||(It.readingMore=!0,process$1.nextTick(ot,$t,It))}function ot($t,It){for(;!It.reading&&!It.ended&&(It.length<It.highWaterMark||It.flowing&&It.length===0);){var Xt=It.length;if(_e("maybeReadMore read 0"),$t.read(0),Xt===It.length)break}It.readingMore=!1}Ut.prototype._read=function($t){At(this,new wt("_read()"))},Ut.prototype.pipe=function($t,It){var Xt=this,cr=this._readableState;switch(cr.pipesCount){case 0:cr.pipes=$t;break;case 1:cr.pipes=[cr.pipes,$t];break;default:cr.pipes.push($t);break}cr.pipesCount+=1,_e("pipe count=%d opts=%j",cr.pipesCount,It);var fr=(!It||It.end!==!1)&&$t!==process$1.stdout&&$t!==process$1.stderr,hr=fr?Sr:Qt;cr.endEmitted?process$1.nextTick(hr):Xt.once("end",hr),$t.on("unpipe",yr);function yr(tr,gr){_e("onunpipe"),tr===Xt&&gr&&gr.hasUnpiped===!1&&(gr.hasUnpiped=!0,Gt())}function Sr(){_e("onend"),$t.end()}var sr=vt(Xt);$t.on("drain",sr);var Zt=!1;function Gt(){_e("cleanup"),$t.removeListener("close",ir),$t.removeListener("finish",lr),$t.removeListener("drain",sr),$t.removeListener("error",ur),$t.removeListener("unpipe",yr),Xt.removeListener("end",Sr),Xt.removeListener("end",Qt),Xt.removeListener("data",nr),Zt=!0,cr.awaitDrain&&(!$t._writableState||$t._writableState.needDrain)&&sr()}Xt.on("data",nr);function nr(tr){_e("ondata");var gr=$t.write(tr);_e("dest.write",gr),gr===!1&&((cr.pipesCount===1&&cr.pipes===$t||cr.pipesCount>1&&Kt(cr.pipes,$t)!==-1)&&!Zt&&(_e("false write response, pause",cr.awaitDrain),cr.awaitDrain++),Xt.pause())}function ur(tr){_e("onerror",tr),Qt(),$t.removeListener("error",ur),a($t,"error")===0&&At($t,tr)}Vt($t,"error",ur);function ir(){$t.removeListener("finish",lr),Qt()}$t.once("close",ir);function lr(){_e("onfinish"),$t.removeListener("close",ir),Qt()}$t.once("finish",lr);function Qt(){_e("unpipe"),Xt.unpipe($t)}return $t.emit("pipe",Xt),cr.flowing||(_e("pipe resume"),Xt.resume()),$t};function vt($t){return function(){var Xt=$t._readableState;_e("pipeOnDrain",Xt.awaitDrain),Xt.awaitDrain&&Xt.awaitDrain--,Xt.awaitDrain===0&&a($t,"data")&&(Xt.flowing=!0,qt($t))}}Ut.prototype.unpipe=function($t){var It=this._readableState,Xt={hasUnpiped:!1};if(It.pipesCount===0)return this;if(It.pipesCount===1)return $t&&$t!==It.pipes?this:($t||($t=It.pipes),It.pipes=null,It.pipesCount=0,It.flowing=!1,$t&&$t.emit("unpipe",this,Xt),this);if(!$t){var cr=It.pipes,fr=It.pipesCount;It.pipes=null,It.pipesCount=0,It.flowing=!1;for(var hr=0;hr<fr;hr++)cr[hr].emit("unpipe",this,{hasUnpiped:!1});return this}var yr=Kt(It.pipes,$t);return yr===-1?this:(It.pipes.splice(yr,1),It.pipesCount-=1,It.pipesCount===1&&(It.pipes=It.pipes[0]),$t.emit("unpipe",this,Xt),this)},Ut.prototype.on=function($t,It){var Xt=c.prototype.on.call(this,$t,It),cr=this._readableState;return $t==="data"?(cr.readableListening=this.listenerCount("readable")>0,cr.flowing!==!1&&this.resume()):$t==="readable"&&!cr.endEmitted&&!cr.readableListening&&(cr.readableListening=cr.needReadable=!0,cr.flowing=!1,cr.emittedReadable=!1,_e("on readable",cr.length,cr.reading),cr.length?dt(this):cr.reading||process$1.nextTick(yt,this)),Xt},Ut.prototype.addListener=Ut.prototype.on,Ut.prototype.removeListener=function($t,It){var Xt=c.prototype.removeListener.call(this,$t,It);return $t==="readable"&&process$1.nextTick(ct,this),Xt},Ut.prototype.removeAllListeners=function($t){var It=c.prototype.removeAllListeners.apply(this,arguments);return($t==="readable"||$t===void 0)&&process$1.nextTick(ct,this),It};function ct($t){var It=$t._readableState;It.readableListening=$t.listenerCount("readable")>0,It.resumeScheduled&&!It.paused?It.flowing=!0:$t.listenerCount("data")>0&&$t.resume()}function yt($t){_e("readable nexttick read 0"),$t.read(0)}Ut.prototype.resume=function(){var $t=this._readableState;return $t.flowing||(_e("resume"),$t.flowing=!$t.readableListening,Dt(this,$t)),$t.paused=!1,this};function Dt($t,It){It.resumeScheduled||(It.resumeScheduled=!0,process$1.nextTick(Ht,$t,It))}function Ht($t,It){_e("resume",It.reading),It.reading||$t.read(0),It.resumeScheduled=!1,$t.emit("resume"),qt($t),It.flowing&&!It.reading&&$t.read(0)}Ut.prototype.pause=function(){return _e("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(_e("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function qt($t){var It=$t._readableState;for(_e("flow",It.flowing);It.flowing&&$t.read()!==null;);}Ut.prototype.wrap=function($t){var It=this,Xt=this._readableState,cr=!1;$t.on("end",function(){if(_e("wrapped end"),Xt.decoder&&!Xt.ended){var yr=Xt.decoder.end();yr&&yr.length&&It.push(yr)}It.push(null)}),$t.on("data",function(yr){if(_e("wrapped data"),Xt.decoder&&(yr=Xt.decoder.write(yr)),!(Xt.objectMode&&yr==null)&&!(!Xt.objectMode&&(!yr||!yr.length))){var Sr=It.push(yr);Sr||(cr=!0,$t.pause())}});for(var fr in $t)this[fr]===void 0&&typeof $t[fr]=="function"&&(this[fr]=function(Sr){return function(){return $t[Sr].apply($t,arguments)}}(fr));for(var hr=0;hr<Ct.length;hr++)$t.on(Ct[hr],this.emit.bind(this,Ct[hr]));return this._read=function(yr){_e("wrapped _read",yr),cr&&(cr=!1,$t.resume())},this},typeof Symbol=="function"&&(Ut.prototype[Symbol.asyncIterator]=function(){return St===void 0&&(St=requireAsync_iterator()),St(this)}),Object.defineProperty(Ut.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Ut.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Ut.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(It){this._readableState&&(this._readableState.flowing=It)}}),Ut._fromList=_t,Object.defineProperty(Ut.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function _t($t,It){if(It.length===0)return null;var Xt;return It.objectMode?Xt=It.buffer.shift():!$t||$t>=It.length?(It.decoder?Xt=It.buffer.join(""):It.buffer.length===1?Xt=It.buffer.first():Xt=It.buffer.concat(It.length),It.buffer.clear()):Xt=It.buffer.consume($t,It.decoder),Xt}function kt($t){var It=$t._readableState;_e("endReadable",It.endEmitted),It.endEmitted||(It.ended=!0,process$1.nextTick(Lt,It,$t))}function Lt($t,It){if(_e("endReadableNT",$t.endEmitted,$t.length),!$t.endEmitted&&$t.length===0&&($t.endEmitted=!0,It.readable=!1,It.emit("end"),$t.autoDestroy)){var Xt=It._writableState;(!Xt||Xt.autoDestroy&&Xt.finished)&&It.destroy()}}typeof Symbol=="function"&&(Ut.from=function($t,It){return Nt===void 0&&(Nt=requireFromBrowser()),Nt(Ut,$t,It)});function Kt($t,It){for(var Xt=0,cr=$t.length;Xt<cr;Xt++)if($t[Xt]===It)return Xt;return-1}return _stream_readable$1}var _stream_transform$1,hasRequired_stream_transform$1;function require_stream_transform$1(){if(hasRequired_stream_transform$1)return _stream_transform$1;hasRequired_stream_transform$1=1,_stream_transform$1=j;var e=requireErrorsBrowser().codes,a=e.ERR_METHOD_NOT_IMPLEMENTED,c=e.ERR_MULTIPLE_CALLBACK,d=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,b=e.ERR_TRANSFORM_WITH_LENGTH_0,h=require_stream_duplex$1();inherits_browserExports(j,h);function _($,rt){var nt=this._transformState;nt.transforming=!1;var st=nt.writecb;if(st===null)return this.emit("error",new c);nt.writechunk=null,nt.writecb=null,rt!=null&&this.push(rt),st($);var at=this._readableState;at.reading=!1,(at.needReadable||at.length<at.highWaterMark)&&this._read(at.highWaterMark)}function j($){if(!(this instanceof j))return new j($);h.call(this,$),this._transformState={afterTransform:_.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,$&&(typeof $.transform=="function"&&(this._transform=$.transform),typeof $.flush=="function"&&(this._flush=$.flush)),this.on("prefinish",_e)}function _e(){var $=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(rt,nt){et($,rt,nt)}):et(this,null,null)}j.prototype.push=function($,rt){return this._transformState.needTransform=!1,h.prototype.push.call(this,$,rt)},j.prototype._transform=function($,rt,nt){nt(new a("_transform()"))},j.prototype._write=function($,rt,nt){var st=this._transformState;if(st.writecb=nt,st.writechunk=$,st.writeencoding=rt,!st.transforming){var at=this._readableState;(st.needTransform||at.needReadable||at.length<at.highWaterMark)&&this._read(at.highWaterMark)}},j.prototype._read=function($){var rt=this._transformState;rt.writechunk!==null&&!rt.transforming?(rt.transforming=!0,this._transform(rt.writechunk,rt.writeencoding,rt.afterTransform)):rt.needTransform=!0},j.prototype._destroy=function($,rt){h.prototype._destroy.call(this,$,function(nt){rt(nt)})};function et($,rt,nt){if(rt)return $.emit("error",rt);if(nt!=null&&$.push(nt),$._writableState.length)throw new b;if($._transformState.transforming)throw new d;return $.push(null)}return _stream_transform$1}var _stream_passthrough$1,hasRequired_stream_passthrough$1;function require_stream_passthrough$1(){if(hasRequired_stream_passthrough$1)return _stream_passthrough$1;hasRequired_stream_passthrough$1=1,_stream_passthrough$1=a;var e=require_stream_transform$1();inherits_browserExports(a,e);function a(c){if(!(this instanceof a))return new a(c);e.call(this,c)}return a.prototype._transform=function(c,d,b){b(null,c)},_stream_passthrough$1}var pipeline_1,hasRequiredPipeline;function requirePipeline(){if(hasRequiredPipeline)return pipeline_1;hasRequiredPipeline=1;var e;function a(nt){var st=!1;return function(){st||(st=!0,nt.apply(void 0,arguments))}}var c=requireErrorsBrowser().codes,d=c.ERR_MISSING_ARGS,b=c.ERR_STREAM_DESTROYED;function h(nt){if(nt)throw nt}function _(nt){return nt.setHeader&&typeof nt.abort=="function"}function j(nt,st,at,ut){ut=a(ut);var wt=!1;nt.on("close",function(){wt=!0}),e===void 0&&(e=requireEndOfStream()),e(nt,{readable:st,writable:at},function(xt){if(xt)return ut(xt);wt=!0,ut()});var pt=!1;return function(xt){if(!wt&&!pt){if(pt=!0,_(nt))return nt.abort();if(typeof nt.destroy=="function")return nt.destroy();ut(xt||new b("pipe"))}}}function _e(nt){nt()}function et(nt,st){return nt.pipe(st)}function $(nt){return!nt.length||typeof nt[nt.length-1]!="function"?h:nt.pop()}function rt(){for(var nt=arguments.length,st=new Array(nt),at=0;at<nt;at++)st[at]=arguments[at];var ut=$(st);if(Array.isArray(st[0])&&(st=st[0]),st.length<2)throw new d("streams");var wt,pt=st.map(function(xt,St){var Nt=St<st.length-1,At=St>0;return j(xt,Nt,At,function(Ct){wt||(wt=Ct),Ct&&pt.forEach(_e),!Nt&&(pt.forEach(_e),ut(wt))})});return st.reduce(et)}return pipeline_1=rt,pipeline_1}var streamBrowserify=Stream,EE=eventsExports.EventEmitter,inherits=inherits_browserExports;inherits(Stream,EE);Stream.Readable=require_stream_readable$1();Stream.Writable=require_stream_writable$1();Stream.Duplex=require_stream_duplex$1();Stream.Transform=require_stream_transform$1();Stream.PassThrough=require_stream_passthrough$1();Stream.finished=requireEndOfStream();Stream.pipeline=requirePipeline();Stream.Stream=Stream;function Stream(){EE.call(this)}Stream.prototype.pipe=function(e,a){var c=this;function d($){e.writable&&e.write($)===!1&&c.pause&&c.pause()}c.on("data",d);function b(){c.readable&&c.resume&&c.resume()}e.on("drain",b),!e._isStdio&&(!a||a.end!==!1)&&(c.on("end",_),c.on("close",j));var h=!1;function _(){h||(h=!0,e.end())}function j(){h||(h=!0,typeof e.destroy=="function"&&e.destroy())}function _e($){if(et(),EE.listenerCount(this,"error")===0)throw $}c.on("error",_e),e.on("error",_e);function et(){c.removeListener("data",d),e.removeListener("drain",b),c.removeListener("end",_),c.removeListener("close",j),c.removeListener("error",_e),e.removeListener("error",_e),c.removeListener("end",et),c.removeListener("close",et),e.removeListener("close",et)}return c.on("end",et),c.on("close",et),e.on("close",et),e.emit("pipe",c),e};var cipherBase,hasRequiredCipherBase;function requireCipherBase(){if(hasRequiredCipherBase)return cipherBase;hasRequiredCipherBase=1;var e=requireSafeBuffer$2().Buffer,a=streamBrowserify.Transform,c=requireString_decoder().StringDecoder,d=inherits_browserExports,b=requireToBuffer$2();function h(_){a.call(this),this.hashMode=typeof _=="string",this.hashMode?this[_]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}return d(h,a),h.prototype.update=function(_,j,_e){var et=b(_,j),$=this._update(et);return this.hashMode?this:(_e&&($=this._toString($,_e)),$)},h.prototype.setAutoPadding=function(){},h.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},h.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},h.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},h.prototype._transform=function(_,j,_e){var et;try{this.hashMode?this._update(_):this.push(this._update(_))}catch($){et=$}finally{_e(et)}},h.prototype._flush=function(_){var j;try{this.push(this.__final())}catch(_e){j=_e}_(j)},h.prototype._finalOrDigest=function(_){var j=this.__final()||e.alloc(0);return _&&(j=this._toString(j,_,!0)),j},h.prototype._toString=function(_,j,_e){if(this._decoder||(this._decoder=new c(j),this._encoding=j),this._encoding!==j)throw new Error("cant switch encodings");var et=this._decoder.write(_);return _e&&(et+=this._decoder.end()),et},cipherBase=h,cipherBase}var browser$9,hasRequiredBrowser$9;function requireBrowser$9(){if(hasRequiredBrowser$9)return browser$9;hasRequiredBrowser$9=1;var e=inherits_browserExports,a=requireMd5_js(),c=requireRipemd160(),d=requireSha_js(),b=requireCipherBase();function h(_){b.call(this,"digest"),this._hash=_}return e(h,b),h.prototype._update=function(_){this._hash.update(_)},h.prototype._final=function(){return this._hash.digest()},browser$9=function(j){return j=j.toLowerCase(),j==="md5"?new a:j==="rmd160"||j==="ripemd160"?new c:new h(d(j))},browser$9}var legacy,hasRequiredLegacy;function requireLegacy(){if(hasRequiredLegacy)return legacy;hasRequiredLegacy=1;var e=inherits_browserExports,a=requireSafeBuffer$2().Buffer,c=requireCipherBase(),d=a.alloc(128),b=64;function h(_,j){c.call(this,"digest"),typeof j=="string"&&(j=a.from(j)),this._alg=_,this._key=j,j.length>b?j=_(j):j.length<b&&(j=a.concat([j,d],b));for(var _e=this._ipad=a.allocUnsafe(b),et=this._opad=a.allocUnsafe(b),$=0;$<b;$++)_e[$]=j[$]^54,et[$]=j[$]^92;this._hash=[_e]}return e(h,c),h.prototype._update=function(_){this._hash.push(_)},h.prototype._final=function(){var _=this._alg(a.concat(this._hash));return this._alg(a.concat([this._opad,_]))},legacy=h,legacy}var md5,hasRequiredMd5;function requireMd5(){if(hasRequiredMd5)return md5;hasRequiredMd5=1;var e=requireMd5_js();return md5=function(a){return new e().update(a).digest()},md5}var browser$8,hasRequiredBrowser$8;function requireBrowser$8(){if(hasRequiredBrowser$8)return browser$8;hasRequiredBrowser$8=1;var e=inherits_browserExports,a=requireLegacy(),c=requireCipherBase(),d=requireSafeBuffer$2().Buffer,b=requireMd5(),h=requireRipemd160(),_=requireSha_js(),j=d.alloc(128);function _e(et,$){c.call(this,"digest"),typeof $=="string"&&($=d.from($));var rt=et==="sha512"||et==="sha384"?128:64;if(this._alg=et,this._key=$,$.length>rt){var nt=et==="rmd160"?new h:_(et);$=nt.update($).digest()}else $.length<rt&&($=d.concat([$,j],rt));for(var st=this._ipad=d.allocUnsafe(rt),at=this._opad=d.allocUnsafe(rt),ut=0;ut<rt;ut++)st[ut]=$[ut]^54,at[ut]=$[ut]^92;this._hash=et==="rmd160"?new h:_(et),this._hash.update(st)}return e(_e,c),_e.prototype._update=function(et){this._hash.update(et)},_e.prototype._final=function(){var et=this._hash.digest(),$=this._alg==="rmd160"?new h:_(this._alg);return $.update(this._opad).update(et).digest()},browser$8=function($,rt){return $=$.toLowerCase(),$==="rmd160"||$==="ripemd160"?new _e("rmd160",rt):$==="md5"?new a(b,rt):new _e($,rt)},browser$8}const sha224WithRSAEncryption={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},sha256={sign:"ecdsa",hash:"sha256",id:""},sha224={sign:"ecdsa",hash:"sha224",id:""},sha384={sign:"ecdsa",hash:"sha384",id:""},sha512={sign:"ecdsa",hash:"sha512",id:""},DSA={sign:"dsa",hash:"sha1",id:""},ripemd160WithRSA={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},require$$6={sha224WithRSAEncryption,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256,sha224,sha384,sha512,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var algos,hasRequiredAlgos;function requireAlgos(){return hasRequiredAlgos||(hasRequiredAlgos=1,algos=require$$6),algos}var browser$7={},precondition,hasRequiredPrecondition;function requirePrecondition(){if(hasRequiredPrecondition)return precondition;hasRequiredPrecondition=1;var e=isFinite,a=Math.pow(2,30)-1;return precondition=function(c,d){if(typeof c!="number")throw new TypeError("Iterations not a number");if(c<0||!e(c))throw new TypeError("Bad iterations");if(typeof d!="number")throw new TypeError("Key length not a number");if(d<0||d>a||d!==d)throw new TypeError("Bad key length")},precondition}var defaultEncoding_1,hasRequiredDefaultEncoding;function requireDefaultEncoding(){if(hasRequiredDefaultEncoding)return defaultEncoding_1;hasRequiredDefaultEncoding=1;var e;if(commonjsGlobal.process&&commonjsGlobal.process.browser)e="utf-8";else if(commonjsGlobal.process&&commonjsGlobal.process.version){var a=parseInt(process$1.version.split(".")[0].slice(1),10);e=a>=6?"utf-8":"binary"}else e="utf-8";return defaultEncoding_1=e,defaultEncoding_1}var toBuffer_1,hasRequiredToBuffer;function requireToBuffer(){if(hasRequiredToBuffer)return toBuffer_1;hasRequiredToBuffer=1;var e=requireSafeBuffer$2().Buffer,a=requireToBuffer$2(),c=typeof Uint8Array<"u",d=c&&typeof ArrayBuffer<"u",b=d&&ArrayBuffer.isView;return toBuffer_1=function(h,_,j){if(typeof h=="string"||e.isBuffer(h)||c&&h instanceof Uint8Array||b&&b(h))return a(h,_);throw new TypeError(j+" must be a string, a Buffer, a Uint8Array, or a DataView")},toBuffer_1}var syncBrowser,hasRequiredSyncBrowser;function requireSyncBrowser(){if(hasRequiredSyncBrowser)return syncBrowser;hasRequiredSyncBrowser=1;var e=requireMd5(),a=requireRipemd160(),c=requireSha_js(),d=requireSafeBuffer$2().Buffer,b=requirePrecondition(),h=requireDefaultEncoding(),_=requireToBuffer(),j=d.alloc(128),_e={__proto__:null,md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,"sha512-256":32,ripemd160:20,rmd160:20},et={__proto__:null,"sha-1":"sha1","sha-224":"sha224","sha-256":"sha256","sha-384":"sha384","sha-512":"sha512","ripemd-160":"ripemd160"};function $(at){return new a().update(at).digest()}function rt(at){function ut(wt){return c(at).update(wt).digest()}return at==="rmd160"||at==="ripemd160"?$:at==="md5"?e:ut}function nt(at,ut,wt){var pt=rt(at),xt=at==="sha512"||at==="sha384"?128:64;ut.length>xt?ut=pt(ut):ut.length<xt&&(ut=d.concat([ut,j],xt));for(var St=d.allocUnsafe(xt+_e[at]),Nt=d.allocUnsafe(xt+_e[at]),At=0;At<xt;At++)St[At]=ut[At]^54,Nt[At]=ut[At]^92;var Ct=d.allocUnsafe(xt+wt+4);St.copy(Ct,0,0,xt),this.ipad1=Ct,this.ipad2=St,this.opad=Nt,this.alg=at,this.blocksize=xt,this.hash=pt,this.size=_e[at]}nt.prototype.run=function(at,ut){at.copy(ut,this.blocksize);var wt=this.hash(ut);return wt.copy(this.opad,this.blocksize),this.hash(this.opad)};function st(at,ut,wt,pt,xt){b(wt,pt),at=_(at,h,"Password"),ut=_(ut,h,"Salt");var St=(xt||"sha1").toLowerCase(),Nt=et[St]||St,At=_e[Nt];if(typeof At!="number"||!At)throw new TypeError("Digest algorithm not supported: "+xt);var Ct=new nt(Nt,at,ut.length),Vt=d.allocUnsafe(pt),Bt=d.allocUnsafe(ut.length+4);ut.copy(Bt,0,0,ut.length);for(var Ut=0,Ft=At,Mt=Math.ceil(pt/Ft),mt=1;mt<=Mt;mt++){Bt.writeUInt32BE(mt,ut.length);for(var ft=Ct.run(Bt,Ct.ipad1),tt=ft,it=1;it<wt;it++){tt=Ct.run(tt,Ct.ipad2);for(var ht=0;ht<Ft;ht++)ft[ht]^=tt[ht]}ft.copy(Vt,Ut),Ut+=Ft}return Vt}return syncBrowser=st,syncBrowser}var async,hasRequiredAsync;function requireAsync(){if(hasRequiredAsync)return async;hasRequiredAsync=1;var e=requireSafeBuffer$2().Buffer,a=requirePrecondition(),c=requireDefaultEncoding(),d=requireSyncBrowser(),b=requireToBuffer(),h,_=commonjsGlobal.crypto&&commonjsGlobal.crypto.subtle,j={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},_e=[],et;function $(){return et||(commonjsGlobal.process&&commonjsGlobal.process.nextTick?et=commonjsGlobal.process.nextTick:commonjsGlobal.queueMicrotask?et=commonjsGlobal.queueMicrotask:commonjsGlobal.setImmediate?et=commonjsGlobal.setImmediate:et=commonjsGlobal.setTimeout,et)}function rt(at,ut,wt,pt,xt){return _.importKey("raw",at,{name:"PBKDF2"},!1,["deriveBits"]).then(function(St){return _.deriveBits({name:"PBKDF2",salt:ut,iterations:wt,hash:{name:xt}},St,pt<<3)}).then(function(St){return e.from(St)})}function nt(at){if(commonjsGlobal.process&&!commonjsGlobal.process.browser||!_||!_.importKey||!_.deriveBits)return Promise.resolve(!1);if(_e[at]!==void 0)return _e[at];h=h||e.alloc(8);var ut=rt(h,h,10,128,at).then(function(){return!0},function(){return!1});return _e[at]=ut,ut}function st(at,ut){at.then(function(wt){$()(function(){ut(null,wt)})},function(wt){$()(function(){ut(wt)})})}return async=function(at,ut,wt,pt,xt,St){if(typeof xt=="function"&&(St=xt,xt=void 0),a(wt,pt),at=b(at,c,"Password"),ut=b(ut,c,"Salt"),typeof St!="function")throw new Error("No callback provided to pbkdf2");xt=xt||"sha1";var Nt=j[xt.toLowerCase()];if(!Nt||typeof commonjsGlobal.Promise!="function"){$()(function(){var At;try{At=d(at,ut,wt,pt,xt)}catch(Ct){St(Ct);return}St(null,At)});return}st(nt(Nt).then(function(At){return At?rt(at,ut,wt,pt,Nt):d(at,ut,wt,pt,xt)}),St)},async}var hasRequiredBrowser$7;function requireBrowser$7(){return hasRequiredBrowser$7||(hasRequiredBrowser$7=1,browser$7.pbkdf2=requireAsync(),browser$7.pbkdf2Sync=requireSyncBrowser()),browser$7}var browser$6={},des$1={},utils$3={},hasRequiredUtils$3;function requireUtils$3(){if(hasRequiredUtils$3)return utils$3;hasRequiredUtils$3=1,utils$3.readUInt32BE=function(b,h){var _=b[0+h]<<24|b[1+h]<<16|b[2+h]<<8|b[3+h];return _>>>0},utils$3.writeUInt32BE=function(b,h,_){b[0+_]=h>>>24,b[1+_]=h>>>16&255,b[2+_]=h>>>8&255,b[3+_]=h&255},utils$3.ip=function(b,h,_,j){for(var _e=0,et=0,$=6;$>=0;$-=2){for(var rt=0;rt<=24;rt+=8)_e<<=1,_e|=h>>>rt+$&1;for(var rt=0;rt<=24;rt+=8)_e<<=1,_e|=b>>>rt+$&1}for(var $=6;$>=0;$-=2){for(var rt=1;rt<=25;rt+=8)et<<=1,et|=h>>>rt+$&1;for(var rt=1;rt<=25;rt+=8)et<<=1,et|=b>>>rt+$&1}_[j+0]=_e>>>0,_[j+1]=et>>>0},utils$3.rip=function(b,h,_,j){for(var _e=0,et=0,$=0;$<4;$++)for(var rt=24;rt>=0;rt-=8)_e<<=1,_e|=h>>>rt+$&1,_e<<=1,_e|=b>>>rt+$&1;for(var $=4;$<8;$++)for(var rt=24;rt>=0;rt-=8)et<<=1,et|=h>>>rt+$&1,et<<=1,et|=b>>>rt+$&1;_[j+0]=_e>>>0,_[j+1]=et>>>0},utils$3.pc1=function(b,h,_,j){for(var _e=0,et=0,$=7;$>=5;$--){for(var rt=0;rt<=24;rt+=8)_e<<=1,_e|=h>>rt+$&1;for(var rt=0;rt<=24;rt+=8)_e<<=1,_e|=b>>rt+$&1}for(var rt=0;rt<=24;rt+=8)_e<<=1,_e|=h>>rt+$&1;for(var $=1;$<=3;$++){for(var rt=0;rt<=24;rt+=8)et<<=1,et|=h>>rt+$&1;for(var rt=0;rt<=24;rt+=8)et<<=1,et|=b>>rt+$&1}for(var rt=0;rt<=24;rt+=8)et<<=1,et|=b>>rt+$&1;_[j+0]=_e>>>0,_[j+1]=et>>>0},utils$3.r28shl=function(b,h){return b<<h&268435455|b>>>28-h};var e=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];utils$3.pc2=function(b,h,_,j){for(var _e=0,et=0,$=e.length>>>1,rt=0;rt<$;rt++)_e<<=1,_e|=b>>>e[rt]&1;for(var rt=$;rt<e.length;rt++)et<<=1,et|=h>>>e[rt]&1;_[j+0]=_e>>>0,_[j+1]=et>>>0},utils$3.expand=function(b,h,_){var j=0,_e=0;j=(b&1)<<5|b>>>27;for(var et=23;et>=15;et-=4)j<<=6,j|=b>>>et&63;for(var et=11;et>=3;et-=4)_e|=b>>>et&63,_e<<=6;_e|=(b&31)<<1|b>>>31,h[_+0]=j>>>0,h[_+1]=_e>>>0};var a=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];utils$3.substitute=function(b,h){for(var _=0,j=0;j<4;j++){var _e=b>>>18-j*6&63,et=a[j*64+_e];_<<=4,_|=et}for(var j=0;j<4;j++){var _e=h>>>18-j*6&63,et=a[4*64+j*64+_e];_<<=4,_|=et}return _>>>0};var c=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];return utils$3.permute=function(b){for(var h=0,_=0;_<c.length;_++)h<<=1,h|=b>>>c[_]&1;return h>>>0},utils$3.padSplit=function(b,h,_){for(var j=b.toString(2);j.length<h;)j="0"+j;for(var _e=[],et=0;et<h;et+=_)_e.push(j.slice(et,et+_));return _e.join(" ")},utils$3}var minimalisticAssert,hasRequiredMinimalisticAssert;function requireMinimalisticAssert(){if(hasRequiredMinimalisticAssert)return minimalisticAssert;hasRequiredMinimalisticAssert=1,minimalisticAssert=e;function e(a,c){if(!a)throw new Error(c||"Assertion failed")}return e.equal=function(c,d,b){if(c!=d)throw new Error(b||"Assertion failed: "+c+" != "+d)},minimalisticAssert}var cipher,hasRequiredCipher;function requireCipher(){if(hasRequiredCipher)return cipher;hasRequiredCipher=1;var e=requireMinimalisticAssert();function a(c){this.options=c,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=c.padding!==!1}return cipher=a,a.prototype._init=function(){},a.prototype.update=function(d){return d.length===0?[]:this.type==="decrypt"?this._updateDecrypt(d):this._updateEncrypt(d)},a.prototype._buffer=function(d,b){for(var h=Math.min(this.buffer.length-this.bufferOff,d.length-b),_=0;_<h;_++)this.buffer[this.bufferOff+_]=d[b+_];return this.bufferOff+=h,h},a.prototype._flushBuffer=function(d,b){return this._update(this.buffer,0,d,b),this.bufferOff=0,this.blockSize},a.prototype._updateEncrypt=function(d){var b=0,h=0,_=(this.bufferOff+d.length)/this.blockSize|0,j=new Array(_*this.blockSize);this.bufferOff!==0&&(b+=this._buffer(d,b),this.bufferOff===this.buffer.length&&(h+=this._flushBuffer(j,h)));for(var _e=d.length-(d.length-b)%this.blockSize;b<_e;b+=this.blockSize)this._update(d,b,j,h),h+=this.blockSize;for(;b<d.length;b++,this.bufferOff++)this.buffer[this.bufferOff]=d[b];return j},a.prototype._updateDecrypt=function(d){for(var b=0,h=0,_=Math.ceil((this.bufferOff+d.length)/this.blockSize)-1,j=new Array(_*this.blockSize);_>0;_--)b+=this._buffer(d,b),h+=this._flushBuffer(j,h);return b+=this._buffer(d,b),j},a.prototype.final=function(d){var b;d&&(b=this.update(d));var h;return this.type==="encrypt"?h=this._finalEncrypt():h=this._finalDecrypt(),b?b.concat(h):h},a.prototype._pad=function(d,b){if(b===0)return!1;for(;b<d.length;)d[b++]=0;return!0},a.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var d=new Array(this.blockSize);return this._update(this.buffer,0,d,0),d},a.prototype._unpad=function(d){return d},a.prototype._finalDecrypt=function(){e.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var d=new Array(this.blockSize);return this._flushBuffer(d,0),this._unpad(d)},cipher}var des,hasRequiredDes$1;function requireDes$1(){if(hasRequiredDes$1)return des;hasRequiredDes$1=1;var e=requireMinimalisticAssert(),a=inherits_browserExports,c=requireUtils$3(),d=requireCipher();function b(){this.tmp=new Array(2),this.keys=null}function h(j){d.call(this,j);var _e=new b;this._desState=_e,this.deriveKeys(_e,j.key)}a(h,d),des=h,h.create=function(_e){return new h(_e)};var _=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];return h.prototype.deriveKeys=function(_e,et){_e.keys=new Array(16*2),e.equal(et.length,this.blockSize,"Invalid key length");var $=c.readUInt32BE(et,0),rt=c.readUInt32BE(et,4);c.pc1($,rt,_e.tmp,0),$=_e.tmp[0],rt=_e.tmp[1];for(var nt=0;nt<_e.keys.length;nt+=2){var st=_[nt>>>1];$=c.r28shl($,st),rt=c.r28shl(rt,st),c.pc2($,rt,_e.keys,nt)}},h.prototype._update=function(_e,et,$,rt){var nt=this._desState,st=c.readUInt32BE(_e,et),at=c.readUInt32BE(_e,et+4);c.ip(st,at,nt.tmp,0),st=nt.tmp[0],at=nt.tmp[1],this.type==="encrypt"?this._encrypt(nt,st,at,nt.tmp,0):this._decrypt(nt,st,at,nt.tmp,0),st=nt.tmp[0],at=nt.tmp[1],c.writeUInt32BE($,st,rt),c.writeUInt32BE($,at,rt+4)},h.prototype._pad=function(_e,et){if(this.padding===!1)return!1;for(var $=_e.length-et,rt=et;rt<_e.length;rt++)_e[rt]=$;return!0},h.prototype._unpad=function(_e){if(this.padding===!1)return _e;for(var et=_e[_e.length-1],$=_e.length-et;$<_e.length;$++)e.equal(_e[$],et);return _e.slice(0,_e.length-et)},h.prototype._encrypt=function(_e,et,$,rt,nt){for(var st=et,at=$,ut=0;ut<_e.keys.length;ut+=2){var wt=_e.keys[ut],pt=_e.keys[ut+1];c.expand(at,_e.tmp,0),wt^=_e.tmp[0],pt^=_e.tmp[1];var xt=c.substitute(wt,pt),St=c.permute(xt),Nt=at;at=(st^St)>>>0,st=Nt}c.rip(at,st,rt,nt)},h.prototype._decrypt=function(_e,et,$,rt,nt){for(var st=$,at=et,ut=_e.keys.length-2;ut>=0;ut-=2){var wt=_e.keys[ut],pt=_e.keys[ut+1];c.expand(st,_e.tmp,0),wt^=_e.tmp[0],pt^=_e.tmp[1];var xt=c.substitute(wt,pt),St=c.permute(xt),Nt=st;st=(at^St)>>>0,at=Nt}c.rip(st,at,rt,nt)},des}var cbc$1={},hasRequiredCbc$1;function requireCbc$1(){if(hasRequiredCbc$1)return cbc$1;hasRequiredCbc$1=1;var e=requireMinimalisticAssert(),a=inherits_browserExports,c={};function d(h){e.equal(h.length,8,"Invalid IV length"),this.iv=new Array(8);for(var _=0;_<this.iv.length;_++)this.iv[_]=h[_]}function b(h){function _($){h.call(this,$),this._cbcInit()}a(_,h);for(var j=Object.keys(c),_e=0;_e<j.length;_e++){var et=j[_e];_.prototype[et]=c[et]}return _.create=function(rt){return new _(rt)},_}return cbc$1.instantiate=b,c._cbcInit=function(){var _=new d(this.options.iv);this._cbcState=_},c._update=function(_,j,_e,et){var $=this._cbcState,rt=this.constructor.super_.prototype,nt=$.iv;if(this.type==="encrypt"){for(var st=0;st<this.blockSize;st++)nt[st]^=_[j+st];rt._update.call(this,nt,0,_e,et);for(var st=0;st<this.blockSize;st++)nt[st]=_e[et+st]}else{rt._update.call(this,_,j,_e,et);for(var st=0;st<this.blockSize;st++)_e[et+st]^=nt[st];for(var st=0;st<this.blockSize;st++)nt[st]=_[j+st]}},cbc$1}var ede,hasRequiredEde;function requireEde(){if(hasRequiredEde)return ede;hasRequiredEde=1;var e=requireMinimalisticAssert(),a=inherits_browserExports,c=requireCipher(),d=requireDes$1();function b(_,j){e.equal(j.length,24,"Invalid key length");var _e=j.slice(0,8),et=j.slice(8,16),$=j.slice(16,24);_==="encrypt"?this.ciphers=[d.create({type:"encrypt",key:_e}),d.create({type:"decrypt",key:et}),d.create({type:"encrypt",key:$})]:this.ciphers=[d.create({type:"decrypt",key:$}),d.create({type:"encrypt",key:et}),d.create({type:"decrypt",key:_e})]}function h(_){c.call(this,_);var j=new b(this.type,this.options.key);this._edeState=j}return a(h,c),ede=h,h.create=function(j){return new h(j)},h.prototype._update=function(j,_e,et,$){var rt=this._edeState;rt.ciphers[0]._update(j,_e,et,$),rt.ciphers[1]._update(et,$,et,$),rt.ciphers[2]._update(et,$,et,$)},h.prototype._pad=d.prototype._pad,h.prototype._unpad=d.prototype._unpad,ede}var hasRequiredDes;function requireDes(){return hasRequiredDes||(hasRequiredDes=1,des$1.utils=requireUtils$3(),des$1.Cipher=requireCipher(),des$1.DES=requireDes$1(),des$1.CBC=requireCbc$1(),des$1.EDE=requireEde()),des$1}var browserifyDes,hasRequiredBrowserifyDes;function requireBrowserifyDes(){if(hasRequiredBrowserifyDes)return browserifyDes;hasRequiredBrowserifyDes=1;var e=requireCipherBase(),a=requireDes(),c=inherits_browserExports,d=requireSafeBuffer$2().Buffer,b={"des-ede3-cbc":a.CBC.instantiate(a.EDE),"des-ede3":a.EDE,"des-ede-cbc":a.CBC.instantiate(a.EDE),"des-ede":a.EDE,"des-cbc":a.CBC.instantiate(a.DES),"des-ecb":a.DES};b.des=b["des-cbc"],b.des3=b["des-ede3-cbc"],browserifyDes=h,c(h,e);function h(_){e.call(this);var j=_.mode.toLowerCase(),_e=b[j],et;_.decrypt?et="decrypt":et="encrypt";var $=_.key;d.isBuffer($)||($=d.from($)),(j==="des-ede"||j==="des-ede-cbc")&&($=d.concat([$,$.slice(0,8)]));var rt=_.iv;d.isBuffer(rt)||(rt=d.from(rt)),this._des=_e.create({key:$,iv:rt,type:et})}return h.prototype._update=function(_){return d.from(this._des.update(_))},h.prototype._final=function(){return d.from(this._des.final())},browserifyDes}var browser$5={},encrypter={},ecb={},hasRequiredEcb;function requireEcb(){return hasRequiredEcb||(hasRequiredEcb=1,ecb.encrypt=function(e,a){return e._cipher.encryptBlock(a)},ecb.decrypt=function(e,a){return e._cipher.decryptBlock(a)}),ecb}var cbc={},bufferXor,hasRequiredBufferXor;function requireBufferXor(){return hasRequiredBufferXor||(hasRequiredBufferXor=1,bufferXor=function(a,c){for(var d=Math.min(a.length,c.length),b=new Buffer(d),h=0;h<d;++h)b[h]=a[h]^c[h];return b}),bufferXor}var hasRequiredCbc;function requireCbc(){if(hasRequiredCbc)return cbc;hasRequiredCbc=1;var e=requireBufferXor();return cbc.encrypt=function(a,c){var d=e(c,a._prev);return a._prev=a._cipher.encryptBlock(d),a._prev},cbc.decrypt=function(a,c){var d=a._prev;a._prev=c;var b=a._cipher.decryptBlock(c);return e(b,d)},cbc}var cfb={},hasRequiredCfb;function requireCfb(){if(hasRequiredCfb)return cfb;hasRequiredCfb=1;var e=requireSafeBuffer$2().Buffer,a=requireBufferXor();function c(d,b,h){var _=b.length,j=a(b,d._cache);return d._cache=d._cache.slice(_),d._prev=e.concat([d._prev,h?b:j]),j}return cfb.encrypt=function(d,b,h){for(var _=e.allocUnsafe(0),j;b.length;)if(d._cache.length===0&&(d._cache=d._cipher.encryptBlock(d._prev),d._prev=e.allocUnsafe(0)),d._cache.length<=b.length)j=d._cache.length,_=e.concat([_,c(d,b.slice(0,j),h)]),b=b.slice(j);else{_=e.concat([_,c(d,b,h)]);break}return _},cfb}var cfb8={},hasRequiredCfb8;function requireCfb8(){if(hasRequiredCfb8)return cfb8;hasRequiredCfb8=1;var e=requireSafeBuffer$2().Buffer;function a(c,d,b){var h=c._cipher.encryptBlock(c._prev),_=h[0]^d;return c._prev=e.concat([c._prev.slice(1),e.from([b?d:_])]),_}return cfb8.encrypt=function(c,d,b){for(var h=d.length,_=e.allocUnsafe(h),j=-1;++j<h;)_[j]=a(c,d[j],b);return _},cfb8}var cfb1={},hasRequiredCfb1;function requireCfb1(){if(hasRequiredCfb1)return cfb1;hasRequiredCfb1=1;var e=requireSafeBuffer$2().Buffer;function a(d,b,h){for(var _,j=-1,_e=8,et=0,$,rt;++j<_e;)_=d._cipher.encryptBlock(d._prev),$=b&1<<7-j?128:0,rt=_[0]^$,et+=(rt&128)>>j%8,d._prev=c(d._prev,h?$:rt);return et}function c(d,b){var h=d.length,_=-1,j=e.allocUnsafe(d.length);for(d=e.concat([d,e.from([b])]);++_<h;)j[_]=d[_]<<1|d[_+1]>>7;return j}return cfb1.encrypt=function(d,b,h){for(var _=b.length,j=e.allocUnsafe(_),_e=-1;++_e<_;)j[_e]=a(d,b[_e],h);return j},cfb1}var ofb={},hasRequiredOfb;function requireOfb(){if(hasRequiredOfb)return ofb;hasRequiredOfb=1;var e=requireBufferXor();function a(c){return c._prev=c._cipher.encryptBlock(c._prev),c._prev}return ofb.encrypt=function(c,d){for(;c._cache.length<d.length;)c._cache=Buffer.concat([c._cache,a(c)]);var b=c._cache.slice(0,d.length);return c._cache=c._cache.slice(d.length),e(d,b)},ofb}var ctr={},incr32_1,hasRequiredIncr32;function requireIncr32(){if(hasRequiredIncr32)return incr32_1;hasRequiredIncr32=1;function e(a){for(var c=a.length,d;c--;)if(d=a.readUInt8(c),d===255)a.writeUInt8(0,c);else{d++,a.writeUInt8(d,c);break}}return incr32_1=e,incr32_1}var hasRequiredCtr;function requireCtr(){if(hasRequiredCtr)return ctr;hasRequiredCtr=1;var e=requireBufferXor(),a=requireSafeBuffer$2().Buffer,c=requireIncr32();function d(h){var _=h._cipher.encryptBlockRaw(h._prev);return c(h._prev),_}var b=16;return ctr.encrypt=function(h,_){var j=Math.ceil(_.length/b),_e=h._cache.length;h._cache=a.concat([h._cache,a.allocUnsafe(j*b)]);for(var et=0;et<j;et++){var $=d(h),rt=_e+et*b;h._cache.writeUInt32BE($[0],rt+0),h._cache.writeUInt32BE($[1],rt+4),h._cache.writeUInt32BE($[2],rt+8),h._cache.writeUInt32BE($[3],rt+12)}var nt=h._cache.slice(0,_.length);return h._cache=h._cache.slice(_.length),e(_,nt)},ctr}const aes128={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},require$$2={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128,aes192,aes256,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var modes_1,hasRequiredModes$1;function requireModes$1(){if(hasRequiredModes$1)return modes_1;hasRequiredModes$1=1;var e={ECB:requireEcb(),CBC:requireCbc(),CFB:requireCfb(),CFB8:requireCfb8(),CFB1:requireCfb1(),OFB:requireOfb(),CTR:requireCtr(),GCM:requireCtr()},a=require$$2;for(var c in a)a[c].module=e[a[c].mode];return modes_1=a,modes_1}var aes={},hasRequiredAes;function requireAes(){if(hasRequiredAes)return aes;hasRequiredAes=1;var e=requireSafeBuffer$2().Buffer;function a(j){e.isBuffer(j)||(j=e.from(j));for(var _e=j.length/4|0,et=new Array(_e),$=0;$<_e;$++)et[$]=j.readUInt32BE($*4);return et}function c(j){for(var _e=0;_e<j.length;j++)j[_e]=0}function d(j,_e,et,$,rt){for(var nt=et[0],st=et[1],at=et[2],ut=et[3],wt=j[0]^_e[0],pt=j[1]^_e[1],xt=j[2]^_e[2],St=j[3]^_e[3],Nt,At,Ct,Vt,Bt=4,Ut=1;Ut<rt;Ut++)Nt=nt[wt>>>24]^st[pt>>>16&255]^at[xt>>>8&255]^ut[St&255]^_e[Bt++],At=nt[pt>>>24]^st[xt>>>16&255]^at[St>>>8&255]^ut[wt&255]^_e[Bt++],Ct=nt[xt>>>24]^st[St>>>16&255]^at[wt>>>8&255]^ut[pt&255]^_e[Bt++],Vt=nt[St>>>24]^st[wt>>>16&255]^at[pt>>>8&255]^ut[xt&255]^_e[Bt++],wt=Nt,pt=At,xt=Ct,St=Vt;return Nt=($[wt>>>24]<<24|$[pt>>>16&255]<<16|$[xt>>>8&255]<<8|$[St&255])^_e[Bt++],At=($[pt>>>24]<<24|$[xt>>>16&255]<<16|$[St>>>8&255]<<8|$[wt&255])^_e[Bt++],Ct=($[xt>>>24]<<24|$[St>>>16&255]<<16|$[wt>>>8&255]<<8|$[pt&255])^_e[Bt++],Vt=($[St>>>24]<<24|$[wt>>>16&255]<<16|$[pt>>>8&255]<<8|$[xt&255])^_e[Bt++],Nt=Nt>>>0,At=At>>>0,Ct=Ct>>>0,Vt=Vt>>>0,[Nt,At,Ct,Vt]}var b=[0,1,2,4,8,16,32,64,128,27,54],h=function(){for(var j=new Array(256),_e=0;_e<256;_e++)_e<128?j[_e]=_e<<1:j[_e]=_e<<1^283;for(var et=[],$=[],rt=[[],[],[],[]],nt=[[],[],[],[]],st=0,at=0,ut=0;ut<256;++ut){var wt=at^at<<1^at<<2^at<<3^at<<4;wt=wt>>>8^wt&255^99,et[st]=wt,$[wt]=st;var pt=j[st],xt=j[pt],St=j[xt],Nt=j[wt]*257^wt*16843008;rt[0][st]=Nt<<24|Nt>>>8,rt[1][st]=Nt<<16|Nt>>>16,rt[2][st]=Nt<<8|Nt>>>24,rt[3][st]=Nt,Nt=St*16843009^xt*65537^pt*257^st*16843008,nt[0][wt]=Nt<<24|Nt>>>8,nt[1][wt]=Nt<<16|Nt>>>16,nt[2][wt]=Nt<<8|Nt>>>24,nt[3][wt]=Nt,st===0?st=at=1:(st=pt^j[j[j[St^pt]]],at^=j[j[at]])}return{SBOX:et,INV_SBOX:$,SUB_MIX:rt,INV_SUB_MIX:nt}}();function _(j){this._key=a(j),this._reset()}return _.blockSize=4*4,_.keySize=256/8,_.prototype.blockSize=_.blockSize,_.prototype.keySize=_.keySize,_.prototype._reset=function(){for(var j=this._key,_e=j.length,et=_e+6,$=(et+1)*4,rt=[],nt=0;nt<_e;nt++)rt[nt]=j[nt];for(nt=_e;nt<$;nt++){var st=rt[nt-1];nt%_e===0?(st=st<<8|st>>>24,st=h.SBOX[st>>>24]<<24|h.SBOX[st>>>16&255]<<16|h.SBOX[st>>>8&255]<<8|h.SBOX[st&255],st^=b[nt/_e|0]<<24):_e>6&&nt%_e===4&&(st=h.SBOX[st>>>24]<<24|h.SBOX[st>>>16&255]<<16|h.SBOX[st>>>8&255]<<8|h.SBOX[st&255]),rt[nt]=rt[nt-_e]^st}for(var at=[],ut=0;ut<$;ut++){var wt=$-ut,pt=rt[wt-(ut%4?0:4)];ut<4||wt<=4?at[ut]=pt:at[ut]=h.INV_SUB_MIX[0][h.SBOX[pt>>>24]]^h.INV_SUB_MIX[1][h.SBOX[pt>>>16&255]]^h.INV_SUB_MIX[2][h.SBOX[pt>>>8&255]]^h.INV_SUB_MIX[3][h.SBOX[pt&255]]}this._nRounds=et,this._keySchedule=rt,this._invKeySchedule=at},_.prototype.encryptBlockRaw=function(j){return j=a(j),d(j,this._keySchedule,h.SUB_MIX,h.SBOX,this._nRounds)},_.prototype.encryptBlock=function(j){var _e=this.encryptBlockRaw(j),et=e.allocUnsafe(16);return et.writeUInt32BE(_e[0],0),et.writeUInt32BE(_e[1],4),et.writeUInt32BE(_e[2],8),et.writeUInt32BE(_e[3],12),et},_.prototype.decryptBlock=function(j){j=a(j);var _e=j[1];j[1]=j[3],j[3]=_e;var et=d(j,this._invKeySchedule,h.INV_SUB_MIX,h.INV_SBOX,this._nRounds),$=e.allocUnsafe(16);return $.writeUInt32BE(et[0],0),$.writeUInt32BE(et[3],4),$.writeUInt32BE(et[2],8),$.writeUInt32BE(et[1],12),$},_.prototype.scrub=function(){c(this._keySchedule),c(this._invKeySchedule),c(this._key)},aes.AES=_,aes}var ghash,hasRequiredGhash;function requireGhash(){if(hasRequiredGhash)return ghash;hasRequiredGhash=1;var e=requireSafeBuffer$2().Buffer,a=e.alloc(16,0);function c(h){return[h.readUInt32BE(0),h.readUInt32BE(4),h.readUInt32BE(8),h.readUInt32BE(12)]}function d(h){var _=e.allocUnsafe(16);return _.writeUInt32BE(h[0]>>>0,0),_.writeUInt32BE(h[1]>>>0,4),_.writeUInt32BE(h[2]>>>0,8),_.writeUInt32BE(h[3]>>>0,12),_}function b(h){this.h=h,this.state=e.alloc(16,0),this.cache=e.allocUnsafe(0)}return b.prototype.ghash=function(h){for(var _=-1;++_<h.length;)this.state[_]^=h[_];this._multiply()},b.prototype._multiply=function(){for(var h=c(this.h),_=[0,0,0,0],j,_e,et,$=-1;++$<128;){for(_e=(this.state[~~($/8)]&1<<7-$%8)!==0,_e&&(_[0]^=h[0],_[1]^=h[1],_[2]^=h[2],_[3]^=h[3]),et=(h[3]&1)!==0,j=3;j>0;j--)h[j]=h[j]>>>1|(h[j-1]&1)<<31;h[0]=h[0]>>>1,et&&(h[0]=h[0]^225<<24)}this.state=d(_)},b.prototype.update=function(h){this.cache=e.concat([this.cache,h]);for(var _;this.cache.length>=16;)_=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(_)},b.prototype.final=function(h,_){return this.cache.length&&this.ghash(e.concat([this.cache,a],16)),this.ghash(d([0,h,0,_])),this.state},ghash=b,ghash}var authCipher,hasRequiredAuthCipher;function requireAuthCipher(){if(hasRequiredAuthCipher)return authCipher;hasRequiredAuthCipher=1;var e=requireAes(),a=requireSafeBuffer$2().Buffer,c=requireCipherBase(),d=inherits_browserExports,b=requireGhash(),h=requireBufferXor(),_=requireIncr32();function j($,rt){var nt=0;$.length!==rt.length&&nt++;for(var st=Math.min($.length,rt.length),at=0;at<st;++at)nt+=$[at]^rt[at];return nt}function _e($,rt,nt){if(rt.length===12)return $._finID=a.concat([rt,a.from([0,0,0,1])]),a.concat([rt,a.from([0,0,0,2])]);var st=new b(nt),at=rt.length,ut=at%16;st.update(rt),ut&&(ut=16-ut,st.update(a.alloc(ut,0))),st.update(a.alloc(8,0));var wt=at*8,pt=a.alloc(8);pt.writeUIntBE(wt,0,8),st.update(pt),$._finID=st.state;var xt=a.from($._finID);return _(xt),xt}function et($,rt,nt,st){c.call(this);var at=a.alloc(4,0);this._cipher=new e.AES(rt);var ut=this._cipher.encryptBlock(at);this._ghash=new b(ut),nt=_e(this,nt,ut),this._prev=a.from(nt),this._cache=a.allocUnsafe(0),this._secCache=a.allocUnsafe(0),this._decrypt=st,this._alen=0,this._len=0,this._mode=$,this._authTag=null,this._called=!1}return d(et,c),et.prototype._update=function($){if(!this._called&&this._alen){var rt=16-this._alen%16;rt<16&&(rt=a.alloc(rt,0),this._ghash.update(rt))}this._called=!0;var nt=this._mode.encrypt(this,$);return this._decrypt?this._ghash.update($):this._ghash.update(nt),this._len+=$.length,nt},et.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var $=h(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&j($,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=$,this._cipher.scrub()},et.prototype.getAuthTag=function(){if(this._decrypt||!a.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},et.prototype.setAuthTag=function(rt){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=rt},et.prototype.setAAD=function(rt){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(rt),this._alen+=rt.length},authCipher=et,authCipher}var streamCipher,hasRequiredStreamCipher;function requireStreamCipher(){if(hasRequiredStreamCipher)return streamCipher;hasRequiredStreamCipher=1;var e=requireAes(),a=requireSafeBuffer$2().Buffer,c=requireCipherBase(),d=inherits_browserExports;function b(h,_,j,_e){c.call(this),this._cipher=new e.AES(_),this._prev=a.from(j),this._cache=a.allocUnsafe(0),this._secCache=a.allocUnsafe(0),this._decrypt=_e,this._mode=h}return d(b,c),b.prototype._update=function(h){return this._mode.encrypt(this,h,this._decrypt)},b.prototype._final=function(){this._cipher.scrub()},streamCipher=b,streamCipher}var evp_bytestokey,hasRequiredEvp_bytestokey;function requireEvp_bytestokey(){if(hasRequiredEvp_bytestokey)return evp_bytestokey;hasRequiredEvp_bytestokey=1;var e=requireSafeBuffer$2().Buffer,a=requireMd5_js();function c(d,b,h,_){if(e.isBuffer(d)||(d=e.from(d,"binary")),b&&(e.isBuffer(b)||(b=e.from(b,"binary")),b.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var j=h/8,_e=e.alloc(j),et=e.alloc(_||0),$=e.alloc(0);j>0||_>0;){var rt=new a;rt.update($),rt.update(d),b&&rt.update(b),$=rt.digest();var nt=0;if(j>0){var st=_e.length-j;nt=Math.min(j,$.length),$.copy(_e,st,0,nt),j-=nt}if(nt<$.length&&_>0){var at=et.length-_,ut=Math.min(_,$.length-nt);$.copy(et,at,nt,nt+ut),_-=ut}}return $.fill(0),{key:_e,iv:et}}return evp_bytestokey=c,evp_bytestokey}var hasRequiredEncrypter;function requireEncrypter(){if(hasRequiredEncrypter)return encrypter;hasRequiredEncrypter=1;var e=requireModes$1(),a=requireAuthCipher(),c=requireSafeBuffer$2().Buffer,d=requireStreamCipher(),b=requireCipherBase(),h=requireAes(),_=requireEvp_bytestokey(),j=inherits_browserExports;function _e(st,at,ut){b.call(this),this._cache=new $,this._cipher=new h.AES(at),this._prev=c.from(ut),this._mode=st,this._autopadding=!0}j(_e,b),_e.prototype._update=function(st){this._cache.add(st);for(var at,ut,wt=[];at=this._cache.get();)ut=this._mode.encrypt(this,at),wt.push(ut);return c.concat(wt)};var et=c.alloc(16,16);_e.prototype._final=function(){var st=this._cache.flush();if(this._autopadding)return st=this._mode.encrypt(this,st),this._cipher.scrub(),st;if(!st.equals(et))throw this._cipher.scrub(),new Error("data not multiple of block length")},_e.prototype.setAutoPadding=function(st){return this._autopadding=!!st,this};function $(){this.cache=c.allocUnsafe(0)}$.prototype.add=function(st){this.cache=c.concat([this.cache,st])},$.prototype.get=function(){if(this.cache.length>15){var st=this.cache.slice(0,16);return this.cache=this.cache.slice(16),st}return null},$.prototype.flush=function(){for(var st=16-this.cache.length,at=c.allocUnsafe(st),ut=-1;++ut<st;)at.writeUInt8(st,ut);return c.concat([this.cache,at])};function rt(st,at,ut){var wt=e[st.toLowerCase()];if(!wt)throw new TypeError("invalid suite type");if(typeof at=="string"&&(at=c.from(at)),at.length!==wt.key/8)throw new TypeError("invalid key length "+at.length);if(typeof ut=="string"&&(ut=c.from(ut)),wt.mode!=="GCM"&&ut.length!==wt.iv)throw new TypeError("invalid iv length "+ut.length);return wt.type==="stream"?new d(wt.module,at,ut):wt.type==="auth"?new a(wt.module,at,ut):new _e(wt.module,at,ut)}function nt(st,at){var ut=e[st.toLowerCase()];if(!ut)throw new TypeError("invalid suite type");var wt=_(at,!1,ut.key,ut.iv);return rt(st,wt.key,wt.iv)}return encrypter.createCipheriv=rt,encrypter.createCipher=nt,encrypter}var decrypter={},hasRequiredDecrypter;function requireDecrypter(){if(hasRequiredDecrypter)return decrypter;hasRequiredDecrypter=1;var e=requireAuthCipher(),a=requireSafeBuffer$2().Buffer,c=requireModes$1(),d=requireStreamCipher(),b=requireCipherBase(),h=requireAes(),_=requireEvp_bytestokey(),j=inherits_browserExports;function _e(st,at,ut){b.call(this),this._cache=new et,this._last=void 0,this._cipher=new h.AES(at),this._prev=a.from(ut),this._mode=st,this._autopadding=!0}j(_e,b),_e.prototype._update=function(st){this._cache.add(st);for(var at,ut,wt=[];at=this._cache.get(this._autopadding);)ut=this._mode.decrypt(this,at),wt.push(ut);return a.concat(wt)},_e.prototype._final=function(){var st=this._cache.flush();if(this._autopadding)return $(this._mode.decrypt(this,st));if(st)throw new Error("data not multiple of block length")},_e.prototype.setAutoPadding=function(st){return this._autopadding=!!st,this};function et(){this.cache=a.allocUnsafe(0)}et.prototype.add=function(st){this.cache=a.concat([this.cache,st])},et.prototype.get=function(st){var at;if(st){if(this.cache.length>16)return at=this.cache.slice(0,16),this.cache=this.cache.slice(16),at}else if(this.cache.length>=16)return at=this.cache.slice(0,16),this.cache=this.cache.slice(16),at;return null},et.prototype.flush=function(){if(this.cache.length)return this.cache};function $(st){var at=st[15];if(at<1||at>16)throw new Error("unable to decrypt data");for(var ut=-1;++ut<at;)if(st[ut+(16-at)]!==at)throw new Error("unable to decrypt data");if(at!==16)return st.slice(0,16-at)}function rt(st,at,ut){var wt=c[st.toLowerCase()];if(!wt)throw new TypeError("invalid suite type");if(typeof ut=="string"&&(ut=a.from(ut)),wt.mode!=="GCM"&&ut.length!==wt.iv)throw new TypeError("invalid iv length "+ut.length);if(typeof at=="string"&&(at=a.from(at)),at.length!==wt.key/8)throw new TypeError("invalid key length "+at.length);return wt.type==="stream"?new d(wt.module,at,ut,!0):wt.type==="auth"?new e(wt.module,at,ut,!0):new _e(wt.module,at,ut)}function nt(st,at){var ut=c[st.toLowerCase()];if(!ut)throw new TypeError("invalid suite type");var wt=_(at,!1,ut.key,ut.iv);return rt(st,wt.key,wt.iv)}return decrypter.createDecipher=nt,decrypter.createDecipheriv=rt,decrypter}var hasRequiredBrowser$6;function requireBrowser$6(){if(hasRequiredBrowser$6)return browser$5;hasRequiredBrowser$6=1;var e=requireEncrypter(),a=requireDecrypter(),c=require$$2;function d(){return Object.keys(c)}return browser$5.createCipher=browser$5.Cipher=e.createCipher,browser$5.createCipheriv=browser$5.Cipheriv=e.createCipheriv,browser$5.createDecipher=browser$5.Decipher=a.createDecipher,browser$5.createDecipheriv=browser$5.Decipheriv=a.createDecipheriv,browser$5.listCiphers=browser$5.getCiphers=d,browser$5}var modes={},hasRequiredModes;function requireModes(){return hasRequiredModes||(hasRequiredModes=1,function(e){e["des-ecb"]={key:8,iv:0},e["des-cbc"]=e.des={key:8,iv:8},e["des-ede3-cbc"]=e.des3={key:24,iv:8},e["des-ede3"]={key:24,iv:0},e["des-ede-cbc"]={key:16,iv:8},e["des-ede"]={key:16,iv:0}}(modes)),modes}var hasRequiredBrowser$5;function requireBrowser$5(){if(hasRequiredBrowser$5)return browser$6;hasRequiredBrowser$5=1;var e=requireBrowserifyDes(),a=requireBrowser$6(),c=requireModes$1(),d=requireModes(),b=requireEvp_bytestokey();function h($,rt){$=$.toLowerCase();var nt,st;if(c[$])nt=c[$].key,st=c[$].iv;else if(d[$])nt=d[$].key*8,st=d[$].iv;else throw new TypeError("invalid suite type");var at=b(rt,!1,nt,st);return j($,at.key,at.iv)}function _($,rt){$=$.toLowerCase();var nt,st;if(c[$])nt=c[$].key,st=c[$].iv;else if(d[$])nt=d[$].key*8,st=d[$].iv;else throw new TypeError("invalid suite type");var at=b(rt,!1,nt,st);return _e($,at.key,at.iv)}function j($,rt,nt){if($=$.toLowerCase(),c[$])return a.createCipheriv($,rt,nt);if(d[$])return new e({key:rt,iv:nt,mode:$});throw new TypeError("invalid suite type")}function _e($,rt,nt){if($=$.toLowerCase(),c[$])return a.createDecipheriv($,rt,nt);if(d[$])return new e({key:rt,iv:nt,mode:$,decrypt:!0});throw new TypeError("invalid suite type")}function et(){return Object.keys(d).concat(a.getCiphers())}return browser$6.createCipher=browser$6.Cipher=h,browser$6.createCipheriv=browser$6.Cipheriv=j,browser$6.createDecipher=browser$6.Decipher=_,browser$6.createDecipheriv=browser$6.Decipheriv=_e,browser$6.listCiphers=browser$6.getCiphers=et,browser$6}var browser$4={},bn$2={exports:{}};bn$2.exports;var hasRequiredBn$2;function requireBn$2(){return hasRequiredBn$2||(hasRequiredBn$2=1,function(e){(function(a,c){function d(Mt,mt){if(!Mt)throw new Error(mt||"Assertion failed")}function b(Mt,mt){Mt.super_=mt;var ft=function(){};ft.prototype=mt.prototype,Mt.prototype=new ft,Mt.prototype.constructor=Mt}function h(Mt,mt,ft){if(h.isBN(Mt))return Mt;this.negative=0,this.words=null,this.length=0,this.red=null,Mt!==null&&((mt==="le"||mt==="be")&&(ft=mt,mt=10),this._init(Mt||0,mt||10,ft||"be"))}typeof a=="object"?a.exports=h:c.BN=h,h.BN=h,h.wordSize=26;var _;try{typeof window<"u"&&typeof window.Buffer<"u"?_=window.Buffer:_=require$$0$1.Buffer}catch{}h.isBN=function(mt){return mt instanceof h?!0:mt!==null&&typeof mt=="object"&&mt.constructor.wordSize===h.wordSize&&Array.isArray(mt.words)},h.max=function(mt,ft){return mt.cmp(ft)>0?mt:ft},h.min=function(mt,ft){return mt.cmp(ft)<0?mt:ft},h.prototype._init=function(mt,ft,tt){if(typeof mt=="number")return this._initNumber(mt,ft,tt);if(typeof mt=="object")return this._initArray(mt,ft,tt);ft==="hex"&&(ft=16),d(ft===(ft|0)&&ft>=2&&ft<=36),mt=mt.toString().replace(/\s+/g,"");var it=0;mt[0]==="-"&&(it++,this.negative=1),it<mt.length&&(ft===16?this._parseHex(mt,it,tt):(this._parseBase(mt,ft,it),tt==="le"&&this._initArray(this.toArray(),ft,tt)))},h.prototype._initNumber=function(mt,ft,tt){mt<0&&(this.negative=1,mt=-mt),mt<67108864?(this.words=[mt&67108863],this.length=1):mt<4503599627370496?(this.words=[mt&67108863,mt/67108864&67108863],this.length=2):(d(mt<9007199254740992),this.words=[mt&67108863,mt/67108864&67108863,1],this.length=3),tt==="le"&&this._initArray(this.toArray(),ft,tt)},h.prototype._initArray=function(mt,ft,tt){if(d(typeof mt.length=="number"),mt.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(mt.length/3),this.words=new Array(this.length);for(var it=0;it<this.length;it++)this.words[it]=0;var ht,dt,lt=0;if(tt==="be")for(it=mt.length-1,ht=0;it>=0;it-=3)dt=mt[it]|mt[it-1]<<8|mt[it-2]<<16,this.words[ht]|=dt<<lt&67108863,this.words[ht+1]=dt>>>26-lt&67108863,lt+=24,lt>=26&&(lt-=26,ht++);else if(tt==="le")for(it=0,ht=0;it<mt.length;it+=3)dt=mt[it]|mt[it+1]<<8|mt[it+2]<<16,this.words[ht]|=dt<<lt&67108863,this.words[ht+1]=dt>>>26-lt&67108863,lt+=24,lt>=26&&(lt-=26,ht++);return this.strip()};function j(Mt,mt){var ft=Mt.charCodeAt(mt);return ft>=65&&ft<=70?ft-55:ft>=97&&ft<=102?ft-87:ft-48&15}function _e(Mt,mt,ft){var tt=j(Mt,ft);return ft-1>=mt&&(tt|=j(Mt,ft-1)<<4),tt}h.prototype._parseHex=function(mt,ft,tt){this.length=Math.ceil((mt.length-ft)/6),this.words=new Array(this.length);for(var it=0;it<this.length;it++)this.words[it]=0;var ht=0,dt=0,lt;if(tt==="be")for(it=mt.length-1;it>=ft;it-=2)lt=_e(mt,ft,it)<<ht,this.words[dt]|=lt&67108863,ht>=18?(ht-=18,dt+=1,this.words[dt]|=lt>>>26):ht+=8;else{var gt=mt.length-ft;for(it=gt%2===0?ft+1:ft;it<mt.length;it+=2)lt=_e(mt,ft,it)<<ht,this.words[dt]|=lt&67108863,ht>=18?(ht-=18,dt+=1,this.words[dt]|=lt>>>26):ht+=8}this.strip()};function et(Mt,mt,ft,tt){for(var it=0,ht=Math.min(Mt.length,ft),dt=mt;dt<ht;dt++){var lt=Mt.charCodeAt(dt)-48;it*=tt,lt>=49?it+=lt-49+10:lt>=17?it+=lt-17+10:it+=lt}return it}h.prototype._parseBase=function(mt,ft,tt){this.words=[0],this.length=1;for(var it=0,ht=1;ht<=67108863;ht*=ft)it++;it--,ht=ht/ft|0;for(var dt=mt.length-tt,lt=dt%it,gt=Math.min(dt,dt-lt)+tt,ot=0,vt=tt;vt<gt;vt+=it)ot=et(mt,vt,vt+it,ft),this.imuln(ht),this.words[0]+ot<67108864?this.words[0]+=ot:this._iaddn(ot);if(lt!==0){var ct=1;for(ot=et(mt,vt,mt.length,ft),vt=0;vt<lt;vt++)ct*=ft;this.imuln(ct),this.words[0]+ot<67108864?this.words[0]+=ot:this._iaddn(ot)}this.strip()},h.prototype.copy=function(mt){mt.words=new Array(this.length);for(var ft=0;ft<this.length;ft++)mt.words[ft]=this.words[ft];mt.length=this.length,mt.negative=this.negative,mt.red=this.red},h.prototype.clone=function(){var mt=new h(null);return this.copy(mt),mt},h.prototype._expand=function(mt){for(;this.length<mt;)this.words[this.length++]=0;return this},h.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},h.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},h.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var $=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],rt=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],nt=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];h.prototype.toString=function(mt,ft){mt=mt||10,ft=ft|0||1;var tt;if(mt===16||mt==="hex"){tt="";for(var it=0,ht=0,dt=0;dt<this.length;dt++){var lt=this.words[dt],gt=((lt<<it|ht)&16777215).toString(16);ht=lt>>>24-it&16777215,it+=2,it>=26&&(it-=26,dt--),ht!==0||dt!==this.length-1?tt=$[6-gt.length]+gt+tt:tt=gt+tt}for(ht!==0&&(tt=ht.toString(16)+tt);tt.length%ft!==0;)tt="0"+tt;return this.negative!==0&&(tt="-"+tt),tt}if(mt===(mt|0)&&mt>=2&&mt<=36){var ot=rt[mt],vt=nt[mt];tt="";var ct=this.clone();for(ct.negative=0;!ct.isZero();){var yt=ct.modn(vt).toString(mt);ct=ct.idivn(vt),ct.isZero()?tt=yt+tt:tt=$[ot-yt.length]+yt+tt}for(this.isZero()&&(tt="0"+tt);tt.length%ft!==0;)tt="0"+tt;return this.negative!==0&&(tt="-"+tt),tt}d(!1,"Base should be between 2 and 36")},h.prototype.toNumber=function(){var mt=this.words[0];return this.length===2?mt+=this.words[1]*67108864:this.length===3&&this.words[2]===1?mt+=4503599627370496+this.words[1]*67108864:this.length>2&&d(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-mt:mt},h.prototype.toJSON=function(){return this.toString(16)},h.prototype.toBuffer=function(mt,ft){return d(typeof _<"u"),this.toArrayLike(_,mt,ft)},h.prototype.toArray=function(mt,ft){return this.toArrayLike(Array,mt,ft)},h.prototype.toArrayLike=function(mt,ft,tt){var it=this.byteLength(),ht=tt||Math.max(1,it);d(it<=ht,"byte array longer than desired length"),d(ht>0,"Requested array length <= 0"),this.strip();var dt=ft==="le",lt=new mt(ht),gt,ot,vt=this.clone();if(dt){for(ot=0;!vt.isZero();ot++)gt=vt.andln(255),vt.iushrn(8),lt[ot]=gt;for(;ot<ht;ot++)lt[ot]=0}else{for(ot=0;ot<ht-it;ot++)lt[ot]=0;for(ot=0;!vt.isZero();ot++)gt=vt.andln(255),vt.iushrn(8),lt[ht-ot-1]=gt}return lt},Math.clz32?h.prototype._countBits=function(mt){return 32-Math.clz32(mt)}:h.prototype._countBits=function(mt){var ft=mt,tt=0;return ft>=4096&&(tt+=13,ft>>>=13),ft>=64&&(tt+=7,ft>>>=7),ft>=8&&(tt+=4,ft>>>=4),ft>=2&&(tt+=2,ft>>>=2),tt+ft},h.prototype._zeroBits=function(mt){if(mt===0)return 26;var ft=mt,tt=0;return ft&8191||(tt+=13,ft>>>=13),ft&127||(tt+=7,ft>>>=7),ft&15||(tt+=4,ft>>>=4),ft&3||(tt+=2,ft>>>=2),ft&1||tt++,tt},h.prototype.bitLength=function(){var mt=this.words[this.length-1],ft=this._countBits(mt);return(this.length-1)*26+ft};function st(Mt){for(var mt=new Array(Mt.bitLength()),ft=0;ft<mt.length;ft++){var tt=ft/26|0,it=ft%26;mt[ft]=(Mt.words[tt]&1<<it)>>>it}return mt}h.prototype.zeroBits=function(){if(this.isZero())return 0;for(var mt=0,ft=0;ft<this.length;ft++){var tt=this._zeroBits(this.words[ft]);if(mt+=tt,tt!==26)break}return mt},h.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},h.prototype.toTwos=function(mt){return this.negative!==0?this.abs().inotn(mt).iaddn(1):this.clone()},h.prototype.fromTwos=function(mt){return this.testn(mt-1)?this.notn(mt).iaddn(1).ineg():this.clone()},h.prototype.isNeg=function(){return this.negative!==0},h.prototype.neg=function(){return this.clone().ineg()},h.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},h.prototype.iuor=function(mt){for(;this.length<mt.length;)this.words[this.length++]=0;for(var ft=0;ft<mt.length;ft++)this.words[ft]=this.words[ft]|mt.words[ft];return this.strip()},h.prototype.ior=function(mt){return d((this.negative|mt.negative)===0),this.iuor(mt)},h.prototype.or=function(mt){return this.length>mt.length?this.clone().ior(mt):mt.clone().ior(this)},h.prototype.uor=function(mt){return this.length>mt.length?this.clone().iuor(mt):mt.clone().iuor(this)},h.prototype.iuand=function(mt){var ft;this.length>mt.length?ft=mt:ft=this;for(var tt=0;tt<ft.length;tt++)this.words[tt]=this.words[tt]&mt.words[tt];return this.length=ft.length,this.strip()},h.prototype.iand=function(mt){return d((this.negative|mt.negative)===0),this.iuand(mt)},h.prototype.and=function(mt){return this.length>mt.length?this.clone().iand(mt):mt.clone().iand(this)},h.prototype.uand=function(mt){return this.length>mt.length?this.clone().iuand(mt):mt.clone().iuand(this)},h.prototype.iuxor=function(mt){var ft,tt;this.length>mt.length?(ft=this,tt=mt):(ft=mt,tt=this);for(var it=0;it<tt.length;it++)this.words[it]=ft.words[it]^tt.words[it];if(this!==ft)for(;it<ft.length;it++)this.words[it]=ft.words[it];return this.length=ft.length,this.strip()},h.prototype.ixor=function(mt){return d((this.negative|mt.negative)===0),this.iuxor(mt)},h.prototype.xor=function(mt){return this.length>mt.length?this.clone().ixor(mt):mt.clone().ixor(this)},h.prototype.uxor=function(mt){return this.length>mt.length?this.clone().iuxor(mt):mt.clone().iuxor(this)},h.prototype.inotn=function(mt){d(typeof mt=="number"&&mt>=0);var ft=Math.ceil(mt/26)|0,tt=mt%26;this._expand(ft),tt>0&&ft--;for(var it=0;it<ft;it++)this.words[it]=~this.words[it]&67108863;return tt>0&&(this.words[it]=~this.words[it]&67108863>>26-tt),this.strip()},h.prototype.notn=function(mt){return this.clone().inotn(mt)},h.prototype.setn=function(mt,ft){d(typeof mt=="number"&&mt>=0);var tt=mt/26|0,it=mt%26;return this._expand(tt+1),ft?this.words[tt]=this.words[tt]|1<<it:this.words[tt]=this.words[tt]&~(1<<it),this.strip()},h.prototype.iadd=function(mt){var ft;if(this.negative!==0&&mt.negative===0)return this.negative=0,ft=this.isub(mt),this.negative^=1,this._normSign();if(this.negative===0&&mt.negative!==0)return mt.negative=0,ft=this.isub(mt),mt.negative=1,ft._normSign();var tt,it;this.length>mt.length?(tt=this,it=mt):(tt=mt,it=this);for(var ht=0,dt=0;dt<it.length;dt++)ft=(tt.words[dt]|0)+(it.words[dt]|0)+ht,this.words[dt]=ft&67108863,ht=ft>>>26;for(;ht!==0&&dt<tt.length;dt++)ft=(tt.words[dt]|0)+ht,this.words[dt]=ft&67108863,ht=ft>>>26;if(this.length=tt.length,ht!==0)this.words[this.length]=ht,this.length++;else if(tt!==this)for(;dt<tt.length;dt++)this.words[dt]=tt.words[dt];return this},h.prototype.add=function(mt){var ft;return mt.negative!==0&&this.negative===0?(mt.negative=0,ft=this.sub(mt),mt.negative^=1,ft):mt.negative===0&&this.negative!==0?(this.negative=0,ft=mt.sub(this),this.negative=1,ft):this.length>mt.length?this.clone().iadd(mt):mt.clone().iadd(this)},h.prototype.isub=function(mt){if(mt.negative!==0){mt.negative=0;var ft=this.iadd(mt);return mt.negative=1,ft._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(mt),this.negative=1,this._normSign();var tt=this.cmp(mt);if(tt===0)return this.negative=0,this.length=1,this.words[0]=0,this;var it,ht;tt>0?(it=this,ht=mt):(it=mt,ht=this);for(var dt=0,lt=0;lt<ht.length;lt++)ft=(it.words[lt]|0)-(ht.words[lt]|0)+dt,dt=ft>>26,this.words[lt]=ft&67108863;for(;dt!==0&&lt<it.length;lt++)ft=(it.words[lt]|0)+dt,dt=ft>>26,this.words[lt]=ft&67108863;if(dt===0&&lt<it.length&&it!==this)for(;lt<it.length;lt++)this.words[lt]=it.words[lt];return this.length=Math.max(this.length,lt),it!==this&&(this.negative=1),this.strip()},h.prototype.sub=function(mt){return this.clone().isub(mt)};function at(Mt,mt,ft){ft.negative=mt.negative^Mt.negative;var tt=Mt.length+mt.length|0;ft.length=tt,tt=tt-1|0;var it=Mt.words[0]|0,ht=mt.words[0]|0,dt=it*ht,lt=dt&67108863,gt=dt/67108864|0;ft.words[0]=lt;for(var ot=1;ot<tt;ot++){for(var vt=gt>>>26,ct=gt&67108863,yt=Math.min(ot,mt.length-1),Dt=Math.max(0,ot-Mt.length+1);Dt<=yt;Dt++){var Ht=ot-Dt|0;it=Mt.words[Ht]|0,ht=mt.words[Dt]|0,dt=it*ht+ct,vt+=dt/67108864|0,ct=dt&67108863}ft.words[ot]=ct|0,gt=vt|0}return gt!==0?ft.words[ot]=gt|0:ft.length--,ft.strip()}var ut=function(mt,ft,tt){var it=mt.words,ht=ft.words,dt=tt.words,lt=0,gt,ot,vt,ct=it[0]|0,yt=ct&8191,Dt=ct>>>13,Ht=it[1]|0,qt=Ht&8191,_t=Ht>>>13,kt=it[2]|0,Lt=kt&8191,Kt=kt>>>13,$t=it[3]|0,It=$t&8191,Xt=$t>>>13,cr=it[4]|0,fr=cr&8191,hr=cr>>>13,yr=it[5]|0,Sr=yr&8191,sr=yr>>>13,Zt=it[6]|0,Gt=Zt&8191,nr=Zt>>>13,ur=it[7]|0,ir=ur&8191,lr=ur>>>13,Qt=it[8]|0,tr=Qt&8191,gr=Qt>>>13,wr=it[9]|0,Tt=wr&8191,Et=wr>>>13,Rt=ht[0]|0,Ot=Rt&8191,Wt=Rt>>>13,Jt=ht[1]|0,er=Jt&8191,Er=Jt>>>13,xr=ht[2]|0,vr=xr&8191,Rr=xr>>>13,_r=ht[3]|0,kr=_r&8191,Qr=_r>>>13,dr=ht[4]|0,Nr=dr&8191,en=dr>>>13,Pr=ht[5]|0,jr=Pr&8191,tn=Pr>>>13,Fr=ht[6]|0,Mr=Fr&8191,qr=Fr>>>13,Br=ht[7]|0,Cr=Br&8191,rn=Br>>>13,Hr=ht[8]|0,Ir=Hr&8191,nn=Hr>>>13,Or=ht[9]|0,Tr=Or&8191,on=Or>>>13;tt.negative=mt.negative^ft.negative,tt.length=19,gt=Math.imul(yt,Ot),ot=Math.imul(yt,Wt),ot=ot+Math.imul(Dt,Ot)|0,vt=Math.imul(Dt,Wt);var Vr=(lt+gt|0)+((ot&8191)<<13)|0;lt=(vt+(ot>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,gt=Math.imul(qt,Ot),ot=Math.imul(qt,Wt),ot=ot+Math.imul(_t,Ot)|0,vt=Math.imul(_t,Wt),gt=gt+Math.imul(yt,er)|0,ot=ot+Math.imul(yt,Er)|0,ot=ot+Math.imul(Dt,er)|0,vt=vt+Math.imul(Dt,Er)|0;var Wr=(lt+gt|0)+((ot&8191)<<13)|0;lt=(vt+(ot>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,gt=Math.imul(Lt,Ot),ot=Math.imul(Lt,Wt),ot=ot+Math.imul(Kt,Ot)|0,vt=Math.imul(Kt,Wt),gt=gt+Math.imul(qt,er)|0,ot=ot+Math.imul(qt,Er)|0,ot=ot+Math.imul(_t,er)|0,vt=vt+Math.imul(_t,Er)|0,gt=gt+Math.imul(yt,vr)|0,ot=ot+Math.imul(yt,Rr)|0,ot=ot+Math.imul(Dt,vr)|0,vt=vt+Math.imul(Dt,Rr)|0;var vn=(lt+gt|0)+((ot&8191)<<13)|0;lt=(vt+(ot>>>13)|0)+(vn>>>26)|0,vn&=67108863,gt=Math.imul(It,Ot),ot=Math.imul(It,Wt),ot=ot+Math.imul(Xt,Ot)|0,vt=Math.imul(Xt,Wt),gt=gt+Math.imul(Lt,er)|0,ot=ot+Math.imul(Lt,Er)|0,ot=ot+Math.imul(Kt,er)|0,vt=vt+Math.imul(Kt,Er)|0,gt=gt+Math.imul(qt,vr)|0,ot=ot+Math.imul(qt,Rr)|0,ot=ot+Math.imul(_t,vr)|0,vt=vt+Math.imul(_t,Rr)|0,gt=gt+Math.imul(yt,kr)|0,ot=ot+Math.imul(yt,Qr)|0,ot=ot+Math.imul(Dt,kr)|0,vt=vt+Math.imul(Dt,Qr)|0;var kn=(lt+gt|0)+((ot&8191)<<13)|0;lt=(vt+(ot>>>13)|0)+(kn>>>26)|0,kn&=67108863,gt=Math.imul(fr,Ot),ot=Math.imul(fr,Wt),ot=ot+Math.imul(hr,Ot)|0,vt=Math.imul(hr,Wt),gt=gt+Math.imul(It,er)|0,ot=ot+Math.imul(It,Er)|0,ot=ot+Math.imul(Xt,er)|0,vt=vt+Math.imul(Xt,Er)|0,gt=gt+Math.imul(Lt,vr)|0,ot=ot+Math.imul(Lt,Rr)|0,ot=ot+Math.imul(Kt,vr)|0,vt=vt+Math.imul(Kt,Rr)|0,gt=gt+Math.imul(qt,kr)|0,ot=ot+Math.imul(qt,Qr)|0,ot=ot+Math.imul(_t,kr)|0,vt=vt+Math.imul(_t,Qr)|0,gt=gt+Math.imul(yt,Nr)|0,ot=ot+Math.imul(yt,en)|0,ot=ot+Math.imul(Dt,Nr)|0,vt=vt+Math.imul(Dt,en)|0;var gn=(lt+gt|0)+((ot&8191)<<13)|0;lt=(vt+(ot>>>13)|0)+(gn>>>26)|0,gn&=67108863,gt=Math.imul(Sr,Ot),ot=Math.imul(Sr,Wt),ot=ot+Math.imul(sr,Ot)|0,vt=Math.imul(sr,Wt),gt=gt+Math.imul(fr,er)|0,ot=ot+Math.imul(fr,Er)|0,ot=ot+Math.imul(hr,er)|0,vt=vt+Math.imul(hr,Er)|0,gt=gt+Math.imul(It,vr)|0,ot=ot+Math.imul(It,Rr)|0,ot=ot+Math.imul(Xt,vr)|0,vt=vt+Math.imul(Xt,Rr)|0,gt=gt+Math.imul(Lt,kr)|0,ot=ot+Math.imul(Lt,Qr)|0,ot=ot+Math.imul(Kt,kr)|0,vt=vt+Math.imul(Kt,Qr)|0,gt=gt+Math.imul(qt,Nr)|0,ot=ot+Math.imul(qt,en)|0,ot=ot+Math.imul(_t,Nr)|0,vt=vt+Math.imul(_t,en)|0,gt=gt+Math.imul(yt,jr)|0,ot=ot+Math.imul(yt,tn)|0,ot=ot+Math.imul(Dt,jr)|0,vt=vt+Math.imul(Dt,tn)|0;var Pn=(lt+gt|0)+((ot&8191)<<13)|0;lt=(vt+(ot>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,gt=Math.imul(Gt,Ot),ot=Math.imul(Gt,Wt),ot=ot+Math.imul(nr,Ot)|0,vt=Math.imul(nr,Wt),gt=gt+Math.imul(Sr,er)|0,ot=ot+Math.imul(Sr,Er)|0,ot=ot+Math.imul(sr,er)|0,vt=vt+Math.imul(sr,Er)|0,gt=gt+Math.imul(fr,vr)|0,ot=ot+Math.imul(fr,Rr)|0,ot=ot+Math.imul(hr,vr)|0,vt=vt+Math.imul(hr,Rr)|0,gt=gt+Math.imul(It,kr)|0,ot=ot+Math.imul(It,Qr)|0,ot=ot+Math.imul(Xt,kr)|0,vt=vt+Math.imul(Xt,Qr)|0,gt=gt+Math.imul(Lt,Nr)|0,ot=ot+Math.imul(Lt,en)|0,ot=ot+Math.imul(Kt,Nr)|0,vt=vt+Math.imul(Kt,en)|0,gt=gt+Math.imul(qt,jr)|0,ot=ot+Math.imul(qt,tn)|0,ot=ot+Math.imul(_t,jr)|0,vt=vt+Math.imul(_t,tn)|0,gt=gt+Math.imul(yt,Mr)|0,ot=ot+Math.imul(yt,qr)|0,ot=ot+Math.imul(Dt,Mr)|0,vt=vt+Math.imul(Dt,qr)|0;var un=(lt+gt|0)+((ot&8191)<<13)|0;lt=(vt+(ot>>>13)|0)+(un>>>26)|0,un&=67108863,gt=Math.imul(ir,Ot),ot=Math.imul(ir,Wt),ot=ot+Math.imul(lr,Ot)|0,vt=Math.imul(lr,Wt),gt=gt+Math.imul(Gt,er)|0,ot=ot+Math.imul(Gt,Er)|0,ot=ot+Math.imul(nr,er)|0,vt=vt+Math.imul(nr,Er)|0,gt=gt+Math.imul(Sr,vr)|0,ot=ot+Math.imul(Sr,Rr)|0,ot=ot+Math.imul(sr,vr)|0,vt=vt+Math.imul(sr,Rr)|0,gt=gt+Math.imul(fr,kr)|0,ot=ot+Math.imul(fr,Qr)|0,ot=ot+Math.imul(hr,kr)|0,vt=vt+Math.imul(hr,Qr)|0,gt=gt+Math.imul(It,Nr)|0,ot=ot+Math.imul(It,en)|0,ot=ot+Math.imul(Xt,Nr)|0,vt=vt+Math.imul(Xt,en)|0,gt=gt+Math.imul(Lt,jr)|0,ot=ot+Math.imul(Lt,tn)|0,ot=ot+Math.imul(Kt,jr)|0,vt=vt+Math.imul(Kt,tn)|0,gt=gt+Math.imul(qt,Mr)|0,ot=ot+Math.imul(qt,qr)|0,ot=ot+Math.imul(_t,Mr)|0,vt=vt+Math.imul(_t,qr)|0,gt=gt+Math.imul(yt,Cr)|0,ot=ot+Math.imul(yt,rn)|0,ot=ot+Math.imul(Dt,Cr)|0,vt=vt+Math.imul(Dt,rn)|0;var xn=(lt+gt|0)+((ot&8191)<<13)|0;lt=(vt+(ot>>>13)|0)+(xn>>>26)|0,xn&=67108863,gt=Math.imul(tr,Ot),ot=Math.imul(tr,Wt),ot=ot+Math.imul(gr,Ot)|0,vt=Math.imul(gr,Wt),gt=gt+Math.imul(ir,er)|0,ot=ot+Math.imul(ir,Er)|0,ot=ot+Math.imul(lr,er)|0,vt=vt+Math.imul(lr,Er)|0,gt=gt+Math.imul(Gt,vr)|0,ot=ot+Math.imul(Gt,Rr)|0,ot=ot+Math.imul(nr,vr)|0,vt=vt+Math.imul(nr,Rr)|0,gt=gt+Math.imul(Sr,kr)|0,ot=ot+Math.imul(Sr,Qr)|0,ot=ot+Math.imul(sr,kr)|0,vt=vt+Math.imul(sr,Qr)|0,gt=gt+Math.imul(fr,Nr)|0,ot=ot+Math.imul(fr,en)|0,ot=ot+Math.imul(hr,Nr)|0,vt=vt+Math.imul(hr,en)|0,gt=gt+Math.imul(It,jr)|0,ot=ot+Math.imul(It,tn)|0,ot=ot+Math.imul(Xt,jr)|0,vt=vt+Math.imul(Xt,tn)|0,gt=gt+Math.imul(Lt,Mr)|0,ot=ot+Math.imul(Lt,qr)|0,ot=ot+Math.imul(Kt,Mr)|0,vt=vt+Math.imul(Kt,qr)|0,gt=gt+Math.imul(qt,Cr)|0,ot=ot+Math.imul(qt,rn)|0,ot=ot+Math.imul(_t,Cr)|0,vt=vt+Math.imul(_t,rn)|0,gt=gt+Math.imul(yt,Ir)|0,ot=ot+Math.imul(yt,nn)|0,ot=ot+Math.imul(Dt,Ir)|0,vt=vt+Math.imul(Dt,nn)|0;var wn=(lt+gt|0)+((ot&8191)<<13)|0;lt=(vt+(ot>>>13)|0)+(wn>>>26)|0,wn&=67108863,gt=Math.imul(Tt,Ot),ot=Math.imul(Tt,Wt),ot=ot+Math.imul(Et,Ot)|0,vt=Math.imul(Et,Wt),gt=gt+Math.imul(tr,er)|0,ot=ot+Math.imul(tr,Er)|0,ot=ot+Math.imul(gr,er)|0,vt=vt+Math.imul(gr,Er)|0,gt=gt+Math.imul(ir,vr)|0,ot=ot+Math.imul(ir,Rr)|0,ot=ot+Math.imul(lr,vr)|0,vt=vt+Math.imul(lr,Rr)|0,gt=gt+Math.imul(Gt,kr)|0,ot=ot+Math.imul(Gt,Qr)|0,ot=ot+Math.imul(nr,kr)|0,vt=vt+Math.imul(nr,Qr)|0,gt=gt+Math.imul(Sr,Nr)|0,ot=ot+Math.imul(Sr,en)|0,ot=ot+Math.imul(sr,Nr)|0,vt=vt+Math.imul(sr,en)|0,gt=gt+Math.imul(fr,jr)|0,ot=ot+Math.imul(fr,tn)|0,ot=ot+Math.imul(hr,jr)|0,vt=vt+Math.imul(hr,tn)|0,gt=gt+Math.imul(It,Mr)|0,ot=ot+Math.imul(It,qr)|0,ot=ot+Math.imul(Xt,Mr)|0,vt=vt+Math.imul(Xt,qr)|0,gt=gt+Math.imul(Lt,Cr)|0,ot=ot+Math.imul(Lt,rn)|0,ot=ot+Math.imul(Kt,Cr)|0,vt=vt+Math.imul(Kt,rn)|0,gt=gt+Math.imul(qt,Ir)|0,ot=ot+Math.imul(qt,nn)|0,ot=ot+Math.imul(_t,Ir)|0,vt=vt+Math.imul(_t,nn)|0,gt=gt+Math.imul(yt,Tr)|0,ot=ot+Math.imul(yt,on)|0,ot=ot+Math.imul(Dt,Tr)|0,vt=vt+Math.imul(Dt,on)|0;var Rn=(lt+gt|0)+((ot&8191)<<13)|0;lt=(vt+(ot>>>13)|0)+(Rn>>>26)|0,Rn&=67108863,gt=Math.imul(Tt,er),ot=Math.imul(Tt,Er),ot=ot+Math.imul(Et,er)|0,vt=Math.imul(Et,Er),gt=gt+Math.imul(tr,vr)|0,ot=ot+Math.imul(tr,Rr)|0,ot=ot+Math.imul(gr,vr)|0,vt=vt+Math.imul(gr,Rr)|0,gt=gt+Math.imul(ir,kr)|0,ot=ot+Math.imul(ir,Qr)|0,ot=ot+Math.imul(lr,kr)|0,vt=vt+Math.imul(lr,Qr)|0,gt=gt+Math.imul(Gt,Nr)|0,ot=ot+Math.imul(Gt,en)|0,ot=ot+Math.imul(nr,Nr)|0,vt=vt+Math.imul(nr,en)|0,gt=gt+Math.imul(Sr,jr)|0,ot=ot+Math.imul(Sr,tn)|0,ot=ot+Math.imul(sr,jr)|0,vt=vt+Math.imul(sr,tn)|0,gt=gt+Math.imul(fr,Mr)|0,ot=ot+Math.imul(fr,qr)|0,ot=ot+Math.imul(hr,Mr)|0,vt=vt+Math.imul(hr,qr)|0,gt=gt+Math.imul(It,Cr)|0,ot=ot+Math.imul(It,rn)|0,ot=ot+Math.imul(Xt,Cr)|0,vt=vt+Math.imul(Xt,rn)|0,gt=gt+Math.imul(Lt,Ir)|0,ot=ot+Math.imul(Lt,nn)|0,ot=ot+Math.imul(Kt,Ir)|0,vt=vt+Math.imul(Kt,nn)|0,gt=gt+Math.imul(qt,Tr)|0,ot=ot+Math.imul(qt,on)|0,ot=ot+Math.imul(_t,Tr)|0,vt=vt+Math.imul(_t,on)|0;var jn=(lt+gt|0)+((ot&8191)<<13)|0;lt=(vt+(ot>>>13)|0)+(jn>>>26)|0,jn&=67108863,gt=Math.imul(Tt,vr),ot=Math.imul(Tt,Rr),ot=ot+Math.imul(Et,vr)|0,vt=Math.imul(Et,Rr),gt=gt+Math.imul(tr,kr)|0,ot=ot+Math.imul(tr,Qr)|0,ot=ot+Math.imul(gr,kr)|0,vt=vt+Math.imul(gr,Qr)|0,gt=gt+Math.imul(ir,Nr)|0,ot=ot+Math.imul(ir,en)|0,ot=ot+Math.imul(lr,Nr)|0,vt=vt+Math.imul(lr,en)|0,gt=gt+Math.imul(Gt,jr)|0,ot=ot+Math.imul(Gt,tn)|0,ot=ot+Math.imul(nr,jr)|0,vt=vt+Math.imul(nr,tn)|0,gt=gt+Math.imul(Sr,Mr)|0,ot=ot+Math.imul(Sr,qr)|0,ot=ot+Math.imul(sr,Mr)|0,vt=vt+Math.imul(sr,qr)|0,gt=gt+Math.imul(fr,Cr)|0,ot=ot+Math.imul(fr,rn)|0,ot=ot+Math.imul(hr,Cr)|0,vt=vt+Math.imul(hr,rn)|0,gt=gt+Math.imul(It,Ir)|0,ot=ot+Math.imul(It,nn)|0,ot=ot+Math.imul(Xt,Ir)|0,vt=vt+Math.imul(Xt,nn)|0,gt=gt+Math.imul(Lt,Tr)|0,ot=ot+Math.imul(Lt,on)|0,ot=ot+Math.imul(Kt,Tr)|0,vt=vt+Math.imul(Kt,on)|0;var mn=(lt+gt|0)+((ot&8191)<<13)|0;lt=(vt+(ot>>>13)|0)+(mn>>>26)|0,mn&=67108863,gt=Math.imul(Tt,kr),ot=Math.imul(Tt,Qr),ot=ot+Math.imul(Et,kr)|0,vt=Math.imul(Et,Qr),gt=gt+Math.imul(tr,Nr)|0,ot=ot+Math.imul(tr,en)|0,ot=ot+Math.imul(gr,Nr)|0,vt=vt+Math.imul(gr,en)|0,gt=gt+Math.imul(ir,jr)|0,ot=ot+Math.imul(ir,tn)|0,ot=ot+Math.imul(lr,jr)|0,vt=vt+Math.imul(lr,tn)|0,gt=gt+Math.imul(Gt,Mr)|0,ot=ot+Math.imul(Gt,qr)|0,ot=ot+Math.imul(nr,Mr)|0,vt=vt+Math.imul(nr,qr)|0,gt=gt+Math.imul(Sr,Cr)|0,ot=ot+Math.imul(Sr,rn)|0,ot=ot+Math.imul(sr,Cr)|0,vt=vt+Math.imul(sr,rn)|0,gt=gt+Math.imul(fr,Ir)|0,ot=ot+Math.imul(fr,nn)|0,ot=ot+Math.imul(hr,Ir)|0,vt=vt+Math.imul(hr,nn)|0,gt=gt+Math.imul(It,Tr)|0,ot=ot+Math.imul(It,on)|0,ot=ot+Math.imul(Xt,Tr)|0,vt=vt+Math.imul(Xt,on)|0;var Nn=(lt+gt|0)+((ot&8191)<<13)|0;lt=(vt+(ot>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,gt=Math.imul(Tt,Nr),ot=Math.imul(Tt,en),ot=ot+Math.imul(Et,Nr)|0,vt=Math.imul(Et,en),gt=gt+Math.imul(tr,jr)|0,ot=ot+Math.imul(tr,tn)|0,ot=ot+Math.imul(gr,jr)|0,vt=vt+Math.imul(gr,tn)|0,gt=gt+Math.imul(ir,Mr)|0,ot=ot+Math.imul(ir,qr)|0,ot=ot+Math.imul(lr,Mr)|0,vt=vt+Math.imul(lr,qr)|0,gt=gt+Math.imul(Gt,Cr)|0,ot=ot+Math.imul(Gt,rn)|0,ot=ot+Math.imul(nr,Cr)|0,vt=vt+Math.imul(nr,rn)|0,gt=gt+Math.imul(Sr,Ir)|0,ot=ot+Math.imul(Sr,nn)|0,ot=ot+Math.imul(sr,Ir)|0,vt=vt+Math.imul(sr,nn)|0,gt=gt+Math.imul(fr,Tr)|0,ot=ot+Math.imul(fr,on)|0,ot=ot+Math.imul(hr,Tr)|0,vt=vt+Math.imul(hr,on)|0;var yn=(lt+gt|0)+((ot&8191)<<13)|0;lt=(vt+(ot>>>13)|0)+(yn>>>26)|0,yn&=67108863,gt=Math.imul(Tt,jr),ot=Math.imul(Tt,tn),ot=ot+Math.imul(Et,jr)|0,vt=Math.imul(Et,tn),gt=gt+Math.imul(tr,Mr)|0,ot=ot+Math.imul(tr,qr)|0,ot=ot+Math.imul(gr,Mr)|0,vt=vt+Math.imul(gr,qr)|0,gt=gt+Math.imul(ir,Cr)|0,ot=ot+Math.imul(ir,rn)|0,ot=ot+Math.imul(lr,Cr)|0,vt=vt+Math.imul(lr,rn)|0,gt=gt+Math.imul(Gt,Ir)|0,ot=ot+Math.imul(Gt,nn)|0,ot=ot+Math.imul(nr,Ir)|0,vt=vt+Math.imul(nr,nn)|0,gt=gt+Math.imul(Sr,Tr)|0,ot=ot+Math.imul(Sr,on)|0,ot=ot+Math.imul(sr,Tr)|0,vt=vt+Math.imul(sr,on)|0;var Mn=(lt+gt|0)+((ot&8191)<<13)|0;lt=(vt+(ot>>>13)|0)+(Mn>>>26)|0,Mn&=67108863,gt=Math.imul(Tt,Mr),ot=Math.imul(Tt,qr),ot=ot+Math.imul(Et,Mr)|0,vt=Math.imul(Et,qr),gt=gt+Math.imul(tr,Cr)|0,ot=ot+Math.imul(tr,rn)|0,ot=ot+Math.imul(gr,Cr)|0,vt=vt+Math.imul(gr,rn)|0,gt=gt+Math.imul(ir,Ir)|0,ot=ot+Math.imul(ir,nn)|0,ot=ot+Math.imul(lr,Ir)|0,vt=vt+Math.imul(lr,nn)|0,gt=gt+Math.imul(Gt,Tr)|0,ot=ot+Math.imul(Gt,on)|0,ot=ot+Math.imul(nr,Tr)|0,vt=vt+Math.imul(nr,on)|0;var hn=(lt+gt|0)+((ot&8191)<<13)|0;lt=(vt+(ot>>>13)|0)+(hn>>>26)|0,hn&=67108863,gt=Math.imul(Tt,Cr),ot=Math.imul(Tt,rn),ot=ot+Math.imul(Et,Cr)|0,vt=Math.imul(Et,rn),gt=gt+Math.imul(tr,Ir)|0,ot=ot+Math.imul(tr,nn)|0,ot=ot+Math.imul(gr,Ir)|0,vt=vt+Math.imul(gr,nn)|0,gt=gt+Math.imul(ir,Tr)|0,ot=ot+Math.imul(ir,on)|0,ot=ot+Math.imul(lr,Tr)|0,vt=vt+Math.imul(lr,on)|0;var En=(lt+gt|0)+((ot&8191)<<13)|0;lt=(vt+(ot>>>13)|0)+(En>>>26)|0,En&=67108863,gt=Math.imul(Tt,Ir),ot=Math.imul(Tt,nn),ot=ot+Math.imul(Et,Ir)|0,vt=Math.imul(Et,nn),gt=gt+Math.imul(tr,Tr)|0,ot=ot+Math.imul(tr,on)|0,ot=ot+Math.imul(gr,Tr)|0,vt=vt+Math.imul(gr,on)|0;var An=(lt+gt|0)+((ot&8191)<<13)|0;lt=(vt+(ot>>>13)|0)+(An>>>26)|0,An&=67108863,gt=Math.imul(Tt,Tr),ot=Math.imul(Tt,on),ot=ot+Math.imul(Et,Tr)|0,vt=Math.imul(Et,on);var Cn=(lt+gt|0)+((ot&8191)<<13)|0;return lt=(vt+(ot>>>13)|0)+(Cn>>>26)|0,Cn&=67108863,dt[0]=Vr,dt[1]=Wr,dt[2]=vn,dt[3]=kn,dt[4]=gn,dt[5]=Pn,dt[6]=un,dt[7]=xn,dt[8]=wn,dt[9]=Rn,dt[10]=jn,dt[11]=mn,dt[12]=Nn,dt[13]=yn,dt[14]=Mn,dt[15]=hn,dt[16]=En,dt[17]=An,dt[18]=Cn,lt!==0&&(dt[19]=lt,tt.length++),tt};Math.imul||(ut=at);function wt(Mt,mt,ft){ft.negative=mt.negative^Mt.negative,ft.length=Mt.length+mt.length;for(var tt=0,it=0,ht=0;ht<ft.length-1;ht++){var dt=it;it=0;for(var lt=tt&67108863,gt=Math.min(ht,mt.length-1),ot=Math.max(0,ht-Mt.length+1);ot<=gt;ot++){var vt=ht-ot,ct=Mt.words[vt]|0,yt=mt.words[ot]|0,Dt=ct*yt,Ht=Dt&67108863;dt=dt+(Dt/67108864|0)|0,Ht=Ht+lt|0,lt=Ht&67108863,dt=dt+(Ht>>>26)|0,it+=dt>>>26,dt&=67108863}ft.words[ht]=lt,tt=dt,dt=it}return tt!==0?ft.words[ht]=tt:ft.length--,ft.strip()}function pt(Mt,mt,ft){var tt=new xt;return tt.mulp(Mt,mt,ft)}h.prototype.mulTo=function(mt,ft){var tt,it=this.length+mt.length;return this.length===10&&mt.length===10?tt=ut(this,mt,ft):it<63?tt=at(this,mt,ft):it<1024?tt=wt(this,mt,ft):tt=pt(this,mt,ft),tt};function xt(Mt,mt){this.x=Mt,this.y=mt}xt.prototype.makeRBT=function(mt){for(var ft=new Array(mt),tt=h.prototype._countBits(mt)-1,it=0;it<mt;it++)ft[it]=this.revBin(it,tt,mt);return ft},xt.prototype.revBin=function(mt,ft,tt){if(mt===0||mt===tt-1)return mt;for(var it=0,ht=0;ht<ft;ht++)it|=(mt&1)<<ft-ht-1,mt>>=1;return it},xt.prototype.permute=function(mt,ft,tt,it,ht,dt){for(var lt=0;lt<dt;lt++)it[lt]=ft[mt[lt]],ht[lt]=tt[mt[lt]]},xt.prototype.transform=function(mt,ft,tt,it,ht,dt){this.permute(dt,mt,ft,tt,it,ht);for(var lt=1;lt<ht;lt<<=1)for(var gt=lt<<1,ot=Math.cos(2*Math.PI/gt),vt=Math.sin(2*Math.PI/gt),ct=0;ct<ht;ct+=gt)for(var yt=ot,Dt=vt,Ht=0;Ht<lt;Ht++){var qt=tt[ct+Ht],_t=it[ct+Ht],kt=tt[ct+Ht+lt],Lt=it[ct+Ht+lt],Kt=yt*kt-Dt*Lt;Lt=yt*Lt+Dt*kt,kt=Kt,tt[ct+Ht]=qt+kt,it[ct+Ht]=_t+Lt,tt[ct+Ht+lt]=qt-kt,it[ct+Ht+lt]=_t-Lt,Ht!==gt&&(Kt=ot*yt-vt*Dt,Dt=ot*Dt+vt*yt,yt=Kt)}},xt.prototype.guessLen13b=function(mt,ft){var tt=Math.max(ft,mt)|1,it=tt&1,ht=0;for(tt=tt/2|0;tt;tt=tt>>>1)ht++;return 1<<ht+1+it},xt.prototype.conjugate=function(mt,ft,tt){if(!(tt<=1))for(var it=0;it<tt/2;it++){var ht=mt[it];mt[it]=mt[tt-it-1],mt[tt-it-1]=ht,ht=ft[it],ft[it]=-ft[tt-it-1],ft[tt-it-1]=-ht}},xt.prototype.normalize13b=function(mt,ft){for(var tt=0,it=0;it<ft/2;it++){var ht=Math.round(mt[2*it+1]/ft)*8192+Math.round(mt[2*it]/ft)+tt;mt[it]=ht&67108863,ht<67108864?tt=0:tt=ht/67108864|0}return mt},xt.prototype.convert13b=function(mt,ft,tt,it){for(var ht=0,dt=0;dt<ft;dt++)ht=ht+(mt[dt]|0),tt[2*dt]=ht&8191,ht=ht>>>13,tt[2*dt+1]=ht&8191,ht=ht>>>13;for(dt=2*ft;dt<it;++dt)tt[dt]=0;d(ht===0),d((ht&-8192)===0)},xt.prototype.stub=function(mt){for(var ft=new Array(mt),tt=0;tt<mt;tt++)ft[tt]=0;return ft},xt.prototype.mulp=function(mt,ft,tt){var it=2*this.guessLen13b(mt.length,ft.length),ht=this.makeRBT(it),dt=this.stub(it),lt=new Array(it),gt=new Array(it),ot=new Array(it),vt=new Array(it),ct=new Array(it),yt=new Array(it),Dt=tt.words;Dt.length=it,this.convert13b(mt.words,mt.length,lt,it),this.convert13b(ft.words,ft.length,vt,it),this.transform(lt,dt,gt,ot,it,ht),this.transform(vt,dt,ct,yt,it,ht);for(var Ht=0;Ht<it;Ht++){var qt=gt[Ht]*ct[Ht]-ot[Ht]*yt[Ht];ot[Ht]=gt[Ht]*yt[Ht]+ot[Ht]*ct[Ht],gt[Ht]=qt}return this.conjugate(gt,ot,it),this.transform(gt,ot,Dt,dt,it,ht),this.conjugate(Dt,dt,it),this.normalize13b(Dt,it),tt.negative=mt.negative^ft.negative,tt.length=mt.length+ft.length,tt.strip()},h.prototype.mul=function(mt){var ft=new h(null);return ft.words=new Array(this.length+mt.length),this.mulTo(mt,ft)},h.prototype.mulf=function(mt){var ft=new h(null);return ft.words=new Array(this.length+mt.length),pt(this,mt,ft)},h.prototype.imul=function(mt){return this.clone().mulTo(mt,this)},h.prototype.imuln=function(mt){d(typeof mt=="number"),d(mt<67108864);for(var ft=0,tt=0;tt<this.length;tt++){var it=(this.words[tt]|0)*mt,ht=(it&67108863)+(ft&67108863);ft>>=26,ft+=it/67108864|0,ft+=ht>>>26,this.words[tt]=ht&67108863}return ft!==0&&(this.words[tt]=ft,this.length++),this.length=mt===0?1:this.length,this},h.prototype.muln=function(mt){return this.clone().imuln(mt)},h.prototype.sqr=function(){return this.mul(this)},h.prototype.isqr=function(){return this.imul(this.clone())},h.prototype.pow=function(mt){var ft=st(mt);if(ft.length===0)return new h(1);for(var tt=this,it=0;it<ft.length&&ft[it]===0;it++,tt=tt.sqr());if(++it<ft.length)for(var ht=tt.sqr();it<ft.length;it++,ht=ht.sqr())ft[it]!==0&&(tt=tt.mul(ht));return tt},h.prototype.iushln=function(mt){d(typeof mt=="number"&&mt>=0);var ft=mt%26,tt=(mt-ft)/26,it=67108863>>>26-ft<<26-ft,ht;if(ft!==0){var dt=0;for(ht=0;ht<this.length;ht++){var lt=this.words[ht]&it,gt=(this.words[ht]|0)-lt<<ft;this.words[ht]=gt|dt,dt=lt>>>26-ft}dt&&(this.words[ht]=dt,this.length++)}if(tt!==0){for(ht=this.length-1;ht>=0;ht--)this.words[ht+tt]=this.words[ht];for(ht=0;ht<tt;ht++)this.words[ht]=0;this.length+=tt}return this.strip()},h.prototype.ishln=function(mt){return d(this.negative===0),this.iushln(mt)},h.prototype.iushrn=function(mt,ft,tt){d(typeof mt=="number"&&mt>=0);var it;ft?it=(ft-ft%26)/26:it=0;var ht=mt%26,dt=Math.min((mt-ht)/26,this.length),lt=67108863^67108863>>>ht<<ht,gt=tt;if(it-=dt,it=Math.max(0,it),gt){for(var ot=0;ot<dt;ot++)gt.words[ot]=this.words[ot];gt.length=dt}if(dt!==0)if(this.length>dt)for(this.length-=dt,ot=0;ot<this.length;ot++)this.words[ot]=this.words[ot+dt];else this.words[0]=0,this.length=1;var vt=0;for(ot=this.length-1;ot>=0&&(vt!==0||ot>=it);ot--){var ct=this.words[ot]|0;this.words[ot]=vt<<26-ht|ct>>>ht,vt=ct&lt}return gt&&vt!==0&&(gt.words[gt.length++]=vt),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},h.prototype.ishrn=function(mt,ft,tt){return d(this.negative===0),this.iushrn(mt,ft,tt)},h.prototype.shln=function(mt){return this.clone().ishln(mt)},h.prototype.ushln=function(mt){return this.clone().iushln(mt)},h.prototype.shrn=function(mt){return this.clone().ishrn(mt)},h.prototype.ushrn=function(mt){return this.clone().iushrn(mt)},h.prototype.testn=function(mt){d(typeof mt=="number"&&mt>=0);var ft=mt%26,tt=(mt-ft)/26,it=1<<ft;if(this.length<=tt)return!1;var ht=this.words[tt];return!!(ht&it)},h.prototype.imaskn=function(mt){d(typeof mt=="number"&&mt>=0);var ft=mt%26,tt=(mt-ft)/26;if(d(this.negative===0,"imaskn works only with positive numbers"),this.length<=tt)return this;if(ft!==0&&tt++,this.length=Math.min(tt,this.length),ft!==0){var it=67108863^67108863>>>ft<<ft;this.words[this.length-1]&=it}return this.strip()},h.prototype.maskn=function(mt){return this.clone().imaskn(mt)},h.prototype.iaddn=function(mt){return d(typeof mt=="number"),d(mt<67108864),mt<0?this.isubn(-mt):this.negative!==0?this.length===1&&(this.words[0]|0)<mt?(this.words[0]=mt-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(mt),this.negative=1,this):this._iaddn(mt)},h.prototype._iaddn=function(mt){this.words[0]+=mt;for(var ft=0;ft<this.length&&this.words[ft]>=67108864;ft++)this.words[ft]-=67108864,ft===this.length-1?this.words[ft+1]=1:this.words[ft+1]++;return this.length=Math.max(this.length,ft+1),this},h.prototype.isubn=function(mt){if(d(typeof mt=="number"),d(mt<67108864),mt<0)return this.iaddn(-mt);if(this.negative!==0)return this.negative=0,this.iaddn(mt),this.negative=1,this;if(this.words[0]-=mt,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var ft=0;ft<this.length&&this.words[ft]<0;ft++)this.words[ft]+=67108864,this.words[ft+1]-=1;return this.strip()},h.prototype.addn=function(mt){return this.clone().iaddn(mt)},h.prototype.subn=function(mt){return this.clone().isubn(mt)},h.prototype.iabs=function(){return this.negative=0,this},h.prototype.abs=function(){return this.clone().iabs()},h.prototype._ishlnsubmul=function(mt,ft,tt){var it=mt.length+tt,ht;this._expand(it);var dt,lt=0;for(ht=0;ht<mt.length;ht++){dt=(this.words[ht+tt]|0)+lt;var gt=(mt.words[ht]|0)*ft;dt-=gt&67108863,lt=(dt>>26)-(gt/67108864|0),this.words[ht+tt]=dt&67108863}for(;ht<this.length-tt;ht++)dt=(this.words[ht+tt]|0)+lt,lt=dt>>26,this.words[ht+tt]=dt&67108863;if(lt===0)return this.strip();for(d(lt===-1),lt=0,ht=0;ht<this.length;ht++)dt=-(this.words[ht]|0)+lt,lt=dt>>26,this.words[ht]=dt&67108863;return this.negative=1,this.strip()},h.prototype._wordDiv=function(mt,ft){var tt=this.length-mt.length,it=this.clone(),ht=mt,dt=ht.words[ht.length-1]|0,lt=this._countBits(dt);tt=26-lt,tt!==0&&(ht=ht.ushln(tt),it.iushln(tt),dt=ht.words[ht.length-1]|0);var gt=it.length-ht.length,ot;if(ft!=="mod"){ot=new h(null),ot.length=gt+1,ot.words=new Array(ot.length);for(var vt=0;vt<ot.length;vt++)ot.words[vt]=0}var ct=it.clone()._ishlnsubmul(ht,1,gt);ct.negative===0&&(it=ct,ot&&(ot.words[gt]=1));for(var yt=gt-1;yt>=0;yt--){var Dt=(it.words[ht.length+yt]|0)*67108864+(it.words[ht.length+yt-1]|0);for(Dt=Math.min(Dt/dt|0,67108863),it._ishlnsubmul(ht,Dt,yt);it.negative!==0;)Dt--,it.negative=0,it._ishlnsubmul(ht,1,yt),it.isZero()||(it.negative^=1);ot&&(ot.words[yt]=Dt)}return ot&&ot.strip(),it.strip(),ft!=="div"&&tt!==0&&it.iushrn(tt),{div:ot||null,mod:it}},h.prototype.divmod=function(mt,ft,tt){if(d(!mt.isZero()),this.isZero())return{div:new h(0),mod:new h(0)};var it,ht,dt;return this.negative!==0&&mt.negative===0?(dt=this.neg().divmod(mt,ft),ft!=="mod"&&(it=dt.div.neg()),ft!=="div"&&(ht=dt.mod.neg(),tt&&ht.negative!==0&&ht.iadd(mt)),{div:it,mod:ht}):this.negative===0&&mt.negative!==0?(dt=this.divmod(mt.neg(),ft),ft!=="mod"&&(it=dt.div.neg()),{div:it,mod:dt.mod}):this.negative&mt.negative?(dt=this.neg().divmod(mt.neg(),ft),ft!=="div"&&(ht=dt.mod.neg(),tt&&ht.negative!==0&&ht.isub(mt)),{div:dt.div,mod:ht}):mt.length>this.length||this.cmp(mt)<0?{div:new h(0),mod:this}:mt.length===1?ft==="div"?{div:this.divn(mt.words[0]),mod:null}:ft==="mod"?{div:null,mod:new h(this.modn(mt.words[0]))}:{div:this.divn(mt.words[0]),mod:new h(this.modn(mt.words[0]))}:this._wordDiv(mt,ft)},h.prototype.div=function(mt){return this.divmod(mt,"div",!1).div},h.prototype.mod=function(mt){return this.divmod(mt,"mod",!1).mod},h.prototype.umod=function(mt){return this.divmod(mt,"mod",!0).mod},h.prototype.divRound=function(mt){var ft=this.divmod(mt);if(ft.mod.isZero())return ft.div;var tt=ft.div.negative!==0?ft.mod.isub(mt):ft.mod,it=mt.ushrn(1),ht=mt.andln(1),dt=tt.cmp(it);return dt<0||ht===1&&dt===0?ft.div:ft.div.negative!==0?ft.div.isubn(1):ft.div.iaddn(1)},h.prototype.modn=function(mt){d(mt<=67108863);for(var ft=(1<<26)%mt,tt=0,it=this.length-1;it>=0;it--)tt=(ft*tt+(this.words[it]|0))%mt;return tt},h.prototype.idivn=function(mt){d(mt<=67108863);for(var ft=0,tt=this.length-1;tt>=0;tt--){var it=(this.words[tt]|0)+ft*67108864;this.words[tt]=it/mt|0,ft=it%mt}return this.strip()},h.prototype.divn=function(mt){return this.clone().idivn(mt)},h.prototype.egcd=function(mt){d(mt.negative===0),d(!mt.isZero());var ft=this,tt=mt.clone();ft.negative!==0?ft=ft.umod(mt):ft=ft.clone();for(var it=new h(1),ht=new h(0),dt=new h(0),lt=new h(1),gt=0;ft.isEven()&&tt.isEven();)ft.iushrn(1),tt.iushrn(1),++gt;for(var ot=tt.clone(),vt=ft.clone();!ft.isZero();){for(var ct=0,yt=1;!(ft.words[0]&yt)&&ct<26;++ct,yt<<=1);if(ct>0)for(ft.iushrn(ct);ct-- >0;)(it.isOdd()||ht.isOdd())&&(it.iadd(ot),ht.isub(vt)),it.iushrn(1),ht.iushrn(1);for(var Dt=0,Ht=1;!(tt.words[0]&Ht)&&Dt<26;++Dt,Ht<<=1);if(Dt>0)for(tt.iushrn(Dt);Dt-- >0;)(dt.isOdd()||lt.isOdd())&&(dt.iadd(ot),lt.isub(vt)),dt.iushrn(1),lt.iushrn(1);ft.cmp(tt)>=0?(ft.isub(tt),it.isub(dt),ht.isub(lt)):(tt.isub(ft),dt.isub(it),lt.isub(ht))}return{a:dt,b:lt,gcd:tt.iushln(gt)}},h.prototype._invmp=function(mt){d(mt.negative===0),d(!mt.isZero());var ft=this,tt=mt.clone();ft.negative!==0?ft=ft.umod(mt):ft=ft.clone();for(var it=new h(1),ht=new h(0),dt=tt.clone();ft.cmpn(1)>0&&tt.cmpn(1)>0;){for(var lt=0,gt=1;!(ft.words[0]&gt)&&lt<26;++lt,gt<<=1);if(lt>0)for(ft.iushrn(lt);lt-- >0;)it.isOdd()&&it.iadd(dt),it.iushrn(1);for(var ot=0,vt=1;!(tt.words[0]&vt)&&ot<26;++ot,vt<<=1);if(ot>0)for(tt.iushrn(ot);ot-- >0;)ht.isOdd()&&ht.iadd(dt),ht.iushrn(1);ft.cmp(tt)>=0?(ft.isub(tt),it.isub(ht)):(tt.isub(ft),ht.isub(it))}var ct;return ft.cmpn(1)===0?ct=it:ct=ht,ct.cmpn(0)<0&&ct.iadd(mt),ct},h.prototype.gcd=function(mt){if(this.isZero())return mt.abs();if(mt.isZero())return this.abs();var ft=this.clone(),tt=mt.clone();ft.negative=0,tt.negative=0;for(var it=0;ft.isEven()&&tt.isEven();it++)ft.iushrn(1),tt.iushrn(1);do{for(;ft.isEven();)ft.iushrn(1);for(;tt.isEven();)tt.iushrn(1);var ht=ft.cmp(tt);if(ht<0){var dt=ft;ft=tt,tt=dt}else if(ht===0||tt.cmpn(1)===0)break;ft.isub(tt)}while(!0);return tt.iushln(it)},h.prototype.invm=function(mt){return this.egcd(mt).a.umod(mt)},h.prototype.isEven=function(){return(this.words[0]&1)===0},h.prototype.isOdd=function(){return(this.words[0]&1)===1},h.prototype.andln=function(mt){return this.words[0]&mt},h.prototype.bincn=function(mt){d(typeof mt=="number");var ft=mt%26,tt=(mt-ft)/26,it=1<<ft;if(this.length<=tt)return this._expand(tt+1),this.words[tt]|=it,this;for(var ht=it,dt=tt;ht!==0&&dt<this.length;dt++){var lt=this.words[dt]|0;lt+=ht,ht=lt>>>26,lt&=67108863,this.words[dt]=lt}return ht!==0&&(this.words[dt]=ht,this.length++),this},h.prototype.isZero=function(){return this.length===1&&this.words[0]===0},h.prototype.cmpn=function(mt){var ft=mt<0;if(this.negative!==0&&!ft)return-1;if(this.negative===0&&ft)return 1;this.strip();var tt;if(this.length>1)tt=1;else{ft&&(mt=-mt),d(mt<=67108863,"Number is too big");var it=this.words[0]|0;tt=it===mt?0:it<mt?-1:1}return this.negative!==0?-tt|0:tt},h.prototype.cmp=function(mt){if(this.negative!==0&&mt.negative===0)return-1;if(this.negative===0&&mt.negative!==0)return 1;var ft=this.ucmp(mt);return this.negative!==0?-ft|0:ft},h.prototype.ucmp=function(mt){if(this.length>mt.length)return 1;if(this.length<mt.length)return-1;for(var ft=0,tt=this.length-1;tt>=0;tt--){var it=this.words[tt]|0,ht=mt.words[tt]|0;if(it!==ht){it<ht?ft=-1:it>ht&&(ft=1);break}}return ft},h.prototype.gtn=function(mt){return this.cmpn(mt)===1},h.prototype.gt=function(mt){return this.cmp(mt)===1},h.prototype.gten=function(mt){return this.cmpn(mt)>=0},h.prototype.gte=function(mt){return this.cmp(mt)>=0},h.prototype.ltn=function(mt){return this.cmpn(mt)===-1},h.prototype.lt=function(mt){return this.cmp(mt)===-1},h.prototype.lten=function(mt){return this.cmpn(mt)<=0},h.prototype.lte=function(mt){return this.cmp(mt)<=0},h.prototype.eqn=function(mt){return this.cmpn(mt)===0},h.prototype.eq=function(mt){return this.cmp(mt)===0},h.red=function(mt){return new Ut(mt)},h.prototype.toRed=function(mt){return d(!this.red,"Already a number in reduction context"),d(this.negative===0,"red works only with positives"),mt.convertTo(this)._forceRed(mt)},h.prototype.fromRed=function(){return d(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},h.prototype._forceRed=function(mt){return this.red=mt,this},h.prototype.forceRed=function(mt){return d(!this.red,"Already a number in reduction context"),this._forceRed(mt)},h.prototype.redAdd=function(mt){return d(this.red,"redAdd works only with red numbers"),this.red.add(this,mt)},h.prototype.redIAdd=function(mt){return d(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,mt)},h.prototype.redSub=function(mt){return d(this.red,"redSub works only with red numbers"),this.red.sub(this,mt)},h.prototype.redISub=function(mt){return d(this.red,"redISub works only with red numbers"),this.red.isub(this,mt)},h.prototype.redShl=function(mt){return d(this.red,"redShl works only with red numbers"),this.red.shl(this,mt)},h.prototype.redMul=function(mt){return d(this.red,"redMul works only with red numbers"),this.red._verify2(this,mt),this.red.mul(this,mt)},h.prototype.redIMul=function(mt){return d(this.red,"redMul works only with red numbers"),this.red._verify2(this,mt),this.red.imul(this,mt)},h.prototype.redSqr=function(){return d(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},h.prototype.redISqr=function(){return d(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},h.prototype.redSqrt=function(){return d(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},h.prototype.redInvm=function(){return d(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},h.prototype.redNeg=function(){return d(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},h.prototype.redPow=function(mt){return d(this.red&&!mt.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,mt)};var St={k256:null,p224:null,p192:null,p25519:null};function Nt(Mt,mt){this.name=Mt,this.p=new h(mt,16),this.n=this.p.bitLength(),this.k=new h(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Nt.prototype._tmp=function(){var mt=new h(null);return mt.words=new Array(Math.ceil(this.n/13)),mt},Nt.prototype.ireduce=function(mt){var ft=mt,tt;do this.split(ft,this.tmp),ft=this.imulK(ft),ft=ft.iadd(this.tmp),tt=ft.bitLength();while(tt>this.n);var it=tt<this.n?-1:ft.ucmp(this.p);return it===0?(ft.words[0]=0,ft.length=1):it>0?ft.isub(this.p):ft.strip!==void 0?ft.strip():ft._strip(),ft},Nt.prototype.split=function(mt,ft){mt.iushrn(this.n,0,ft)},Nt.prototype.imulK=function(mt){return mt.imul(this.k)};function At(){Nt.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}b(At,Nt),At.prototype.split=function(mt,ft){for(var tt=4194303,it=Math.min(mt.length,9),ht=0;ht<it;ht++)ft.words[ht]=mt.words[ht];if(ft.length=it,mt.length<=9){mt.words[0]=0,mt.length=1;return}var dt=mt.words[9];for(ft.words[ft.length++]=dt&tt,ht=10;ht<mt.length;ht++){var lt=mt.words[ht]|0;mt.words[ht-10]=(lt&tt)<<4|dt>>>22,dt=lt}dt>>>=22,mt.words[ht-10]=dt,dt===0&&mt.length>10?mt.length-=10:mt.length-=9},At.prototype.imulK=function(mt){mt.words[mt.length]=0,mt.words[mt.length+1]=0,mt.length+=2;for(var ft=0,tt=0;tt<mt.length;tt++){var it=mt.words[tt]|0;ft+=it*977,mt.words[tt]=ft&67108863,ft=it*64+(ft/67108864|0)}return mt.words[mt.length-1]===0&&(mt.length--,mt.words[mt.length-1]===0&&mt.length--),mt};function Ct(){Nt.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}b(Ct,Nt);function Vt(){Nt.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}b(Vt,Nt);function Bt(){Nt.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}b(Bt,Nt),Bt.prototype.imulK=function(mt){for(var ft=0,tt=0;tt<mt.length;tt++){var it=(mt.words[tt]|0)*19+ft,ht=it&67108863;it>>>=26,mt.words[tt]=ht,ft=it}return ft!==0&&(mt.words[mt.length++]=ft),mt},h._prime=function(mt){if(St[mt])return St[mt];var ft;if(mt==="k256")ft=new At;else if(mt==="p224")ft=new Ct;else if(mt==="p192")ft=new Vt;else if(mt==="p25519")ft=new Bt;else throw new Error("Unknown prime "+mt);return St[mt]=ft,ft};function Ut(Mt){if(typeof Mt=="string"){var mt=h._prime(Mt);this.m=mt.p,this.prime=mt}else d(Mt.gtn(1),"modulus must be greater than 1"),this.m=Mt,this.prime=null}Ut.prototype._verify1=function(mt){d(mt.negative===0,"red works only with positives"),d(mt.red,"red works only with red numbers")},Ut.prototype._verify2=function(mt,ft){d((mt.negative|ft.negative)===0,"red works only with positives"),d(mt.red&&mt.red===ft.red,"red works only with red numbers")},Ut.prototype.imod=function(mt){return this.prime?this.prime.ireduce(mt)._forceRed(this):mt.umod(this.m)._forceRed(this)},Ut.prototype.neg=function(mt){return mt.isZero()?mt.clone():this.m.sub(mt)._forceRed(this)},Ut.prototype.add=function(mt,ft){this._verify2(mt,ft);var tt=mt.add(ft);return tt.cmp(this.m)>=0&&tt.isub(this.m),tt._forceRed(this)},Ut.prototype.iadd=function(mt,ft){this._verify2(mt,ft);var tt=mt.iadd(ft);return tt.cmp(this.m)>=0&&tt.isub(this.m),tt},Ut.prototype.sub=function(mt,ft){this._verify2(mt,ft);var tt=mt.sub(ft);return tt.cmpn(0)<0&&tt.iadd(this.m),tt._forceRed(this)},Ut.prototype.isub=function(mt,ft){this._verify2(mt,ft);var tt=mt.isub(ft);return tt.cmpn(0)<0&&tt.iadd(this.m),tt},Ut.prototype.shl=function(mt,ft){return this._verify1(mt),this.imod(mt.ushln(ft))},Ut.prototype.imul=function(mt,ft){return this._verify2(mt,ft),this.imod(mt.imul(ft))},Ut.prototype.mul=function(mt,ft){return this._verify2(mt,ft),this.imod(mt.mul(ft))},Ut.prototype.isqr=function(mt){return this.imul(mt,mt.clone())},Ut.prototype.sqr=function(mt){return this.mul(mt,mt)},Ut.prototype.sqrt=function(mt){if(mt.isZero())return mt.clone();var ft=this.m.andln(3);if(d(ft%2===1),ft===3){var tt=this.m.add(new h(1)).iushrn(2);return this.pow(mt,tt)}for(var it=this.m.subn(1),ht=0;!it.isZero()&&it.andln(1)===0;)ht++,it.iushrn(1);d(!it.isZero());var dt=new h(1).toRed(this),lt=dt.redNeg(),gt=this.m.subn(1).iushrn(1),ot=this.m.bitLength();for(ot=new h(2*ot*ot).toRed(this);this.pow(ot,gt).cmp(lt)!==0;)ot.redIAdd(lt);for(var vt=this.pow(ot,it),ct=this.pow(mt,it.addn(1).iushrn(1)),yt=this.pow(mt,it),Dt=ht;yt.cmp(dt)!==0;){for(var Ht=yt,qt=0;Ht.cmp(dt)!==0;qt++)Ht=Ht.redSqr();d(qt<Dt);var _t=this.pow(vt,new h(1).iushln(Dt-qt-1));ct=ct.redMul(_t),vt=_t.redSqr(),yt=yt.redMul(vt),Dt=qt}return ct},Ut.prototype.invm=function(mt){var ft=mt._invmp(this.m);return ft.negative!==0?(ft.negative=0,this.imod(ft).redNeg()):this.imod(ft)},Ut.prototype.pow=function(mt,ft){if(ft.isZero())return new h(1).toRed(this);if(ft.cmpn(1)===0)return mt.clone();var tt=4,it=new Array(1<<tt);it[0]=new h(1).toRed(this),it[1]=mt;for(var ht=2;ht<it.length;ht++)it[ht]=this.mul(it[ht-1],mt);var dt=it[0],lt=0,gt=0,ot=ft.bitLength()%26;for(ot===0&&(ot=26),ht=ft.length-1;ht>=0;ht--){for(var vt=ft.words[ht],ct=ot-1;ct>=0;ct--){var yt=vt>>ct&1;if(dt!==it[0]&&(dt=this.sqr(dt)),yt===0&&lt===0){gt=0;continue}lt<<=1,lt|=yt,gt++,!(gt!==tt&&(ht!==0||ct!==0))&&(dt=this.mul(dt,it[lt]),gt=0,lt=0)}ot=26}return dt},Ut.prototype.convertTo=function(mt){var ft=mt.umod(this.m);return ft===mt?ft.clone():ft},Ut.prototype.convertFrom=function(mt){var ft=mt.clone();return ft.red=null,ft},h.mont=function(mt){return new Ft(mt)};function Ft(Mt){Ut.call(this,Mt),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new h(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b(Ft,Ut),Ft.prototype.convertTo=function(mt){return this.imod(mt.ushln(this.shift))},Ft.prototype.convertFrom=function(mt){var ft=this.imod(mt.mul(this.rinv));return ft.red=null,ft},Ft.prototype.imul=function(mt,ft){if(mt.isZero()||ft.isZero())return mt.words[0]=0,mt.length=1,mt;var tt=mt.imul(ft),it=tt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ht=tt.isub(it).iushrn(this.shift),dt=ht;return ht.cmp(this.m)>=0?dt=ht.isub(this.m):ht.cmpn(0)<0&&(dt=ht.iadd(this.m)),dt._forceRed(this)},Ft.prototype.mul=function(mt,ft){if(mt.isZero()||ft.isZero())return new h(0)._forceRed(this);var tt=mt.mul(ft),it=tt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ht=tt.isub(it).iushrn(this.shift),dt=ht;return ht.cmp(this.m)>=0?dt=ht.isub(this.m):ht.cmpn(0)<0&&(dt=ht.iadd(this.m)),dt._forceRed(this)},Ft.prototype.invm=function(mt){var ft=this.imod(mt._invmp(this.m).mul(this.r2));return ft._forceRed(this)}})(e,commonjsGlobal)}(bn$2)),bn$2.exports}var brorand={exports:{}},hasRequiredBrorand;function requireBrorand(){if(hasRequiredBrorand)return brorand.exports;hasRequiredBrorand=1;var e;brorand.exports=function(b){return e||(e=new a(null)),e.generate(b)};function a(d){this.rand=d}if(brorand.exports.Rand=a,a.prototype.generate=function(b){return this._rand(b)},a.prototype._rand=function(b){if(this.rand.getBytes)return this.rand.getBytes(b);for(var h=new Uint8Array(b),_=0;_<h.length;_++)h[_]=this.rand.getByte();return h},typeof self=="object")self.crypto&&self.crypto.getRandomValues?a.prototype._rand=function(b){var h=new Uint8Array(b);return self.crypto.getRandomValues(h),h}:self.msCrypto&&self.msCrypto.getRandomValues?a.prototype._rand=function(b){var h=new Uint8Array(b);return self.msCrypto.getRandomValues(h),h}:typeof window=="object"&&(a.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var c=requireCryptoBrowserify();if(typeof c.randomBytes!="function")throw new Error("Not supported");a.prototype._rand=function(b){return c.randomBytes(b)}}catch{}return brorand.exports}var mr,hasRequiredMr;function requireMr(){if(hasRequiredMr)return mr;hasRequiredMr=1;var e=requireBn$2(),a=requireBrorand();function c(d){this.rand=d||new a.Rand}return mr=c,c.create=function(b){return new c(b)},c.prototype._randbelow=function(b){var h=b.bitLength(),_=Math.ceil(h/8);do var j=new e(this.rand.generate(_));while(j.cmp(b)>=0);return j},c.prototype._randrange=function(b,h){var _=h.sub(b);return b.add(this._randbelow(_))},c.prototype.test=function(b,h,_){var j=b.bitLength(),_e=e.mont(b),et=new e(1).toRed(_e);h||(h=Math.max(1,j/48|0));for(var $=b.subn(1),rt=0;!$.testn(rt);rt++);for(var nt=b.shrn(rt),st=$.toRed(_e),at=!0;h>0;h--){var ut=this._randrange(new e(2),$);_&&_(ut);var wt=ut.toRed(_e).redPow(nt);if(!(wt.cmp(et)===0||wt.cmp(st)===0)){for(var pt=1;pt<rt;pt++){if(wt=wt.redSqr(),wt.cmp(et)===0)return!1;if(wt.cmp(st)===0)break}if(pt===rt)return!1}}return at},c.prototype.getDivisor=function(b,h){var _=b.bitLength(),j=e.mont(b),_e=new e(1).toRed(j);h||(h=Math.max(1,_/48|0));for(var et=b.subn(1),$=0;!et.testn($);$++);for(var rt=b.shrn($),nt=et.toRed(j);h>0;h--){var st=this._randrange(new e(2),et),at=b.gcd(st);if(at.cmpn(1)!==0)return at;var ut=st.toRed(j).redPow(rt);if(!(ut.cmp(_e)===0||ut.cmp(nt)===0)){for(var wt=1;wt<$;wt++){if(ut=ut.redSqr(),ut.cmp(_e)===0)return ut.fromRed().subn(1).gcd(b);if(ut.cmp(nt)===0)break}if(wt===$)return ut=ut.redSqr(),ut.fromRed().subn(1).gcd(b)}}return!1},mr}var generatePrime,hasRequiredGeneratePrime;function requireGeneratePrime(){if(hasRequiredGeneratePrime)return generatePrime;hasRequiredGeneratePrime=1;var e=requireBrowser$b();generatePrime=wt,wt.simpleSieve=at,wt.fermatTest=ut;var a=requireBn$2(),c=new a(24),d=requireMr(),b=new d,h=new a(1),_=new a(2),j=new a(5);new a(16),new a(8);var _e=new a(10),et=new a(3);new a(7);var $=new a(11),rt=new a(4);new a(12);var nt=null;function st(){if(nt!==null)return nt;var pt=1048576,xt=[];xt[0]=2;for(var St=1,Nt=3;Nt<pt;Nt+=2){for(var At=Math.ceil(Math.sqrt(Nt)),Ct=0;Ct<St&&xt[Ct]<=At&&Nt%xt[Ct]!==0;Ct++);St!==Ct&&xt[Ct]<=At||(xt[St++]=Nt)}return nt=xt,xt}function at(pt){for(var xt=st(),St=0;St<xt.length;St++)if(pt.modn(xt[St])===0)return pt.cmpn(xt[St])===0;return!0}function ut(pt){var xt=a.mont(pt);return _.toRed(xt).redPow(pt.subn(1)).fromRed().cmpn(1)===0}function wt(pt,xt){if(pt<16)return xt===2||xt===5?new a([140,123]):new a([140,39]);xt=new a(xt);for(var St,Nt;;){for(St=new a(e(Math.ceil(pt/8)));St.bitLength()>pt;)St.ishrn(1);if(St.isEven()&&St.iadd(h),St.testn(1)||St.iadd(_),xt.cmp(_)){if(!xt.cmp(j))for(;St.mod(_e).cmp(et);)St.iadd(rt)}else for(;St.mod(c).cmp($);)St.iadd(rt);if(Nt=St.shrn(1),at(Nt)&&at(St)&&ut(Nt)&&ut(St)&&b.test(Nt)&&b.test(St))return St}}return generatePrime}const modp1={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},require$$1$1={modp1,modp2,modp5,modp14,modp15,modp16,modp17,modp18};var dh,hasRequiredDh;function requireDh(){if(hasRequiredDh)return dh;hasRequiredDh=1;var e=requireBn$2(),a=requireMr(),c=new a,d=new e(24),b=new e(11),h=new e(10),_=new e(3),j=new e(7),_e=requireGeneratePrime(),et=requireBrowser$b();dh=at;function $(wt,pt){return pt=pt||"utf8",Buffer.isBuffer(wt)||(wt=new Buffer(wt,pt)),this._pub=new e(wt),this}function rt(wt,pt){return pt=pt||"utf8",Buffer.isBuffer(wt)||(wt=new Buffer(wt,pt)),this._priv=new e(wt),this}var nt={};function st(wt,pt){var xt=pt.toString("hex"),St=[xt,wt.toString(16)].join("_");if(St in nt)return nt[St];var Nt=0;if(wt.isEven()||!_e.simpleSieve||!_e.fermatTest(wt)||!c.test(wt))return Nt+=1,xt==="02"||xt==="05"?Nt+=8:Nt+=4,nt[St]=Nt,Nt;c.test(wt.shrn(1))||(Nt+=2);var At;switch(xt){case"02":wt.mod(d).cmp(b)&&(Nt+=8);break;case"05":At=wt.mod(h),At.cmp(_)&&At.cmp(j)&&(Nt+=8);break;default:Nt+=4}return nt[St]=Nt,Nt}function at(wt,pt,xt){this.setGenerator(pt),this.__prime=new e(wt),this._prime=e.mont(this.__prime),this._primeLen=wt.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,xt?(this.setPublicKey=$,this.setPrivateKey=rt):this._primeCode=8}Object.defineProperty(at.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=st(this.__prime,this.__gen)),this._primeCode}}),at.prototype.generateKeys=function(){return this._priv||(this._priv=new e(et(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},at.prototype.computeSecret=function(wt){wt=new e(wt),wt=wt.toRed(this._prime);var pt=wt.redPow(this._priv).fromRed(),xt=new Buffer(pt.toArray()),St=this.getPrime();if(xt.length<St.length){var Nt=new Buffer(St.length-xt.length);Nt.fill(0),xt=Buffer.concat([Nt,xt])}return xt},at.prototype.getPublicKey=function(pt){return ut(this._pub,pt)},at.prototype.getPrivateKey=function(pt){return ut(this._priv,pt)},at.prototype.getPrime=function(wt){return ut(this.__prime,wt)},at.prototype.getGenerator=function(wt){return ut(this._gen,wt)},at.prototype.setGenerator=function(wt,pt){return pt=pt||"utf8",Buffer.isBuffer(wt)||(wt=new Buffer(wt,pt)),this.__gen=wt,this._gen=new e(wt),this};function ut(wt,pt){var xt=new Buffer(wt.toArray());return pt?xt.toString(pt):xt}return dh}var hasRequiredBrowser$4;function requireBrowser$4(){if(hasRequiredBrowser$4)return browser$4;hasRequiredBrowser$4=1;var e=requireGeneratePrime(),a=require$$1$1,c=requireDh();function d(_){var j=new Buffer(a[_].prime,"hex"),_e=new Buffer(a[_].gen,"hex");return new c(j,_e)}var b={binary:!0,hex:!0,base64:!0};function h(_,j,_e,et){return Buffer.isBuffer(j)||b[j]===void 0?h(_,"binary",j,_e):(j=j||"binary",et=et||"binary",_e=_e||new Buffer([2]),Buffer.isBuffer(_e)||(_e=new Buffer(_e,et)),typeof _=="number"?new c(e(_,_e),_e,!0):(Buffer.isBuffer(_)||(_=new Buffer(_,j)),new c(_,_e,!0)))}return browser$4.DiffieHellmanGroup=browser$4.createDiffieHellmanGroup=browser$4.getDiffieHellman=d,browser$4.createDiffieHellman=browser$4.DiffieHellman=h,browser$4}var readableBrowser={exports:{}},isarray,hasRequiredIsarray;function requireIsarray(){if(hasRequiredIsarray)return isarray;hasRequiredIsarray=1;var e={}.toString;return isarray=Array.isArray||function(a){return e.call(a)=="[object Array]"},isarray}var streamBrowser,hasRequiredStreamBrowser;function requireStreamBrowser(){return hasRequiredStreamBrowser||(hasRequiredStreamBrowser=1,streamBrowser=eventsExports.EventEmitter),streamBrowser}var safeBuffer={exports:{}},hasRequiredSafeBuffer;function requireSafeBuffer(){return hasRequiredSafeBuffer||(hasRequiredSafeBuffer=1,function(e,a){var c=require$$0$1,d=c.Buffer;function b(_,j){for(var _e in _)j[_e]=_[_e]}d.from&&d.alloc&&d.allocUnsafe&&d.allocUnsafeSlow?e.exports=c:(b(c,a),a.Buffer=h);function h(_,j,_e){return d(_,j,_e)}b(d,h),h.from=function(_,j,_e){if(typeof _=="number")throw new TypeError("Argument must not be a number");return d(_,j,_e)},h.alloc=function(_,j,_e){if(typeof _!="number")throw new TypeError("Argument must be a number");var et=d(_);return j!==void 0?typeof _e=="string"?et.fill(j,_e):et.fill(j):et.fill(0),et},h.allocUnsafe=function(_){if(typeof _!="number")throw new TypeError("Argument must be a number");return d(_)},h.allocUnsafeSlow=function(_){if(typeof _!="number")throw new TypeError("Argument must be a number");return c.SlowBuffer(_)}}(safeBuffer,safeBuffer.exports)),safeBuffer.exports}var BufferList={exports:{}},hasRequiredBufferList;function requireBufferList(){return hasRequiredBufferList||(hasRequiredBufferList=1,function(e){function a(h,_){if(!(h instanceof _))throw new TypeError("Cannot call a class as a function")}var c=requireSafeBuffer().Buffer,d=util$1;function b(h,_,j){h.copy(_,j)}e.exports=function(){function h(){a(this,h),this.head=null,this.tail=null,this.length=0}return h.prototype.push=function(j){var _e={data:j,next:null};this.length>0?this.tail.next=_e:this.head=_e,this.tail=_e,++this.length},h.prototype.unshift=function(j){var _e={data:j,next:this.head};this.length===0&&(this.tail=_e),this.head=_e,++this.length},h.prototype.shift=function(){if(this.length!==0){var j=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,j}},h.prototype.clear=function(){this.head=this.tail=null,this.length=0},h.prototype.join=function(j){if(this.length===0)return"";for(var _e=this.head,et=""+_e.data;_e=_e.next;)et+=j+_e.data;return et},h.prototype.concat=function(j){if(this.length===0)return c.alloc(0);for(var _e=c.allocUnsafe(j>>>0),et=this.head,$=0;et;)b(et.data,_e,$),$+=et.data.length,et=et.next;return _e},h}(),d&&d.inspect&&d.inspect.custom&&(e.exports.prototype[d.inspect.custom]=function(){var h=d.inspect({length:this.length});return this.constructor.name+" "+h})}(BufferList)),BufferList.exports}var destroy_1,hasRequiredDestroy;function requireDestroy(){if(hasRequiredDestroy)return destroy_1;hasRequiredDestroy=1;var e=requireProcessNextickArgs();function a(b,h){var _=this,j=this._readableState&&this._readableState.destroyed,_e=this._writableState&&this._writableState.destroyed;return j||_e?(h?h(b):b&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(d,this,b)):e.nextTick(d,this,b)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(b||null,function(et){!h&&et?_._writableState?_._writableState.errorEmitted||(_._writableState.errorEmitted=!0,e.nextTick(d,_,et)):e.nextTick(d,_,et):h&&h(et)}),this)}function c(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function d(b,h){b.emit("error",h)}return destroy_1={destroy:a,undestroy:c},destroy_1}var _stream_writable,hasRequired_stream_writable;function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1;var e=requireProcessNextickArgs();_stream_writable=ut;function a(dt){var lt=this;this.next=null,this.entry=null,this.finish=function(){ht(lt,dt)}}var c=!process$1.browser&&["v0.10","v0.9."].indexOf(process$1.version.slice(0,5))>-1?setImmediate:e.nextTick,d;ut.WritableState=st;var b=Object.create(requireUtil());b.inherits=inherits_browserExports;var h={deprecate:requireBrowser$a()},_=requireStreamBrowser(),j=requireSafeBuffer().Buffer,_e=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function et(dt){return j.from(dt)}function $(dt){return j.isBuffer(dt)||dt instanceof _e}var rt=requireDestroy();b.inherits(ut,_);function nt(){}function st(dt,lt){d=d||require_stream_duplex(),dt=dt||{};var gt=lt instanceof d;this.objectMode=!!dt.objectMode,gt&&(this.objectMode=this.objectMode||!!dt.writableObjectMode);var ot=dt.highWaterMark,vt=dt.writableHighWaterMark,ct=this.objectMode?16:16*1024;ot||ot===0?this.highWaterMark=ot:gt&&(vt||vt===0)?this.highWaterMark=vt:this.highWaterMark=ct,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var yt=dt.decodeStrings===!1;this.decodeStrings=!yt,this.defaultEncoding=dt.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Dt){Vt(lt,Dt)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}st.prototype.getBuffer=function(){for(var lt=this.bufferedRequest,gt=[];lt;)gt.push(lt),lt=lt.next;return gt},function(){try{Object.defineProperty(st.prototype,"buffer",{get:h.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var at;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(at=Function.prototype[Symbol.hasInstance],Object.defineProperty(ut,Symbol.hasInstance,{value:function(dt){return at.call(this,dt)?!0:this!==ut?!1:dt&&dt._writableState instanceof st}})):at=function(dt){return dt instanceof this};function ut(dt){if(d=d||require_stream_duplex(),!at.call(ut,this)&&!(this instanceof d))return new ut(dt);this._writableState=new st(dt,this),this.writable=!0,dt&&(typeof dt.write=="function"&&(this._write=dt.write),typeof dt.writev=="function"&&(this._writev=dt.writev),typeof dt.destroy=="function"&&(this._destroy=dt.destroy),typeof dt.final=="function"&&(this._final=dt.final)),_.call(this)}ut.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function wt(dt,lt){var gt=new Error("write after end");dt.emit("error",gt),e.nextTick(lt,gt)}function pt(dt,lt,gt,ot){var vt=!0,ct=!1;return gt===null?ct=new TypeError("May not write null values to stream"):typeof gt!="string"&&gt!==void 0&&!lt.objectMode&&(ct=new TypeError("Invalid non-string/buffer chunk")),ct&&(dt.emit("error",ct),e.nextTick(ot,ct),vt=!1),vt}ut.prototype.write=function(dt,lt,gt){var ot=this._writableState,vt=!1,ct=!ot.objectMode&&$(dt);return ct&&!j.isBuffer(dt)&&(dt=et(dt)),typeof lt=="function"&&(gt=lt,lt=null),ct?lt="buffer":lt||(lt=ot.defaultEncoding),typeof gt!="function"&&(gt=nt),ot.ended?wt(this,gt):(ct||pt(this,ot,dt,gt))&&(ot.pendingcb++,vt=St(this,ot,ct,dt,lt,gt)),vt},ut.prototype.cork=function(){var dt=this._writableState;dt.corked++},ut.prototype.uncork=function(){var dt=this._writableState;dt.corked&&(dt.corked--,!dt.writing&&!dt.corked&&!dt.bufferProcessing&&dt.bufferedRequest&&Ft(this,dt))},ut.prototype.setDefaultEncoding=function(lt){if(typeof lt=="string"&&(lt=lt.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((lt+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+lt);return this._writableState.defaultEncoding=lt,this};function xt(dt,lt,gt){return!dt.objectMode&&dt.decodeStrings!==!1&&typeof lt=="string"&&(lt=j.from(lt,gt)),lt}Object.defineProperty(ut.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function St(dt,lt,gt,ot,vt,ct){if(!gt){var yt=xt(lt,ot,vt);ot!==yt&&(gt=!0,vt="buffer",ot=yt)}var Dt=lt.objectMode?1:ot.length;lt.length+=Dt;var Ht=lt.length<lt.highWaterMark;if(Ht||(lt.needDrain=!0),lt.writing||lt.corked){var qt=lt.lastBufferedRequest;lt.lastBufferedRequest={chunk:ot,encoding:vt,isBuf:gt,callback:ct,next:null},qt?qt.next=lt.lastBufferedRequest:lt.bufferedRequest=lt.lastBufferedRequest,lt.bufferedRequestCount+=1}else Nt(dt,lt,!1,Dt,ot,vt,ct);return Ht}function Nt(dt,lt,gt,ot,vt,ct,yt){lt.writelen=ot,lt.writecb=yt,lt.writing=!0,lt.sync=!0,gt?dt._writev(vt,lt.onwrite):dt._write(vt,ct,lt.onwrite),lt.sync=!1}function At(dt,lt,gt,ot,vt){--lt.pendingcb,gt?(e.nextTick(vt,ot),e.nextTick(tt,dt,lt),dt._writableState.errorEmitted=!0,dt.emit("error",ot)):(vt(ot),dt._writableState.errorEmitted=!0,dt.emit("error",ot),tt(dt,lt))}function Ct(dt){dt.writing=!1,dt.writecb=null,dt.length-=dt.writelen,dt.writelen=0}function Vt(dt,lt){var gt=dt._writableState,ot=gt.sync,vt=gt.writecb;if(Ct(gt),lt)At(dt,gt,ot,lt,vt);else{var ct=Mt(gt);!ct&&!gt.corked&&!gt.bufferProcessing&&gt.bufferedRequest&&Ft(dt,gt),ot?c(Bt,dt,gt,ct,vt):Bt(dt,gt,ct,vt)}}function Bt(dt,lt,gt,ot){gt||Ut(dt,lt),lt.pendingcb--,ot(),tt(dt,lt)}function Ut(dt,lt){lt.length===0&&lt.needDrain&&(lt.needDrain=!1,dt.emit("drain"))}function Ft(dt,lt){lt.bufferProcessing=!0;var gt=lt.bufferedRequest;if(dt._writev&&gt&&gt.next){var ot=lt.bufferedRequestCount,vt=new Array(ot),ct=lt.corkedRequestsFree;ct.entry=gt;for(var yt=0,Dt=!0;gt;)vt[yt]=gt,gt.isBuf||(Dt=!1),gt=gt.next,yt+=1;vt.allBuffers=Dt,Nt(dt,lt,!0,lt.length,vt,"",ct.finish),lt.pendingcb++,lt.lastBufferedRequest=null,ct.next?(lt.corkedRequestsFree=ct.next,ct.next=null):lt.corkedRequestsFree=new a(lt),lt.bufferedRequestCount=0}else{for(;gt;){var Ht=gt.chunk,qt=gt.encoding,_t=gt.callback,kt=lt.objectMode?1:Ht.length;if(Nt(dt,lt,!1,kt,Ht,qt,_t),gt=gt.next,lt.bufferedRequestCount--,lt.writing)break}gt===null&&(lt.lastBufferedRequest=null)}lt.bufferedRequest=gt,lt.bufferProcessing=!1}ut.prototype._write=function(dt,lt,gt){gt(new Error("_write() is not implemented"))},ut.prototype._writev=null,ut.prototype.end=function(dt,lt,gt){var ot=this._writableState;typeof dt=="function"?(gt=dt,dt=null,lt=null):typeof lt=="function"&&(gt=lt,lt=null),dt!=null&&this.write(dt,lt),ot.corked&&(ot.corked=1,this.uncork()),ot.ending||it(this,ot,gt)};function Mt(dt){return dt.ending&&dt.length===0&&dt.bufferedRequest===null&&!dt.finished&&!dt.writing}function mt(dt,lt){dt._final(function(gt){lt.pendingcb--,gt&&dt.emit("error",gt),lt.prefinished=!0,dt.emit("prefinish"),tt(dt,lt)})}function ft(dt,lt){!lt.prefinished&&!lt.finalCalled&&(typeof dt._final=="function"?(lt.pendingcb++,lt.finalCalled=!0,e.nextTick(mt,dt,lt)):(lt.prefinished=!0,dt.emit("prefinish")))}function tt(dt,lt){var gt=Mt(lt);return gt&&(ft(dt,lt),lt.pendingcb===0&&(lt.finished=!0,dt.emit("finish"))),gt}function it(dt,lt,gt){lt.ending=!0,tt(dt,lt),gt&&(lt.finished?e.nextTick(gt):dt.once("finish",gt)),lt.ended=!0,dt.writable=!1}function ht(dt,lt,gt){var ot=dt.entry;for(dt.entry=null;ot;){var vt=ot.callback;lt.pendingcb--,vt(gt),ot=ot.next}lt.corkedRequestsFree.next=dt}return Object.defineProperty(ut.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(dt){this._writableState&&(this._writableState.destroyed=dt)}}),ut.prototype.destroy=rt.destroy,ut.prototype._undestroy=rt.undestroy,ut.prototype._destroy=function(dt,lt){this.end(),lt(dt)},_stream_writable}var _stream_duplex,hasRequired_stream_duplex;function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var e=requireProcessNextickArgs(),a=Object.keys||function(rt){var nt=[];for(var st in rt)nt.push(st);return nt};_stream_duplex=_e;var c=Object.create(requireUtil());c.inherits=inherits_browserExports;var d=require_stream_readable(),b=require_stream_writable();c.inherits(_e,d);for(var h=a(b.prototype),_=0;_<h.length;_++){var j=h[_];_e.prototype[j]||(_e.prototype[j]=b.prototype[j])}function _e(rt){if(!(this instanceof _e))return new _e(rt);d.call(this,rt),b.call(this,rt),rt&&rt.readable===!1&&(this.readable=!1),rt&&rt.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,rt&&rt.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",et)}Object.defineProperty(_e.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function et(){this.allowHalfOpen||this._writableState.ended||e.nextTick($,this)}function $(rt){rt.end()}return Object.defineProperty(_e.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(rt){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=rt,this._writableState.destroyed=rt)}}),_e.prototype._destroy=function(rt,nt){this.push(null),this.end(),e.nextTick(nt,rt)},_stream_duplex}var _stream_readable,hasRequired_stream_readable;function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1;var e=requireProcessNextickArgs();_stream_readable=xt;var a=requireIsarray(),c;xt.ReadableState=pt,eventsExports.EventEmitter;var d=function(_t,kt){return _t.listeners(kt).length},b=requireStreamBrowser(),h=requireSafeBuffer().Buffer,_=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function j(_t){return h.from(_t)}function _e(_t){return h.isBuffer(_t)||_t instanceof _}var et=Object.create(requireUtil());et.inherits=inherits_browserExports;var $=util$1,rt=void 0;$&&$.debuglog?rt=$.debuglog("stream"):rt=function(){};var nt=requireBufferList(),st=requireDestroy(),at;et.inherits(xt,b);var ut=["error","close","destroy","pause","resume"];function wt(_t,kt,Lt){if(typeof _t.prependListener=="function")return _t.prependListener(kt,Lt);!_t._events||!_t._events[kt]?_t.on(kt,Lt):a(_t._events[kt])?_t._events[kt].unshift(Lt):_t._events[kt]=[Lt,_t._events[kt]]}function pt(_t,kt){c=c||require_stream_duplex(),_t=_t||{};var Lt=kt instanceof c;this.objectMode=!!_t.objectMode,Lt&&(this.objectMode=this.objectMode||!!_t.readableObjectMode);var Kt=_t.highWaterMark,$t=_t.readableHighWaterMark,It=this.objectMode?16:16*1024;Kt||Kt===0?this.highWaterMark=Kt:Lt&&($t||$t===0)?this.highWaterMark=$t:this.highWaterMark=It,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new nt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=_t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,_t.encoding&&(at||(at=requireString_decoder().StringDecoder),this.decoder=new at(_t.encoding),this.encoding=_t.encoding)}function xt(_t){if(c=c||require_stream_duplex(),!(this instanceof xt))return new xt(_t);this._readableState=new pt(_t,this),this.readable=!0,_t&&(typeof _t.read=="function"&&(this._read=_t.read),typeof _t.destroy=="function"&&(this._destroy=_t.destroy)),b.call(this)}Object.defineProperty(xt.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(_t){this._readableState&&(this._readableState.destroyed=_t)}}),xt.prototype.destroy=st.destroy,xt.prototype._undestroy=st.undestroy,xt.prototype._destroy=function(_t,kt){this.push(null),kt(_t)},xt.prototype.push=function(_t,kt){var Lt=this._readableState,Kt;return Lt.objectMode?Kt=!0:typeof _t=="string"&&(kt=kt||Lt.defaultEncoding,kt!==Lt.encoding&&(_t=h.from(_t,kt),kt=""),Kt=!0),St(this,_t,kt,!1,Kt)},xt.prototype.unshift=function(_t){return St(this,_t,null,!0,!1)};function St(_t,kt,Lt,Kt,$t){var It=_t._readableState;if(kt===null)It.reading=!1,Ft(_t,It);else{var Xt;$t||(Xt=At(It,kt)),Xt?_t.emit("error",Xt):It.objectMode||kt&&kt.length>0?(typeof kt!="string"&&!It.objectMode&&Object.getPrototypeOf(kt)!==h.prototype&&(kt=j(kt)),Kt?It.endEmitted?_t.emit("error",new Error("stream.unshift() after end event")):Nt(_t,It,kt,!0):It.ended?_t.emit("error",new Error("stream.push() after EOF")):(It.reading=!1,It.decoder&&!Lt?(kt=It.decoder.write(kt),It.objectMode||kt.length!==0?Nt(_t,It,kt,!1):ft(_t,It)):Nt(_t,It,kt,!1))):Kt||(It.reading=!1)}return Ct(It)}function Nt(_t,kt,Lt,Kt){kt.flowing&&kt.length===0&&!kt.sync?(_t.emit("data",Lt),_t.read(0)):(kt.length+=kt.objectMode?1:Lt.length,Kt?kt.buffer.unshift(Lt):kt.buffer.push(Lt),kt.needReadable&&Mt(_t)),ft(_t,kt)}function At(_t,kt){var Lt;return!_e(kt)&&typeof kt!="string"&&kt!==void 0&&!_t.objectMode&&(Lt=new TypeError("Invalid non-string/buffer chunk")),Lt}function Ct(_t){return!_t.ended&&(_t.needReadable||_t.length<_t.highWaterMark||_t.length===0)}xt.prototype.isPaused=function(){return this._readableState.flowing===!1},xt.prototype.setEncoding=function(_t){return at||(at=requireString_decoder().StringDecoder),this._readableState.decoder=new at(_t),this._readableState.encoding=_t,this};var Vt=8388608;function Bt(_t){return _t>=Vt?_t=Vt:(_t--,_t|=_t>>>1,_t|=_t>>>2,_t|=_t>>>4,_t|=_t>>>8,_t|=_t>>>16,_t++),_t}function Ut(_t,kt){return _t<=0||kt.length===0&&kt.ended?0:kt.objectMode?1:_t!==_t?kt.flowing&&kt.length?kt.buffer.head.data.length:kt.length:(_t>kt.highWaterMark&&(kt.highWaterMark=Bt(_t)),_t<=kt.length?_t:kt.ended?kt.length:(kt.needReadable=!0,0))}xt.prototype.read=function(_t){rt("read",_t),_t=parseInt(_t,10);var kt=this._readableState,Lt=_t;if(_t!==0&&(kt.emittedReadable=!1),_t===0&&kt.needReadable&&(kt.length>=kt.highWaterMark||kt.ended))return rt("read: emitReadable",kt.length,kt.ended),kt.length===0&&kt.ended?Dt(this):Mt(this),null;if(_t=Ut(_t,kt),_t===0&&kt.ended)return kt.length===0&&Dt(this),null;var Kt=kt.needReadable;rt("need readable",Kt),(kt.length===0||kt.length-_t<kt.highWaterMark)&&(Kt=!0,rt("length less than watermark",Kt)),kt.ended||kt.reading?(Kt=!1,rt("reading or ended",Kt)):Kt&&(rt("do read"),kt.reading=!0,kt.sync=!0,kt.length===0&&(kt.needReadable=!0),this._read(kt.highWaterMark),kt.sync=!1,kt.reading||(_t=Ut(Lt,kt)));var $t;return _t>0?$t=ot(_t,kt):$t=null,$t===null?(kt.needReadable=!0,_t=0):kt.length-=_t,kt.length===0&&(kt.ended||(kt.needReadable=!0),Lt!==_t&&kt.ended&&Dt(this)),$t!==null&&this.emit("data",$t),$t};function Ft(_t,kt){if(!kt.ended){if(kt.decoder){var Lt=kt.decoder.end();Lt&&Lt.length&&(kt.buffer.push(Lt),kt.length+=kt.objectMode?1:Lt.length)}kt.ended=!0,Mt(_t)}}function Mt(_t){var kt=_t._readableState;kt.needReadable=!1,kt.emittedReadable||(rt("emitReadable",kt.flowing),kt.emittedReadable=!0,kt.sync?e.nextTick(mt,_t):mt(_t))}function mt(_t){rt("emit readable"),_t.emit("readable"),gt(_t)}function ft(_t,kt){kt.readingMore||(kt.readingMore=!0,e.nextTick(tt,_t,kt))}function tt(_t,kt){for(var Lt=kt.length;!kt.reading&&!kt.flowing&&!kt.ended&&kt.length<kt.highWaterMark&&(rt("maybeReadMore read 0"),_t.read(0),Lt!==kt.length);)Lt=kt.length;kt.readingMore=!1}xt.prototype._read=function(_t){this.emit("error",new Error("_read() is not implemented"))},xt.prototype.pipe=function(_t,kt){var Lt=this,Kt=this._readableState;switch(Kt.pipesCount){case 0:Kt.pipes=_t;break;case 1:Kt.pipes=[Kt.pipes,_t];break;default:Kt.pipes.push(_t);break}Kt.pipesCount+=1,rt("pipe count=%d opts=%j",Kt.pipesCount,kt);var $t=(!kt||kt.end!==!1)&&_t!==process$1.stdout&&_t!==process$1.stderr,It=$t?cr:ur;Kt.endEmitted?e.nextTick(It):Lt.once("end",It),_t.on("unpipe",Xt);function Xt(ir,lr){rt("onunpipe"),ir===Lt&&lr&&lr.hasUnpiped===!1&&(lr.hasUnpiped=!0,yr())}function cr(){rt("onend"),_t.end()}var fr=it(Lt);_t.on("drain",fr);var hr=!1;function yr(){rt("cleanup"),_t.removeListener("close",Gt),_t.removeListener("finish",nr),_t.removeListener("drain",fr),_t.removeListener("error",Zt),_t.removeListener("unpipe",Xt),Lt.removeListener("end",cr),Lt.removeListener("end",ur),Lt.removeListener("data",sr),hr=!0,Kt.awaitDrain&&(!_t._writableState||_t._writableState.needDrain)&&fr()}var Sr=!1;Lt.on("data",sr);function sr(ir){rt("ondata"),Sr=!1;var lr=_t.write(ir);lr===!1&&!Sr&&((Kt.pipesCount===1&&Kt.pipes===_t||Kt.pipesCount>1&&qt(Kt.pipes,_t)!==-1)&&!hr&&(rt("false write response, pause",Kt.awaitDrain),Kt.awaitDrain++,Sr=!0),Lt.pause())}function Zt(ir){rt("onerror",ir),ur(),_t.removeListener("error",Zt),d(_t,"error")===0&&_t.emit("error",ir)}wt(_t,"error",Zt);function Gt(){_t.removeListener("finish",nr),ur()}_t.once("close",Gt);function nr(){rt("onfinish"),_t.removeListener("close",Gt),ur()}_t.once("finish",nr);function ur(){rt("unpipe"),Lt.unpipe(_t)}return _t.emit("pipe",Lt),Kt.flowing||(rt("pipe resume"),Lt.resume()),_t};function it(_t){return function(){var kt=_t._readableState;rt("pipeOnDrain",kt.awaitDrain),kt.awaitDrain&&kt.awaitDrain--,kt.awaitDrain===0&&d(_t,"data")&&(kt.flowing=!0,gt(_t))}}xt.prototype.unpipe=function(_t){var kt=this._readableState,Lt={hasUnpiped:!1};if(kt.pipesCount===0)return this;if(kt.pipesCount===1)return _t&&_t!==kt.pipes?this:(_t||(_t=kt.pipes),kt.pipes=null,kt.pipesCount=0,kt.flowing=!1,_t&&_t.emit("unpipe",this,Lt),this);if(!_t){var Kt=kt.pipes,$t=kt.pipesCount;kt.pipes=null,kt.pipesCount=0,kt.flowing=!1;for(var It=0;It<$t;It++)Kt[It].emit("unpipe",this,{hasUnpiped:!1});return this}var Xt=qt(kt.pipes,_t);return Xt===-1?this:(kt.pipes.splice(Xt,1),kt.pipesCount-=1,kt.pipesCount===1&&(kt.pipes=kt.pipes[0]),_t.emit("unpipe",this,Lt),this)},xt.prototype.on=function(_t,kt){var Lt=b.prototype.on.call(this,_t,kt);if(_t==="data")this._readableState.flowing!==!1&&this.resume();else if(_t==="readable"){var Kt=this._readableState;!Kt.endEmitted&&!Kt.readableListening&&(Kt.readableListening=Kt.needReadable=!0,Kt.emittedReadable=!1,Kt.reading?Kt.length&&Mt(this):e.nextTick(ht,this))}return Lt},xt.prototype.addListener=xt.prototype.on;function ht(_t){rt("readable nexttick read 0"),_t.read(0)}xt.prototype.resume=function(){var _t=this._readableState;return _t.flowing||(rt("resume"),_t.flowing=!0,dt(this,_t)),this};function dt(_t,kt){kt.resumeScheduled||(kt.resumeScheduled=!0,e.nextTick(lt,_t,kt))}function lt(_t,kt){kt.reading||(rt("resume read 0"),_t.read(0)),kt.resumeScheduled=!1,kt.awaitDrain=0,_t.emit("resume"),gt(_t),kt.flowing&&!kt.reading&&_t.read(0)}xt.prototype.pause=function(){return rt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(rt("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function gt(_t){var kt=_t._readableState;for(rt("flow",kt.flowing);kt.flowing&&_t.read()!==null;);}xt.prototype.wrap=function(_t){var kt=this,Lt=this._readableState,Kt=!1;_t.on("end",function(){if(rt("wrapped end"),Lt.decoder&&!Lt.ended){var Xt=Lt.decoder.end();Xt&&Xt.length&&kt.push(Xt)}kt.push(null)}),_t.on("data",function(Xt){if(rt("wrapped data"),Lt.decoder&&(Xt=Lt.decoder.write(Xt)),!(Lt.objectMode&&Xt==null)&&!(!Lt.objectMode&&(!Xt||!Xt.length))){var cr=kt.push(Xt);cr||(Kt=!0,_t.pause())}});for(var $t in _t)this[$t]===void 0&&typeof _t[$t]=="function"&&(this[$t]=function(Xt){return function(){return _t[Xt].apply(_t,arguments)}}($t));for(var It=0;It<ut.length;It++)_t.on(ut[It],this.emit.bind(this,ut[It]));return this._read=function(Xt){rt("wrapped _read",Xt),Kt&&(Kt=!1,_t.resume())},this},Object.defineProperty(xt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),xt._fromList=ot;function ot(_t,kt){if(kt.length===0)return null;var Lt;return kt.objectMode?Lt=kt.buffer.shift():!_t||_t>=kt.length?(kt.decoder?Lt=kt.buffer.join(""):kt.buffer.length===1?Lt=kt.buffer.head.data:Lt=kt.buffer.concat(kt.length),kt.buffer.clear()):Lt=vt(_t,kt.buffer,kt.decoder),Lt}function vt(_t,kt,Lt){var Kt;return _t<kt.head.data.length?(Kt=kt.head.data.slice(0,_t),kt.head.data=kt.head.data.slice(_t)):_t===kt.head.data.length?Kt=kt.shift():Kt=Lt?ct(_t,kt):yt(_t,kt),Kt}function ct(_t,kt){var Lt=kt.head,Kt=1,$t=Lt.data;for(_t-=$t.length;Lt=Lt.next;){var It=Lt.data,Xt=_t>It.length?It.length:_t;if(Xt===It.length?$t+=It:$t+=It.slice(0,_t),_t-=Xt,_t===0){Xt===It.length?(++Kt,Lt.next?kt.head=Lt.next:kt.head=kt.tail=null):(kt.head=Lt,Lt.data=It.slice(Xt));break}++Kt}return kt.length-=Kt,$t}function yt(_t,kt){var Lt=h.allocUnsafe(_t),Kt=kt.head,$t=1;for(Kt.data.copy(Lt),_t-=Kt.data.length;Kt=Kt.next;){var It=Kt.data,Xt=_t>It.length?It.length:_t;if(It.copy(Lt,Lt.length-_t,0,Xt),_t-=Xt,_t===0){Xt===It.length?(++$t,Kt.next?kt.head=Kt.next:kt.head=kt.tail=null):(kt.head=Kt,Kt.data=It.slice(Xt));break}++$t}return kt.length-=$t,Lt}function Dt(_t){var kt=_t._readableState;if(kt.length>0)throw new Error('"endReadable()" called on non-empty stream');kt.endEmitted||(kt.ended=!0,e.nextTick(Ht,kt,_t))}function Ht(_t,kt){!_t.endEmitted&&_t.length===0&&(_t.endEmitted=!0,kt.readable=!1,kt.emit("end"))}function qt(_t,kt){for(var Lt=0,Kt=_t.length;Lt<Kt;Lt++)if(_t[Lt]===kt)return Lt;return-1}return _stream_readable}var _stream_transform,hasRequired_stream_transform;function require_stream_transform(){if(hasRequired_stream_transform)return _stream_transform;hasRequired_stream_transform=1,_stream_transform=d;var e=require_stream_duplex(),a=Object.create(requireUtil());a.inherits=inherits_browserExports,a.inherits(d,e);function c(_,j){var _e=this._transformState;_e.transforming=!1;var et=_e.writecb;if(!et)return this.emit("error",new Error("write callback called multiple times"));_e.writechunk=null,_e.writecb=null,j!=null&&this.push(j),et(_);var $=this._readableState;$.reading=!1,($.needReadable||$.length<$.highWaterMark)&&this._read($.highWaterMark)}function d(_){if(!(this instanceof d))return new d(_);e.call(this,_),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,_&&(typeof _.transform=="function"&&(this._transform=_.transform),typeof _.flush=="function"&&(this._flush=_.flush)),this.on("prefinish",b)}function b(){var _=this;typeof this._flush=="function"?this._flush(function(j,_e){h(_,j,_e)}):h(this,null,null)}d.prototype.push=function(_,j){return this._transformState.needTransform=!1,e.prototype.push.call(this,_,j)},d.prototype._transform=function(_,j,_e){throw new Error("_transform() is not implemented")},d.prototype._write=function(_,j,_e){var et=this._transformState;if(et.writecb=_e,et.writechunk=_,et.writeencoding=j,!et.transforming){var $=this._readableState;(et.needTransform||$.needReadable||$.length<$.highWaterMark)&&this._read($.highWaterMark)}},d.prototype._read=function(_){var j=this._transformState;j.writechunk!==null&&j.writecb&&!j.transforming?(j.transforming=!0,this._transform(j.writechunk,j.writeencoding,j.afterTransform)):j.needTransform=!0},d.prototype._destroy=function(_,j){var _e=this;e.prototype._destroy.call(this,_,function(et){j(et),_e.emit("close")})};function h(_,j,_e){if(j)return _.emit("error",j);if(_e!=null&&_.push(_e),_._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(_._transformState.transforming)throw new Error("Calling transform done when still transforming");return _.push(null)}return _stream_transform}var _stream_passthrough,hasRequired_stream_passthrough;function require_stream_passthrough(){if(hasRequired_stream_passthrough)return _stream_passthrough;hasRequired_stream_passthrough=1,_stream_passthrough=c;var e=require_stream_transform(),a=Object.create(requireUtil());a.inherits=inherits_browserExports,a.inherits(c,e);function c(d){if(!(this instanceof c))return new c(d);e.call(this,d)}return c.prototype._transform=function(d,b,h){h(null,d)},_stream_passthrough}var hasRequiredReadableBrowser;function requireReadableBrowser(){return hasRequiredReadableBrowser||(hasRequiredReadableBrowser=1,function(e,a){a=e.exports=require_stream_readable(),a.Stream=a,a.Readable=a,a.Writable=require_stream_writable(),a.Duplex=require_stream_duplex(),a.Transform=require_stream_transform(),a.PassThrough=require_stream_passthrough()}(readableBrowser,readableBrowser.exports)),readableBrowser.exports}var sign={exports:{}},bn$1={exports:{}};bn$1.exports;var hasRequiredBn$1;function requireBn$1(){return hasRequiredBn$1||(hasRequiredBn$1=1,function(e){(function(a,c){function d(ft,tt){if(!ft)throw new Error(tt||"Assertion failed")}function b(ft,tt){ft.super_=tt;var it=function(){};it.prototype=tt.prototype,ft.prototype=new it,ft.prototype.constructor=ft}function h(ft,tt,it){if(h.isBN(ft))return ft;this.negative=0,this.words=null,this.length=0,this.red=null,ft!==null&&((tt==="le"||tt==="be")&&(it=tt,tt=10),this._init(ft||0,tt||10,it||"be"))}typeof a=="object"?a.exports=h:c.BN=h,h.BN=h,h.wordSize=26;var _;try{typeof window<"u"&&typeof window.Buffer<"u"?_=window.Buffer:_=require$$0$1.Buffer}catch{}h.isBN=function(tt){return tt instanceof h?!0:tt!==null&&typeof tt=="object"&&tt.constructor.wordSize===h.wordSize&&Array.isArray(tt.words)},h.max=function(tt,it){return tt.cmp(it)>0?tt:it},h.min=function(tt,it){return tt.cmp(it)<0?tt:it},h.prototype._init=function(tt,it,ht){if(typeof tt=="number")return this._initNumber(tt,it,ht);if(typeof tt=="object")return this._initArray(tt,it,ht);it==="hex"&&(it=16),d(it===(it|0)&&it>=2&&it<=36),tt=tt.toString().replace(/\s+/g,"");var dt=0;tt[0]==="-"&&(dt++,this.negative=1),dt<tt.length&&(it===16?this._parseHex(tt,dt,ht):(this._parseBase(tt,it,dt),ht==="le"&&this._initArray(this.toArray(),it,ht)))},h.prototype._initNumber=function(tt,it,ht){tt<0&&(this.negative=1,tt=-tt),tt<67108864?(this.words=[tt&67108863],this.length=1):tt<4503599627370496?(this.words=[tt&67108863,tt/67108864&67108863],this.length=2):(d(tt<9007199254740992),this.words=[tt&67108863,tt/67108864&67108863,1],this.length=3),ht==="le"&&this._initArray(this.toArray(),it,ht)},h.prototype._initArray=function(tt,it,ht){if(d(typeof tt.length=="number"),tt.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(tt.length/3),this.words=new Array(this.length);for(var dt=0;dt<this.length;dt++)this.words[dt]=0;var lt,gt,ot=0;if(ht==="be")for(dt=tt.length-1,lt=0;dt>=0;dt-=3)gt=tt[dt]|tt[dt-1]<<8|tt[dt-2]<<16,this.words[lt]|=gt<<ot&67108863,this.words[lt+1]=gt>>>26-ot&67108863,ot+=24,ot>=26&&(ot-=26,lt++);else if(ht==="le")for(dt=0,lt=0;dt<tt.length;dt+=3)gt=tt[dt]|tt[dt+1]<<8|tt[dt+2]<<16,this.words[lt]|=gt<<ot&67108863,this.words[lt+1]=gt>>>26-ot&67108863,ot+=24,ot>=26&&(ot-=26,lt++);return this._strip()};function j(ft,tt){var it=ft.charCodeAt(tt);if(it>=48&&it<=57)return it-48;if(it>=65&&it<=70)return it-55;if(it>=97&&it<=102)return it-87;d(!1,"Invalid character in "+ft)}function _e(ft,tt,it){var ht=j(ft,it);return it-1>=tt&&(ht|=j(ft,it-1)<<4),ht}h.prototype._parseHex=function(tt,it,ht){this.length=Math.ceil((tt.length-it)/6),this.words=new Array(this.length);for(var dt=0;dt<this.length;dt++)this.words[dt]=0;var lt=0,gt=0,ot;if(ht==="be")for(dt=tt.length-1;dt>=it;dt-=2)ot=_e(tt,it,dt)<<lt,this.words[gt]|=ot&67108863,lt>=18?(lt-=18,gt+=1,this.words[gt]|=ot>>>26):lt+=8;else{var vt=tt.length-it;for(dt=vt%2===0?it+1:it;dt<tt.length;dt+=2)ot=_e(tt,it,dt)<<lt,this.words[gt]|=ot&67108863,lt>=18?(lt-=18,gt+=1,this.words[gt]|=ot>>>26):lt+=8}this._strip()};function et(ft,tt,it,ht){for(var dt=0,lt=0,gt=Math.min(ft.length,it),ot=tt;ot<gt;ot++){var vt=ft.charCodeAt(ot)-48;dt*=ht,vt>=49?lt=vt-49+10:vt>=17?lt=vt-17+10:lt=vt,d(vt>=0&&lt<ht,"Invalid character"),dt+=lt}return dt}h.prototype._parseBase=function(tt,it,ht){this.words=[0],this.length=1;for(var dt=0,lt=1;lt<=67108863;lt*=it)dt++;dt--,lt=lt/it|0;for(var gt=tt.length-ht,ot=gt%dt,vt=Math.min(gt,gt-ot)+ht,ct=0,yt=ht;yt<vt;yt+=dt)ct=et(tt,yt,yt+dt,it),this.imuln(lt),this.words[0]+ct<67108864?this.words[0]+=ct:this._iaddn(ct);if(ot!==0){var Dt=1;for(ct=et(tt,yt,tt.length,it),yt=0;yt<ot;yt++)Dt*=it;this.imuln(Dt),this.words[0]+ct<67108864?this.words[0]+=ct:this._iaddn(ct)}this._strip()},h.prototype.copy=function(tt){tt.words=new Array(this.length);for(var it=0;it<this.length;it++)tt.words[it]=this.words[it];tt.length=this.length,tt.negative=this.negative,tt.red=this.red};function $(ft,tt){ft.words=tt.words,ft.length=tt.length,ft.negative=tt.negative,ft.red=tt.red}if(h.prototype._move=function(tt){$(tt,this)},h.prototype.clone=function(){var tt=new h(null);return this.copy(tt),tt},h.prototype._expand=function(tt){for(;this.length<tt;)this.words[this.length++]=0;return this},h.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},h.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{h.prototype[Symbol.for("nodejs.util.inspect.custom")]=rt}catch{h.prototype.inspect=rt}else h.prototype.inspect=rt;function rt(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var nt=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],st=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],at=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];h.prototype.toString=function(tt,it){tt=tt||10,it=it|0||1;var ht;if(tt===16||tt==="hex"){ht="";for(var dt=0,lt=0,gt=0;gt<this.length;gt++){var ot=this.words[gt],vt=((ot<<dt|lt)&16777215).toString(16);lt=ot>>>24-dt&16777215,dt+=2,dt>=26&&(dt-=26,gt--),lt!==0||gt!==this.length-1?ht=nt[6-vt.length]+vt+ht:ht=vt+ht}for(lt!==0&&(ht=lt.toString(16)+ht);ht.length%it!==0;)ht="0"+ht;return this.negative!==0&&(ht="-"+ht),ht}if(tt===(tt|0)&&tt>=2&&tt<=36){var ct=st[tt],yt=at[tt];ht="";var Dt=this.clone();for(Dt.negative=0;!Dt.isZero();){var Ht=Dt.modrn(yt).toString(tt);Dt=Dt.idivn(yt),Dt.isZero()?ht=Ht+ht:ht=nt[ct-Ht.length]+Ht+ht}for(this.isZero()&&(ht="0"+ht);ht.length%it!==0;)ht="0"+ht;return this.negative!==0&&(ht="-"+ht),ht}d(!1,"Base should be between 2 and 36")},h.prototype.toNumber=function(){var tt=this.words[0];return this.length===2?tt+=this.words[1]*67108864:this.length===3&&this.words[2]===1?tt+=4503599627370496+this.words[1]*67108864:this.length>2&&d(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-tt:tt},h.prototype.toJSON=function(){return this.toString(16,2)},_&&(h.prototype.toBuffer=function(tt,it){return this.toArrayLike(_,tt,it)}),h.prototype.toArray=function(tt,it){return this.toArrayLike(Array,tt,it)};var ut=function(tt,it){return tt.allocUnsafe?tt.allocUnsafe(it):new tt(it)};h.prototype.toArrayLike=function(tt,it,ht){this._strip();var dt=this.byteLength(),lt=ht||Math.max(1,dt);d(dt<=lt,"byte array longer than desired length"),d(lt>0,"Requested array length <= 0");var gt=ut(tt,lt),ot=it==="le"?"LE":"BE";return this["_toArrayLike"+ot](gt,dt),gt},h.prototype._toArrayLikeLE=function(tt,it){for(var ht=0,dt=0,lt=0,gt=0;lt<this.length;lt++){var ot=this.words[lt]<<gt|dt;tt[ht++]=ot&255,ht<tt.length&&(tt[ht++]=ot>>8&255),ht<tt.length&&(tt[ht++]=ot>>16&255),gt===6?(ht<tt.length&&(tt[ht++]=ot>>24&255),dt=0,gt=0):(dt=ot>>>24,gt+=2)}if(ht<tt.length)for(tt[ht++]=dt;ht<tt.length;)tt[ht++]=0},h.prototype._toArrayLikeBE=function(tt,it){for(var ht=tt.length-1,dt=0,lt=0,gt=0;lt<this.length;lt++){var ot=this.words[lt]<<gt|dt;tt[ht--]=ot&255,ht>=0&&(tt[ht--]=ot>>8&255),ht>=0&&(tt[ht--]=ot>>16&255),gt===6?(ht>=0&&(tt[ht--]=ot>>24&255),dt=0,gt=0):(dt=ot>>>24,gt+=2)}if(ht>=0)for(tt[ht--]=dt;ht>=0;)tt[ht--]=0},Math.clz32?h.prototype._countBits=function(tt){return 32-Math.clz32(tt)}:h.prototype._countBits=function(tt){var it=tt,ht=0;return it>=4096&&(ht+=13,it>>>=13),it>=64&&(ht+=7,it>>>=7),it>=8&&(ht+=4,it>>>=4),it>=2&&(ht+=2,it>>>=2),ht+it},h.prototype._zeroBits=function(tt){if(tt===0)return 26;var it=tt,ht=0;return it&8191||(ht+=13,it>>>=13),it&127||(ht+=7,it>>>=7),it&15||(ht+=4,it>>>=4),it&3||(ht+=2,it>>>=2),it&1||ht++,ht},h.prototype.bitLength=function(){var tt=this.words[this.length-1],it=this._countBits(tt);return(this.length-1)*26+it};function wt(ft){for(var tt=new Array(ft.bitLength()),it=0;it<tt.length;it++){var ht=it/26|0,dt=it%26;tt[it]=ft.words[ht]>>>dt&1}return tt}h.prototype.zeroBits=function(){if(this.isZero())return 0;for(var tt=0,it=0;it<this.length;it++){var ht=this._zeroBits(this.words[it]);if(tt+=ht,ht!==26)break}return tt},h.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},h.prototype.toTwos=function(tt){return this.negative!==0?this.abs().inotn(tt).iaddn(1):this.clone()},h.prototype.fromTwos=function(tt){return this.testn(tt-1)?this.notn(tt).iaddn(1).ineg():this.clone()},h.prototype.isNeg=function(){return this.negative!==0},h.prototype.neg=function(){return this.clone().ineg()},h.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},h.prototype.iuor=function(tt){for(;this.length<tt.length;)this.words[this.length++]=0;for(var it=0;it<tt.length;it++)this.words[it]=this.words[it]|tt.words[it];return this._strip()},h.prototype.ior=function(tt){return d((this.negative|tt.negative)===0),this.iuor(tt)},h.prototype.or=function(tt){return this.length>tt.length?this.clone().ior(tt):tt.clone().ior(this)},h.prototype.uor=function(tt){return this.length>tt.length?this.clone().iuor(tt):tt.clone().iuor(this)},h.prototype.iuand=function(tt){var it;this.length>tt.length?it=tt:it=this;for(var ht=0;ht<it.length;ht++)this.words[ht]=this.words[ht]&tt.words[ht];return this.length=it.length,this._strip()},h.prototype.iand=function(tt){return d((this.negative|tt.negative)===0),this.iuand(tt)},h.prototype.and=function(tt){return this.length>tt.length?this.clone().iand(tt):tt.clone().iand(this)},h.prototype.uand=function(tt){return this.length>tt.length?this.clone().iuand(tt):tt.clone().iuand(this)},h.prototype.iuxor=function(tt){var it,ht;this.length>tt.length?(it=this,ht=tt):(it=tt,ht=this);for(var dt=0;dt<ht.length;dt++)this.words[dt]=it.words[dt]^ht.words[dt];if(this!==it)for(;dt<it.length;dt++)this.words[dt]=it.words[dt];return this.length=it.length,this._strip()},h.prototype.ixor=function(tt){return d((this.negative|tt.negative)===0),this.iuxor(tt)},h.prototype.xor=function(tt){return this.length>tt.length?this.clone().ixor(tt):tt.clone().ixor(this)},h.prototype.uxor=function(tt){return this.length>tt.length?this.clone().iuxor(tt):tt.clone().iuxor(this)},h.prototype.inotn=function(tt){d(typeof tt=="number"&&tt>=0);var it=Math.ceil(tt/26)|0,ht=tt%26;this._expand(it),ht>0&&it--;for(var dt=0;dt<it;dt++)this.words[dt]=~this.words[dt]&67108863;return ht>0&&(this.words[dt]=~this.words[dt]&67108863>>26-ht),this._strip()},h.prototype.notn=function(tt){return this.clone().inotn(tt)},h.prototype.setn=function(tt,it){d(typeof tt=="number"&&tt>=0);var ht=tt/26|0,dt=tt%26;return this._expand(ht+1),it?this.words[ht]=this.words[ht]|1<<dt:this.words[ht]=this.words[ht]&~(1<<dt),this._strip()},h.prototype.iadd=function(tt){var it;if(this.negative!==0&&tt.negative===0)return this.negative=0,it=this.isub(tt),this.negative^=1,this._normSign();if(this.negative===0&&tt.negative!==0)return tt.negative=0,it=this.isub(tt),tt.negative=1,it._normSign();var ht,dt;this.length>tt.length?(ht=this,dt=tt):(ht=tt,dt=this);for(var lt=0,gt=0;gt<dt.length;gt++)it=(ht.words[gt]|0)+(dt.words[gt]|0)+lt,this.words[gt]=it&67108863,lt=it>>>26;for(;lt!==0&&gt<ht.length;gt++)it=(ht.words[gt]|0)+lt,this.words[gt]=it&67108863,lt=it>>>26;if(this.length=ht.length,lt!==0)this.words[this.length]=lt,this.length++;else if(ht!==this)for(;gt<ht.length;gt++)this.words[gt]=ht.words[gt];return this},h.prototype.add=function(tt){var it;return tt.negative!==0&&this.negative===0?(tt.negative=0,it=this.sub(tt),tt.negative^=1,it):tt.negative===0&&this.negative!==0?(this.negative=0,it=tt.sub(this),this.negative=1,it):this.length>tt.length?this.clone().iadd(tt):tt.clone().iadd(this)},h.prototype.isub=function(tt){if(tt.negative!==0){tt.negative=0;var it=this.iadd(tt);return tt.negative=1,it._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(tt),this.negative=1,this._normSign();var ht=this.cmp(tt);if(ht===0)return this.negative=0,this.length=1,this.words[0]=0,this;var dt,lt;ht>0?(dt=this,lt=tt):(dt=tt,lt=this);for(var gt=0,ot=0;ot<lt.length;ot++)it=(dt.words[ot]|0)-(lt.words[ot]|0)+gt,gt=it>>26,this.words[ot]=it&67108863;for(;gt!==0&&ot<dt.length;ot++)it=(dt.words[ot]|0)+gt,gt=it>>26,this.words[ot]=it&67108863;if(gt===0&&ot<dt.length&&dt!==this)for(;ot<dt.length;ot++)this.words[ot]=dt.words[ot];return this.length=Math.max(this.length,ot),dt!==this&&(this.negative=1),this._strip()},h.prototype.sub=function(tt){return this.clone().isub(tt)};function pt(ft,tt,it){it.negative=tt.negative^ft.negative;var ht=ft.length+tt.length|0;it.length=ht,ht=ht-1|0;var dt=ft.words[0]|0,lt=tt.words[0]|0,gt=dt*lt,ot=gt&67108863,vt=gt/67108864|0;it.words[0]=ot;for(var ct=1;ct<ht;ct++){for(var yt=vt>>>26,Dt=vt&67108863,Ht=Math.min(ct,tt.length-1),qt=Math.max(0,ct-ft.length+1);qt<=Ht;qt++){var _t=ct-qt|0;dt=ft.words[_t]|0,lt=tt.words[qt]|0,gt=dt*lt+Dt,yt+=gt/67108864|0,Dt=gt&67108863}it.words[ct]=Dt|0,vt=yt|0}return vt!==0?it.words[ct]=vt|0:it.length--,it._strip()}var xt=function(tt,it,ht){var dt=tt.words,lt=it.words,gt=ht.words,ot=0,vt,ct,yt,Dt=dt[0]|0,Ht=Dt&8191,qt=Dt>>>13,_t=dt[1]|0,kt=_t&8191,Lt=_t>>>13,Kt=dt[2]|0,$t=Kt&8191,It=Kt>>>13,Xt=dt[3]|0,cr=Xt&8191,fr=Xt>>>13,hr=dt[4]|0,yr=hr&8191,Sr=hr>>>13,sr=dt[5]|0,Zt=sr&8191,Gt=sr>>>13,nr=dt[6]|0,ur=nr&8191,ir=nr>>>13,lr=dt[7]|0,Qt=lr&8191,tr=lr>>>13,gr=dt[8]|0,wr=gr&8191,Tt=gr>>>13,Et=dt[9]|0,Rt=Et&8191,Ot=Et>>>13,Wt=lt[0]|0,Jt=Wt&8191,er=Wt>>>13,Er=lt[1]|0,xr=Er&8191,vr=Er>>>13,Rr=lt[2]|0,_r=Rr&8191,kr=Rr>>>13,Qr=lt[3]|0,dr=Qr&8191,Nr=Qr>>>13,en=lt[4]|0,Pr=en&8191,jr=en>>>13,tn=lt[5]|0,Fr=tn&8191,Mr=tn>>>13,qr=lt[6]|0,Br=qr&8191,Cr=qr>>>13,rn=lt[7]|0,Hr=rn&8191,Ir=rn>>>13,nn=lt[8]|0,Or=nn&8191,Tr=nn>>>13,on=lt[9]|0,Vr=on&8191,Wr=on>>>13;ht.negative=tt.negative^it.negative,ht.length=19,vt=Math.imul(Ht,Jt),ct=Math.imul(Ht,er),ct=ct+Math.imul(qt,Jt)|0,yt=Math.imul(qt,er);var vn=(ot+vt|0)+((ct&8191)<<13)|0;ot=(yt+(ct>>>13)|0)+(vn>>>26)|0,vn&=67108863,vt=Math.imul(kt,Jt),ct=Math.imul(kt,er),ct=ct+Math.imul(Lt,Jt)|0,yt=Math.imul(Lt,er),vt=vt+Math.imul(Ht,xr)|0,ct=ct+Math.imul(Ht,vr)|0,ct=ct+Math.imul(qt,xr)|0,yt=yt+Math.imul(qt,vr)|0;var kn=(ot+vt|0)+((ct&8191)<<13)|0;ot=(yt+(ct>>>13)|0)+(kn>>>26)|0,kn&=67108863,vt=Math.imul($t,Jt),ct=Math.imul($t,er),ct=ct+Math.imul(It,Jt)|0,yt=Math.imul(It,er),vt=vt+Math.imul(kt,xr)|0,ct=ct+Math.imul(kt,vr)|0,ct=ct+Math.imul(Lt,xr)|0,yt=yt+Math.imul(Lt,vr)|0,vt=vt+Math.imul(Ht,_r)|0,ct=ct+Math.imul(Ht,kr)|0,ct=ct+Math.imul(qt,_r)|0,yt=yt+Math.imul(qt,kr)|0;var gn=(ot+vt|0)+((ct&8191)<<13)|0;ot=(yt+(ct>>>13)|0)+(gn>>>26)|0,gn&=67108863,vt=Math.imul(cr,Jt),ct=Math.imul(cr,er),ct=ct+Math.imul(fr,Jt)|0,yt=Math.imul(fr,er),vt=vt+Math.imul($t,xr)|0,ct=ct+Math.imul($t,vr)|0,ct=ct+Math.imul(It,xr)|0,yt=yt+Math.imul(It,vr)|0,vt=vt+Math.imul(kt,_r)|0,ct=ct+Math.imul(kt,kr)|0,ct=ct+Math.imul(Lt,_r)|0,yt=yt+Math.imul(Lt,kr)|0,vt=vt+Math.imul(Ht,dr)|0,ct=ct+Math.imul(Ht,Nr)|0,ct=ct+Math.imul(qt,dr)|0,yt=yt+Math.imul(qt,Nr)|0;var Pn=(ot+vt|0)+((ct&8191)<<13)|0;ot=(yt+(ct>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,vt=Math.imul(yr,Jt),ct=Math.imul(yr,er),ct=ct+Math.imul(Sr,Jt)|0,yt=Math.imul(Sr,er),vt=vt+Math.imul(cr,xr)|0,ct=ct+Math.imul(cr,vr)|0,ct=ct+Math.imul(fr,xr)|0,yt=yt+Math.imul(fr,vr)|0,vt=vt+Math.imul($t,_r)|0,ct=ct+Math.imul($t,kr)|0,ct=ct+Math.imul(It,_r)|0,yt=yt+Math.imul(It,kr)|0,vt=vt+Math.imul(kt,dr)|0,ct=ct+Math.imul(kt,Nr)|0,ct=ct+Math.imul(Lt,dr)|0,yt=yt+Math.imul(Lt,Nr)|0,vt=vt+Math.imul(Ht,Pr)|0,ct=ct+Math.imul(Ht,jr)|0,ct=ct+Math.imul(qt,Pr)|0,yt=yt+Math.imul(qt,jr)|0;var un=(ot+vt|0)+((ct&8191)<<13)|0;ot=(yt+(ct>>>13)|0)+(un>>>26)|0,un&=67108863,vt=Math.imul(Zt,Jt),ct=Math.imul(Zt,er),ct=ct+Math.imul(Gt,Jt)|0,yt=Math.imul(Gt,er),vt=vt+Math.imul(yr,xr)|0,ct=ct+Math.imul(yr,vr)|0,ct=ct+Math.imul(Sr,xr)|0,yt=yt+Math.imul(Sr,vr)|0,vt=vt+Math.imul(cr,_r)|0,ct=ct+Math.imul(cr,kr)|0,ct=ct+Math.imul(fr,_r)|0,yt=yt+Math.imul(fr,kr)|0,vt=vt+Math.imul($t,dr)|0,ct=ct+Math.imul($t,Nr)|0,ct=ct+Math.imul(It,dr)|0,yt=yt+Math.imul(It,Nr)|0,vt=vt+Math.imul(kt,Pr)|0,ct=ct+Math.imul(kt,jr)|0,ct=ct+Math.imul(Lt,Pr)|0,yt=yt+Math.imul(Lt,jr)|0,vt=vt+Math.imul(Ht,Fr)|0,ct=ct+Math.imul(Ht,Mr)|0,ct=ct+Math.imul(qt,Fr)|0,yt=yt+Math.imul(qt,Mr)|0;var xn=(ot+vt|0)+((ct&8191)<<13)|0;ot=(yt+(ct>>>13)|0)+(xn>>>26)|0,xn&=67108863,vt=Math.imul(ur,Jt),ct=Math.imul(ur,er),ct=ct+Math.imul(ir,Jt)|0,yt=Math.imul(ir,er),vt=vt+Math.imul(Zt,xr)|0,ct=ct+Math.imul(Zt,vr)|0,ct=ct+Math.imul(Gt,xr)|0,yt=yt+Math.imul(Gt,vr)|0,vt=vt+Math.imul(yr,_r)|0,ct=ct+Math.imul(yr,kr)|0,ct=ct+Math.imul(Sr,_r)|0,yt=yt+Math.imul(Sr,kr)|0,vt=vt+Math.imul(cr,dr)|0,ct=ct+Math.imul(cr,Nr)|0,ct=ct+Math.imul(fr,dr)|0,yt=yt+Math.imul(fr,Nr)|0,vt=vt+Math.imul($t,Pr)|0,ct=ct+Math.imul($t,jr)|0,ct=ct+Math.imul(It,Pr)|0,yt=yt+Math.imul(It,jr)|0,vt=vt+Math.imul(kt,Fr)|0,ct=ct+Math.imul(kt,Mr)|0,ct=ct+Math.imul(Lt,Fr)|0,yt=yt+Math.imul(Lt,Mr)|0,vt=vt+Math.imul(Ht,Br)|0,ct=ct+Math.imul(Ht,Cr)|0,ct=ct+Math.imul(qt,Br)|0,yt=yt+Math.imul(qt,Cr)|0;var wn=(ot+vt|0)+((ct&8191)<<13)|0;ot=(yt+(ct>>>13)|0)+(wn>>>26)|0,wn&=67108863,vt=Math.imul(Qt,Jt),ct=Math.imul(Qt,er),ct=ct+Math.imul(tr,Jt)|0,yt=Math.imul(tr,er),vt=vt+Math.imul(ur,xr)|0,ct=ct+Math.imul(ur,vr)|0,ct=ct+Math.imul(ir,xr)|0,yt=yt+Math.imul(ir,vr)|0,vt=vt+Math.imul(Zt,_r)|0,ct=ct+Math.imul(Zt,kr)|0,ct=ct+Math.imul(Gt,_r)|0,yt=yt+Math.imul(Gt,kr)|0,vt=vt+Math.imul(yr,dr)|0,ct=ct+Math.imul(yr,Nr)|0,ct=ct+Math.imul(Sr,dr)|0,yt=yt+Math.imul(Sr,Nr)|0,vt=vt+Math.imul(cr,Pr)|0,ct=ct+Math.imul(cr,jr)|0,ct=ct+Math.imul(fr,Pr)|0,yt=yt+Math.imul(fr,jr)|0,vt=vt+Math.imul($t,Fr)|0,ct=ct+Math.imul($t,Mr)|0,ct=ct+Math.imul(It,Fr)|0,yt=yt+Math.imul(It,Mr)|0,vt=vt+Math.imul(kt,Br)|0,ct=ct+Math.imul(kt,Cr)|0,ct=ct+Math.imul(Lt,Br)|0,yt=yt+Math.imul(Lt,Cr)|0,vt=vt+Math.imul(Ht,Hr)|0,ct=ct+Math.imul(Ht,Ir)|0,ct=ct+Math.imul(qt,Hr)|0,yt=yt+Math.imul(qt,Ir)|0;var Rn=(ot+vt|0)+((ct&8191)<<13)|0;ot=(yt+(ct>>>13)|0)+(Rn>>>26)|0,Rn&=67108863,vt=Math.imul(wr,Jt),ct=Math.imul(wr,er),ct=ct+Math.imul(Tt,Jt)|0,yt=Math.imul(Tt,er),vt=vt+Math.imul(Qt,xr)|0,ct=ct+Math.imul(Qt,vr)|0,ct=ct+Math.imul(tr,xr)|0,yt=yt+Math.imul(tr,vr)|0,vt=vt+Math.imul(ur,_r)|0,ct=ct+Math.imul(ur,kr)|0,ct=ct+Math.imul(ir,_r)|0,yt=yt+Math.imul(ir,kr)|0,vt=vt+Math.imul(Zt,dr)|0,ct=ct+Math.imul(Zt,Nr)|0,ct=ct+Math.imul(Gt,dr)|0,yt=yt+Math.imul(Gt,Nr)|0,vt=vt+Math.imul(yr,Pr)|0,ct=ct+Math.imul(yr,jr)|0,ct=ct+Math.imul(Sr,Pr)|0,yt=yt+Math.imul(Sr,jr)|0,vt=vt+Math.imul(cr,Fr)|0,ct=ct+Math.imul(cr,Mr)|0,ct=ct+Math.imul(fr,Fr)|0,yt=yt+Math.imul(fr,Mr)|0,vt=vt+Math.imul($t,Br)|0,ct=ct+Math.imul($t,Cr)|0,ct=ct+Math.imul(It,Br)|0,yt=yt+Math.imul(It,Cr)|0,vt=vt+Math.imul(kt,Hr)|0,ct=ct+Math.imul(kt,Ir)|0,ct=ct+Math.imul(Lt,Hr)|0,yt=yt+Math.imul(Lt,Ir)|0,vt=vt+Math.imul(Ht,Or)|0,ct=ct+Math.imul(Ht,Tr)|0,ct=ct+Math.imul(qt,Or)|0,yt=yt+Math.imul(qt,Tr)|0;var jn=(ot+vt|0)+((ct&8191)<<13)|0;ot=(yt+(ct>>>13)|0)+(jn>>>26)|0,jn&=67108863,vt=Math.imul(Rt,Jt),ct=Math.imul(Rt,er),ct=ct+Math.imul(Ot,Jt)|0,yt=Math.imul(Ot,er),vt=vt+Math.imul(wr,xr)|0,ct=ct+Math.imul(wr,vr)|0,ct=ct+Math.imul(Tt,xr)|0,yt=yt+Math.imul(Tt,vr)|0,vt=vt+Math.imul(Qt,_r)|0,ct=ct+Math.imul(Qt,kr)|0,ct=ct+Math.imul(tr,_r)|0,yt=yt+Math.imul(tr,kr)|0,vt=vt+Math.imul(ur,dr)|0,ct=ct+Math.imul(ur,Nr)|0,ct=ct+Math.imul(ir,dr)|0,yt=yt+Math.imul(ir,Nr)|0,vt=vt+Math.imul(Zt,Pr)|0,ct=ct+Math.imul(Zt,jr)|0,ct=ct+Math.imul(Gt,Pr)|0,yt=yt+Math.imul(Gt,jr)|0,vt=vt+Math.imul(yr,Fr)|0,ct=ct+Math.imul(yr,Mr)|0,ct=ct+Math.imul(Sr,Fr)|0,yt=yt+Math.imul(Sr,Mr)|0,vt=vt+Math.imul(cr,Br)|0,ct=ct+Math.imul(cr,Cr)|0,ct=ct+Math.imul(fr,Br)|0,yt=yt+Math.imul(fr,Cr)|0,vt=vt+Math.imul($t,Hr)|0,ct=ct+Math.imul($t,Ir)|0,ct=ct+Math.imul(It,Hr)|0,yt=yt+Math.imul(It,Ir)|0,vt=vt+Math.imul(kt,Or)|0,ct=ct+Math.imul(kt,Tr)|0,ct=ct+Math.imul(Lt,Or)|0,yt=yt+Math.imul(Lt,Tr)|0,vt=vt+Math.imul(Ht,Vr)|0,ct=ct+Math.imul(Ht,Wr)|0,ct=ct+Math.imul(qt,Vr)|0,yt=yt+Math.imul(qt,Wr)|0;var mn=(ot+vt|0)+((ct&8191)<<13)|0;ot=(yt+(ct>>>13)|0)+(mn>>>26)|0,mn&=67108863,vt=Math.imul(Rt,xr),ct=Math.imul(Rt,vr),ct=ct+Math.imul(Ot,xr)|0,yt=Math.imul(Ot,vr),vt=vt+Math.imul(wr,_r)|0,ct=ct+Math.imul(wr,kr)|0,ct=ct+Math.imul(Tt,_r)|0,yt=yt+Math.imul(Tt,kr)|0,vt=vt+Math.imul(Qt,dr)|0,ct=ct+Math.imul(Qt,Nr)|0,ct=ct+Math.imul(tr,dr)|0,yt=yt+Math.imul(tr,Nr)|0,vt=vt+Math.imul(ur,Pr)|0,ct=ct+Math.imul(ur,jr)|0,ct=ct+Math.imul(ir,Pr)|0,yt=yt+Math.imul(ir,jr)|0,vt=vt+Math.imul(Zt,Fr)|0,ct=ct+Math.imul(Zt,Mr)|0,ct=ct+Math.imul(Gt,Fr)|0,yt=yt+Math.imul(Gt,Mr)|0,vt=vt+Math.imul(yr,Br)|0,ct=ct+Math.imul(yr,Cr)|0,ct=ct+Math.imul(Sr,Br)|0,yt=yt+Math.imul(Sr,Cr)|0,vt=vt+Math.imul(cr,Hr)|0,ct=ct+Math.imul(cr,Ir)|0,ct=ct+Math.imul(fr,Hr)|0,yt=yt+Math.imul(fr,Ir)|0,vt=vt+Math.imul($t,Or)|0,ct=ct+Math.imul($t,Tr)|0,ct=ct+Math.imul(It,Or)|0,yt=yt+Math.imul(It,Tr)|0,vt=vt+Math.imul(kt,Vr)|0,ct=ct+Math.imul(kt,Wr)|0,ct=ct+Math.imul(Lt,Vr)|0,yt=yt+Math.imul(Lt,Wr)|0;var Nn=(ot+vt|0)+((ct&8191)<<13)|0;ot=(yt+(ct>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,vt=Math.imul(Rt,_r),ct=Math.imul(Rt,kr),ct=ct+Math.imul(Ot,_r)|0,yt=Math.imul(Ot,kr),vt=vt+Math.imul(wr,dr)|0,ct=ct+Math.imul(wr,Nr)|0,ct=ct+Math.imul(Tt,dr)|0,yt=yt+Math.imul(Tt,Nr)|0,vt=vt+Math.imul(Qt,Pr)|0,ct=ct+Math.imul(Qt,jr)|0,ct=ct+Math.imul(tr,Pr)|0,yt=yt+Math.imul(tr,jr)|0,vt=vt+Math.imul(ur,Fr)|0,ct=ct+Math.imul(ur,Mr)|0,ct=ct+Math.imul(ir,Fr)|0,yt=yt+Math.imul(ir,Mr)|0,vt=vt+Math.imul(Zt,Br)|0,ct=ct+Math.imul(Zt,Cr)|0,ct=ct+Math.imul(Gt,Br)|0,yt=yt+Math.imul(Gt,Cr)|0,vt=vt+Math.imul(yr,Hr)|0,ct=ct+Math.imul(yr,Ir)|0,ct=ct+Math.imul(Sr,Hr)|0,yt=yt+Math.imul(Sr,Ir)|0,vt=vt+Math.imul(cr,Or)|0,ct=ct+Math.imul(cr,Tr)|0,ct=ct+Math.imul(fr,Or)|0,yt=yt+Math.imul(fr,Tr)|0,vt=vt+Math.imul($t,Vr)|0,ct=ct+Math.imul($t,Wr)|0,ct=ct+Math.imul(It,Vr)|0,yt=yt+Math.imul(It,Wr)|0;var yn=(ot+vt|0)+((ct&8191)<<13)|0;ot=(yt+(ct>>>13)|0)+(yn>>>26)|0,yn&=67108863,vt=Math.imul(Rt,dr),ct=Math.imul(Rt,Nr),ct=ct+Math.imul(Ot,dr)|0,yt=Math.imul(Ot,Nr),vt=vt+Math.imul(wr,Pr)|0,ct=ct+Math.imul(wr,jr)|0,ct=ct+Math.imul(Tt,Pr)|0,yt=yt+Math.imul(Tt,jr)|0,vt=vt+Math.imul(Qt,Fr)|0,ct=ct+Math.imul(Qt,Mr)|0,ct=ct+Math.imul(tr,Fr)|0,yt=yt+Math.imul(tr,Mr)|0,vt=vt+Math.imul(ur,Br)|0,ct=ct+Math.imul(ur,Cr)|0,ct=ct+Math.imul(ir,Br)|0,yt=yt+Math.imul(ir,Cr)|0,vt=vt+Math.imul(Zt,Hr)|0,ct=ct+Math.imul(Zt,Ir)|0,ct=ct+Math.imul(Gt,Hr)|0,yt=yt+Math.imul(Gt,Ir)|0,vt=vt+Math.imul(yr,Or)|0,ct=ct+Math.imul(yr,Tr)|0,ct=ct+Math.imul(Sr,Or)|0,yt=yt+Math.imul(Sr,Tr)|0,vt=vt+Math.imul(cr,Vr)|0,ct=ct+Math.imul(cr,Wr)|0,ct=ct+Math.imul(fr,Vr)|0,yt=yt+Math.imul(fr,Wr)|0;var Mn=(ot+vt|0)+((ct&8191)<<13)|0;ot=(yt+(ct>>>13)|0)+(Mn>>>26)|0,Mn&=67108863,vt=Math.imul(Rt,Pr),ct=Math.imul(Rt,jr),ct=ct+Math.imul(Ot,Pr)|0,yt=Math.imul(Ot,jr),vt=vt+Math.imul(wr,Fr)|0,ct=ct+Math.imul(wr,Mr)|0,ct=ct+Math.imul(Tt,Fr)|0,yt=yt+Math.imul(Tt,Mr)|0,vt=vt+Math.imul(Qt,Br)|0,ct=ct+Math.imul(Qt,Cr)|0,ct=ct+Math.imul(tr,Br)|0,yt=yt+Math.imul(tr,Cr)|0,vt=vt+Math.imul(ur,Hr)|0,ct=ct+Math.imul(ur,Ir)|0,ct=ct+Math.imul(ir,Hr)|0,yt=yt+Math.imul(ir,Ir)|0,vt=vt+Math.imul(Zt,Or)|0,ct=ct+Math.imul(Zt,Tr)|0,ct=ct+Math.imul(Gt,Or)|0,yt=yt+Math.imul(Gt,Tr)|0,vt=vt+Math.imul(yr,Vr)|0,ct=ct+Math.imul(yr,Wr)|0,ct=ct+Math.imul(Sr,Vr)|0,yt=yt+Math.imul(Sr,Wr)|0;var hn=(ot+vt|0)+((ct&8191)<<13)|0;ot=(yt+(ct>>>13)|0)+(hn>>>26)|0,hn&=67108863,vt=Math.imul(Rt,Fr),ct=Math.imul(Rt,Mr),ct=ct+Math.imul(Ot,Fr)|0,yt=Math.imul(Ot,Mr),vt=vt+Math.imul(wr,Br)|0,ct=ct+Math.imul(wr,Cr)|0,ct=ct+Math.imul(Tt,Br)|0,yt=yt+Math.imul(Tt,Cr)|0,vt=vt+Math.imul(Qt,Hr)|0,ct=ct+Math.imul(Qt,Ir)|0,ct=ct+Math.imul(tr,Hr)|0,yt=yt+Math.imul(tr,Ir)|0,vt=vt+Math.imul(ur,Or)|0,ct=ct+Math.imul(ur,Tr)|0,ct=ct+Math.imul(ir,Or)|0,yt=yt+Math.imul(ir,Tr)|0,vt=vt+Math.imul(Zt,Vr)|0,ct=ct+Math.imul(Zt,Wr)|0,ct=ct+Math.imul(Gt,Vr)|0,yt=yt+Math.imul(Gt,Wr)|0;var En=(ot+vt|0)+((ct&8191)<<13)|0;ot=(yt+(ct>>>13)|0)+(En>>>26)|0,En&=67108863,vt=Math.imul(Rt,Br),ct=Math.imul(Rt,Cr),ct=ct+Math.imul(Ot,Br)|0,yt=Math.imul(Ot,Cr),vt=vt+Math.imul(wr,Hr)|0,ct=ct+Math.imul(wr,Ir)|0,ct=ct+Math.imul(Tt,Hr)|0,yt=yt+Math.imul(Tt,Ir)|0,vt=vt+Math.imul(Qt,Or)|0,ct=ct+Math.imul(Qt,Tr)|0,ct=ct+Math.imul(tr,Or)|0,yt=yt+Math.imul(tr,Tr)|0,vt=vt+Math.imul(ur,Vr)|0,ct=ct+Math.imul(ur,Wr)|0,ct=ct+Math.imul(ir,Vr)|0,yt=yt+Math.imul(ir,Wr)|0;var An=(ot+vt|0)+((ct&8191)<<13)|0;ot=(yt+(ct>>>13)|0)+(An>>>26)|0,An&=67108863,vt=Math.imul(Rt,Hr),ct=Math.imul(Rt,Ir),ct=ct+Math.imul(Ot,Hr)|0,yt=Math.imul(Ot,Ir),vt=vt+Math.imul(wr,Or)|0,ct=ct+Math.imul(wr,Tr)|0,ct=ct+Math.imul(Tt,Or)|0,yt=yt+Math.imul(Tt,Tr)|0,vt=vt+Math.imul(Qt,Vr)|0,ct=ct+Math.imul(Qt,Wr)|0,ct=ct+Math.imul(tr,Vr)|0,yt=yt+Math.imul(tr,Wr)|0;var Cn=(ot+vt|0)+((ct&8191)<<13)|0;ot=(yt+(ct>>>13)|0)+(Cn>>>26)|0,Cn&=67108863,vt=Math.imul(Rt,Or),ct=Math.imul(Rt,Tr),ct=ct+Math.imul(Ot,Or)|0,yt=Math.imul(Ot,Tr),vt=vt+Math.imul(wr,Vr)|0,ct=ct+Math.imul(wr,Wr)|0,ct=ct+Math.imul(Tt,Vr)|0,yt=yt+Math.imul(Tt,Wr)|0;var Un=(ot+vt|0)+((ct&8191)<<13)|0;ot=(yt+(ct>>>13)|0)+(Un>>>26)|0,Un&=67108863,vt=Math.imul(Rt,Vr),ct=Math.imul(Rt,Wr),ct=ct+Math.imul(Ot,Vr)|0,yt=Math.imul(Ot,Wr);var Wn=(ot+vt|0)+((ct&8191)<<13)|0;return ot=(yt+(ct>>>13)|0)+(Wn>>>26)|0,Wn&=67108863,gt[0]=vn,gt[1]=kn,gt[2]=gn,gt[3]=Pn,gt[4]=un,gt[5]=xn,gt[6]=wn,gt[7]=Rn,gt[8]=jn,gt[9]=mn,gt[10]=Nn,gt[11]=yn,gt[12]=Mn,gt[13]=hn,gt[14]=En,gt[15]=An,gt[16]=Cn,gt[17]=Un,gt[18]=Wn,ot!==0&&(gt[19]=ot,ht.length++),ht};Math.imul||(xt=pt);function St(ft,tt,it){it.negative=tt.negative^ft.negative,it.length=ft.length+tt.length;for(var ht=0,dt=0,lt=0;lt<it.length-1;lt++){var gt=dt;dt=0;for(var ot=ht&67108863,vt=Math.min(lt,tt.length-1),ct=Math.max(0,lt-ft.length+1);ct<=vt;ct++){var yt=lt-ct,Dt=ft.words[yt]|0,Ht=tt.words[ct]|0,qt=Dt*Ht,_t=qt&67108863;gt=gt+(qt/67108864|0)|0,_t=_t+ot|0,ot=_t&67108863,gt=gt+(_t>>>26)|0,dt+=gt>>>26,gt&=67108863}it.words[lt]=ot,ht=gt,gt=dt}return ht!==0?it.words[lt]=ht:it.length--,it._strip()}function Nt(ft,tt,it){return St(ft,tt,it)}h.prototype.mulTo=function(tt,it){var ht,dt=this.length+tt.length;return this.length===10&&tt.length===10?ht=xt(this,tt,it):dt<63?ht=pt(this,tt,it):dt<1024?ht=St(this,tt,it):ht=Nt(this,tt,it),ht},h.prototype.mul=function(tt){var it=new h(null);return it.words=new Array(this.length+tt.length),this.mulTo(tt,it)},h.prototype.mulf=function(tt){var it=new h(null);return it.words=new Array(this.length+tt.length),Nt(this,tt,it)},h.prototype.imul=function(tt){return this.clone().mulTo(tt,this)},h.prototype.imuln=function(tt){var it=tt<0;it&&(tt=-tt),d(typeof tt=="number"),d(tt<67108864);for(var ht=0,dt=0;dt<this.length;dt++){var lt=(this.words[dt]|0)*tt,gt=(lt&67108863)+(ht&67108863);ht>>=26,ht+=lt/67108864|0,ht+=gt>>>26,this.words[dt]=gt&67108863}return ht!==0&&(this.words[dt]=ht,this.length++),this.length=tt===0?1:this.length,it?this.ineg():this},h.prototype.muln=function(tt){return this.clone().imuln(tt)},h.prototype.sqr=function(){return this.mul(this)},h.prototype.isqr=function(){return this.imul(this.clone())},h.prototype.pow=function(tt){var it=wt(tt);if(it.length===0)return new h(1);for(var ht=this,dt=0;dt<it.length&&it[dt]===0;dt++,ht=ht.sqr());if(++dt<it.length)for(var lt=ht.sqr();dt<it.length;dt++,lt=lt.sqr())it[dt]!==0&&(ht=ht.mul(lt));return ht},h.prototype.iushln=function(tt){d(typeof tt=="number"&&tt>=0);var it=tt%26,ht=(tt-it)/26,dt=67108863>>>26-it<<26-it,lt;if(it!==0){var gt=0;for(lt=0;lt<this.length;lt++){var ot=this.words[lt]&dt,vt=(this.words[lt]|0)-ot<<it;this.words[lt]=vt|gt,gt=ot>>>26-it}gt&&(this.words[lt]=gt,this.length++)}if(ht!==0){for(lt=this.length-1;lt>=0;lt--)this.words[lt+ht]=this.words[lt];for(lt=0;lt<ht;lt++)this.words[lt]=0;this.length+=ht}return this._strip()},h.prototype.ishln=function(tt){return d(this.negative===0),this.iushln(tt)},h.prototype.iushrn=function(tt,it,ht){d(typeof tt=="number"&&tt>=0);var dt;it?dt=(it-it%26)/26:dt=0;var lt=tt%26,gt=Math.min((tt-lt)/26,this.length),ot=67108863^67108863>>>lt<<lt,vt=ht;if(dt-=gt,dt=Math.max(0,dt),vt){for(var ct=0;ct<gt;ct++)vt.words[ct]=this.words[ct];vt.length=gt}if(gt!==0)if(this.length>gt)for(this.length-=gt,ct=0;ct<this.length;ct++)this.words[ct]=this.words[ct+gt];else this.words[0]=0,this.length=1;var yt=0;for(ct=this.length-1;ct>=0&&(yt!==0||ct>=dt);ct--){var Dt=this.words[ct]|0;this.words[ct]=yt<<26-lt|Dt>>>lt,yt=Dt&ot}return vt&&yt!==0&&(vt.words[vt.length++]=yt),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},h.prototype.ishrn=function(tt,it,ht){return d(this.negative===0),this.iushrn(tt,it,ht)},h.prototype.shln=function(tt){return this.clone().ishln(tt)},h.prototype.ushln=function(tt){return this.clone().iushln(tt)},h.prototype.shrn=function(tt){return this.clone().ishrn(tt)},h.prototype.ushrn=function(tt){return this.clone().iushrn(tt)},h.prototype.testn=function(tt){d(typeof tt=="number"&&tt>=0);var it=tt%26,ht=(tt-it)/26,dt=1<<it;if(this.length<=ht)return!1;var lt=this.words[ht];return!!(lt&dt)},h.prototype.imaskn=function(tt){d(typeof tt=="number"&&tt>=0);var it=tt%26,ht=(tt-it)/26;if(d(this.negative===0,"imaskn works only with positive numbers"),this.length<=ht)return this;if(it!==0&&ht++,this.length=Math.min(ht,this.length),it!==0){var dt=67108863^67108863>>>it<<it;this.words[this.length-1]&=dt}return this._strip()},h.prototype.maskn=function(tt){return this.clone().imaskn(tt)},h.prototype.iaddn=function(tt){return d(typeof tt=="number"),d(tt<67108864),tt<0?this.isubn(-tt):this.negative!==0?this.length===1&&(this.words[0]|0)<=tt?(this.words[0]=tt-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(tt),this.negative=1,this):this._iaddn(tt)},h.prototype._iaddn=function(tt){this.words[0]+=tt;for(var it=0;it<this.length&&this.words[it]>=67108864;it++)this.words[it]-=67108864,it===this.length-1?this.words[it+1]=1:this.words[it+1]++;return this.length=Math.max(this.length,it+1),this},h.prototype.isubn=function(tt){if(d(typeof tt=="number"),d(tt<67108864),tt<0)return this.iaddn(-tt);if(this.negative!==0)return this.negative=0,this.iaddn(tt),this.negative=1,this;if(this.words[0]-=tt,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var it=0;it<this.length&&this.words[it]<0;it++)this.words[it]+=67108864,this.words[it+1]-=1;return this._strip()},h.prototype.addn=function(tt){return this.clone().iaddn(tt)},h.prototype.subn=function(tt){return this.clone().isubn(tt)},h.prototype.iabs=function(){return this.negative=0,this},h.prototype.abs=function(){return this.clone().iabs()},h.prototype._ishlnsubmul=function(tt,it,ht){var dt=tt.length+ht,lt;this._expand(dt);var gt,ot=0;for(lt=0;lt<tt.length;lt++){gt=(this.words[lt+ht]|0)+ot;var vt=(tt.words[lt]|0)*it;gt-=vt&67108863,ot=(gt>>26)-(vt/67108864|0),this.words[lt+ht]=gt&67108863}for(;lt<this.length-ht;lt++)gt=(this.words[lt+ht]|0)+ot,ot=gt>>26,this.words[lt+ht]=gt&67108863;if(ot===0)return this._strip();for(d(ot===-1),ot=0,lt=0;lt<this.length;lt++)gt=-(this.words[lt]|0)+ot,ot=gt>>26,this.words[lt]=gt&67108863;return this.negative=1,this._strip()},h.prototype._wordDiv=function(tt,it){var ht=this.length-tt.length,dt=this.clone(),lt=tt,gt=lt.words[lt.length-1]|0,ot=this._countBits(gt);ht=26-ot,ht!==0&&(lt=lt.ushln(ht),dt.iushln(ht),gt=lt.words[lt.length-1]|0);var vt=dt.length-lt.length,ct;if(it!=="mod"){ct=new h(null),ct.length=vt+1,ct.words=new Array(ct.length);for(var yt=0;yt<ct.length;yt++)ct.words[yt]=0}var Dt=dt.clone()._ishlnsubmul(lt,1,vt);Dt.negative===0&&(dt=Dt,ct&&(ct.words[vt]=1));for(var Ht=vt-1;Ht>=0;Ht--){var qt=(dt.words[lt.length+Ht]|0)*67108864+(dt.words[lt.length+Ht-1]|0);for(qt=Math.min(qt/gt|0,67108863),dt._ishlnsubmul(lt,qt,Ht);dt.negative!==0;)qt--,dt.negative=0,dt._ishlnsubmul(lt,1,Ht),dt.isZero()||(dt.negative^=1);ct&&(ct.words[Ht]=qt)}return ct&&ct._strip(),dt._strip(),it!=="div"&&ht!==0&&dt.iushrn(ht),{div:ct||null,mod:dt}},h.prototype.divmod=function(tt,it,ht){if(d(!tt.isZero()),this.isZero())return{div:new h(0),mod:new h(0)};var dt,lt,gt;return this.negative!==0&&tt.negative===0?(gt=this.neg().divmod(tt,it),it!=="mod"&&(dt=gt.div.neg()),it!=="div"&&(lt=gt.mod.neg(),ht&&lt.negative!==0&&lt.iadd(tt)),{div:dt,mod:lt}):this.negative===0&&tt.negative!==0?(gt=this.divmod(tt.neg(),it),it!=="mod"&&(dt=gt.div.neg()),{div:dt,mod:gt.mod}):this.negative&tt.negative?(gt=this.neg().divmod(tt.neg(),it),it!=="div"&&(lt=gt.mod.neg(),ht&&lt.negative!==0&&lt.isub(tt)),{div:gt.div,mod:lt}):tt.length>this.length||this.cmp(tt)<0?{div:new h(0),mod:this}:tt.length===1?it==="div"?{div:this.divn(tt.words[0]),mod:null}:it==="mod"?{div:null,mod:new h(this.modrn(tt.words[0]))}:{div:this.divn(tt.words[0]),mod:new h(this.modrn(tt.words[0]))}:this._wordDiv(tt,it)},h.prototype.div=function(tt){return this.divmod(tt,"div",!1).div},h.prototype.mod=function(tt){return this.divmod(tt,"mod",!1).mod},h.prototype.umod=function(tt){return this.divmod(tt,"mod",!0).mod},h.prototype.divRound=function(tt){var it=this.divmod(tt);if(it.mod.isZero())return it.div;var ht=it.div.negative!==0?it.mod.isub(tt):it.mod,dt=tt.ushrn(1),lt=tt.andln(1),gt=ht.cmp(dt);return gt<0||lt===1&&gt===0?it.div:it.div.negative!==0?it.div.isubn(1):it.div.iaddn(1)},h.prototype.modrn=function(tt){var it=tt<0;it&&(tt=-tt),d(tt<=67108863);for(var ht=(1<<26)%tt,dt=0,lt=this.length-1;lt>=0;lt--)dt=(ht*dt+(this.words[lt]|0))%tt;return it?-dt:dt},h.prototype.modn=function(tt){return this.modrn(tt)},h.prototype.idivn=function(tt){var it=tt<0;it&&(tt=-tt),d(tt<=67108863);for(var ht=0,dt=this.length-1;dt>=0;dt--){var lt=(this.words[dt]|0)+ht*67108864;this.words[dt]=lt/tt|0,ht=lt%tt}return this._strip(),it?this.ineg():this},h.prototype.divn=function(tt){return this.clone().idivn(tt)},h.prototype.egcd=function(tt){d(tt.negative===0),d(!tt.isZero());var it=this,ht=tt.clone();it.negative!==0?it=it.umod(tt):it=it.clone();for(var dt=new h(1),lt=new h(0),gt=new h(0),ot=new h(1),vt=0;it.isEven()&&ht.isEven();)it.iushrn(1),ht.iushrn(1),++vt;for(var ct=ht.clone(),yt=it.clone();!it.isZero();){for(var Dt=0,Ht=1;!(it.words[0]&Ht)&&Dt<26;++Dt,Ht<<=1);if(Dt>0)for(it.iushrn(Dt);Dt-- >0;)(dt.isOdd()||lt.isOdd())&&(dt.iadd(ct),lt.isub(yt)),dt.iushrn(1),lt.iushrn(1);for(var qt=0,_t=1;!(ht.words[0]&_t)&&qt<26;++qt,_t<<=1);if(qt>0)for(ht.iushrn(qt);qt-- >0;)(gt.isOdd()||ot.isOdd())&&(gt.iadd(ct),ot.isub(yt)),gt.iushrn(1),ot.iushrn(1);it.cmp(ht)>=0?(it.isub(ht),dt.isub(gt),lt.isub(ot)):(ht.isub(it),gt.isub(dt),ot.isub(lt))}return{a:gt,b:ot,gcd:ht.iushln(vt)}},h.prototype._invmp=function(tt){d(tt.negative===0),d(!tt.isZero());var it=this,ht=tt.clone();it.negative!==0?it=it.umod(tt):it=it.clone();for(var dt=new h(1),lt=new h(0),gt=ht.clone();it.cmpn(1)>0&&ht.cmpn(1)>0;){for(var ot=0,vt=1;!(it.words[0]&vt)&&ot<26;++ot,vt<<=1);if(ot>0)for(it.iushrn(ot);ot-- >0;)dt.isOdd()&&dt.iadd(gt),dt.iushrn(1);for(var ct=0,yt=1;!(ht.words[0]&yt)&&ct<26;++ct,yt<<=1);if(ct>0)for(ht.iushrn(ct);ct-- >0;)lt.isOdd()&&lt.iadd(gt),lt.iushrn(1);it.cmp(ht)>=0?(it.isub(ht),dt.isub(lt)):(ht.isub(it),lt.isub(dt))}var Dt;return it.cmpn(1)===0?Dt=dt:Dt=lt,Dt.cmpn(0)<0&&Dt.iadd(tt),Dt},h.prototype.gcd=function(tt){if(this.isZero())return tt.abs();if(tt.isZero())return this.abs();var it=this.clone(),ht=tt.clone();it.negative=0,ht.negative=0;for(var dt=0;it.isEven()&&ht.isEven();dt++)it.iushrn(1),ht.iushrn(1);do{for(;it.isEven();)it.iushrn(1);for(;ht.isEven();)ht.iushrn(1);var lt=it.cmp(ht);if(lt<0){var gt=it;it=ht,ht=gt}else if(lt===0||ht.cmpn(1)===0)break;it.isub(ht)}while(!0);return ht.iushln(dt)},h.prototype.invm=function(tt){return this.egcd(tt).a.umod(tt)},h.prototype.isEven=function(){return(this.words[0]&1)===0},h.prototype.isOdd=function(){return(this.words[0]&1)===1},h.prototype.andln=function(tt){return this.words[0]&tt},h.prototype.bincn=function(tt){d(typeof tt=="number");var it=tt%26,ht=(tt-it)/26,dt=1<<it;if(this.length<=ht)return this._expand(ht+1),this.words[ht]|=dt,this;for(var lt=dt,gt=ht;lt!==0&&gt<this.length;gt++){var ot=this.words[gt]|0;ot+=lt,lt=ot>>>26,ot&=67108863,this.words[gt]=ot}return lt!==0&&(this.words[gt]=lt,this.length++),this},h.prototype.isZero=function(){return this.length===1&&this.words[0]===0},h.prototype.cmpn=function(tt){var it=tt<0;if(this.negative!==0&&!it)return-1;if(this.negative===0&&it)return 1;this._strip();var ht;if(this.length>1)ht=1;else{it&&(tt=-tt),d(tt<=67108863,"Number is too big");var dt=this.words[0]|0;ht=dt===tt?0:dt<tt?-1:1}return this.negative!==0?-ht|0:ht},h.prototype.cmp=function(tt){if(this.negative!==0&&tt.negative===0)return-1;if(this.negative===0&&tt.negative!==0)return 1;var it=this.ucmp(tt);return this.negative!==0?-it|0:it},h.prototype.ucmp=function(tt){if(this.length>tt.length)return 1;if(this.length<tt.length)return-1;for(var it=0,ht=this.length-1;ht>=0;ht--){var dt=this.words[ht]|0,lt=tt.words[ht]|0;if(dt!==lt){dt<lt?it=-1:dt>lt&&(it=1);break}}return it},h.prototype.gtn=function(tt){return this.cmpn(tt)===1},h.prototype.gt=function(tt){return this.cmp(tt)===1},h.prototype.gten=function(tt){return this.cmpn(tt)>=0},h.prototype.gte=function(tt){return this.cmp(tt)>=0},h.prototype.ltn=function(tt){return this.cmpn(tt)===-1},h.prototype.lt=function(tt){return this.cmp(tt)===-1},h.prototype.lten=function(tt){return this.cmpn(tt)<=0},h.prototype.lte=function(tt){return this.cmp(tt)<=0},h.prototype.eqn=function(tt){return this.cmpn(tt)===0},h.prototype.eq=function(tt){return this.cmp(tt)===0},h.red=function(tt){return new Mt(tt)},h.prototype.toRed=function(tt){return d(!this.red,"Already a number in reduction context"),d(this.negative===0,"red works only with positives"),tt.convertTo(this)._forceRed(tt)},h.prototype.fromRed=function(){return d(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},h.prototype._forceRed=function(tt){return this.red=tt,this},h.prototype.forceRed=function(tt){return d(!this.red,"Already a number in reduction context"),this._forceRed(tt)},h.prototype.redAdd=function(tt){return d(this.red,"redAdd works only with red numbers"),this.red.add(this,tt)},h.prototype.redIAdd=function(tt){return d(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,tt)},h.prototype.redSub=function(tt){return d(this.red,"redSub works only with red numbers"),this.red.sub(this,tt)},h.prototype.redISub=function(tt){return d(this.red,"redISub works only with red numbers"),this.red.isub(this,tt)},h.prototype.redShl=function(tt){return d(this.red,"redShl works only with red numbers"),this.red.shl(this,tt)},h.prototype.redMul=function(tt){return d(this.red,"redMul works only with red numbers"),this.red._verify2(this,tt),this.red.mul(this,tt)},h.prototype.redIMul=function(tt){return d(this.red,"redMul works only with red numbers"),this.red._verify2(this,tt),this.red.imul(this,tt)},h.prototype.redSqr=function(){return d(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},h.prototype.redISqr=function(){return d(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},h.prototype.redSqrt=function(){return d(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},h.prototype.redInvm=function(){return d(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},h.prototype.redNeg=function(){return d(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},h.prototype.redPow=function(tt){return d(this.red&&!tt.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,tt)};var At={k256:null,p224:null,p192:null,p25519:null};function Ct(ft,tt){this.name=ft,this.p=new h(tt,16),this.n=this.p.bitLength(),this.k=new h(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Ct.prototype._tmp=function(){var tt=new h(null);return tt.words=new Array(Math.ceil(this.n/13)),tt},Ct.prototype.ireduce=function(tt){var it=tt,ht;do this.split(it,this.tmp),it=this.imulK(it),it=it.iadd(this.tmp),ht=it.bitLength();while(ht>this.n);var dt=ht<this.n?-1:it.ucmp(this.p);return dt===0?(it.words[0]=0,it.length=1):dt>0?it.isub(this.p):it.strip!==void 0?it.strip():it._strip(),it},Ct.prototype.split=function(tt,it){tt.iushrn(this.n,0,it)},Ct.prototype.imulK=function(tt){return tt.imul(this.k)};function Vt(){Ct.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}b(Vt,Ct),Vt.prototype.split=function(tt,it){for(var ht=4194303,dt=Math.min(tt.length,9),lt=0;lt<dt;lt++)it.words[lt]=tt.words[lt];if(it.length=dt,tt.length<=9){tt.words[0]=0,tt.length=1;return}var gt=tt.words[9];for(it.words[it.length++]=gt&ht,lt=10;lt<tt.length;lt++){var ot=tt.words[lt]|0;tt.words[lt-10]=(ot&ht)<<4|gt>>>22,gt=ot}gt>>>=22,tt.words[lt-10]=gt,gt===0&&tt.length>10?tt.length-=10:tt.length-=9},Vt.prototype.imulK=function(tt){tt.words[tt.length]=0,tt.words[tt.length+1]=0,tt.length+=2;for(var it=0,ht=0;ht<tt.length;ht++){var dt=tt.words[ht]|0;it+=dt*977,tt.words[ht]=it&67108863,it=dt*64+(it/67108864|0)}return tt.words[tt.length-1]===0&&(tt.length--,tt.words[tt.length-1]===0&&tt.length--),tt};function Bt(){Ct.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}b(Bt,Ct);function Ut(){Ct.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}b(Ut,Ct);function Ft(){Ct.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}b(Ft,Ct),Ft.prototype.imulK=function(tt){for(var it=0,ht=0;ht<tt.length;ht++){var dt=(tt.words[ht]|0)*19+it,lt=dt&67108863;dt>>>=26,tt.words[ht]=lt,it=dt}return it!==0&&(tt.words[tt.length++]=it),tt},h._prime=function(tt){if(At[tt])return At[tt];var it;if(tt==="k256")it=new Vt;else if(tt==="p224")it=new Bt;else if(tt==="p192")it=new Ut;else if(tt==="p25519")it=new Ft;else throw new Error("Unknown prime "+tt);return At[tt]=it,it};function Mt(ft){if(typeof ft=="string"){var tt=h._prime(ft);this.m=tt.p,this.prime=tt}else d(ft.gtn(1),"modulus must be greater than 1"),this.m=ft,this.prime=null}Mt.prototype._verify1=function(tt){d(tt.negative===0,"red works only with positives"),d(tt.red,"red works only with red numbers")},Mt.prototype._verify2=function(tt,it){d((tt.negative|it.negative)===0,"red works only with positives"),d(tt.red&&tt.red===it.red,"red works only with red numbers")},Mt.prototype.imod=function(tt){return this.prime?this.prime.ireduce(tt)._forceRed(this):($(tt,tt.umod(this.m)._forceRed(this)),tt)},Mt.prototype.neg=function(tt){return tt.isZero()?tt.clone():this.m.sub(tt)._forceRed(this)},Mt.prototype.add=function(tt,it){this._verify2(tt,it);var ht=tt.add(it);return ht.cmp(this.m)>=0&&ht.isub(this.m),ht._forceRed(this)},Mt.prototype.iadd=function(tt,it){this._verify2(tt,it);var ht=tt.iadd(it);return ht.cmp(this.m)>=0&&ht.isub(this.m),ht},Mt.prototype.sub=function(tt,it){this._verify2(tt,it);var ht=tt.sub(it);return ht.cmpn(0)<0&&ht.iadd(this.m),ht._forceRed(this)},Mt.prototype.isub=function(tt,it){this._verify2(tt,it);var ht=tt.isub(it);return ht.cmpn(0)<0&&ht.iadd(this.m),ht},Mt.prototype.shl=function(tt,it){return this._verify1(tt),this.imod(tt.ushln(it))},Mt.prototype.imul=function(tt,it){return this._verify2(tt,it),this.imod(tt.imul(it))},Mt.prototype.mul=function(tt,it){return this._verify2(tt,it),this.imod(tt.mul(it))},Mt.prototype.isqr=function(tt){return this.imul(tt,tt.clone())},Mt.prototype.sqr=function(tt){return this.mul(tt,tt)},Mt.prototype.sqrt=function(tt){if(tt.isZero())return tt.clone();var it=this.m.andln(3);if(d(it%2===1),it===3){var ht=this.m.add(new h(1)).iushrn(2);return this.pow(tt,ht)}for(var dt=this.m.subn(1),lt=0;!dt.isZero()&&dt.andln(1)===0;)lt++,dt.iushrn(1);d(!dt.isZero());var gt=new h(1).toRed(this),ot=gt.redNeg(),vt=this.m.subn(1).iushrn(1),ct=this.m.bitLength();for(ct=new h(2*ct*ct).toRed(this);this.pow(ct,vt).cmp(ot)!==0;)ct.redIAdd(ot);for(var yt=this.pow(ct,dt),Dt=this.pow(tt,dt.addn(1).iushrn(1)),Ht=this.pow(tt,dt),qt=lt;Ht.cmp(gt)!==0;){for(var _t=Ht,kt=0;_t.cmp(gt)!==0;kt++)_t=_t.redSqr();d(kt<qt);var Lt=this.pow(yt,new h(1).iushln(qt-kt-1));Dt=Dt.redMul(Lt),yt=Lt.redSqr(),Ht=Ht.redMul(yt),qt=kt}return Dt},Mt.prototype.invm=function(tt){var it=tt._invmp(this.m);return it.negative!==0?(it.negative=0,this.imod(it).redNeg()):this.imod(it)},Mt.prototype.pow=function(tt,it){if(it.isZero())return new h(1).toRed(this);if(it.cmpn(1)===0)return tt.clone();var ht=4,dt=new Array(1<<ht);dt[0]=new h(1).toRed(this),dt[1]=tt;for(var lt=2;lt<dt.length;lt++)dt[lt]=this.mul(dt[lt-1],tt);var gt=dt[0],ot=0,vt=0,ct=it.bitLength()%26;for(ct===0&&(ct=26),lt=it.length-1;lt>=0;lt--){for(var yt=it.words[lt],Dt=ct-1;Dt>=0;Dt--){var Ht=yt>>Dt&1;if(gt!==dt[0]&&(gt=this.sqr(gt)),Ht===0&&ot===0){vt=0;continue}ot<<=1,ot|=Ht,vt++,!(vt!==ht&&(lt!==0||Dt!==0))&&(gt=this.mul(gt,dt[ot]),vt=0,ot=0)}ct=26}return gt},Mt.prototype.convertTo=function(tt){var it=tt.umod(this.m);return it===tt?it.clone():it},Mt.prototype.convertFrom=function(tt){var it=tt.clone();return it.red=null,it},h.mont=function(tt){return new mt(tt)};function mt(ft){Mt.call(this,ft),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new h(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b(mt,Mt),mt.prototype.convertTo=function(tt){return this.imod(tt.ushln(this.shift))},mt.prototype.convertFrom=function(tt){var it=this.imod(tt.mul(this.rinv));return it.red=null,it},mt.prototype.imul=function(tt,it){if(tt.isZero()||it.isZero())return tt.words[0]=0,tt.length=1,tt;var ht=tt.imul(it),dt=ht.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),lt=ht.isub(dt).iushrn(this.shift),gt=lt;return lt.cmp(this.m)>=0?gt=lt.isub(this.m):lt.cmpn(0)<0&&(gt=lt.iadd(this.m)),gt._forceRed(this)},mt.prototype.mul=function(tt,it){if(tt.isZero()||it.isZero())return new h(0)._forceRed(this);var ht=tt.mul(it),dt=ht.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),lt=ht.isub(dt).iushrn(this.shift),gt=lt;return lt.cmp(this.m)>=0?gt=lt.isub(this.m):lt.cmpn(0)<0&&(gt=lt.iadd(this.m)),gt._forceRed(this)},mt.prototype.invm=function(tt){var it=this.imod(tt._invmp(this.m).mul(this.r2));return it._forceRed(this)}})(e,commonjsGlobal)}(bn$1)),bn$1.exports}var browserifyRsa,hasRequiredBrowserifyRsa;function requireBrowserifyRsa(){if(hasRequiredBrowserifyRsa)return browserifyRsa;hasRequiredBrowserifyRsa=1;var e=requireBn$1(),a=requireBrowser$b(),c=requireSafeBuffer$2().Buffer;function d(_){var j=_.modulus.byteLength(),_e;do _e=new e(a(j));while(_e.cmp(_.modulus)>=0||!_e.umod(_.prime1)||!_e.umod(_.prime2));return _e}function b(_){var j=d(_),_e=j.toRed(e.mont(_.modulus)).redPow(new e(_.publicExponent)).fromRed();return{blinder:_e,unblinder:j.invm(_.modulus)}}function h(_,j){var _e=b(j),et=j.modulus.byteLength(),$=new e(_).mul(_e.blinder).umod(j.modulus),rt=$.toRed(e.mont(j.prime1)),nt=$.toRed(e.mont(j.prime2)),st=j.coefficient,at=j.prime1,ut=j.prime2,wt=rt.redPow(j.exponent1).fromRed(),pt=nt.redPow(j.exponent2).fromRed(),xt=wt.isub(pt).imul(st).umod(at).imul(ut);return pt.iadd(xt).imul(_e.unblinder).umod(j.modulus).toArrayLike(c,"be",et)}return h.getr=d,browserifyRsa=h,browserifyRsa}var elliptic={};const version="6.6.1",require$$0={version};var utils$2={},utils$1={},hasRequiredUtils$2;function requireUtils$2(){return hasRequiredUtils$2||(hasRequiredUtils$2=1,function(e){var a=e;function c(h,_){if(Array.isArray(h))return h.slice();if(!h)return[];var j=[];if(typeof h!="string"){for(var _e=0;_e<h.length;_e++)j[_e]=h[_e]|0;return j}if(_==="hex"){h=h.replace(/[^a-z0-9]+/ig,""),h.length%2!==0&&(h="0"+h);for(var _e=0;_e<h.length;_e+=2)j.push(parseInt(h[_e]+h[_e+1],16))}else for(var _e=0;_e<h.length;_e++){var et=h.charCodeAt(_e),$=et>>8,rt=et&255;$?j.push($,rt):j.push(rt)}return j}a.toArray=c;function d(h){return h.length===1?"0"+h:h}a.zero2=d;function b(h){for(var _="",j=0;j<h.length;j++)_+=d(h[j].toString(16));return _}a.toHex=b,a.encode=function(_,j){return j==="hex"?b(_):_}}(utils$1)),utils$1}var hasRequiredUtils$1;function requireUtils$1(){return hasRequiredUtils$1||(hasRequiredUtils$1=1,function(e){var a=e,c=requireBn$2(),d=requireMinimalisticAssert(),b=requireUtils$2();a.assert=d,a.toArray=b.toArray,a.zero2=b.zero2,a.toHex=b.toHex,a.encode=b.encode;function h($,rt,nt){var st=new Array(Math.max($.bitLength(),nt)+1),at;for(at=0;at<st.length;at+=1)st[at]=0;var ut=1<<rt+1,wt=$.clone();for(at=0;at<st.length;at++){var pt,xt=wt.andln(ut-1);wt.isOdd()?(xt>(ut>>1)-1?pt=(ut>>1)-xt:pt=xt,wt.isubn(pt)):pt=0,st[at]=pt,wt.iushrn(1)}return st}a.getNAF=h;function _($,rt){var nt=[[],[]];$=$.clone(),rt=rt.clone();for(var st=0,at=0,ut;$.cmpn(-st)>0||rt.cmpn(-at)>0;){var wt=$.andln(3)+st&3,pt=rt.andln(3)+at&3;wt===3&&(wt=-1),pt===3&&(pt=-1);var xt;wt&1?(ut=$.andln(7)+st&7,(ut===3||ut===5)&&pt===2?xt=-wt:xt=wt):xt=0,nt[0].push(xt);var St;pt&1?(ut=rt.andln(7)+at&7,(ut===3||ut===5)&&wt===2?St=-pt:St=pt):St=0,nt[1].push(St),2*st===xt+1&&(st=1-st),2*at===St+1&&(at=1-at),$.iushrn(1),rt.iushrn(1)}return nt}a.getJSF=_;function j($,rt,nt){var st="_"+rt;$.prototype[rt]=function(){return this[st]!==void 0?this[st]:this[st]=nt.call(this)}}a.cachedProperty=j;function _e($){return typeof $=="string"?a.toArray($,"hex"):$}a.parseBytes=_e;function et($){return new c($,"hex","le")}a.intFromLE=et}(utils$2)),utils$2}var curve={},base$1,hasRequiredBase$1;function requireBase$1(){if(hasRequiredBase$1)return base$1;hasRequiredBase$1=1;var e=requireBn$2(),a=requireUtils$1(),c=a.getNAF,d=a.getJSF,b=a.assert;function h(j,_e){this.type=j,this.p=new e(_e.p,16),this.red=_e.prime?e.red(_e.prime):e.mont(this.p),this.zero=new e(0).toRed(this.red),this.one=new e(1).toRed(this.red),this.two=new e(2).toRed(this.red),this.n=_e.n&&new e(_e.n,16),this.g=_e.g&&this.pointFromJSON(_e.g,_e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var et=this.n&&this.p.div(this.n);!et||et.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}base$1=h,h.prototype.point=function(){throw new Error("Not implemented")},h.prototype.validate=function(){throw new Error("Not implemented")},h.prototype._fixedNafMul=function(_e,et){b(_e.precomputed);var $=_e._getDoubles(),rt=c(et,1,this._bitLength),nt=(1<<$.step+1)-($.step%2===0?2:1);nt/=3;var st=[],at,ut;for(at=0;at<rt.length;at+=$.step){ut=0;for(var wt=at+$.step-1;wt>=at;wt--)ut=(ut<<1)+rt[wt];st.push(ut)}for(var pt=this.jpoint(null,null,null),xt=this.jpoint(null,null,null),St=nt;St>0;St--){for(at=0;at<st.length;at++)ut=st[at],ut===St?xt=xt.mixedAdd($.points[at]):ut===-St&&(xt=xt.mixedAdd($.points[at].neg()));pt=pt.add(xt)}return pt.toP()},h.prototype._wnafMul=function(_e,et){var $=4,rt=_e._getNAFPoints($);$=rt.wnd;for(var nt=rt.points,st=c(et,$,this._bitLength),at=this.jpoint(null,null,null),ut=st.length-1;ut>=0;ut--){for(var wt=0;ut>=0&&st[ut]===0;ut--)wt++;if(ut>=0&&wt++,at=at.dblp(wt),ut<0)break;var pt=st[ut];b(pt!==0),_e.type==="affine"?pt>0?at=at.mixedAdd(nt[pt-1>>1]):at=at.mixedAdd(nt[-pt-1>>1].neg()):pt>0?at=at.add(nt[pt-1>>1]):at=at.add(nt[-pt-1>>1].neg())}return _e.type==="affine"?at.toP():at},h.prototype._wnafMulAdd=function(_e,et,$,rt,nt){var st=this._wnafT1,at=this._wnafT2,ut=this._wnafT3,wt=0,pt,xt,St;for(pt=0;pt<rt;pt++){St=et[pt];var Nt=St._getNAFPoints(_e);st[pt]=Nt.wnd,at[pt]=Nt.points}for(pt=rt-1;pt>=1;pt-=2){var At=pt-1,Ct=pt;if(st[At]!==1||st[Ct]!==1){ut[At]=c($[At],st[At],this._bitLength),ut[Ct]=c($[Ct],st[Ct],this._bitLength),wt=Math.max(ut[At].length,wt),wt=Math.max(ut[Ct].length,wt);continue}var Vt=[et[At],null,null,et[Ct]];et[At].y.cmp(et[Ct].y)===0?(Vt[1]=et[At].add(et[Ct]),Vt[2]=et[At].toJ().mixedAdd(et[Ct].neg())):et[At].y.cmp(et[Ct].y.redNeg())===0?(Vt[1]=et[At].toJ().mixedAdd(et[Ct]),Vt[2]=et[At].add(et[Ct].neg())):(Vt[1]=et[At].toJ().mixedAdd(et[Ct]),Vt[2]=et[At].toJ().mixedAdd(et[Ct].neg()));var Bt=[-3,-1,-5,-7,0,7,5,1,3],Ut=d($[At],$[Ct]);for(wt=Math.max(Ut[0].length,wt),ut[At]=new Array(wt),ut[Ct]=new Array(wt),xt=0;xt<wt;xt++){var Ft=Ut[0][xt]|0,Mt=Ut[1][xt]|0;ut[At][xt]=Bt[(Ft+1)*3+(Mt+1)],ut[Ct][xt]=0,at[At]=Vt}}var mt=this.jpoint(null,null,null),ft=this._wnafT4;for(pt=wt;pt>=0;pt--){for(var tt=0;pt>=0;){var it=!0;for(xt=0;xt<rt;xt++)ft[xt]=ut[xt][pt]|0,ft[xt]!==0&&(it=!1);if(!it)break;tt++,pt--}if(pt>=0&&tt++,mt=mt.dblp(tt),pt<0)break;for(xt=0;xt<rt;xt++){var ht=ft[xt];ht!==0&&(ht>0?St=at[xt][ht-1>>1]:ht<0&&(St=at[xt][-ht-1>>1].neg()),St.type==="affine"?mt=mt.mixedAdd(St):mt=mt.add(St))}}for(pt=0;pt<rt;pt++)at[pt]=null;return nt?mt:mt.toP()};function _(j,_e){this.curve=j,this.type=_e,this.precomputed=null}return h.BasePoint=_,_.prototype.eq=function(){throw new Error("Not implemented")},_.prototype.validate=function(){return this.curve.validate(this)},h.prototype.decodePoint=function(_e,et){_e=a.toArray(_e,et);var $=this.p.byteLength();if((_e[0]===4||_e[0]===6||_e[0]===7)&&_e.length-1===2*$){_e[0]===6?b(_e[_e.length-1]%2===0):_e[0]===7&&b(_e[_e.length-1]%2===1);var rt=this.point(_e.slice(1,1+$),_e.slice(1+$,1+2*$));return rt}else if((_e[0]===2||_e[0]===3)&&_e.length-1===$)return this.pointFromX(_e.slice(1,1+$),_e[0]===3);throw new Error("Unknown point format")},_.prototype.encodeCompressed=function(_e){return this.encode(_e,!0)},_.prototype._encode=function(_e){var et=this.curve.p.byteLength(),$=this.getX().toArray("be",et);return _e?[this.getY().isEven()?2:3].concat($):[4].concat($,this.getY().toArray("be",et))},_.prototype.encode=function(_e,et){return a.encode(this._encode(et),_e)},_.prototype.precompute=function(_e){if(this.precomputed)return this;var et={doubles:null,naf:null,beta:null};return et.naf=this._getNAFPoints(8),et.doubles=this._getDoubles(4,_e),et.beta=this._getBeta(),this.precomputed=et,this},_.prototype._hasDoubles=function(_e){if(!this.precomputed)return!1;var et=this.precomputed.doubles;return et?et.points.length>=Math.ceil((_e.bitLength()+1)/et.step):!1},_.prototype._getDoubles=function(_e,et){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var $=[this],rt=this,nt=0;nt<et;nt+=_e){for(var st=0;st<_e;st++)rt=rt.dbl();$.push(rt)}return{step:_e,points:$}},_.prototype._getNAFPoints=function(_e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var et=[this],$=(1<<_e)-1,rt=$===1?null:this.dbl(),nt=1;nt<$;nt++)et[nt]=et[nt-1].add(rt);return{wnd:_e,points:et}},_.prototype._getBeta=function(){return null},_.prototype.dblp=function(_e){for(var et=this,$=0;$<_e;$++)et=et.dbl();return et},base$1}var short,hasRequiredShort;function requireShort(){if(hasRequiredShort)return short;hasRequiredShort=1;var e=requireUtils$1(),a=requireBn$2(),c=inherits_browserExports,d=requireBase$1(),b=e.assert;function h(_e){d.call(this,"short",_e),this.a=new a(_e.a,16).toRed(this.red),this.b=new a(_e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(_e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}c(h,d),short=h,h.prototype._getEndomorphism=function(et){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var $,rt;if(et.beta)$=new a(et.beta,16).toRed(this.red);else{var nt=this._getEndoRoots(this.p);$=nt[0].cmp(nt[1])<0?nt[0]:nt[1],$=$.toRed(this.red)}if(et.lambda)rt=new a(et.lambda,16);else{var st=this._getEndoRoots(this.n);this.g.mul(st[0]).x.cmp(this.g.x.redMul($))===0?rt=st[0]:(rt=st[1],b(this.g.mul(rt).x.cmp(this.g.x.redMul($))===0))}var at;return et.basis?at=et.basis.map(function(ut){return{a:new a(ut.a,16),b:new a(ut.b,16)}}):at=this._getEndoBasis(rt),{beta:$,lambda:rt,basis:at}}},h.prototype._getEndoRoots=function(et){var $=et===this.p?this.red:a.mont(et),rt=new a(2).toRed($).redInvm(),nt=rt.redNeg(),st=new a(3).toRed($).redNeg().redSqrt().redMul(rt),at=nt.redAdd(st).fromRed(),ut=nt.redSub(st).fromRed();return[at,ut]},h.prototype._getEndoBasis=function(et){for(var $=this.n.ushrn(Math.floor(this.n.bitLength()/2)),rt=et,nt=this.n.clone(),st=new a(1),at=new a(0),ut=new a(0),wt=new a(1),pt,xt,St,Nt,At,Ct,Vt,Bt=0,Ut,Ft;rt.cmpn(0)!==0;){var Mt=nt.div(rt);Ut=nt.sub(Mt.mul(rt)),Ft=ut.sub(Mt.mul(st));var mt=wt.sub(Mt.mul(at));if(!St&&Ut.cmp($)<0)pt=Vt.neg(),xt=st,St=Ut.neg(),Nt=Ft;else if(St&&++Bt===2)break;Vt=Ut,nt=rt,rt=Ut,ut=st,st=Ft,wt=at,at=mt}At=Ut.neg(),Ct=Ft;var ft=St.sqr().add(Nt.sqr()),tt=At.sqr().add(Ct.sqr());return tt.cmp(ft)>=0&&(At=pt,Ct=xt),St.negative&&(St=St.neg(),Nt=Nt.neg()),At.negative&&(At=At.neg(),Ct=Ct.neg()),[{a:St,b:Nt},{a:At,b:Ct}]},h.prototype._endoSplit=function(et){var $=this.endo.basis,rt=$[0],nt=$[1],st=nt.b.mul(et).divRound(this.n),at=rt.b.neg().mul(et).divRound(this.n),ut=st.mul(rt.a),wt=at.mul(nt.a),pt=st.mul(rt.b),xt=at.mul(nt.b),St=et.sub(ut).sub(wt),Nt=pt.add(xt).neg();return{k1:St,k2:Nt}},h.prototype.pointFromX=function(et,$){et=new a(et,16),et.red||(et=et.toRed(this.red));var rt=et.redSqr().redMul(et).redIAdd(et.redMul(this.a)).redIAdd(this.b),nt=rt.redSqrt();if(nt.redSqr().redSub(rt).cmp(this.zero)!==0)throw new Error("invalid point");var st=nt.fromRed().isOdd();return($&&!st||!$&&st)&&(nt=nt.redNeg()),this.point(et,nt)},h.prototype.validate=function(et){if(et.inf)return!0;var $=et.x,rt=et.y,nt=this.a.redMul($),st=$.redSqr().redMul($).redIAdd(nt).redIAdd(this.b);return rt.redSqr().redISub(st).cmpn(0)===0},h.prototype._endoWnafMulAdd=function(et,$,rt){for(var nt=this._endoWnafT1,st=this._endoWnafT2,at=0;at<et.length;at++){var ut=this._endoSplit($[at]),wt=et[at],pt=wt._getBeta();ut.k1.negative&&(ut.k1.ineg(),wt=wt.neg(!0)),ut.k2.negative&&(ut.k2.ineg(),pt=pt.neg(!0)),nt[at*2]=wt,nt[at*2+1]=pt,st[at*2]=ut.k1,st[at*2+1]=ut.k2}for(var xt=this._wnafMulAdd(1,nt,st,at*2,rt),St=0;St<at*2;St++)nt[St]=null,st[St]=null;return xt};function _(_e,et,$,rt){d.BasePoint.call(this,_e,"affine"),et===null&&$===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new a(et,16),this.y=new a($,16),rt&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}c(_,d.BasePoint),h.prototype.point=function(et,$,rt){return new _(this,et,$,rt)},h.prototype.pointFromJSON=function(et,$){return _.fromJSON(this,et,$)},_.prototype._getBeta=function(){if(this.curve.endo){var et=this.precomputed;if(et&&et.beta)return et.beta;var $=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(et){var rt=this.curve,nt=function(st){return rt.point(st.x.redMul(rt.endo.beta),st.y)};et.beta=$,$.precomputed={beta:null,naf:et.naf&&{wnd:et.naf.wnd,points:et.naf.points.map(nt)},doubles:et.doubles&&{step:et.doubles.step,points:et.doubles.points.map(nt)}}}return $}},_.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},_.fromJSON=function(et,$,rt){typeof $=="string"&&($=JSON.parse($));var nt=et.point($[0],$[1],rt);if(!$[2])return nt;function st(ut){return et.point(ut[0],ut[1],rt)}var at=$[2];return nt.precomputed={beta:null,doubles:at.doubles&&{step:at.doubles.step,points:[nt].concat(at.doubles.points.map(st))},naf:at.naf&&{wnd:at.naf.wnd,points:[nt].concat(at.naf.points.map(st))}},nt},_.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},_.prototype.isInfinity=function(){return this.inf},_.prototype.add=function(et){if(this.inf)return et;if(et.inf)return this;if(this.eq(et))return this.dbl();if(this.neg().eq(et))return this.curve.point(null,null);if(this.x.cmp(et.x)===0)return this.curve.point(null,null);var $=this.y.redSub(et.y);$.cmpn(0)!==0&&($=$.redMul(this.x.redSub(et.x).redInvm()));var rt=$.redSqr().redISub(this.x).redISub(et.x),nt=$.redMul(this.x.redSub(rt)).redISub(this.y);return this.curve.point(rt,nt)},_.prototype.dbl=function(){if(this.inf)return this;var et=this.y.redAdd(this.y);if(et.cmpn(0)===0)return this.curve.point(null,null);var $=this.curve.a,rt=this.x.redSqr(),nt=et.redInvm(),st=rt.redAdd(rt).redIAdd(rt).redIAdd($).redMul(nt),at=st.redSqr().redISub(this.x.redAdd(this.x)),ut=st.redMul(this.x.redSub(at)).redISub(this.y);return this.curve.point(at,ut)},_.prototype.getX=function(){return this.x.fromRed()},_.prototype.getY=function(){return this.y.fromRed()},_.prototype.mul=function(et){return et=new a(et,16),this.isInfinity()?this:this._hasDoubles(et)?this.curve._fixedNafMul(this,et):this.curve.endo?this.curve._endoWnafMulAdd([this],[et]):this.curve._wnafMul(this,et)},_.prototype.mulAdd=function(et,$,rt){var nt=[this,$],st=[et,rt];return this.curve.endo?this.curve._endoWnafMulAdd(nt,st):this.curve._wnafMulAdd(1,nt,st,2)},_.prototype.jmulAdd=function(et,$,rt){var nt=[this,$],st=[et,rt];return this.curve.endo?this.curve._endoWnafMulAdd(nt,st,!0):this.curve._wnafMulAdd(1,nt,st,2,!0)},_.prototype.eq=function(et){return this===et||this.inf===et.inf&&(this.inf||this.x.cmp(et.x)===0&&this.y.cmp(et.y)===0)},_.prototype.neg=function(et){if(this.inf)return this;var $=this.curve.point(this.x,this.y.redNeg());if(et&&this.precomputed){var rt=this.precomputed,nt=function(st){return st.neg()};$.precomputed={naf:rt.naf&&{wnd:rt.naf.wnd,points:rt.naf.points.map(nt)},doubles:rt.doubles&&{step:rt.doubles.step,points:rt.doubles.points.map(nt)}}}return $},_.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var et=this.curve.jpoint(this.x,this.y,this.curve.one);return et};function j(_e,et,$,rt){d.BasePoint.call(this,_e,"jacobian"),et===null&&$===null&&rt===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new a(0)):(this.x=new a(et,16),this.y=new a($,16),this.z=new a(rt,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return c(j,d.BasePoint),h.prototype.jpoint=function(et,$,rt){return new j(this,et,$,rt)},j.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var et=this.z.redInvm(),$=et.redSqr(),rt=this.x.redMul($),nt=this.y.redMul($).redMul(et);return this.curve.point(rt,nt)},j.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},j.prototype.add=function(et){if(this.isInfinity())return et;if(et.isInfinity())return this;var $=et.z.redSqr(),rt=this.z.redSqr(),nt=this.x.redMul($),st=et.x.redMul(rt),at=this.y.redMul($.redMul(et.z)),ut=et.y.redMul(rt.redMul(this.z)),wt=nt.redSub(st),pt=at.redSub(ut);if(wt.cmpn(0)===0)return pt.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var xt=wt.redSqr(),St=xt.redMul(wt),Nt=nt.redMul(xt),At=pt.redSqr().redIAdd(St).redISub(Nt).redISub(Nt),Ct=pt.redMul(Nt.redISub(At)).redISub(at.redMul(St)),Vt=this.z.redMul(et.z).redMul(wt);return this.curve.jpoint(At,Ct,Vt)},j.prototype.mixedAdd=function(et){if(this.isInfinity())return et.toJ();if(et.isInfinity())return this;var $=this.z.redSqr(),rt=this.x,nt=et.x.redMul($),st=this.y,at=et.y.redMul($).redMul(this.z),ut=rt.redSub(nt),wt=st.redSub(at);if(ut.cmpn(0)===0)return wt.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var pt=ut.redSqr(),xt=pt.redMul(ut),St=rt.redMul(pt),Nt=wt.redSqr().redIAdd(xt).redISub(St).redISub(St),At=wt.redMul(St.redISub(Nt)).redISub(st.redMul(xt)),Ct=this.z.redMul(ut);return this.curve.jpoint(Nt,At,Ct)},j.prototype.dblp=function(et){if(et===0)return this;if(this.isInfinity())return this;if(!et)return this.dbl();var $;if(this.curve.zeroA||this.curve.threeA){var rt=this;for($=0;$<et;$++)rt=rt.dbl();return rt}var nt=this.curve.a,st=this.curve.tinv,at=this.x,ut=this.y,wt=this.z,pt=wt.redSqr().redSqr(),xt=ut.redAdd(ut);for($=0;$<et;$++){var St=at.redSqr(),Nt=xt.redSqr(),At=Nt.redSqr(),Ct=St.redAdd(St).redIAdd(St).redIAdd(nt.redMul(pt)),Vt=at.redMul(Nt),Bt=Ct.redSqr().redISub(Vt.redAdd(Vt)),Ut=Vt.redISub(Bt),Ft=Ct.redMul(Ut);Ft=Ft.redIAdd(Ft).redISub(At);var Mt=xt.redMul(wt);$+1<et&&(pt=pt.redMul(At)),at=Bt,wt=Mt,xt=Ft}return this.curve.jpoint(at,xt.redMul(st),wt)},j.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},j.prototype._zeroDbl=function(){var et,$,rt;if(this.zOne){var nt=this.x.redSqr(),st=this.y.redSqr(),at=st.redSqr(),ut=this.x.redAdd(st).redSqr().redISub(nt).redISub(at);ut=ut.redIAdd(ut);var wt=nt.redAdd(nt).redIAdd(nt),pt=wt.redSqr().redISub(ut).redISub(ut),xt=at.redIAdd(at);xt=xt.redIAdd(xt),xt=xt.redIAdd(xt),et=pt,$=wt.redMul(ut.redISub(pt)).redISub(xt),rt=this.y.redAdd(this.y)}else{var St=this.x.redSqr(),Nt=this.y.redSqr(),At=Nt.redSqr(),Ct=this.x.redAdd(Nt).redSqr().redISub(St).redISub(At);Ct=Ct.redIAdd(Ct);var Vt=St.redAdd(St).redIAdd(St),Bt=Vt.redSqr(),Ut=At.redIAdd(At);Ut=Ut.redIAdd(Ut),Ut=Ut.redIAdd(Ut),et=Bt.redISub(Ct).redISub(Ct),$=Vt.redMul(Ct.redISub(et)).redISub(Ut),rt=this.y.redMul(this.z),rt=rt.redIAdd(rt)}return this.curve.jpoint(et,$,rt)},j.prototype._threeDbl=function(){var et,$,rt;if(this.zOne){var nt=this.x.redSqr(),st=this.y.redSqr(),at=st.redSqr(),ut=this.x.redAdd(st).redSqr().redISub(nt).redISub(at);ut=ut.redIAdd(ut);var wt=nt.redAdd(nt).redIAdd(nt).redIAdd(this.curve.a),pt=wt.redSqr().redISub(ut).redISub(ut);et=pt;var xt=at.redIAdd(at);xt=xt.redIAdd(xt),xt=xt.redIAdd(xt),$=wt.redMul(ut.redISub(pt)).redISub(xt),rt=this.y.redAdd(this.y)}else{var St=this.z.redSqr(),Nt=this.y.redSqr(),At=this.x.redMul(Nt),Ct=this.x.redSub(St).redMul(this.x.redAdd(St));Ct=Ct.redAdd(Ct).redIAdd(Ct);var Vt=At.redIAdd(At);Vt=Vt.redIAdd(Vt);var Bt=Vt.redAdd(Vt);et=Ct.redSqr().redISub(Bt),rt=this.y.redAdd(this.z).redSqr().redISub(Nt).redISub(St);var Ut=Nt.redSqr();Ut=Ut.redIAdd(Ut),Ut=Ut.redIAdd(Ut),Ut=Ut.redIAdd(Ut),$=Ct.redMul(Vt.redISub(et)).redISub(Ut)}return this.curve.jpoint(et,$,rt)},j.prototype._dbl=function(){var et=this.curve.a,$=this.x,rt=this.y,nt=this.z,st=nt.redSqr().redSqr(),at=$.redSqr(),ut=rt.redSqr(),wt=at.redAdd(at).redIAdd(at).redIAdd(et.redMul(st)),pt=$.redAdd($);pt=pt.redIAdd(pt);var xt=pt.redMul(ut),St=wt.redSqr().redISub(xt.redAdd(xt)),Nt=xt.redISub(St),At=ut.redSqr();At=At.redIAdd(At),At=At.redIAdd(At),At=At.redIAdd(At);var Ct=wt.redMul(Nt).redISub(At),Vt=rt.redAdd(rt).redMul(nt);return this.curve.jpoint(St,Ct,Vt)},j.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var et=this.x.redSqr(),$=this.y.redSqr(),rt=this.z.redSqr(),nt=$.redSqr(),st=et.redAdd(et).redIAdd(et),at=st.redSqr(),ut=this.x.redAdd($).redSqr().redISub(et).redISub(nt);ut=ut.redIAdd(ut),ut=ut.redAdd(ut).redIAdd(ut),ut=ut.redISub(at);var wt=ut.redSqr(),pt=nt.redIAdd(nt);pt=pt.redIAdd(pt),pt=pt.redIAdd(pt),pt=pt.redIAdd(pt);var xt=st.redIAdd(ut).redSqr().redISub(at).redISub(wt).redISub(pt),St=$.redMul(xt);St=St.redIAdd(St),St=St.redIAdd(St);var Nt=this.x.redMul(wt).redISub(St);Nt=Nt.redIAdd(Nt),Nt=Nt.redIAdd(Nt);var At=this.y.redMul(xt.redMul(pt.redISub(xt)).redISub(ut.redMul(wt)));At=At.redIAdd(At),At=At.redIAdd(At),At=At.redIAdd(At);var Ct=this.z.redAdd(ut).redSqr().redISub(rt).redISub(wt);return this.curve.jpoint(Nt,At,Ct)},j.prototype.mul=function(et,$){return et=new a(et,$),this.curve._wnafMul(this,et)},j.prototype.eq=function(et){if(et.type==="affine")return this.eq(et.toJ());if(this===et)return!0;var $=this.z.redSqr(),rt=et.z.redSqr();if(this.x.redMul(rt).redISub(et.x.redMul($)).cmpn(0)!==0)return!1;var nt=$.redMul(this.z),st=rt.redMul(et.z);return this.y.redMul(st).redISub(et.y.redMul(nt)).cmpn(0)===0},j.prototype.eqXToP=function(et){var $=this.z.redSqr(),rt=et.toRed(this.curve.red).redMul($);if(this.x.cmp(rt)===0)return!0;for(var nt=et.clone(),st=this.curve.redN.redMul($);;){if(nt.iadd(this.curve.n),nt.cmp(this.curve.p)>=0)return!1;if(rt.redIAdd(st),this.x.cmp(rt)===0)return!0}},j.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},j.prototype.isInfinity=function(){return this.z.cmpn(0)===0},short}var mont,hasRequiredMont;function requireMont(){if(hasRequiredMont)return mont;hasRequiredMont=1;var e=requireBn$2(),a=inherits_browserExports,c=requireBase$1(),d=requireUtils$1();function b(_){c.call(this,"mont",_),this.a=new e(_.a,16).toRed(this.red),this.b=new e(_.b,16).toRed(this.red),this.i4=new e(4).toRed(this.red).redInvm(),this.two=new e(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}a(b,c),mont=b,b.prototype.validate=function(j){var _e=j.normalize().x,et=_e.redSqr(),$=et.redMul(_e).redAdd(et.redMul(this.a)).redAdd(_e),rt=$.redSqrt();return rt.redSqr().cmp($)===0};function h(_,j,_e){c.BasePoint.call(this,_,"projective"),j===null&&_e===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new e(j,16),this.z=new e(_e,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return a(h,c.BasePoint),b.prototype.decodePoint=function(j,_e){return this.point(d.toArray(j,_e),1)},b.prototype.point=function(j,_e){return new h(this,j,_e)},b.prototype.pointFromJSON=function(j){return h.fromJSON(this,j)},h.prototype.precompute=function(){},h.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},h.fromJSON=function(j,_e){return new h(j,_e[0],_e[1]||j.one)},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return this.z.cmpn(0)===0},h.prototype.dbl=function(){var j=this.x.redAdd(this.z),_e=j.redSqr(),et=this.x.redSub(this.z),$=et.redSqr(),rt=_e.redSub($),nt=_e.redMul($),st=rt.redMul($.redAdd(this.curve.a24.redMul(rt)));return this.curve.point(nt,st)},h.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},h.prototype.diffAdd=function(j,_e){var et=this.x.redAdd(this.z),$=this.x.redSub(this.z),rt=j.x.redAdd(j.z),nt=j.x.redSub(j.z),st=nt.redMul(et),at=rt.redMul($),ut=_e.z.redMul(st.redAdd(at).redSqr()),wt=_e.x.redMul(st.redISub(at).redSqr());return this.curve.point(ut,wt)},h.prototype.mul=function(j){for(var _e=j.clone(),et=this,$=this.curve.point(null,null),rt=this,nt=[];_e.cmpn(0)!==0;_e.iushrn(1))nt.push(_e.andln(1));for(var st=nt.length-1;st>=0;st--)nt[st]===0?(et=et.diffAdd($,rt),$=$.dbl()):($=et.diffAdd($,rt),et=et.dbl());return $},h.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},h.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},h.prototype.eq=function(j){return this.getX().cmp(j.getX())===0},h.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},h.prototype.getX=function(){return this.normalize(),this.x.fromRed()},mont}var edwards,hasRequiredEdwards;function requireEdwards(){if(hasRequiredEdwards)return edwards;hasRequiredEdwards=1;var e=requireUtils$1(),a=requireBn$2(),c=inherits_browserExports,d=requireBase$1(),b=e.assert;function h(j){this.twisted=(j.a|0)!==1,this.mOneA=this.twisted&&(j.a|0)===-1,this.extended=this.mOneA,d.call(this,"edwards",j),this.a=new a(j.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new a(j.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new a(j.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),b(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(j.c|0)===1}c(h,d),edwards=h,h.prototype._mulA=function(_e){return this.mOneA?_e.redNeg():this.a.redMul(_e)},h.prototype._mulC=function(_e){return this.oneC?_e:this.c.redMul(_e)},h.prototype.jpoint=function(_e,et,$,rt){return this.point(_e,et,$,rt)},h.prototype.pointFromX=function(_e,et){_e=new a(_e,16),_e.red||(_e=_e.toRed(this.red));var $=_e.redSqr(),rt=this.c2.redSub(this.a.redMul($)),nt=this.one.redSub(this.c2.redMul(this.d).redMul($)),st=rt.redMul(nt.redInvm()),at=st.redSqrt();if(at.redSqr().redSub(st).cmp(this.zero)!==0)throw new Error("invalid point");var ut=at.fromRed().isOdd();return(et&&!ut||!et&&ut)&&(at=at.redNeg()),this.point(_e,at)},h.prototype.pointFromY=function(_e,et){_e=new a(_e,16),_e.red||(_e=_e.toRed(this.red));var $=_e.redSqr(),rt=$.redSub(this.c2),nt=$.redMul(this.d).redMul(this.c2).redSub(this.a),st=rt.redMul(nt.redInvm());if(st.cmp(this.zero)===0){if(et)throw new Error("invalid point");return this.point(this.zero,_e)}var at=st.redSqrt();if(at.redSqr().redSub(st).cmp(this.zero)!==0)throw new Error("invalid point");return at.fromRed().isOdd()!==et&&(at=at.redNeg()),this.point(at,_e)},h.prototype.validate=function(_e){if(_e.isInfinity())return!0;_e.normalize();var et=_e.x.redSqr(),$=_e.y.redSqr(),rt=et.redMul(this.a).redAdd($),nt=this.c2.redMul(this.one.redAdd(this.d.redMul(et).redMul($)));return rt.cmp(nt)===0};function _(j,_e,et,$,rt){d.BasePoint.call(this,j,"projective"),_e===null&&et===null&&$===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new a(_e,16),this.y=new a(et,16),this.z=$?new a($,16):this.curve.one,this.t=rt&&new a(rt,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return c(_,d.BasePoint),h.prototype.pointFromJSON=function(_e){return _.fromJSON(this,_e)},h.prototype.point=function(_e,et,$,rt){return new _(this,_e,et,$,rt)},_.fromJSON=function(_e,et){return new _(_e,et[0],et[1],et[2])},_.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},_.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},_.prototype._extDbl=function(){var _e=this.x.redSqr(),et=this.y.redSqr(),$=this.z.redSqr();$=$.redIAdd($);var rt=this.curve._mulA(_e),nt=this.x.redAdd(this.y).redSqr().redISub(_e).redISub(et),st=rt.redAdd(et),at=st.redSub($),ut=rt.redSub(et),wt=nt.redMul(at),pt=st.redMul(ut),xt=nt.redMul(ut),St=at.redMul(st);return this.curve.point(wt,pt,St,xt)},_.prototype._projDbl=function(){var _e=this.x.redAdd(this.y).redSqr(),et=this.x.redSqr(),$=this.y.redSqr(),rt,nt,st,at,ut,wt;if(this.curve.twisted){at=this.curve._mulA(et);var pt=at.redAdd($);this.zOne?(rt=_e.redSub(et).redSub($).redMul(pt.redSub(this.curve.two)),nt=pt.redMul(at.redSub($)),st=pt.redSqr().redSub(pt).redSub(pt)):(ut=this.z.redSqr(),wt=pt.redSub(ut).redISub(ut),rt=_e.redSub(et).redISub($).redMul(wt),nt=pt.redMul(at.redSub($)),st=pt.redMul(wt))}else at=et.redAdd($),ut=this.curve._mulC(this.z).redSqr(),wt=at.redSub(ut).redSub(ut),rt=this.curve._mulC(_e.redISub(at)).redMul(wt),nt=this.curve._mulC(at).redMul(et.redISub($)),st=at.redMul(wt);return this.curve.point(rt,nt,st)},_.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},_.prototype._extAdd=function(_e){var et=this.y.redSub(this.x).redMul(_e.y.redSub(_e.x)),$=this.y.redAdd(this.x).redMul(_e.y.redAdd(_e.x)),rt=this.t.redMul(this.curve.dd).redMul(_e.t),nt=this.z.redMul(_e.z.redAdd(_e.z)),st=$.redSub(et),at=nt.redSub(rt),ut=nt.redAdd(rt),wt=$.redAdd(et),pt=st.redMul(at),xt=ut.redMul(wt),St=st.redMul(wt),Nt=at.redMul(ut);return this.curve.point(pt,xt,Nt,St)},_.prototype._projAdd=function(_e){var et=this.z.redMul(_e.z),$=et.redSqr(),rt=this.x.redMul(_e.x),nt=this.y.redMul(_e.y),st=this.curve.d.redMul(rt).redMul(nt),at=$.redSub(st),ut=$.redAdd(st),wt=this.x.redAdd(this.y).redMul(_e.x.redAdd(_e.y)).redISub(rt).redISub(nt),pt=et.redMul(at).redMul(wt),xt,St;return this.curve.twisted?(xt=et.redMul(ut).redMul(nt.redSub(this.curve._mulA(rt))),St=at.redMul(ut)):(xt=et.redMul(ut).redMul(nt.redSub(rt)),St=this.curve._mulC(at).redMul(ut)),this.curve.point(pt,xt,St)},_.prototype.add=function(_e){return this.isInfinity()?_e:_e.isInfinity()?this:this.curve.extended?this._extAdd(_e):this._projAdd(_e)},_.prototype.mul=function(_e){return this._hasDoubles(_e)?this.curve._fixedNafMul(this,_e):this.curve._wnafMul(this,_e)},_.prototype.mulAdd=function(_e,et,$){return this.curve._wnafMulAdd(1,[this,et],[_e,$],2,!1)},_.prototype.jmulAdd=function(_e,et,$){return this.curve._wnafMulAdd(1,[this,et],[_e,$],2,!0)},_.prototype.normalize=function(){if(this.zOne)return this;var _e=this.z.redInvm();return this.x=this.x.redMul(_e),this.y=this.y.redMul(_e),this.t&&(this.t=this.t.redMul(_e)),this.z=this.curve.one,this.zOne=!0,this},_.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},_.prototype.getX=function(){return this.normalize(),this.x.fromRed()},_.prototype.getY=function(){return this.normalize(),this.y.fromRed()},_.prototype.eq=function(_e){return this===_e||this.getX().cmp(_e.getX())===0&&this.getY().cmp(_e.getY())===0},_.prototype.eqXToP=function(_e){var et=_e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(et)===0)return!0;for(var $=_e.clone(),rt=this.curve.redN.redMul(this.z);;){if($.iadd(this.curve.n),$.cmp(this.curve.p)>=0)return!1;if(et.redIAdd(rt),this.x.cmp(et)===0)return!0}},_.prototype.toP=_.prototype.normalize,_.prototype.mixedAdd=_.prototype.add,edwards}var hasRequiredCurve;function requireCurve(){return hasRequiredCurve||(hasRequiredCurve=1,function(e){var a=e;a.base=requireBase$1(),a.short=requireShort(),a.mont=requireMont(),a.edwards=requireEdwards()}(curve)),curve}var curves={},hash={},utils={},hasRequiredUtils;function requireUtils(){if(hasRequiredUtils)return utils;hasRequiredUtils=1;var e=requireMinimalisticAssert(),a=inherits_browserExports;utils.inherits=a;function c(mt,ft){return(mt.charCodeAt(ft)&64512)!==55296||ft<0||ft+1>=mt.length?!1:(mt.charCodeAt(ft+1)&64512)===56320}function d(mt,ft){if(Array.isArray(mt))return mt.slice();if(!mt)return[];var tt=[];if(typeof mt=="string")if(ft){if(ft==="hex")for(mt=mt.replace(/[^a-z0-9]+/ig,""),mt.length%2!==0&&(mt="0"+mt),ht=0;ht<mt.length;ht+=2)tt.push(parseInt(mt[ht]+mt[ht+1],16))}else for(var it=0,ht=0;ht<mt.length;ht++){var dt=mt.charCodeAt(ht);dt<128?tt[it++]=dt:dt<2048?(tt[it++]=dt>>6|192,tt[it++]=dt&63|128):c(mt,ht)?(dt=65536+((dt&1023)<<10)+(mt.charCodeAt(++ht)&1023),tt[it++]=dt>>18|240,tt[it++]=dt>>12&63|128,tt[it++]=dt>>6&63|128,tt[it++]=dt&63|128):(tt[it++]=dt>>12|224,tt[it++]=dt>>6&63|128,tt[it++]=dt&63|128)}else for(ht=0;ht<mt.length;ht++)tt[ht]=mt[ht]|0;return tt}utils.toArray=d;function b(mt){for(var ft="",tt=0;tt<mt.length;tt++)ft+=j(mt[tt].toString(16));return ft}utils.toHex=b;function h(mt){var ft=mt>>>24|mt>>>8&65280|mt<<8&16711680|(mt&255)<<24;return ft>>>0}utils.htonl=h;function _(mt,ft){for(var tt="",it=0;it<mt.length;it++){var ht=mt[it];ft==="little"&&(ht=h(ht)),tt+=_e(ht.toString(16))}return tt}utils.toHex32=_;function j(mt){return mt.length===1?"0"+mt:mt}utils.zero2=j;function _e(mt){return mt.length===7?"0"+mt:mt.length===6?"00"+mt:mt.length===5?"000"+mt:mt.length===4?"0000"+mt:mt.length===3?"00000"+mt:mt.length===2?"000000"+mt:mt.length===1?"0000000"+mt:mt}utils.zero8=_e;function et(mt,ft,tt,it){var ht=tt-ft;e(ht%4===0);for(var dt=new Array(ht/4),lt=0,gt=ft;lt<dt.length;lt++,gt+=4){var ot;it==="big"?ot=mt[gt]<<24|mt[gt+1]<<16|mt[gt+2]<<8|mt[gt+3]:ot=mt[gt+3]<<24|mt[gt+2]<<16|mt[gt+1]<<8|mt[gt],dt[lt]=ot>>>0}return dt}utils.join32=et;function $(mt,ft){for(var tt=new Array(mt.length*4),it=0,ht=0;it<mt.length;it++,ht+=4){var dt=mt[it];ft==="big"?(tt[ht]=dt>>>24,tt[ht+1]=dt>>>16&255,tt[ht+2]=dt>>>8&255,tt[ht+3]=dt&255):(tt[ht+3]=dt>>>24,tt[ht+2]=dt>>>16&255,tt[ht+1]=dt>>>8&255,tt[ht]=dt&255)}return tt}utils.split32=$;function rt(mt,ft){return mt>>>ft|mt<<32-ft}utils.rotr32=rt;function nt(mt,ft){return mt<<ft|mt>>>32-ft}utils.rotl32=nt;function st(mt,ft){return mt+ft>>>0}utils.sum32=st;function at(mt,ft,tt){return mt+ft+tt>>>0}utils.sum32_3=at;function ut(mt,ft,tt,it){return mt+ft+tt+it>>>0}utils.sum32_4=ut;function wt(mt,ft,tt,it,ht){return mt+ft+tt+it+ht>>>0}utils.sum32_5=wt;function pt(mt,ft,tt,it){var ht=mt[ft],dt=mt[ft+1],lt=it+dt>>>0,gt=(lt<it?1:0)+tt+ht;mt[ft]=gt>>>0,mt[ft+1]=lt}utils.sum64=pt;function xt(mt,ft,tt,it){var ht=ft+it>>>0,dt=(ht<ft?1:0)+mt+tt;return dt>>>0}utils.sum64_hi=xt;function St(mt,ft,tt,it){var ht=ft+it;return ht>>>0}utils.sum64_lo=St;function Nt(mt,ft,tt,it,ht,dt,lt,gt){var ot=0,vt=ft;vt=vt+it>>>0,ot+=vt<ft?1:0,vt=vt+dt>>>0,ot+=vt<dt?1:0,vt=vt+gt>>>0,ot+=vt<gt?1:0;var ct=mt+tt+ht+lt+ot;return ct>>>0}utils.sum64_4_hi=Nt;function At(mt,ft,tt,it,ht,dt,lt,gt){var ot=ft+it+dt+gt;return ot>>>0}utils.sum64_4_lo=At;function Ct(mt,ft,tt,it,ht,dt,lt,gt,ot,vt){var ct=0,yt=ft;yt=yt+it>>>0,ct+=yt<ft?1:0,yt=yt+dt>>>0,ct+=yt<dt?1:0,yt=yt+gt>>>0,ct+=yt<gt?1:0,yt=yt+vt>>>0,ct+=yt<vt?1:0;var Dt=mt+tt+ht+lt+ot+ct;return Dt>>>0}utils.sum64_5_hi=Ct;function Vt(mt,ft,tt,it,ht,dt,lt,gt,ot,vt){var ct=ft+it+dt+gt+vt;return ct>>>0}utils.sum64_5_lo=Vt;function Bt(mt,ft,tt){var it=ft<<32-tt|mt>>>tt;return it>>>0}utils.rotr64_hi=Bt;function Ut(mt,ft,tt){var it=mt<<32-tt|ft>>>tt;return it>>>0}utils.rotr64_lo=Ut;function Ft(mt,ft,tt){return mt>>>tt}utils.shr64_hi=Ft;function Mt(mt,ft,tt){var it=mt<<32-tt|ft>>>tt;return it>>>0}return utils.shr64_lo=Mt,utils}var common$3={},hasRequiredCommon$1;function requireCommon$1(){if(hasRequiredCommon$1)return common$3;hasRequiredCommon$1=1;var e=requireUtils(),a=requireMinimalisticAssert();function c(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return common$3.BlockHash=c,c.prototype.update=function(b,h){if(b=e.toArray(b,h),this.pending?this.pending=this.pending.concat(b):this.pending=b,this.pendingTotal+=b.length,this.pending.length>=this._delta8){b=this.pending;var _=b.length%this._delta8;this.pending=b.slice(b.length-_,b.length),this.pending.length===0&&(this.pending=null),b=e.join32(b,0,b.length-_,this.endian);for(var j=0;j<b.length;j+=this._delta32)this._update(b,j,j+this._delta32)}return this},c.prototype.digest=function(b){return this.update(this._pad()),a(this.pending===null),this._digest(b)},c.prototype._pad=function(){var b=this.pendingTotal,h=this._delta8,_=h-(b+this.padLength)%h,j=new Array(_+this.padLength);j[0]=128;for(var _e=1;_e<_;_e++)j[_e]=0;if(b<<=3,this.endian==="big"){for(var et=8;et<this.padLength;et++)j[_e++]=0;j[_e++]=0,j[_e++]=0,j[_e++]=0,j[_e++]=0,j[_e++]=b>>>24&255,j[_e++]=b>>>16&255,j[_e++]=b>>>8&255,j[_e++]=b&255}else for(j[_e++]=b&255,j[_e++]=b>>>8&255,j[_e++]=b>>>16&255,j[_e++]=b>>>24&255,j[_e++]=0,j[_e++]=0,j[_e++]=0,j[_e++]=0,et=8;et<this.padLength;et++)j[_e++]=0;return j},common$3}var sha={},common$2={},hasRequiredCommon;function requireCommon(){if(hasRequiredCommon)return common$2;hasRequiredCommon=1;var e=requireUtils(),a=e.rotr32;function c($,rt,nt,st){if($===0)return d(rt,nt,st);if($===1||$===3)return h(rt,nt,st);if($===2)return b(rt,nt,st)}common$2.ft_1=c;function d($,rt,nt){return $&rt^~$&nt}common$2.ch32=d;function b($,rt,nt){return $&rt^$&nt^rt&nt}common$2.maj32=b;function h($,rt,nt){return $^rt^nt}common$2.p32=h;function _($){return a($,2)^a($,13)^a($,22)}common$2.s0_256=_;function j($){return a($,6)^a($,11)^a($,25)}common$2.s1_256=j;function _e($){return a($,7)^a($,18)^$>>>3}common$2.g0_256=_e;function et($){return a($,17)^a($,19)^$>>>10}return common$2.g1_256=et,common$2}var _1,hasRequired_1;function require_1(){if(hasRequired_1)return _1;hasRequired_1=1;var e=requireUtils(),a=requireCommon$1(),c=requireCommon(),d=e.rotl32,b=e.sum32,h=e.sum32_5,_=c.ft_1,j=a.BlockHash,_e=[1518500249,1859775393,2400959708,3395469782];function et(){if(!(this instanceof et))return new et;j.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return e.inherits(et,j),_1=et,et.blockSize=512,et.outSize=160,et.hmacStrength=80,et.padLength=64,et.prototype._update=function(rt,nt){for(var st=this.W,at=0;at<16;at++)st[at]=rt[nt+at];for(;at<st.length;at++)st[at]=d(st[at-3]^st[at-8]^st[at-14]^st[at-16],1);var ut=this.h[0],wt=this.h[1],pt=this.h[2],xt=this.h[3],St=this.h[4];for(at=0;at<st.length;at++){var Nt=~~(at/20),At=h(d(ut,5),_(Nt,wt,pt,xt),St,st[at],_e[Nt]);St=xt,xt=pt,pt=d(wt,30),wt=ut,ut=At}this.h[0]=b(this.h[0],ut),this.h[1]=b(this.h[1],wt),this.h[2]=b(this.h[2],pt),this.h[3]=b(this.h[3],xt),this.h[4]=b(this.h[4],St)},et.prototype._digest=function(rt){return rt==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")},_1}var _256,hasRequired_256;function require_256(){if(hasRequired_256)return _256;hasRequired_256=1;var e=requireUtils(),a=requireCommon$1(),c=requireCommon(),d=requireMinimalisticAssert(),b=e.sum32,h=e.sum32_4,_=e.sum32_5,j=c.ch32,_e=c.maj32,et=c.s0_256,$=c.s1_256,rt=c.g0_256,nt=c.g1_256,st=a.BlockHash,at=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ut(){if(!(this instanceof ut))return new ut;st.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=at,this.W=new Array(64)}return e.inherits(ut,st),_256=ut,ut.blockSize=512,ut.outSize=256,ut.hmacStrength=192,ut.padLength=64,ut.prototype._update=function(pt,xt){for(var St=this.W,Nt=0;Nt<16;Nt++)St[Nt]=pt[xt+Nt];for(;Nt<St.length;Nt++)St[Nt]=h(nt(St[Nt-2]),St[Nt-7],rt(St[Nt-15]),St[Nt-16]);var At=this.h[0],Ct=this.h[1],Vt=this.h[2],Bt=this.h[3],Ut=this.h[4],Ft=this.h[5],Mt=this.h[6],mt=this.h[7];for(d(this.k.length===St.length),Nt=0;Nt<St.length;Nt++){var ft=_(mt,$(Ut),j(Ut,Ft,Mt),this.k[Nt],St[Nt]),tt=b(et(At),_e(At,Ct,Vt));mt=Mt,Mt=Ft,Ft=Ut,Ut=b(Bt,ft),Bt=Vt,Vt=Ct,Ct=At,At=b(ft,tt)}this.h[0]=b(this.h[0],At),this.h[1]=b(this.h[1],Ct),this.h[2]=b(this.h[2],Vt),this.h[3]=b(this.h[3],Bt),this.h[4]=b(this.h[4],Ut),this.h[5]=b(this.h[5],Ft),this.h[6]=b(this.h[6],Mt),this.h[7]=b(this.h[7],mt)},ut.prototype._digest=function(pt){return pt==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")},_256}var _224,hasRequired_224;function require_224(){if(hasRequired_224)return _224;hasRequired_224=1;var e=requireUtils(),a=require_256();function c(){if(!(this instanceof c))return new c;a.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return e.inherits(c,a),_224=c,c.blockSize=512,c.outSize=224,c.hmacStrength=192,c.padLength=64,c.prototype._digest=function(b){return b==="hex"?e.toHex32(this.h.slice(0,7),"big"):e.split32(this.h.slice(0,7),"big")},_224}var _512,hasRequired_512;function require_512(){if(hasRequired_512)return _512;hasRequired_512=1;var e=requireUtils(),a=requireCommon$1(),c=requireMinimalisticAssert(),d=e.rotr64_hi,b=e.rotr64_lo,h=e.shr64_hi,_=e.shr64_lo,j=e.sum64,_e=e.sum64_hi,et=e.sum64_lo,$=e.sum64_4_hi,rt=e.sum64_4_lo,nt=e.sum64_5_hi,st=e.sum64_5_lo,at=a.BlockHash,ut=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function wt(){if(!(this instanceof wt))return new wt;at.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=ut,this.W=new Array(160)}e.inherits(wt,at),_512=wt,wt.blockSize=1024,wt.outSize=512,wt.hmacStrength=192,wt.padLength=128,wt.prototype._prepareBlock=function(tt,it){for(var ht=this.W,dt=0;dt<32;dt++)ht[dt]=tt[it+dt];for(;dt<ht.length;dt+=2){var lt=Mt(ht[dt-4],ht[dt-3]),gt=mt(ht[dt-4],ht[dt-3]),ot=ht[dt-14],vt=ht[dt-13],ct=Ut(ht[dt-30],ht[dt-29]),yt=Ft(ht[dt-30],ht[dt-29]),Dt=ht[dt-32],Ht=ht[dt-31];ht[dt]=$(lt,gt,ot,vt,ct,yt,Dt,Ht),ht[dt+1]=rt(lt,gt,ot,vt,ct,yt,Dt,Ht)}},wt.prototype._update=function(tt,it){this._prepareBlock(tt,it);var ht=this.W,dt=this.h[0],lt=this.h[1],gt=this.h[2],ot=this.h[3],vt=this.h[4],ct=this.h[5],yt=this.h[6],Dt=this.h[7],Ht=this.h[8],qt=this.h[9],_t=this.h[10],kt=this.h[11],Lt=this.h[12],Kt=this.h[13],$t=this.h[14],It=this.h[15];c(this.k.length===ht.length);for(var Xt=0;Xt<ht.length;Xt+=2){var cr=$t,fr=It,hr=Vt(Ht,qt),yr=Bt(Ht,qt),Sr=pt(Ht,qt,_t,kt,Lt),sr=xt(Ht,qt,_t,kt,Lt,Kt),Zt=this.k[Xt],Gt=this.k[Xt+1],nr=ht[Xt],ur=ht[Xt+1],ir=nt(cr,fr,hr,yr,Sr,sr,Zt,Gt,nr,ur),lr=st(cr,fr,hr,yr,Sr,sr,Zt,Gt,nr,ur);cr=At(dt,lt),fr=Ct(dt,lt),hr=St(dt,lt,gt,ot,vt),yr=Nt(dt,lt,gt,ot,vt,ct);var Qt=_e(cr,fr,hr,yr),tr=et(cr,fr,hr,yr);$t=Lt,It=Kt,Lt=_t,Kt=kt,_t=Ht,kt=qt,Ht=_e(yt,Dt,ir,lr),qt=et(Dt,Dt,ir,lr),yt=vt,Dt=ct,vt=gt,ct=ot,gt=dt,ot=lt,dt=_e(ir,lr,Qt,tr),lt=et(ir,lr,Qt,tr)}j(this.h,0,dt,lt),j(this.h,2,gt,ot),j(this.h,4,vt,ct),j(this.h,6,yt,Dt),j(this.h,8,Ht,qt),j(this.h,10,_t,kt),j(this.h,12,Lt,Kt),j(this.h,14,$t,It)},wt.prototype._digest=function(tt){return tt==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")};function pt(ft,tt,it,ht,dt){var lt=ft&it^~ft&dt;return lt<0&&(lt+=4294967296),lt}function xt(ft,tt,it,ht,dt,lt){var gt=tt&ht^~tt&lt;return gt<0&&(gt+=4294967296),gt}function St(ft,tt,it,ht,dt){var lt=ft&it^ft&dt^it&dt;return lt<0&&(lt+=4294967296),lt}function Nt(ft,tt,it,ht,dt,lt){var gt=tt&ht^tt&lt^ht&lt;return gt<0&&(gt+=4294967296),gt}function At(ft,tt){var it=d(ft,tt,28),ht=d(tt,ft,2),dt=d(tt,ft,7),lt=it^ht^dt;return lt<0&&(lt+=4294967296),lt}function Ct(ft,tt){var it=b(ft,tt,28),ht=b(tt,ft,2),dt=b(tt,ft,7),lt=it^ht^dt;return lt<0&&(lt+=4294967296),lt}function Vt(ft,tt){var it=d(ft,tt,14),ht=d(ft,tt,18),dt=d(tt,ft,9),lt=it^ht^dt;return lt<0&&(lt+=4294967296),lt}function Bt(ft,tt){var it=b(ft,tt,14),ht=b(ft,tt,18),dt=b(tt,ft,9),lt=it^ht^dt;return lt<0&&(lt+=4294967296),lt}function Ut(ft,tt){var it=d(ft,tt,1),ht=d(ft,tt,8),dt=h(ft,tt,7),lt=it^ht^dt;return lt<0&&(lt+=4294967296),lt}function Ft(ft,tt){var it=b(ft,tt,1),ht=b(ft,tt,8),dt=_(ft,tt,7),lt=it^ht^dt;return lt<0&&(lt+=4294967296),lt}function Mt(ft,tt){var it=d(ft,tt,19),ht=d(tt,ft,29),dt=h(ft,tt,6),lt=it^ht^dt;return lt<0&&(lt+=4294967296),lt}function mt(ft,tt){var it=b(ft,tt,19),ht=b(tt,ft,29),dt=_(ft,tt,6),lt=it^ht^dt;return lt<0&&(lt+=4294967296),lt}return _512}var _384,hasRequired_384;function require_384(){if(hasRequired_384)return _384;hasRequired_384=1;var e=requireUtils(),a=require_512();function c(){if(!(this instanceof c))return new c;a.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return e.inherits(c,a),_384=c,c.blockSize=1024,c.outSize=384,c.hmacStrength=192,c.padLength=128,c.prototype._digest=function(b){return b==="hex"?e.toHex32(this.h.slice(0,12),"big"):e.split32(this.h.slice(0,12),"big")},_384}var hasRequiredSha;function requireSha(){return hasRequiredSha||(hasRequiredSha=1,sha.sha1=require_1(),sha.sha224=require_224(),sha.sha256=require_256(),sha.sha384=require_384(),sha.sha512=require_512()),sha}var ripemd={},hasRequiredRipemd;function requireRipemd(){if(hasRequiredRipemd)return ripemd;hasRequiredRipemd=1;var e=requireUtils(),a=requireCommon$1(),c=e.rotl32,d=e.sum32,b=e.sum32_3,h=e.sum32_4,_=a.BlockHash;function j(){if(!(this instanceof j))return new j;_.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}e.inherits(j,_),ripemd.ripemd160=j,j.blockSize=512,j.outSize=160,j.hmacStrength=192,j.padLength=64,j.prototype._update=function(wt,pt){for(var xt=this.h[0],St=this.h[1],Nt=this.h[2],At=this.h[3],Ct=this.h[4],Vt=xt,Bt=St,Ut=Nt,Ft=At,Mt=Ct,mt=0;mt<80;mt++){var ft=d(c(h(xt,_e(mt,St,Nt,At),wt[rt[mt]+pt],et(mt)),st[mt]),Ct);xt=Ct,Ct=At,At=c(Nt,10),Nt=St,St=ft,ft=d(c(h(Vt,_e(79-mt,Bt,Ut,Ft),wt[nt[mt]+pt],$(mt)),at[mt]),Mt),Vt=Mt,Mt=Ft,Ft=c(Ut,10),Ut=Bt,Bt=ft}ft=b(this.h[1],Nt,Ft),this.h[1]=b(this.h[2],At,Mt),this.h[2]=b(this.h[3],Ct,Vt),this.h[3]=b(this.h[4],xt,Bt),this.h[4]=b(this.h[0],St,Ut),this.h[0]=ft},j.prototype._digest=function(wt){return wt==="hex"?e.toHex32(this.h,"little"):e.split32(this.h,"little")};function _e(ut,wt,pt,xt){return ut<=15?wt^pt^xt:ut<=31?wt&pt|~wt&xt:ut<=47?(wt|~pt)^xt:ut<=63?wt&xt|pt&~xt:wt^(pt|~xt)}function et(ut){return ut<=15?0:ut<=31?1518500249:ut<=47?1859775393:ut<=63?2400959708:2840853838}function $(ut){return ut<=15?1352829926:ut<=31?1548603684:ut<=47?1836072691:ut<=63?2053994217:0}var rt=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],nt=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],st=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],at=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return ripemd}var hmac,hasRequiredHmac;function requireHmac(){if(hasRequiredHmac)return hmac;hasRequiredHmac=1;var e=requireUtils(),a=requireMinimalisticAssert();function c(d,b,h){if(!(this instanceof c))return new c(d,b,h);this.Hash=d,this.blockSize=d.blockSize/8,this.outSize=d.outSize/8,this.inner=null,this.outer=null,this._init(e.toArray(b,h))}return hmac=c,c.prototype._init=function(b){b.length>this.blockSize&&(b=new this.Hash().update(b).digest()),a(b.length<=this.blockSize);for(var h=b.length;h<this.blockSize;h++)b.push(0);for(h=0;h<b.length;h++)b[h]^=54;for(this.inner=new this.Hash().update(b),h=0;h<b.length;h++)b[h]^=106;this.outer=new this.Hash().update(b)},c.prototype.update=function(b,h){return this.inner.update(b,h),this},c.prototype.digest=function(b){return this.outer.update(this.inner.digest()),this.outer.digest(b)},hmac}var hasRequiredHash;function requireHash(){return hasRequiredHash||(hasRequiredHash=1,function(e){var a=e;a.utils=requireUtils(),a.common=requireCommon$1(),a.sha=requireSha(),a.ripemd=requireRipemd(),a.hmac=requireHmac(),a.sha1=a.sha.sha1,a.sha256=a.sha.sha256,a.sha224=a.sha.sha224,a.sha384=a.sha.sha384,a.sha512=a.sha.sha512,a.ripemd160=a.ripemd.ripemd160}(hash)),hash}var secp256k1,hasRequiredSecp256k1;function requireSecp256k1(){return hasRequiredSecp256k1||(hasRequiredSecp256k1=1,secp256k1={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),secp256k1}var hasRequiredCurves;function requireCurves(){return hasRequiredCurves||(hasRequiredCurves=1,function(e){var a=e,c=requireHash(),d=requireCurve(),b=requireUtils$1(),h=b.assert;function _(et){et.type==="short"?this.curve=new d.short(et):et.type==="edwards"?this.curve=new d.edwards(et):this.curve=new d.mont(et),this.g=this.curve.g,this.n=this.curve.n,this.hash=et.hash,h(this.g.validate(),"Invalid curve"),h(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}a.PresetCurve=_;function j(et,$){Object.defineProperty(a,et,{configurable:!0,enumerable:!0,get:function(){var rt=new _($);return Object.defineProperty(a,et,{configurable:!0,enumerable:!0,value:rt}),rt}})}j("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:c.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),j("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:c.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),j("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:c.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),j("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:c.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),j("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:c.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),j("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:c.sha256,gRed:!1,g:["9"]}),j("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:c.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var _e;try{_e=requireSecp256k1()}catch{_e=void 0}j("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:c.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",_e]})}(curves)),curves}var hmacDrbg,hasRequiredHmacDrbg;function requireHmacDrbg(){if(hasRequiredHmacDrbg)return hmacDrbg;hasRequiredHmacDrbg=1;var e=requireHash(),a=requireUtils$2(),c=requireMinimalisticAssert();function d(b){if(!(this instanceof d))return new d(b);this.hash=b.hash,this.predResist=!!b.predResist,this.outLen=this.hash.outSize,this.minEntropy=b.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var h=a.toArray(b.entropy,b.entropyEnc||"hex"),_=a.toArray(b.nonce,b.nonceEnc||"hex"),j=a.toArray(b.pers,b.persEnc||"hex");c(h.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(h,_,j)}return hmacDrbg=d,d.prototype._init=function(h,_,j){var _e=h.concat(_).concat(j);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var et=0;et<this.V.length;et++)this.K[et]=0,this.V[et]=1;this._update(_e),this._reseed=1,this.reseedInterval=281474976710656},d.prototype._hmac=function(){return new e.hmac(this.hash,this.K)},d.prototype._update=function(h){var _=this._hmac().update(this.V).update([0]);h&&(_=_.update(h)),this.K=_.digest(),this.V=this._hmac().update(this.V).digest(),h&&(this.K=this._hmac().update(this.V).update([1]).update(h).digest(),this.V=this._hmac().update(this.V).digest())},d.prototype.reseed=function(h,_,j,_e){typeof _!="string"&&(_e=j,j=_,_=null),h=a.toArray(h,_),j=a.toArray(j,_e),c(h.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(h.concat(j||[])),this._reseed=1},d.prototype.generate=function(h,_,j,_e){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof _!="string"&&(_e=j,j=_,_=null),j&&(j=a.toArray(j,_e||"hex"),this._update(j));for(var et=[];et.length<h;)this.V=this._hmac().update(this.V).digest(),et=et.concat(this.V);var $=et.slice(0,h);return this._update(j),this._reseed++,a.encode($,_)},hmacDrbg}var key$1,hasRequiredKey$1;function requireKey$1(){if(hasRequiredKey$1)return key$1;hasRequiredKey$1=1;var e=requireBn$2(),a=requireUtils$1(),c=a.assert;function d(b,h){this.ec=b,this.priv=null,this.pub=null,h.priv&&this._importPrivate(h.priv,h.privEnc),h.pub&&this._importPublic(h.pub,h.pubEnc)}return key$1=d,d.fromPublic=function(h,_,j){return _ instanceof d?_:new d(h,{pub:_,pubEnc:j})},d.fromPrivate=function(h,_,j){return _ instanceof d?_:new d(h,{priv:_,privEnc:j})},d.prototype.validate=function(){var h=this.getPublic();return h.isInfinity()?{result:!1,reason:"Invalid public key"}:h.validate()?h.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},d.prototype.getPublic=function(h,_){return typeof h=="string"&&(_=h,h=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),_?this.pub.encode(_,h):this.pub},d.prototype.getPrivate=function(h){return h==="hex"?this.priv.toString(16,2):this.priv},d.prototype._importPrivate=function(h,_){this.priv=new e(h,_||16),this.priv=this.priv.umod(this.ec.curve.n)},d.prototype._importPublic=function(h,_){if(h.x||h.y){this.ec.curve.type==="mont"?c(h.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&c(h.x&&h.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(h.x,h.y);return}this.pub=this.ec.curve.decodePoint(h,_)},d.prototype.derive=function(h){return h.validate()||c(h.validate(),"public point not validated"),h.mul(this.priv).getX()},d.prototype.sign=function(h,_,j){return this.ec.sign(h,this,_,j)},d.prototype.verify=function(h,_,j){return this.ec.verify(h,_,this,void 0,j)},d.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},key$1}var signature$1,hasRequiredSignature$1;function requireSignature$1(){if(hasRequiredSignature$1)return signature$1;hasRequiredSignature$1=1;var e=requireBn$2(),a=requireUtils$1(),c=a.assert;function d(_e,et){if(_e instanceof d)return _e;this._importDER(_e,et)||(c(_e.r&&_e.s,"Signature without r or s"),this.r=new e(_e.r,16),this.s=new e(_e.s,16),_e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=_e.recoveryParam)}signature$1=d;function b(){this.place=0}function h(_e,et){var $=_e[et.place++];if(!($&128))return $;var rt=$&15;if(rt===0||rt>4||_e[et.place]===0)return!1;for(var nt=0,st=0,at=et.place;st<rt;st++,at++)nt<<=8,nt|=_e[at],nt>>>=0;return nt<=127?!1:(et.place=at,nt)}function _(_e){for(var et=0,$=_e.length-1;!_e[et]&&!(_e[et+1]&128)&&et<$;)et++;return et===0?_e:_e.slice(et)}d.prototype._importDER=function(et,$){et=a.toArray(et,$);var rt=new b;if(et[rt.place++]!==48)return!1;var nt=h(et,rt);if(nt===!1||nt+rt.place!==et.length||et[rt.place++]!==2)return!1;var st=h(et,rt);if(st===!1||et[rt.place]&128)return!1;var at=et.slice(rt.place,st+rt.place);if(rt.place+=st,et[rt.place++]!==2)return!1;var ut=h(et,rt);if(ut===!1||et.length!==ut+rt.place||et[rt.place]&128)return!1;var wt=et.slice(rt.place,ut+rt.place);if(at[0]===0)if(at[1]&128)at=at.slice(1);else return!1;if(wt[0]===0)if(wt[1]&128)wt=wt.slice(1);else return!1;return this.r=new e(at),this.s=new e(wt),this.recoveryParam=null,!0};function j(_e,et){if(et<128){_e.push(et);return}var $=1+(Math.log(et)/Math.LN2>>>3);for(_e.push($|128);--$;)_e.push(et>>>($<<3)&255);_e.push(et)}return d.prototype.toDER=function(et){var $=this.r.toArray(),rt=this.s.toArray();for($[0]&128&&($=[0].concat($)),rt[0]&128&&(rt=[0].concat(rt)),$=_($),rt=_(rt);!rt[0]&&!(rt[1]&128);)rt=rt.slice(1);var nt=[2];j(nt,$.length),nt=nt.concat($),nt.push(2),j(nt,rt.length);var st=nt.concat(rt),at=[48];return j(at,st.length),at=at.concat(st),a.encode(at,et)},signature$1}var ec,hasRequiredEc;function requireEc(){if(hasRequiredEc)return ec;hasRequiredEc=1;var e=requireBn$2(),a=requireHmacDrbg(),c=requireUtils$1(),d=requireCurves(),b=requireBrorand(),h=c.assert,_=requireKey$1(),j=requireSignature$1();function _e(et){if(!(this instanceof _e))return new _e(et);typeof et=="string"&&(h(Object.prototype.hasOwnProperty.call(d,et),"Unknown curve "+et),et=d[et]),et instanceof d.PresetCurve&&(et={curve:et}),this.curve=et.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=et.curve.g,this.g.precompute(et.curve.n.bitLength()+1),this.hash=et.hash||et.curve.hash}return ec=_e,_e.prototype.keyPair=function($){return new _(this,$)},_e.prototype.keyFromPrivate=function($,rt){return _.fromPrivate(this,$,rt)},_e.prototype.keyFromPublic=function($,rt){return _.fromPublic(this,$,rt)},_e.prototype.genKeyPair=function($){$||($={});for(var rt=new a({hash:this.hash,pers:$.pers,persEnc:$.persEnc||"utf8",entropy:$.entropy||b(this.hash.hmacStrength),entropyEnc:$.entropy&&$.entropyEnc||"utf8",nonce:this.n.toArray()}),nt=this.n.byteLength(),st=this.n.sub(new e(2));;){var at=new e(rt.generate(nt));if(!(at.cmp(st)>0))return at.iaddn(1),this.keyFromPrivate(at)}},_e.prototype._truncateToN=function($,rt,nt){var st;if(e.isBN($)||typeof $=="number")$=new e($,16),st=$.byteLength();else if(typeof $=="object")st=$.length,$=new e($,16);else{var at=$.toString();st=at.length+1>>>1,$=new e(at,16)}typeof nt!="number"&&(nt=st*8);var ut=nt-this.n.bitLength();return ut>0&&($=$.ushrn(ut)),!rt&&$.cmp(this.n)>=0?$.sub(this.n):$},_e.prototype.sign=function($,rt,nt,st){if(typeof nt=="object"&&(st=nt,nt=null),st||(st={}),typeof $!="string"&&typeof $!="number"&&!e.isBN($)){h(typeof $=="object"&&$&&typeof $.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),h($.length>>>0===$.length);for(var at=0;at<$.length;at++)h(($[at]&255)===$[at])}rt=this.keyFromPrivate(rt,nt),$=this._truncateToN($,!1,st.msgBitLength),h(!$.isNeg(),"Can not sign a negative message");var ut=this.n.byteLength(),wt=rt.getPrivate().toArray("be",ut),pt=$.toArray("be",ut);h(new e(pt).eq($),"Can not sign message");for(var xt=new a({hash:this.hash,entropy:wt,nonce:pt,pers:st.pers,persEnc:st.persEnc||"utf8"}),St=this.n.sub(new e(1)),Nt=0;;Nt++){var At=st.k?st.k(Nt):new e(xt.generate(this.n.byteLength()));if(At=this._truncateToN(At,!0),!(At.cmpn(1)<=0||At.cmp(St)>=0)){var Ct=this.g.mul(At);if(!Ct.isInfinity()){var Vt=Ct.getX(),Bt=Vt.umod(this.n);if(Bt.cmpn(0)!==0){var Ut=At.invm(this.n).mul(Bt.mul(rt.getPrivate()).iadd($));if(Ut=Ut.umod(this.n),Ut.cmpn(0)!==0){var Ft=(Ct.getY().isOdd()?1:0)|(Vt.cmp(Bt)!==0?2:0);return st.canonical&&Ut.cmp(this.nh)>0&&(Ut=this.n.sub(Ut),Ft^=1),new j({r:Bt,s:Ut,recoveryParam:Ft})}}}}}},_e.prototype.verify=function($,rt,nt,st,at){at||(at={}),$=this._truncateToN($,!1,at.msgBitLength),nt=this.keyFromPublic(nt,st),rt=new j(rt,"hex");var ut=rt.r,wt=rt.s;if(ut.cmpn(1)<0||ut.cmp(this.n)>=0||wt.cmpn(1)<0||wt.cmp(this.n)>=0)return!1;var pt=wt.invm(this.n),xt=pt.mul($).umod(this.n),St=pt.mul(ut).umod(this.n),Nt;return this.curve._maxwellTrick?(Nt=this.g.jmulAdd(xt,nt.getPublic(),St),Nt.isInfinity()?!1:Nt.eqXToP(ut)):(Nt=this.g.mulAdd(xt,nt.getPublic(),St),Nt.isInfinity()?!1:Nt.getX().umod(this.n).cmp(ut)===0)},_e.prototype.recoverPubKey=function(et,$,rt,nt){h((3&rt)===rt,"The recovery param is more than two bits"),$=new j($,nt);var st=this.n,at=new e(et),ut=$.r,wt=$.s,pt=rt&1,xt=rt>>1;if(ut.cmp(this.curve.p.umod(this.curve.n))>=0&&xt)throw new Error("Unable to find sencond key candinate");xt?ut=this.curve.pointFromX(ut.add(this.curve.n),pt):ut=this.curve.pointFromX(ut,pt);var St=$.r.invm(st),Nt=st.sub(at).mul(St).umod(st),At=wt.mul(St).umod(st);return this.g.mulAdd(Nt,ut,At)},_e.prototype.getKeyRecoveryParam=function(et,$,rt,nt){if($=new j($,nt),$.recoveryParam!==null)return $.recoveryParam;for(var st=0;st<4;st++){var at;try{at=this.recoverPubKey(et,$,st)}catch{continue}if(at.eq(rt))return st}throw new Error("Unable to find valid recovery factor")},ec}var key,hasRequiredKey;function requireKey(){if(hasRequiredKey)return key;hasRequiredKey=1;var e=requireUtils$1(),a=e.assert,c=e.parseBytes,d=e.cachedProperty;function b(h,_){this.eddsa=h,this._secret=c(_.secret),h.isPoint(_.pub)?this._pub=_.pub:this._pubBytes=c(_.pub)}return b.fromPublic=function(_,j){return j instanceof b?j:new b(_,{pub:j})},b.fromSecret=function(_,j){return j instanceof b?j:new b(_,{secret:j})},b.prototype.secret=function(){return this._secret},d(b,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),d(b,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),d(b,"privBytes",function(){var _=this.eddsa,j=this.hash(),_e=_.encodingLength-1,et=j.slice(0,_.encodingLength);return et[0]&=248,et[_e]&=127,et[_e]|=64,et}),d(b,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),d(b,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),d(b,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),b.prototype.sign=function(_){return a(this._secret,"KeyPair can only verify"),this.eddsa.sign(_,this)},b.prototype.verify=function(_,j){return this.eddsa.verify(_,j,this)},b.prototype.getSecret=function(_){return a(this._secret,"KeyPair is public only"),e.encode(this.secret(),_)},b.prototype.getPublic=function(_){return e.encode(this.pubBytes(),_)},key=b,key}var signature,hasRequiredSignature;function requireSignature(){if(hasRequiredSignature)return signature;hasRequiredSignature=1;var e=requireBn$2(),a=requireUtils$1(),c=a.assert,d=a.cachedProperty,b=a.parseBytes;function h(_,j){this.eddsa=_,typeof j!="object"&&(j=b(j)),Array.isArray(j)&&(c(j.length===_.encodingLength*2,"Signature has invalid size"),j={R:j.slice(0,_.encodingLength),S:j.slice(_.encodingLength)}),c(j.R&&j.S,"Signature without R or S"),_.isPoint(j.R)&&(this._R=j.R),j.S instanceof e&&(this._S=j.S),this._Rencoded=Array.isArray(j.R)?j.R:j.Rencoded,this._Sencoded=Array.isArray(j.S)?j.S:j.Sencoded}return d(h,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),d(h,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),d(h,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),d(h,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),h.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},h.prototype.toHex=function(){return a.encode(this.toBytes(),"hex").toUpperCase()},signature=h,signature}var eddsa,hasRequiredEddsa;function requireEddsa(){if(hasRequiredEddsa)return eddsa;hasRequiredEddsa=1;var e=requireHash(),a=requireCurves(),c=requireUtils$1(),d=c.assert,b=c.parseBytes,h=requireKey(),_=requireSignature();function j(_e){if(d(_e==="ed25519","only tested with ed25519 so far"),!(this instanceof j))return new j(_e);_e=a[_e].curve,this.curve=_e,this.g=_e.g,this.g.precompute(_e.n.bitLength()+1),this.pointClass=_e.point().constructor,this.encodingLength=Math.ceil(_e.n.bitLength()/8),this.hash=e.sha512}return eddsa=j,j.prototype.sign=function(et,$){et=b(et);var rt=this.keyFromSecret($),nt=this.hashInt(rt.messagePrefix(),et),st=this.g.mul(nt),at=this.encodePoint(st),ut=this.hashInt(at,rt.pubBytes(),et).mul(rt.priv()),wt=nt.add(ut).umod(this.curve.n);return this.makeSignature({R:st,S:wt,Rencoded:at})},j.prototype.verify=function(et,$,rt){if(et=b(et),$=this.makeSignature($),$.S().gte($.eddsa.curve.n)||$.S().isNeg())return!1;var nt=this.keyFromPublic(rt),st=this.hashInt($.Rencoded(),nt.pubBytes(),et),at=this.g.mul($.S()),ut=$.R().add(nt.pub().mul(st));return ut.eq(at)},j.prototype.hashInt=function(){for(var et=this.hash(),$=0;$<arguments.length;$++)et.update(arguments[$]);return c.intFromLE(et.digest()).umod(this.curve.n)},j.prototype.keyFromPublic=function(et){return h.fromPublic(this,et)},j.prototype.keyFromSecret=function(et){return h.fromSecret(this,et)},j.prototype.makeSignature=function(et){return et instanceof _?et:new _(this,et)},j.prototype.encodePoint=function(et){var $=et.getY().toArray("le",this.encodingLength);return $[this.encodingLength-1]|=et.getX().isOdd()?128:0,$},j.prototype.decodePoint=function(et){et=c.parseBytes(et);var $=et.length-1,rt=et.slice(0,$).concat(et[$]&-129),nt=(et[$]&128)!==0,st=c.intFromLE(rt);return this.curve.pointFromY(st,nt)},j.prototype.encodeInt=function(et){return et.toArray("le",this.encodingLength)},j.prototype.decodeInt=function(et){return c.intFromLE(et)},j.prototype.isPoint=function(et){return et instanceof this.pointClass},eddsa}var hasRequiredElliptic;function requireElliptic(){return hasRequiredElliptic||(hasRequiredElliptic=1,function(e){var a=e;a.version=require$$0.version,a.utils=requireUtils$1(),a.rand=requireBrorand(),a.curve=requireCurve(),a.curves=requireCurves(),a.ec=requireEc(),a.eddsa=requireEddsa()}(elliptic)),elliptic}var bn={exports:{}};bn.exports;var hasRequiredBn;function requireBn(){return hasRequiredBn||(hasRequiredBn=1,function(e){(function(a,c){function d(ft,tt){if(!ft)throw new Error(tt||"Assertion failed")}function b(ft,tt){ft.super_=tt;var it=function(){};it.prototype=tt.prototype,ft.prototype=new it,ft.prototype.constructor=ft}function h(ft,tt,it){if(h.isBN(ft))return ft;this.negative=0,this.words=null,this.length=0,this.red=null,ft!==null&&((tt==="le"||tt==="be")&&(it=tt,tt=10),this._init(ft||0,tt||10,it||"be"))}typeof a=="object"?a.exports=h:c.BN=h,h.BN=h,h.wordSize=26;var _;try{typeof window<"u"&&typeof window.Buffer<"u"?_=window.Buffer:_=require$$0$1.Buffer}catch{}h.isBN=function(tt){return tt instanceof h?!0:tt!==null&&typeof tt=="object"&&tt.constructor.wordSize===h.wordSize&&Array.isArray(tt.words)},h.max=function(tt,it){return tt.cmp(it)>0?tt:it},h.min=function(tt,it){return tt.cmp(it)<0?tt:it},h.prototype._init=function(tt,it,ht){if(typeof tt=="number")return this._initNumber(tt,it,ht);if(typeof tt=="object")return this._initArray(tt,it,ht);it==="hex"&&(it=16),d(it===(it|0)&&it>=2&&it<=36),tt=tt.toString().replace(/\s+/g,"");var dt=0;tt[0]==="-"&&(dt++,this.negative=1),dt<tt.length&&(it===16?this._parseHex(tt,dt,ht):(this._parseBase(tt,it,dt),ht==="le"&&this._initArray(this.toArray(),it,ht)))},h.prototype._initNumber=function(tt,it,ht){tt<0&&(this.negative=1,tt=-tt),tt<67108864?(this.words=[tt&67108863],this.length=1):tt<4503599627370496?(this.words=[tt&67108863,tt/67108864&67108863],this.length=2):(d(tt<9007199254740992),this.words=[tt&67108863,tt/67108864&67108863,1],this.length=3),ht==="le"&&this._initArray(this.toArray(),it,ht)},h.prototype._initArray=function(tt,it,ht){if(d(typeof tt.length=="number"),tt.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(tt.length/3),this.words=new Array(this.length);for(var dt=0;dt<this.length;dt++)this.words[dt]=0;var lt,gt,ot=0;if(ht==="be")for(dt=tt.length-1,lt=0;dt>=0;dt-=3)gt=tt[dt]|tt[dt-1]<<8|tt[dt-2]<<16,this.words[lt]|=gt<<ot&67108863,this.words[lt+1]=gt>>>26-ot&67108863,ot+=24,ot>=26&&(ot-=26,lt++);else if(ht==="le")for(dt=0,lt=0;dt<tt.length;dt+=3)gt=tt[dt]|tt[dt+1]<<8|tt[dt+2]<<16,this.words[lt]|=gt<<ot&67108863,this.words[lt+1]=gt>>>26-ot&67108863,ot+=24,ot>=26&&(ot-=26,lt++);return this._strip()};function j(ft,tt){var it=ft.charCodeAt(tt);if(it>=48&&it<=57)return it-48;if(it>=65&&it<=70)return it-55;if(it>=97&&it<=102)return it-87;d(!1,"Invalid character in "+ft)}function _e(ft,tt,it){var ht=j(ft,it);return it-1>=tt&&(ht|=j(ft,it-1)<<4),ht}h.prototype._parseHex=function(tt,it,ht){this.length=Math.ceil((tt.length-it)/6),this.words=new Array(this.length);for(var dt=0;dt<this.length;dt++)this.words[dt]=0;var lt=0,gt=0,ot;if(ht==="be")for(dt=tt.length-1;dt>=it;dt-=2)ot=_e(tt,it,dt)<<lt,this.words[gt]|=ot&67108863,lt>=18?(lt-=18,gt+=1,this.words[gt]|=ot>>>26):lt+=8;else{var vt=tt.length-it;for(dt=vt%2===0?it+1:it;dt<tt.length;dt+=2)ot=_e(tt,it,dt)<<lt,this.words[gt]|=ot&67108863,lt>=18?(lt-=18,gt+=1,this.words[gt]|=ot>>>26):lt+=8}this._strip()};function et(ft,tt,it,ht){for(var dt=0,lt=0,gt=Math.min(ft.length,it),ot=tt;ot<gt;ot++){var vt=ft.charCodeAt(ot)-48;dt*=ht,vt>=49?lt=vt-49+10:vt>=17?lt=vt-17+10:lt=vt,d(vt>=0&&lt<ht,"Invalid character"),dt+=lt}return dt}h.prototype._parseBase=function(tt,it,ht){this.words=[0],this.length=1;for(var dt=0,lt=1;lt<=67108863;lt*=it)dt++;dt--,lt=lt/it|0;for(var gt=tt.length-ht,ot=gt%dt,vt=Math.min(gt,gt-ot)+ht,ct=0,yt=ht;yt<vt;yt+=dt)ct=et(tt,yt,yt+dt,it),this.imuln(lt),this.words[0]+ct<67108864?this.words[0]+=ct:this._iaddn(ct);if(ot!==0){var Dt=1;for(ct=et(tt,yt,tt.length,it),yt=0;yt<ot;yt++)Dt*=it;this.imuln(Dt),this.words[0]+ct<67108864?this.words[0]+=ct:this._iaddn(ct)}this._strip()},h.prototype.copy=function(tt){tt.words=new Array(this.length);for(var it=0;it<this.length;it++)tt.words[it]=this.words[it];tt.length=this.length,tt.negative=this.negative,tt.red=this.red};function $(ft,tt){ft.words=tt.words,ft.length=tt.length,ft.negative=tt.negative,ft.red=tt.red}if(h.prototype._move=function(tt){$(tt,this)},h.prototype.clone=function(){var tt=new h(null);return this.copy(tt),tt},h.prototype._expand=function(tt){for(;this.length<tt;)this.words[this.length++]=0;return this},h.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},h.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{h.prototype[Symbol.for("nodejs.util.inspect.custom")]=rt}catch{h.prototype.inspect=rt}else h.prototype.inspect=rt;function rt(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var nt=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],st=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],at=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];h.prototype.toString=function(tt,it){tt=tt||10,it=it|0||1;var ht;if(tt===16||tt==="hex"){ht="";for(var dt=0,lt=0,gt=0;gt<this.length;gt++){var ot=this.words[gt],vt=((ot<<dt|lt)&16777215).toString(16);lt=ot>>>24-dt&16777215,dt+=2,dt>=26&&(dt-=26,gt--),lt!==0||gt!==this.length-1?ht=nt[6-vt.length]+vt+ht:ht=vt+ht}for(lt!==0&&(ht=lt.toString(16)+ht);ht.length%it!==0;)ht="0"+ht;return this.negative!==0&&(ht="-"+ht),ht}if(tt===(tt|0)&&tt>=2&&tt<=36){var ct=st[tt],yt=at[tt];ht="";var Dt=this.clone();for(Dt.negative=0;!Dt.isZero();){var Ht=Dt.modrn(yt).toString(tt);Dt=Dt.idivn(yt),Dt.isZero()?ht=Ht+ht:ht=nt[ct-Ht.length]+Ht+ht}for(this.isZero()&&(ht="0"+ht);ht.length%it!==0;)ht="0"+ht;return this.negative!==0&&(ht="-"+ht),ht}d(!1,"Base should be between 2 and 36")},h.prototype.toNumber=function(){var tt=this.words[0];return this.length===2?tt+=this.words[1]*67108864:this.length===3&&this.words[2]===1?tt+=4503599627370496+this.words[1]*67108864:this.length>2&&d(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-tt:tt},h.prototype.toJSON=function(){return this.toString(16,2)},_&&(h.prototype.toBuffer=function(tt,it){return this.toArrayLike(_,tt,it)}),h.prototype.toArray=function(tt,it){return this.toArrayLike(Array,tt,it)};var ut=function(tt,it){return tt.allocUnsafe?tt.allocUnsafe(it):new tt(it)};h.prototype.toArrayLike=function(tt,it,ht){this._strip();var dt=this.byteLength(),lt=ht||Math.max(1,dt);d(dt<=lt,"byte array longer than desired length"),d(lt>0,"Requested array length <= 0");var gt=ut(tt,lt),ot=it==="le"?"LE":"BE";return this["_toArrayLike"+ot](gt,dt),gt},h.prototype._toArrayLikeLE=function(tt,it){for(var ht=0,dt=0,lt=0,gt=0;lt<this.length;lt++){var ot=this.words[lt]<<gt|dt;tt[ht++]=ot&255,ht<tt.length&&(tt[ht++]=ot>>8&255),ht<tt.length&&(tt[ht++]=ot>>16&255),gt===6?(ht<tt.length&&(tt[ht++]=ot>>24&255),dt=0,gt=0):(dt=ot>>>24,gt+=2)}if(ht<tt.length)for(tt[ht++]=dt;ht<tt.length;)tt[ht++]=0},h.prototype._toArrayLikeBE=function(tt,it){for(var ht=tt.length-1,dt=0,lt=0,gt=0;lt<this.length;lt++){var ot=this.words[lt]<<gt|dt;tt[ht--]=ot&255,ht>=0&&(tt[ht--]=ot>>8&255),ht>=0&&(tt[ht--]=ot>>16&255),gt===6?(ht>=0&&(tt[ht--]=ot>>24&255),dt=0,gt=0):(dt=ot>>>24,gt+=2)}if(ht>=0)for(tt[ht--]=dt;ht>=0;)tt[ht--]=0},Math.clz32?h.prototype._countBits=function(tt){return 32-Math.clz32(tt)}:h.prototype._countBits=function(tt){var it=tt,ht=0;return it>=4096&&(ht+=13,it>>>=13),it>=64&&(ht+=7,it>>>=7),it>=8&&(ht+=4,it>>>=4),it>=2&&(ht+=2,it>>>=2),ht+it},h.prototype._zeroBits=function(tt){if(tt===0)return 26;var it=tt,ht=0;return it&8191||(ht+=13,it>>>=13),it&127||(ht+=7,it>>>=7),it&15||(ht+=4,it>>>=4),it&3||(ht+=2,it>>>=2),it&1||ht++,ht},h.prototype.bitLength=function(){var tt=this.words[this.length-1],it=this._countBits(tt);return(this.length-1)*26+it};function wt(ft){for(var tt=new Array(ft.bitLength()),it=0;it<tt.length;it++){var ht=it/26|0,dt=it%26;tt[it]=ft.words[ht]>>>dt&1}return tt}h.prototype.zeroBits=function(){if(this.isZero())return 0;for(var tt=0,it=0;it<this.length;it++){var ht=this._zeroBits(this.words[it]);if(tt+=ht,ht!==26)break}return tt},h.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},h.prototype.toTwos=function(tt){return this.negative!==0?this.abs().inotn(tt).iaddn(1):this.clone()},h.prototype.fromTwos=function(tt){return this.testn(tt-1)?this.notn(tt).iaddn(1).ineg():this.clone()},h.prototype.isNeg=function(){return this.negative!==0},h.prototype.neg=function(){return this.clone().ineg()},h.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},h.prototype.iuor=function(tt){for(;this.length<tt.length;)this.words[this.length++]=0;for(var it=0;it<tt.length;it++)this.words[it]=this.words[it]|tt.words[it];return this._strip()},h.prototype.ior=function(tt){return d((this.negative|tt.negative)===0),this.iuor(tt)},h.prototype.or=function(tt){return this.length>tt.length?this.clone().ior(tt):tt.clone().ior(this)},h.prototype.uor=function(tt){return this.length>tt.length?this.clone().iuor(tt):tt.clone().iuor(this)},h.prototype.iuand=function(tt){var it;this.length>tt.length?it=tt:it=this;for(var ht=0;ht<it.length;ht++)this.words[ht]=this.words[ht]&tt.words[ht];return this.length=it.length,this._strip()},h.prototype.iand=function(tt){return d((this.negative|tt.negative)===0),this.iuand(tt)},h.prototype.and=function(tt){return this.length>tt.length?this.clone().iand(tt):tt.clone().iand(this)},h.prototype.uand=function(tt){return this.length>tt.length?this.clone().iuand(tt):tt.clone().iuand(this)},h.prototype.iuxor=function(tt){var it,ht;this.length>tt.length?(it=this,ht=tt):(it=tt,ht=this);for(var dt=0;dt<ht.length;dt++)this.words[dt]=it.words[dt]^ht.words[dt];if(this!==it)for(;dt<it.length;dt++)this.words[dt]=it.words[dt];return this.length=it.length,this._strip()},h.prototype.ixor=function(tt){return d((this.negative|tt.negative)===0),this.iuxor(tt)},h.prototype.xor=function(tt){return this.length>tt.length?this.clone().ixor(tt):tt.clone().ixor(this)},h.prototype.uxor=function(tt){return this.length>tt.length?this.clone().iuxor(tt):tt.clone().iuxor(this)},h.prototype.inotn=function(tt){d(typeof tt=="number"&&tt>=0);var it=Math.ceil(tt/26)|0,ht=tt%26;this._expand(it),ht>0&&it--;for(var dt=0;dt<it;dt++)this.words[dt]=~this.words[dt]&67108863;return ht>0&&(this.words[dt]=~this.words[dt]&67108863>>26-ht),this._strip()},h.prototype.notn=function(tt){return this.clone().inotn(tt)},h.prototype.setn=function(tt,it){d(typeof tt=="number"&&tt>=0);var ht=tt/26|0,dt=tt%26;return this._expand(ht+1),it?this.words[ht]=this.words[ht]|1<<dt:this.words[ht]=this.words[ht]&~(1<<dt),this._strip()},h.prototype.iadd=function(tt){var it;if(this.negative!==0&&tt.negative===0)return this.negative=0,it=this.isub(tt),this.negative^=1,this._normSign();if(this.negative===0&&tt.negative!==0)return tt.negative=0,it=this.isub(tt),tt.negative=1,it._normSign();var ht,dt;this.length>tt.length?(ht=this,dt=tt):(ht=tt,dt=this);for(var lt=0,gt=0;gt<dt.length;gt++)it=(ht.words[gt]|0)+(dt.words[gt]|0)+lt,this.words[gt]=it&67108863,lt=it>>>26;for(;lt!==0&&gt<ht.length;gt++)it=(ht.words[gt]|0)+lt,this.words[gt]=it&67108863,lt=it>>>26;if(this.length=ht.length,lt!==0)this.words[this.length]=lt,this.length++;else if(ht!==this)for(;gt<ht.length;gt++)this.words[gt]=ht.words[gt];return this},h.prototype.add=function(tt){var it;return tt.negative!==0&&this.negative===0?(tt.negative=0,it=this.sub(tt),tt.negative^=1,it):tt.negative===0&&this.negative!==0?(this.negative=0,it=tt.sub(this),this.negative=1,it):this.length>tt.length?this.clone().iadd(tt):tt.clone().iadd(this)},h.prototype.isub=function(tt){if(tt.negative!==0){tt.negative=0;var it=this.iadd(tt);return tt.negative=1,it._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(tt),this.negative=1,this._normSign();var ht=this.cmp(tt);if(ht===0)return this.negative=0,this.length=1,this.words[0]=0,this;var dt,lt;ht>0?(dt=this,lt=tt):(dt=tt,lt=this);for(var gt=0,ot=0;ot<lt.length;ot++)it=(dt.words[ot]|0)-(lt.words[ot]|0)+gt,gt=it>>26,this.words[ot]=it&67108863;for(;gt!==0&&ot<dt.length;ot++)it=(dt.words[ot]|0)+gt,gt=it>>26,this.words[ot]=it&67108863;if(gt===0&&ot<dt.length&&dt!==this)for(;ot<dt.length;ot++)this.words[ot]=dt.words[ot];return this.length=Math.max(this.length,ot),dt!==this&&(this.negative=1),this._strip()},h.prototype.sub=function(tt){return this.clone().isub(tt)};function pt(ft,tt,it){it.negative=tt.negative^ft.negative;var ht=ft.length+tt.length|0;it.length=ht,ht=ht-1|0;var dt=ft.words[0]|0,lt=tt.words[0]|0,gt=dt*lt,ot=gt&67108863,vt=gt/67108864|0;it.words[0]=ot;for(var ct=1;ct<ht;ct++){for(var yt=vt>>>26,Dt=vt&67108863,Ht=Math.min(ct,tt.length-1),qt=Math.max(0,ct-ft.length+1);qt<=Ht;qt++){var _t=ct-qt|0;dt=ft.words[_t]|0,lt=tt.words[qt]|0,gt=dt*lt+Dt,yt+=gt/67108864|0,Dt=gt&67108863}it.words[ct]=Dt|0,vt=yt|0}return vt!==0?it.words[ct]=vt|0:it.length--,it._strip()}var xt=function(tt,it,ht){var dt=tt.words,lt=it.words,gt=ht.words,ot=0,vt,ct,yt,Dt=dt[0]|0,Ht=Dt&8191,qt=Dt>>>13,_t=dt[1]|0,kt=_t&8191,Lt=_t>>>13,Kt=dt[2]|0,$t=Kt&8191,It=Kt>>>13,Xt=dt[3]|0,cr=Xt&8191,fr=Xt>>>13,hr=dt[4]|0,yr=hr&8191,Sr=hr>>>13,sr=dt[5]|0,Zt=sr&8191,Gt=sr>>>13,nr=dt[6]|0,ur=nr&8191,ir=nr>>>13,lr=dt[7]|0,Qt=lr&8191,tr=lr>>>13,gr=dt[8]|0,wr=gr&8191,Tt=gr>>>13,Et=dt[9]|0,Rt=Et&8191,Ot=Et>>>13,Wt=lt[0]|0,Jt=Wt&8191,er=Wt>>>13,Er=lt[1]|0,xr=Er&8191,vr=Er>>>13,Rr=lt[2]|0,_r=Rr&8191,kr=Rr>>>13,Qr=lt[3]|0,dr=Qr&8191,Nr=Qr>>>13,en=lt[4]|0,Pr=en&8191,jr=en>>>13,tn=lt[5]|0,Fr=tn&8191,Mr=tn>>>13,qr=lt[6]|0,Br=qr&8191,Cr=qr>>>13,rn=lt[7]|0,Hr=rn&8191,Ir=rn>>>13,nn=lt[8]|0,Or=nn&8191,Tr=nn>>>13,on=lt[9]|0,Vr=on&8191,Wr=on>>>13;ht.negative=tt.negative^it.negative,ht.length=19,vt=Math.imul(Ht,Jt),ct=Math.imul(Ht,er),ct=ct+Math.imul(qt,Jt)|0,yt=Math.imul(qt,er);var vn=(ot+vt|0)+((ct&8191)<<13)|0;ot=(yt+(ct>>>13)|0)+(vn>>>26)|0,vn&=67108863,vt=Math.imul(kt,Jt),ct=Math.imul(kt,er),ct=ct+Math.imul(Lt,Jt)|0,yt=Math.imul(Lt,er),vt=vt+Math.imul(Ht,xr)|0,ct=ct+Math.imul(Ht,vr)|0,ct=ct+Math.imul(qt,xr)|0,yt=yt+Math.imul(qt,vr)|0;var kn=(ot+vt|0)+((ct&8191)<<13)|0;ot=(yt+(ct>>>13)|0)+(kn>>>26)|0,kn&=67108863,vt=Math.imul($t,Jt),ct=Math.imul($t,er),ct=ct+Math.imul(It,Jt)|0,yt=Math.imul(It,er),vt=vt+Math.imul(kt,xr)|0,ct=ct+Math.imul(kt,vr)|0,ct=ct+Math.imul(Lt,xr)|0,yt=yt+Math.imul(Lt,vr)|0,vt=vt+Math.imul(Ht,_r)|0,ct=ct+Math.imul(Ht,kr)|0,ct=ct+Math.imul(qt,_r)|0,yt=yt+Math.imul(qt,kr)|0;var gn=(ot+vt|0)+((ct&8191)<<13)|0;ot=(yt+(ct>>>13)|0)+(gn>>>26)|0,gn&=67108863,vt=Math.imul(cr,Jt),ct=Math.imul(cr,er),ct=ct+Math.imul(fr,Jt)|0,yt=Math.imul(fr,er),vt=vt+Math.imul($t,xr)|0,ct=ct+Math.imul($t,vr)|0,ct=ct+Math.imul(It,xr)|0,yt=yt+Math.imul(It,vr)|0,vt=vt+Math.imul(kt,_r)|0,ct=ct+Math.imul(kt,kr)|0,ct=ct+Math.imul(Lt,_r)|0,yt=yt+Math.imul(Lt,kr)|0,vt=vt+Math.imul(Ht,dr)|0,ct=ct+Math.imul(Ht,Nr)|0,ct=ct+Math.imul(qt,dr)|0,yt=yt+Math.imul(qt,Nr)|0;var Pn=(ot+vt|0)+((ct&8191)<<13)|0;ot=(yt+(ct>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,vt=Math.imul(yr,Jt),ct=Math.imul(yr,er),ct=ct+Math.imul(Sr,Jt)|0,yt=Math.imul(Sr,er),vt=vt+Math.imul(cr,xr)|0,ct=ct+Math.imul(cr,vr)|0,ct=ct+Math.imul(fr,xr)|0,yt=yt+Math.imul(fr,vr)|0,vt=vt+Math.imul($t,_r)|0,ct=ct+Math.imul($t,kr)|0,ct=ct+Math.imul(It,_r)|0,yt=yt+Math.imul(It,kr)|0,vt=vt+Math.imul(kt,dr)|0,ct=ct+Math.imul(kt,Nr)|0,ct=ct+Math.imul(Lt,dr)|0,yt=yt+Math.imul(Lt,Nr)|0,vt=vt+Math.imul(Ht,Pr)|0,ct=ct+Math.imul(Ht,jr)|0,ct=ct+Math.imul(qt,Pr)|0,yt=yt+Math.imul(qt,jr)|0;var un=(ot+vt|0)+((ct&8191)<<13)|0;ot=(yt+(ct>>>13)|0)+(un>>>26)|0,un&=67108863,vt=Math.imul(Zt,Jt),ct=Math.imul(Zt,er),ct=ct+Math.imul(Gt,Jt)|0,yt=Math.imul(Gt,er),vt=vt+Math.imul(yr,xr)|0,ct=ct+Math.imul(yr,vr)|0,ct=ct+Math.imul(Sr,xr)|0,yt=yt+Math.imul(Sr,vr)|0,vt=vt+Math.imul(cr,_r)|0,ct=ct+Math.imul(cr,kr)|0,ct=ct+Math.imul(fr,_r)|0,yt=yt+Math.imul(fr,kr)|0,vt=vt+Math.imul($t,dr)|0,ct=ct+Math.imul($t,Nr)|0,ct=ct+Math.imul(It,dr)|0,yt=yt+Math.imul(It,Nr)|0,vt=vt+Math.imul(kt,Pr)|0,ct=ct+Math.imul(kt,jr)|0,ct=ct+Math.imul(Lt,Pr)|0,yt=yt+Math.imul(Lt,jr)|0,vt=vt+Math.imul(Ht,Fr)|0,ct=ct+Math.imul(Ht,Mr)|0,ct=ct+Math.imul(qt,Fr)|0,yt=yt+Math.imul(qt,Mr)|0;var xn=(ot+vt|0)+((ct&8191)<<13)|0;ot=(yt+(ct>>>13)|0)+(xn>>>26)|0,xn&=67108863,vt=Math.imul(ur,Jt),ct=Math.imul(ur,er),ct=ct+Math.imul(ir,Jt)|0,yt=Math.imul(ir,er),vt=vt+Math.imul(Zt,xr)|0,ct=ct+Math.imul(Zt,vr)|0,ct=ct+Math.imul(Gt,xr)|0,yt=yt+Math.imul(Gt,vr)|0,vt=vt+Math.imul(yr,_r)|0,ct=ct+Math.imul(yr,kr)|0,ct=ct+Math.imul(Sr,_r)|0,yt=yt+Math.imul(Sr,kr)|0,vt=vt+Math.imul(cr,dr)|0,ct=ct+Math.imul(cr,Nr)|0,ct=ct+Math.imul(fr,dr)|0,yt=yt+Math.imul(fr,Nr)|0,vt=vt+Math.imul($t,Pr)|0,ct=ct+Math.imul($t,jr)|0,ct=ct+Math.imul(It,Pr)|0,yt=yt+Math.imul(It,jr)|0,vt=vt+Math.imul(kt,Fr)|0,ct=ct+Math.imul(kt,Mr)|0,ct=ct+Math.imul(Lt,Fr)|0,yt=yt+Math.imul(Lt,Mr)|0,vt=vt+Math.imul(Ht,Br)|0,ct=ct+Math.imul(Ht,Cr)|0,ct=ct+Math.imul(qt,Br)|0,yt=yt+Math.imul(qt,Cr)|0;var wn=(ot+vt|0)+((ct&8191)<<13)|0;ot=(yt+(ct>>>13)|0)+(wn>>>26)|0,wn&=67108863,vt=Math.imul(Qt,Jt),ct=Math.imul(Qt,er),ct=ct+Math.imul(tr,Jt)|0,yt=Math.imul(tr,er),vt=vt+Math.imul(ur,xr)|0,ct=ct+Math.imul(ur,vr)|0,ct=ct+Math.imul(ir,xr)|0,yt=yt+Math.imul(ir,vr)|0,vt=vt+Math.imul(Zt,_r)|0,ct=ct+Math.imul(Zt,kr)|0,ct=ct+Math.imul(Gt,_r)|0,yt=yt+Math.imul(Gt,kr)|0,vt=vt+Math.imul(yr,dr)|0,ct=ct+Math.imul(yr,Nr)|0,ct=ct+Math.imul(Sr,dr)|0,yt=yt+Math.imul(Sr,Nr)|0,vt=vt+Math.imul(cr,Pr)|0,ct=ct+Math.imul(cr,jr)|0,ct=ct+Math.imul(fr,Pr)|0,yt=yt+Math.imul(fr,jr)|0,vt=vt+Math.imul($t,Fr)|0,ct=ct+Math.imul($t,Mr)|0,ct=ct+Math.imul(It,Fr)|0,yt=yt+Math.imul(It,Mr)|0,vt=vt+Math.imul(kt,Br)|0,ct=ct+Math.imul(kt,Cr)|0,ct=ct+Math.imul(Lt,Br)|0,yt=yt+Math.imul(Lt,Cr)|0,vt=vt+Math.imul(Ht,Hr)|0,ct=ct+Math.imul(Ht,Ir)|0,ct=ct+Math.imul(qt,Hr)|0,yt=yt+Math.imul(qt,Ir)|0;var Rn=(ot+vt|0)+((ct&8191)<<13)|0;ot=(yt+(ct>>>13)|0)+(Rn>>>26)|0,Rn&=67108863,vt=Math.imul(wr,Jt),ct=Math.imul(wr,er),ct=ct+Math.imul(Tt,Jt)|0,yt=Math.imul(Tt,er),vt=vt+Math.imul(Qt,xr)|0,ct=ct+Math.imul(Qt,vr)|0,ct=ct+Math.imul(tr,xr)|0,yt=yt+Math.imul(tr,vr)|0,vt=vt+Math.imul(ur,_r)|0,ct=ct+Math.imul(ur,kr)|0,ct=ct+Math.imul(ir,_r)|0,yt=yt+Math.imul(ir,kr)|0,vt=vt+Math.imul(Zt,dr)|0,ct=ct+Math.imul(Zt,Nr)|0,ct=ct+Math.imul(Gt,dr)|0,yt=yt+Math.imul(Gt,Nr)|0,vt=vt+Math.imul(yr,Pr)|0,ct=ct+Math.imul(yr,jr)|0,ct=ct+Math.imul(Sr,Pr)|0,yt=yt+Math.imul(Sr,jr)|0,vt=vt+Math.imul(cr,Fr)|0,ct=ct+Math.imul(cr,Mr)|0,ct=ct+Math.imul(fr,Fr)|0,yt=yt+Math.imul(fr,Mr)|0,vt=vt+Math.imul($t,Br)|0,ct=ct+Math.imul($t,Cr)|0,ct=ct+Math.imul(It,Br)|0,yt=yt+Math.imul(It,Cr)|0,vt=vt+Math.imul(kt,Hr)|0,ct=ct+Math.imul(kt,Ir)|0,ct=ct+Math.imul(Lt,Hr)|0,yt=yt+Math.imul(Lt,Ir)|0,vt=vt+Math.imul(Ht,Or)|0,ct=ct+Math.imul(Ht,Tr)|0,ct=ct+Math.imul(qt,Or)|0,yt=yt+Math.imul(qt,Tr)|0;var jn=(ot+vt|0)+((ct&8191)<<13)|0;ot=(yt+(ct>>>13)|0)+(jn>>>26)|0,jn&=67108863,vt=Math.imul(Rt,Jt),ct=Math.imul(Rt,er),ct=ct+Math.imul(Ot,Jt)|0,yt=Math.imul(Ot,er),vt=vt+Math.imul(wr,xr)|0,ct=ct+Math.imul(wr,vr)|0,ct=ct+Math.imul(Tt,xr)|0,yt=yt+Math.imul(Tt,vr)|0,vt=vt+Math.imul(Qt,_r)|0,ct=ct+Math.imul(Qt,kr)|0,ct=ct+Math.imul(tr,_r)|0,yt=yt+Math.imul(tr,kr)|0,vt=vt+Math.imul(ur,dr)|0,ct=ct+Math.imul(ur,Nr)|0,ct=ct+Math.imul(ir,dr)|0,yt=yt+Math.imul(ir,Nr)|0,vt=vt+Math.imul(Zt,Pr)|0,ct=ct+Math.imul(Zt,jr)|0,ct=ct+Math.imul(Gt,Pr)|0,yt=yt+Math.imul(Gt,jr)|0,vt=vt+Math.imul(yr,Fr)|0,ct=ct+Math.imul(yr,Mr)|0,ct=ct+Math.imul(Sr,Fr)|0,yt=yt+Math.imul(Sr,Mr)|0,vt=vt+Math.imul(cr,Br)|0,ct=ct+Math.imul(cr,Cr)|0,ct=ct+Math.imul(fr,Br)|0,yt=yt+Math.imul(fr,Cr)|0,vt=vt+Math.imul($t,Hr)|0,ct=ct+Math.imul($t,Ir)|0,ct=ct+Math.imul(It,Hr)|0,yt=yt+Math.imul(It,Ir)|0,vt=vt+Math.imul(kt,Or)|0,ct=ct+Math.imul(kt,Tr)|0,ct=ct+Math.imul(Lt,Or)|0,yt=yt+Math.imul(Lt,Tr)|0,vt=vt+Math.imul(Ht,Vr)|0,ct=ct+Math.imul(Ht,Wr)|0,ct=ct+Math.imul(qt,Vr)|0,yt=yt+Math.imul(qt,Wr)|0;var mn=(ot+vt|0)+((ct&8191)<<13)|0;ot=(yt+(ct>>>13)|0)+(mn>>>26)|0,mn&=67108863,vt=Math.imul(Rt,xr),ct=Math.imul(Rt,vr),ct=ct+Math.imul(Ot,xr)|0,yt=Math.imul(Ot,vr),vt=vt+Math.imul(wr,_r)|0,ct=ct+Math.imul(wr,kr)|0,ct=ct+Math.imul(Tt,_r)|0,yt=yt+Math.imul(Tt,kr)|0,vt=vt+Math.imul(Qt,dr)|0,ct=ct+Math.imul(Qt,Nr)|0,ct=ct+Math.imul(tr,dr)|0,yt=yt+Math.imul(tr,Nr)|0,vt=vt+Math.imul(ur,Pr)|0,ct=ct+Math.imul(ur,jr)|0,ct=ct+Math.imul(ir,Pr)|0,yt=yt+Math.imul(ir,jr)|0,vt=vt+Math.imul(Zt,Fr)|0,ct=ct+Math.imul(Zt,Mr)|0,ct=ct+Math.imul(Gt,Fr)|0,yt=yt+Math.imul(Gt,Mr)|0,vt=vt+Math.imul(yr,Br)|0,ct=ct+Math.imul(yr,Cr)|0,ct=ct+Math.imul(Sr,Br)|0,yt=yt+Math.imul(Sr,Cr)|0,vt=vt+Math.imul(cr,Hr)|0,ct=ct+Math.imul(cr,Ir)|0,ct=ct+Math.imul(fr,Hr)|0,yt=yt+Math.imul(fr,Ir)|0,vt=vt+Math.imul($t,Or)|0,ct=ct+Math.imul($t,Tr)|0,ct=ct+Math.imul(It,Or)|0,yt=yt+Math.imul(It,Tr)|0,vt=vt+Math.imul(kt,Vr)|0,ct=ct+Math.imul(kt,Wr)|0,ct=ct+Math.imul(Lt,Vr)|0,yt=yt+Math.imul(Lt,Wr)|0;var Nn=(ot+vt|0)+((ct&8191)<<13)|0;ot=(yt+(ct>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,vt=Math.imul(Rt,_r),ct=Math.imul(Rt,kr),ct=ct+Math.imul(Ot,_r)|0,yt=Math.imul(Ot,kr),vt=vt+Math.imul(wr,dr)|0,ct=ct+Math.imul(wr,Nr)|0,ct=ct+Math.imul(Tt,dr)|0,yt=yt+Math.imul(Tt,Nr)|0,vt=vt+Math.imul(Qt,Pr)|0,ct=ct+Math.imul(Qt,jr)|0,ct=ct+Math.imul(tr,Pr)|0,yt=yt+Math.imul(tr,jr)|0,vt=vt+Math.imul(ur,Fr)|0,ct=ct+Math.imul(ur,Mr)|0,ct=ct+Math.imul(ir,Fr)|0,yt=yt+Math.imul(ir,Mr)|0,vt=vt+Math.imul(Zt,Br)|0,ct=ct+Math.imul(Zt,Cr)|0,ct=ct+Math.imul(Gt,Br)|0,yt=yt+Math.imul(Gt,Cr)|0,vt=vt+Math.imul(yr,Hr)|0,ct=ct+Math.imul(yr,Ir)|0,ct=ct+Math.imul(Sr,Hr)|0,yt=yt+Math.imul(Sr,Ir)|0,vt=vt+Math.imul(cr,Or)|0,ct=ct+Math.imul(cr,Tr)|0,ct=ct+Math.imul(fr,Or)|0,yt=yt+Math.imul(fr,Tr)|0,vt=vt+Math.imul($t,Vr)|0,ct=ct+Math.imul($t,Wr)|0,ct=ct+Math.imul(It,Vr)|0,yt=yt+Math.imul(It,Wr)|0;var yn=(ot+vt|0)+((ct&8191)<<13)|0;ot=(yt+(ct>>>13)|0)+(yn>>>26)|0,yn&=67108863,vt=Math.imul(Rt,dr),ct=Math.imul(Rt,Nr),ct=ct+Math.imul(Ot,dr)|0,yt=Math.imul(Ot,Nr),vt=vt+Math.imul(wr,Pr)|0,ct=ct+Math.imul(wr,jr)|0,ct=ct+Math.imul(Tt,Pr)|0,yt=yt+Math.imul(Tt,jr)|0,vt=vt+Math.imul(Qt,Fr)|0,ct=ct+Math.imul(Qt,Mr)|0,ct=ct+Math.imul(tr,Fr)|0,yt=yt+Math.imul(tr,Mr)|0,vt=vt+Math.imul(ur,Br)|0,ct=ct+Math.imul(ur,Cr)|0,ct=ct+Math.imul(ir,Br)|0,yt=yt+Math.imul(ir,Cr)|0,vt=vt+Math.imul(Zt,Hr)|0,ct=ct+Math.imul(Zt,Ir)|0,ct=ct+Math.imul(Gt,Hr)|0,yt=yt+Math.imul(Gt,Ir)|0,vt=vt+Math.imul(yr,Or)|0,ct=ct+Math.imul(yr,Tr)|0,ct=ct+Math.imul(Sr,Or)|0,yt=yt+Math.imul(Sr,Tr)|0,vt=vt+Math.imul(cr,Vr)|0,ct=ct+Math.imul(cr,Wr)|0,ct=ct+Math.imul(fr,Vr)|0,yt=yt+Math.imul(fr,Wr)|0;var Mn=(ot+vt|0)+((ct&8191)<<13)|0;ot=(yt+(ct>>>13)|0)+(Mn>>>26)|0,Mn&=67108863,vt=Math.imul(Rt,Pr),ct=Math.imul(Rt,jr),ct=ct+Math.imul(Ot,Pr)|0,yt=Math.imul(Ot,jr),vt=vt+Math.imul(wr,Fr)|0,ct=ct+Math.imul(wr,Mr)|0,ct=ct+Math.imul(Tt,Fr)|0,yt=yt+Math.imul(Tt,Mr)|0,vt=vt+Math.imul(Qt,Br)|0,ct=ct+Math.imul(Qt,Cr)|0,ct=ct+Math.imul(tr,Br)|0,yt=yt+Math.imul(tr,Cr)|0,vt=vt+Math.imul(ur,Hr)|0,ct=ct+Math.imul(ur,Ir)|0,ct=ct+Math.imul(ir,Hr)|0,yt=yt+Math.imul(ir,Ir)|0,vt=vt+Math.imul(Zt,Or)|0,ct=ct+Math.imul(Zt,Tr)|0,ct=ct+Math.imul(Gt,Or)|0,yt=yt+Math.imul(Gt,Tr)|0,vt=vt+Math.imul(yr,Vr)|0,ct=ct+Math.imul(yr,Wr)|0,ct=ct+Math.imul(Sr,Vr)|0,yt=yt+Math.imul(Sr,Wr)|0;var hn=(ot+vt|0)+((ct&8191)<<13)|0;ot=(yt+(ct>>>13)|0)+(hn>>>26)|0,hn&=67108863,vt=Math.imul(Rt,Fr),ct=Math.imul(Rt,Mr),ct=ct+Math.imul(Ot,Fr)|0,yt=Math.imul(Ot,Mr),vt=vt+Math.imul(wr,Br)|0,ct=ct+Math.imul(wr,Cr)|0,ct=ct+Math.imul(Tt,Br)|0,yt=yt+Math.imul(Tt,Cr)|0,vt=vt+Math.imul(Qt,Hr)|0,ct=ct+Math.imul(Qt,Ir)|0,ct=ct+Math.imul(tr,Hr)|0,yt=yt+Math.imul(tr,Ir)|0,vt=vt+Math.imul(ur,Or)|0,ct=ct+Math.imul(ur,Tr)|0,ct=ct+Math.imul(ir,Or)|0,yt=yt+Math.imul(ir,Tr)|0,vt=vt+Math.imul(Zt,Vr)|0,ct=ct+Math.imul(Zt,Wr)|0,ct=ct+Math.imul(Gt,Vr)|0,yt=yt+Math.imul(Gt,Wr)|0;var En=(ot+vt|0)+((ct&8191)<<13)|0;ot=(yt+(ct>>>13)|0)+(En>>>26)|0,En&=67108863,vt=Math.imul(Rt,Br),ct=Math.imul(Rt,Cr),ct=ct+Math.imul(Ot,Br)|0,yt=Math.imul(Ot,Cr),vt=vt+Math.imul(wr,Hr)|0,ct=ct+Math.imul(wr,Ir)|0,ct=ct+Math.imul(Tt,Hr)|0,yt=yt+Math.imul(Tt,Ir)|0,vt=vt+Math.imul(Qt,Or)|0,ct=ct+Math.imul(Qt,Tr)|0,ct=ct+Math.imul(tr,Or)|0,yt=yt+Math.imul(tr,Tr)|0,vt=vt+Math.imul(ur,Vr)|0,ct=ct+Math.imul(ur,Wr)|0,ct=ct+Math.imul(ir,Vr)|0,yt=yt+Math.imul(ir,Wr)|0;var An=(ot+vt|0)+((ct&8191)<<13)|0;ot=(yt+(ct>>>13)|0)+(An>>>26)|0,An&=67108863,vt=Math.imul(Rt,Hr),ct=Math.imul(Rt,Ir),ct=ct+Math.imul(Ot,Hr)|0,yt=Math.imul(Ot,Ir),vt=vt+Math.imul(wr,Or)|0,ct=ct+Math.imul(wr,Tr)|0,ct=ct+Math.imul(Tt,Or)|0,yt=yt+Math.imul(Tt,Tr)|0,vt=vt+Math.imul(Qt,Vr)|0,ct=ct+Math.imul(Qt,Wr)|0,ct=ct+Math.imul(tr,Vr)|0,yt=yt+Math.imul(tr,Wr)|0;var Cn=(ot+vt|0)+((ct&8191)<<13)|0;ot=(yt+(ct>>>13)|0)+(Cn>>>26)|0,Cn&=67108863,vt=Math.imul(Rt,Or),ct=Math.imul(Rt,Tr),ct=ct+Math.imul(Ot,Or)|0,yt=Math.imul(Ot,Tr),vt=vt+Math.imul(wr,Vr)|0,ct=ct+Math.imul(wr,Wr)|0,ct=ct+Math.imul(Tt,Vr)|0,yt=yt+Math.imul(Tt,Wr)|0;var Un=(ot+vt|0)+((ct&8191)<<13)|0;ot=(yt+(ct>>>13)|0)+(Un>>>26)|0,Un&=67108863,vt=Math.imul(Rt,Vr),ct=Math.imul(Rt,Wr),ct=ct+Math.imul(Ot,Vr)|0,yt=Math.imul(Ot,Wr);var Wn=(ot+vt|0)+((ct&8191)<<13)|0;return ot=(yt+(ct>>>13)|0)+(Wn>>>26)|0,Wn&=67108863,gt[0]=vn,gt[1]=kn,gt[2]=gn,gt[3]=Pn,gt[4]=un,gt[5]=xn,gt[6]=wn,gt[7]=Rn,gt[8]=jn,gt[9]=mn,gt[10]=Nn,gt[11]=yn,gt[12]=Mn,gt[13]=hn,gt[14]=En,gt[15]=An,gt[16]=Cn,gt[17]=Un,gt[18]=Wn,ot!==0&&(gt[19]=ot,ht.length++),ht};Math.imul||(xt=pt);function St(ft,tt,it){it.negative=tt.negative^ft.negative,it.length=ft.length+tt.length;for(var ht=0,dt=0,lt=0;lt<it.length-1;lt++){var gt=dt;dt=0;for(var ot=ht&67108863,vt=Math.min(lt,tt.length-1),ct=Math.max(0,lt-ft.length+1);ct<=vt;ct++){var yt=lt-ct,Dt=ft.words[yt]|0,Ht=tt.words[ct]|0,qt=Dt*Ht,_t=qt&67108863;gt=gt+(qt/67108864|0)|0,_t=_t+ot|0,ot=_t&67108863,gt=gt+(_t>>>26)|0,dt+=gt>>>26,gt&=67108863}it.words[lt]=ot,ht=gt,gt=dt}return ht!==0?it.words[lt]=ht:it.length--,it._strip()}function Nt(ft,tt,it){return St(ft,tt,it)}h.prototype.mulTo=function(tt,it){var ht,dt=this.length+tt.length;return this.length===10&&tt.length===10?ht=xt(this,tt,it):dt<63?ht=pt(this,tt,it):dt<1024?ht=St(this,tt,it):ht=Nt(this,tt,it),ht},h.prototype.mul=function(tt){var it=new h(null);return it.words=new Array(this.length+tt.length),this.mulTo(tt,it)},h.prototype.mulf=function(tt){var it=new h(null);return it.words=new Array(this.length+tt.length),Nt(this,tt,it)},h.prototype.imul=function(tt){return this.clone().mulTo(tt,this)},h.prototype.imuln=function(tt){var it=tt<0;it&&(tt=-tt),d(typeof tt=="number"),d(tt<67108864);for(var ht=0,dt=0;dt<this.length;dt++){var lt=(this.words[dt]|0)*tt,gt=(lt&67108863)+(ht&67108863);ht>>=26,ht+=lt/67108864|0,ht+=gt>>>26,this.words[dt]=gt&67108863}return ht!==0&&(this.words[dt]=ht,this.length++),this.length=tt===0?1:this.length,it?this.ineg():this},h.prototype.muln=function(tt){return this.clone().imuln(tt)},h.prototype.sqr=function(){return this.mul(this)},h.prototype.isqr=function(){return this.imul(this.clone())},h.prototype.pow=function(tt){var it=wt(tt);if(it.length===0)return new h(1);for(var ht=this,dt=0;dt<it.length&&it[dt]===0;dt++,ht=ht.sqr());if(++dt<it.length)for(var lt=ht.sqr();dt<it.length;dt++,lt=lt.sqr())it[dt]!==0&&(ht=ht.mul(lt));return ht},h.prototype.iushln=function(tt){d(typeof tt=="number"&&tt>=0);var it=tt%26,ht=(tt-it)/26,dt=67108863>>>26-it<<26-it,lt;if(it!==0){var gt=0;for(lt=0;lt<this.length;lt++){var ot=this.words[lt]&dt,vt=(this.words[lt]|0)-ot<<it;this.words[lt]=vt|gt,gt=ot>>>26-it}gt&&(this.words[lt]=gt,this.length++)}if(ht!==0){for(lt=this.length-1;lt>=0;lt--)this.words[lt+ht]=this.words[lt];for(lt=0;lt<ht;lt++)this.words[lt]=0;this.length+=ht}return this._strip()},h.prototype.ishln=function(tt){return d(this.negative===0),this.iushln(tt)},h.prototype.iushrn=function(tt,it,ht){d(typeof tt=="number"&&tt>=0);var dt;it?dt=(it-it%26)/26:dt=0;var lt=tt%26,gt=Math.min((tt-lt)/26,this.length),ot=67108863^67108863>>>lt<<lt,vt=ht;if(dt-=gt,dt=Math.max(0,dt),vt){for(var ct=0;ct<gt;ct++)vt.words[ct]=this.words[ct];vt.length=gt}if(gt!==0)if(this.length>gt)for(this.length-=gt,ct=0;ct<this.length;ct++)this.words[ct]=this.words[ct+gt];else this.words[0]=0,this.length=1;var yt=0;for(ct=this.length-1;ct>=0&&(yt!==0||ct>=dt);ct--){var Dt=this.words[ct]|0;this.words[ct]=yt<<26-lt|Dt>>>lt,yt=Dt&ot}return vt&&yt!==0&&(vt.words[vt.length++]=yt),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},h.prototype.ishrn=function(tt,it,ht){return d(this.negative===0),this.iushrn(tt,it,ht)},h.prototype.shln=function(tt){return this.clone().ishln(tt)},h.prototype.ushln=function(tt){return this.clone().iushln(tt)},h.prototype.shrn=function(tt){return this.clone().ishrn(tt)},h.prototype.ushrn=function(tt){return this.clone().iushrn(tt)},h.prototype.testn=function(tt){d(typeof tt=="number"&&tt>=0);var it=tt%26,ht=(tt-it)/26,dt=1<<it;if(this.length<=ht)return!1;var lt=this.words[ht];return!!(lt&dt)},h.prototype.imaskn=function(tt){d(typeof tt=="number"&&tt>=0);var it=tt%26,ht=(tt-it)/26;if(d(this.negative===0,"imaskn works only with positive numbers"),this.length<=ht)return this;if(it!==0&&ht++,this.length=Math.min(ht,this.length),it!==0){var dt=67108863^67108863>>>it<<it;this.words[this.length-1]&=dt}return this._strip()},h.prototype.maskn=function(tt){return this.clone().imaskn(tt)},h.prototype.iaddn=function(tt){return d(typeof tt=="number"),d(tt<67108864),tt<0?this.isubn(-tt):this.negative!==0?this.length===1&&(this.words[0]|0)<=tt?(this.words[0]=tt-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(tt),this.negative=1,this):this._iaddn(tt)},h.prototype._iaddn=function(tt){this.words[0]+=tt;for(var it=0;it<this.length&&this.words[it]>=67108864;it++)this.words[it]-=67108864,it===this.length-1?this.words[it+1]=1:this.words[it+1]++;return this.length=Math.max(this.length,it+1),this},h.prototype.isubn=function(tt){if(d(typeof tt=="number"),d(tt<67108864),tt<0)return this.iaddn(-tt);if(this.negative!==0)return this.negative=0,this.iaddn(tt),this.negative=1,this;if(this.words[0]-=tt,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var it=0;it<this.length&&this.words[it]<0;it++)this.words[it]+=67108864,this.words[it+1]-=1;return this._strip()},h.prototype.addn=function(tt){return this.clone().iaddn(tt)},h.prototype.subn=function(tt){return this.clone().isubn(tt)},h.prototype.iabs=function(){return this.negative=0,this},h.prototype.abs=function(){return this.clone().iabs()},h.prototype._ishlnsubmul=function(tt,it,ht){var dt=tt.length+ht,lt;this._expand(dt);var gt,ot=0;for(lt=0;lt<tt.length;lt++){gt=(this.words[lt+ht]|0)+ot;var vt=(tt.words[lt]|0)*it;gt-=vt&67108863,ot=(gt>>26)-(vt/67108864|0),this.words[lt+ht]=gt&67108863}for(;lt<this.length-ht;lt++)gt=(this.words[lt+ht]|0)+ot,ot=gt>>26,this.words[lt+ht]=gt&67108863;if(ot===0)return this._strip();for(d(ot===-1),ot=0,lt=0;lt<this.length;lt++)gt=-(this.words[lt]|0)+ot,ot=gt>>26,this.words[lt]=gt&67108863;return this.negative=1,this._strip()},h.prototype._wordDiv=function(tt,it){var ht=this.length-tt.length,dt=this.clone(),lt=tt,gt=lt.words[lt.length-1]|0,ot=this._countBits(gt);ht=26-ot,ht!==0&&(lt=lt.ushln(ht),dt.iushln(ht),gt=lt.words[lt.length-1]|0);var vt=dt.length-lt.length,ct;if(it!=="mod"){ct=new h(null),ct.length=vt+1,ct.words=new Array(ct.length);for(var yt=0;yt<ct.length;yt++)ct.words[yt]=0}var Dt=dt.clone()._ishlnsubmul(lt,1,vt);Dt.negative===0&&(dt=Dt,ct&&(ct.words[vt]=1));for(var Ht=vt-1;Ht>=0;Ht--){var qt=(dt.words[lt.length+Ht]|0)*67108864+(dt.words[lt.length+Ht-1]|0);for(qt=Math.min(qt/gt|0,67108863),dt._ishlnsubmul(lt,qt,Ht);dt.negative!==0;)qt--,dt.negative=0,dt._ishlnsubmul(lt,1,Ht),dt.isZero()||(dt.negative^=1);ct&&(ct.words[Ht]=qt)}return ct&&ct._strip(),dt._strip(),it!=="div"&&ht!==0&&dt.iushrn(ht),{div:ct||null,mod:dt}},h.prototype.divmod=function(tt,it,ht){if(d(!tt.isZero()),this.isZero())return{div:new h(0),mod:new h(0)};var dt,lt,gt;return this.negative!==0&&tt.negative===0?(gt=this.neg().divmod(tt,it),it!=="mod"&&(dt=gt.div.neg()),it!=="div"&&(lt=gt.mod.neg(),ht&&lt.negative!==0&&lt.iadd(tt)),{div:dt,mod:lt}):this.negative===0&&tt.negative!==0?(gt=this.divmod(tt.neg(),it),it!=="mod"&&(dt=gt.div.neg()),{div:dt,mod:gt.mod}):this.negative&tt.negative?(gt=this.neg().divmod(tt.neg(),it),it!=="div"&&(lt=gt.mod.neg(),ht&&lt.negative!==0&&lt.isub(tt)),{div:gt.div,mod:lt}):tt.length>this.length||this.cmp(tt)<0?{div:new h(0),mod:this}:tt.length===1?it==="div"?{div:this.divn(tt.words[0]),mod:null}:it==="mod"?{div:null,mod:new h(this.modrn(tt.words[0]))}:{div:this.divn(tt.words[0]),mod:new h(this.modrn(tt.words[0]))}:this._wordDiv(tt,it)},h.prototype.div=function(tt){return this.divmod(tt,"div",!1).div},h.prototype.mod=function(tt){return this.divmod(tt,"mod",!1).mod},h.prototype.umod=function(tt){return this.divmod(tt,"mod",!0).mod},h.prototype.divRound=function(tt){var it=this.divmod(tt);if(it.mod.isZero())return it.div;var ht=it.div.negative!==0?it.mod.isub(tt):it.mod,dt=tt.ushrn(1),lt=tt.andln(1),gt=ht.cmp(dt);return gt<0||lt===1&&gt===0?it.div:it.div.negative!==0?it.div.isubn(1):it.div.iaddn(1)},h.prototype.modrn=function(tt){var it=tt<0;it&&(tt=-tt),d(tt<=67108863);for(var ht=(1<<26)%tt,dt=0,lt=this.length-1;lt>=0;lt--)dt=(ht*dt+(this.words[lt]|0))%tt;return it?-dt:dt},h.prototype.modn=function(tt){return this.modrn(tt)},h.prototype.idivn=function(tt){var it=tt<0;it&&(tt=-tt),d(tt<=67108863);for(var ht=0,dt=this.length-1;dt>=0;dt--){var lt=(this.words[dt]|0)+ht*67108864;this.words[dt]=lt/tt|0,ht=lt%tt}return this._strip(),it?this.ineg():this},h.prototype.divn=function(tt){return this.clone().idivn(tt)},h.prototype.egcd=function(tt){d(tt.negative===0),d(!tt.isZero());var it=this,ht=tt.clone();it.negative!==0?it=it.umod(tt):it=it.clone();for(var dt=new h(1),lt=new h(0),gt=new h(0),ot=new h(1),vt=0;it.isEven()&&ht.isEven();)it.iushrn(1),ht.iushrn(1),++vt;for(var ct=ht.clone(),yt=it.clone();!it.isZero();){for(var Dt=0,Ht=1;!(it.words[0]&Ht)&&Dt<26;++Dt,Ht<<=1);if(Dt>0)for(it.iushrn(Dt);Dt-- >0;)(dt.isOdd()||lt.isOdd())&&(dt.iadd(ct),lt.isub(yt)),dt.iushrn(1),lt.iushrn(1);for(var qt=0,_t=1;!(ht.words[0]&_t)&&qt<26;++qt,_t<<=1);if(qt>0)for(ht.iushrn(qt);qt-- >0;)(gt.isOdd()||ot.isOdd())&&(gt.iadd(ct),ot.isub(yt)),gt.iushrn(1),ot.iushrn(1);it.cmp(ht)>=0?(it.isub(ht),dt.isub(gt),lt.isub(ot)):(ht.isub(it),gt.isub(dt),ot.isub(lt))}return{a:gt,b:ot,gcd:ht.iushln(vt)}},h.prototype._invmp=function(tt){d(tt.negative===0),d(!tt.isZero());var it=this,ht=tt.clone();it.negative!==0?it=it.umod(tt):it=it.clone();for(var dt=new h(1),lt=new h(0),gt=ht.clone();it.cmpn(1)>0&&ht.cmpn(1)>0;){for(var ot=0,vt=1;!(it.words[0]&vt)&&ot<26;++ot,vt<<=1);if(ot>0)for(it.iushrn(ot);ot-- >0;)dt.isOdd()&&dt.iadd(gt),dt.iushrn(1);for(var ct=0,yt=1;!(ht.words[0]&yt)&&ct<26;++ct,yt<<=1);if(ct>0)for(ht.iushrn(ct);ct-- >0;)lt.isOdd()&&lt.iadd(gt),lt.iushrn(1);it.cmp(ht)>=0?(it.isub(ht),dt.isub(lt)):(ht.isub(it),lt.isub(dt))}var Dt;return it.cmpn(1)===0?Dt=dt:Dt=lt,Dt.cmpn(0)<0&&Dt.iadd(tt),Dt},h.prototype.gcd=function(tt){if(this.isZero())return tt.abs();if(tt.isZero())return this.abs();var it=this.clone(),ht=tt.clone();it.negative=0,ht.negative=0;for(var dt=0;it.isEven()&&ht.isEven();dt++)it.iushrn(1),ht.iushrn(1);do{for(;it.isEven();)it.iushrn(1);for(;ht.isEven();)ht.iushrn(1);var lt=it.cmp(ht);if(lt<0){var gt=it;it=ht,ht=gt}else if(lt===0||ht.cmpn(1)===0)break;it.isub(ht)}while(!0);return ht.iushln(dt)},h.prototype.invm=function(tt){return this.egcd(tt).a.umod(tt)},h.prototype.isEven=function(){return(this.words[0]&1)===0},h.prototype.isOdd=function(){return(this.words[0]&1)===1},h.prototype.andln=function(tt){return this.words[0]&tt},h.prototype.bincn=function(tt){d(typeof tt=="number");var it=tt%26,ht=(tt-it)/26,dt=1<<it;if(this.length<=ht)return this._expand(ht+1),this.words[ht]|=dt,this;for(var lt=dt,gt=ht;lt!==0&&gt<this.length;gt++){var ot=this.words[gt]|0;ot+=lt,lt=ot>>>26,ot&=67108863,this.words[gt]=ot}return lt!==0&&(this.words[gt]=lt,this.length++),this},h.prototype.isZero=function(){return this.length===1&&this.words[0]===0},h.prototype.cmpn=function(tt){var it=tt<0;if(this.negative!==0&&!it)return-1;if(this.negative===0&&it)return 1;this._strip();var ht;if(this.length>1)ht=1;else{it&&(tt=-tt),d(tt<=67108863,"Number is too big");var dt=this.words[0]|0;ht=dt===tt?0:dt<tt?-1:1}return this.negative!==0?-ht|0:ht},h.prototype.cmp=function(tt){if(this.negative!==0&&tt.negative===0)return-1;if(this.negative===0&&tt.negative!==0)return 1;var it=this.ucmp(tt);return this.negative!==0?-it|0:it},h.prototype.ucmp=function(tt){if(this.length>tt.length)return 1;if(this.length<tt.length)return-1;for(var it=0,ht=this.length-1;ht>=0;ht--){var dt=this.words[ht]|0,lt=tt.words[ht]|0;if(dt!==lt){dt<lt?it=-1:dt>lt&&(it=1);break}}return it},h.prototype.gtn=function(tt){return this.cmpn(tt)===1},h.prototype.gt=function(tt){return this.cmp(tt)===1},h.prototype.gten=function(tt){return this.cmpn(tt)>=0},h.prototype.gte=function(tt){return this.cmp(tt)>=0},h.prototype.ltn=function(tt){return this.cmpn(tt)===-1},h.prototype.lt=function(tt){return this.cmp(tt)===-1},h.prototype.lten=function(tt){return this.cmpn(tt)<=0},h.prototype.lte=function(tt){return this.cmp(tt)<=0},h.prototype.eqn=function(tt){return this.cmpn(tt)===0},h.prototype.eq=function(tt){return this.cmp(tt)===0},h.red=function(tt){return new Mt(tt)},h.prototype.toRed=function(tt){return d(!this.red,"Already a number in reduction context"),d(this.negative===0,"red works only with positives"),tt.convertTo(this)._forceRed(tt)},h.prototype.fromRed=function(){return d(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},h.prototype._forceRed=function(tt){return this.red=tt,this},h.prototype.forceRed=function(tt){return d(!this.red,"Already a number in reduction context"),this._forceRed(tt)},h.prototype.redAdd=function(tt){return d(this.red,"redAdd works only with red numbers"),this.red.add(this,tt)},h.prototype.redIAdd=function(tt){return d(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,tt)},h.prototype.redSub=function(tt){return d(this.red,"redSub works only with red numbers"),this.red.sub(this,tt)},h.prototype.redISub=function(tt){return d(this.red,"redISub works only with red numbers"),this.red.isub(this,tt)},h.prototype.redShl=function(tt){return d(this.red,"redShl works only with red numbers"),this.red.shl(this,tt)},h.prototype.redMul=function(tt){return d(this.red,"redMul works only with red numbers"),this.red._verify2(this,tt),this.red.mul(this,tt)},h.prototype.redIMul=function(tt){return d(this.red,"redMul works only with red numbers"),this.red._verify2(this,tt),this.red.imul(this,tt)},h.prototype.redSqr=function(){return d(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},h.prototype.redISqr=function(){return d(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},h.prototype.redSqrt=function(){return d(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},h.prototype.redInvm=function(){return d(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},h.prototype.redNeg=function(){return d(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},h.prototype.redPow=function(tt){return d(this.red&&!tt.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,tt)};var At={k256:null,p224:null,p192:null,p25519:null};function Ct(ft,tt){this.name=ft,this.p=new h(tt,16),this.n=this.p.bitLength(),this.k=new h(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Ct.prototype._tmp=function(){var tt=new h(null);return tt.words=new Array(Math.ceil(this.n/13)),tt},Ct.prototype.ireduce=function(tt){var it=tt,ht;do this.split(it,this.tmp),it=this.imulK(it),it=it.iadd(this.tmp),ht=it.bitLength();while(ht>this.n);var dt=ht<this.n?-1:it.ucmp(this.p);return dt===0?(it.words[0]=0,it.length=1):dt>0?it.isub(this.p):it.strip!==void 0?it.strip():it._strip(),it},Ct.prototype.split=function(tt,it){tt.iushrn(this.n,0,it)},Ct.prototype.imulK=function(tt){return tt.imul(this.k)};function Vt(){Ct.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}b(Vt,Ct),Vt.prototype.split=function(tt,it){for(var ht=4194303,dt=Math.min(tt.length,9),lt=0;lt<dt;lt++)it.words[lt]=tt.words[lt];if(it.length=dt,tt.length<=9){tt.words[0]=0,tt.length=1;return}var gt=tt.words[9];for(it.words[it.length++]=gt&ht,lt=10;lt<tt.length;lt++){var ot=tt.words[lt]|0;tt.words[lt-10]=(ot&ht)<<4|gt>>>22,gt=ot}gt>>>=22,tt.words[lt-10]=gt,gt===0&&tt.length>10?tt.length-=10:tt.length-=9},Vt.prototype.imulK=function(tt){tt.words[tt.length]=0,tt.words[tt.length+1]=0,tt.length+=2;for(var it=0,ht=0;ht<tt.length;ht++){var dt=tt.words[ht]|0;it+=dt*977,tt.words[ht]=it&67108863,it=dt*64+(it/67108864|0)}return tt.words[tt.length-1]===0&&(tt.length--,tt.words[tt.length-1]===0&&tt.length--),tt};function Bt(){Ct.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}b(Bt,Ct);function Ut(){Ct.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}b(Ut,Ct);function Ft(){Ct.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}b(Ft,Ct),Ft.prototype.imulK=function(tt){for(var it=0,ht=0;ht<tt.length;ht++){var dt=(tt.words[ht]|0)*19+it,lt=dt&67108863;dt>>>=26,tt.words[ht]=lt,it=dt}return it!==0&&(tt.words[tt.length++]=it),tt},h._prime=function(tt){if(At[tt])return At[tt];var it;if(tt==="k256")it=new Vt;else if(tt==="p224")it=new Bt;else if(tt==="p192")it=new Ut;else if(tt==="p25519")it=new Ft;else throw new Error("Unknown prime "+tt);return At[tt]=it,it};function Mt(ft){if(typeof ft=="string"){var tt=h._prime(ft);this.m=tt.p,this.prime=tt}else d(ft.gtn(1),"modulus must be greater than 1"),this.m=ft,this.prime=null}Mt.prototype._verify1=function(tt){d(tt.negative===0,"red works only with positives"),d(tt.red,"red works only with red numbers")},Mt.prototype._verify2=function(tt,it){d((tt.negative|it.negative)===0,"red works only with positives"),d(tt.red&&tt.red===it.red,"red works only with red numbers")},Mt.prototype.imod=function(tt){return this.prime?this.prime.ireduce(tt)._forceRed(this):($(tt,tt.umod(this.m)._forceRed(this)),tt)},Mt.prototype.neg=function(tt){return tt.isZero()?tt.clone():this.m.sub(tt)._forceRed(this)},Mt.prototype.add=function(tt,it){this._verify2(tt,it);var ht=tt.add(it);return ht.cmp(this.m)>=0&&ht.isub(this.m),ht._forceRed(this)},Mt.prototype.iadd=function(tt,it){this._verify2(tt,it);var ht=tt.iadd(it);return ht.cmp(this.m)>=0&&ht.isub(this.m),ht},Mt.prototype.sub=function(tt,it){this._verify2(tt,it);var ht=tt.sub(it);return ht.cmpn(0)<0&&ht.iadd(this.m),ht._forceRed(this)},Mt.prototype.isub=function(tt,it){this._verify2(tt,it);var ht=tt.isub(it);return ht.cmpn(0)<0&&ht.iadd(this.m),ht},Mt.prototype.shl=function(tt,it){return this._verify1(tt),this.imod(tt.ushln(it))},Mt.prototype.imul=function(tt,it){return this._verify2(tt,it),this.imod(tt.imul(it))},Mt.prototype.mul=function(tt,it){return this._verify2(tt,it),this.imod(tt.mul(it))},Mt.prototype.isqr=function(tt){return this.imul(tt,tt.clone())},Mt.prototype.sqr=function(tt){return this.mul(tt,tt)},Mt.prototype.sqrt=function(tt){if(tt.isZero())return tt.clone();var it=this.m.andln(3);if(d(it%2===1),it===3){var ht=this.m.add(new h(1)).iushrn(2);return this.pow(tt,ht)}for(var dt=this.m.subn(1),lt=0;!dt.isZero()&&dt.andln(1)===0;)lt++,dt.iushrn(1);d(!dt.isZero());var gt=new h(1).toRed(this),ot=gt.redNeg(),vt=this.m.subn(1).iushrn(1),ct=this.m.bitLength();for(ct=new h(2*ct*ct).toRed(this);this.pow(ct,vt).cmp(ot)!==0;)ct.redIAdd(ot);for(var yt=this.pow(ct,dt),Dt=this.pow(tt,dt.addn(1).iushrn(1)),Ht=this.pow(tt,dt),qt=lt;Ht.cmp(gt)!==0;){for(var _t=Ht,kt=0;_t.cmp(gt)!==0;kt++)_t=_t.redSqr();d(kt<qt);var Lt=this.pow(yt,new h(1).iushln(qt-kt-1));Dt=Dt.redMul(Lt),yt=Lt.redSqr(),Ht=Ht.redMul(yt),qt=kt}return Dt},Mt.prototype.invm=function(tt){var it=tt._invmp(this.m);return it.negative!==0?(it.negative=0,this.imod(it).redNeg()):this.imod(it)},Mt.prototype.pow=function(tt,it){if(it.isZero())return new h(1).toRed(this);if(it.cmpn(1)===0)return tt.clone();var ht=4,dt=new Array(1<<ht);dt[0]=new h(1).toRed(this),dt[1]=tt;for(var lt=2;lt<dt.length;lt++)dt[lt]=this.mul(dt[lt-1],tt);var gt=dt[0],ot=0,vt=0,ct=it.bitLength()%26;for(ct===0&&(ct=26),lt=it.length-1;lt>=0;lt--){for(var yt=it.words[lt],Dt=ct-1;Dt>=0;Dt--){var Ht=yt>>Dt&1;if(gt!==dt[0]&&(gt=this.sqr(gt)),Ht===0&&ot===0){vt=0;continue}ot<<=1,ot|=Ht,vt++,!(vt!==ht&&(lt!==0||Dt!==0))&&(gt=this.mul(gt,dt[ot]),vt=0,ot=0)}ct=26}return gt},Mt.prototype.convertTo=function(tt){var it=tt.umod(this.m);return it===tt?it.clone():it},Mt.prototype.convertFrom=function(tt){var it=tt.clone();return it.red=null,it},h.mont=function(tt){return new mt(tt)};function mt(ft){Mt.call(this,ft),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new h(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b(mt,Mt),mt.prototype.convertTo=function(tt){return this.imod(tt.ushln(this.shift))},mt.prototype.convertFrom=function(tt){var it=this.imod(tt.mul(this.rinv));return it.red=null,it},mt.prototype.imul=function(tt,it){if(tt.isZero()||it.isZero())return tt.words[0]=0,tt.length=1,tt;var ht=tt.imul(it),dt=ht.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),lt=ht.isub(dt).iushrn(this.shift),gt=lt;return lt.cmp(this.m)>=0?gt=lt.isub(this.m):lt.cmpn(0)<0&&(gt=lt.iadd(this.m)),gt._forceRed(this)},mt.prototype.mul=function(tt,it){if(tt.isZero()||it.isZero())return new h(0)._forceRed(this);var ht=tt.mul(it),dt=ht.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),lt=ht.isub(dt).iushrn(this.shift),gt=lt;return lt.cmp(this.m)>=0?gt=lt.isub(this.m):lt.cmpn(0)<0&&(gt=lt.iadd(this.m)),gt._forceRed(this)},mt.prototype.invm=function(tt){var it=this.imod(tt._invmp(this.m).mul(this.r2));return it._forceRed(this)}})(e,commonjsGlobal)}(bn)),bn.exports}var asn1$1={},asn1={},api={},vmBrowserify={},hasRequiredVmBrowserify;function requireVmBrowserify(){return hasRequiredVmBrowserify||(hasRequiredVmBrowserify=1,function(exports){var indexOf=function(e,a){if(e.indexOf)return e.indexOf(a);for(var c=0;c<e.length;c++)if(e[c]===a)return c;return-1},Object_keys=function(e){if(Object.keys)return Object.keys(e);var a=[];for(var c in e)a.push(c);return a},forEach=function(e,a){if(e.forEach)return e.forEach(a);for(var c=0;c<e.length;c++)a(e[c],c,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,a,c){Object.defineProperty(e,a,{writable:!0,enumerable:!1,configurable:!0,value:c})}}catch{return function(a,c,d){a[c]=d}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(a){if(!(this instanceof Script))return new Script(a);this.code=a};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var a=document.createElement("iframe");a.style||(a.style={}),a.style.display="none",document.body.appendChild(a);var c=a.contentWindow,d=c.eval,b=c.execScript;!d&&b&&(b.call(c,"null"),d=c.eval),forEach(Object_keys(e),function(j){c[j]=e[j]}),forEach(globals,function(j){e[j]&&(c[j]=e[j])});var h=Object_keys(c),_=d.call(c,this.code);return forEach(Object_keys(c),function(j){(j in e||indexOf(h,j)===-1)&&(e[j]=c[j])}),forEach(globals,function(j){j in e||defineProp(e,j,c[j])}),document.body.removeChild(a),_},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var a=Script.createContext(e),c=this.runInContext(a);return e&&forEach(Object_keys(a),function(d){e[d]=a[d]}),c},forEach(Object_keys(Script.prototype),function(e){exports[e]=Script[e]=function(a){var c=Script(a);return c[e].apply(c,[].slice.call(arguments,1))}}),exports.isContext=function(e){return e instanceof Context},exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var a=new Context;return typeof e=="object"&&forEach(Object_keys(e),function(c){a[c]=e[c]}),a}}(vmBrowserify)),vmBrowserify}var hasRequiredApi;function requireApi(){return hasRequiredApi||(hasRequiredApi=1,function(e){var a=requireAsn1$1(),c=inherits_browserExports,d=e;d.define=function(_,j){return new b(_,j)};function b(h,_){this.name=h,this.body=_,this.decoders={},this.encoders={}}b.prototype._createNamed=function(_){var j;try{j=requireVmBrowserify().runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{j=function(et){this._initNamed(et)}}return c(j,_),j.prototype._initNamed=function(et){_.call(this,et)},new j(this)},b.prototype._getDecoder=function(_){return _=_||"der",this.decoders.hasOwnProperty(_)||(this.decoders[_]=this._createNamed(a.decoders[_])),this.decoders[_]},b.prototype.decode=function(_,j,_e){return this._getDecoder(j).decode(_,_e)},b.prototype._getEncoder=function(_){return _=_||"der",this.encoders.hasOwnProperty(_)||(this.encoders[_]=this._createNamed(a.encoders[_])),this.encoders[_]},b.prototype.encode=function(_,j,_e){return this._getEncoder(j).encode(_,_e)}}(api)),api}var base={},reporter={},hasRequiredReporter;function requireReporter(){if(hasRequiredReporter)return reporter;hasRequiredReporter=1;var e=inherits_browserExports;function a(d){this._reporterState={obj:null,path:[],options:d||{},errors:[]}}reporter.Reporter=a,a.prototype.isError=function(b){return b instanceof c},a.prototype.save=function(){var b=this._reporterState;return{obj:b.obj,pathLen:b.path.length}},a.prototype.restore=function(b){var h=this._reporterState;h.obj=b.obj,h.path=h.path.slice(0,b.pathLen)},a.prototype.enterKey=function(b){return this._reporterState.path.push(b)},a.prototype.exitKey=function(b){var h=this._reporterState;h.path=h.path.slice(0,b-1)},a.prototype.leaveKey=function(b,h,_){var j=this._reporterState;this.exitKey(b),j.obj!==null&&(j.obj[h]=_)},a.prototype.path=function(){return this._reporterState.path.join("/")},a.prototype.enterObject=function(){var b=this._reporterState,h=b.obj;return b.obj={},h},a.prototype.leaveObject=function(b){var h=this._reporterState,_=h.obj;return h.obj=b,_},a.prototype.error=function(b){var h,_=this._reporterState,j=b instanceof c;if(j?h=b:h=new c(_.path.map(function(_e){return"["+JSON.stringify(_e)+"]"}).join(""),b.message||b,b.stack),!_.options.partial)throw h;return j||_.errors.push(h),h},a.prototype.wrapResult=function(b){var h=this._reporterState;return h.options.partial?{result:this.isError(b)?null:b,errors:h.errors}:b};function c(d,b){this.path=d,this.rethrow(b)}return e(c,Error),c.prototype.rethrow=function(b){if(this.message=b+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,c),!this.stack)try{throw new Error(this.message)}catch(h){this.stack=h.stack}return this},reporter}var buffer={},hasRequiredBuffer;function requireBuffer(){if(hasRequiredBuffer)return buffer;hasRequiredBuffer=1;var e=inherits_browserExports,a=requireBase().Reporter,c=require$$0$1.Buffer;function d(h,_){if(a.call(this,_),!c.isBuffer(h)){this.error("Input not Buffer");return}this.base=h,this.offset=0,this.length=h.length}e(d,a),buffer.DecoderBuffer=d,d.prototype.save=function(){return{offset:this.offset,reporter:a.prototype.save.call(this)}},d.prototype.restore=function(_){var j=new d(this.base);return j.offset=_.offset,j.length=this.offset,this.offset=_.offset,a.prototype.restore.call(this,_.reporter),j},d.prototype.isEmpty=function(){return this.offset===this.length},d.prototype.readUInt8=function(_){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(_||"DecoderBuffer overrun")},d.prototype.skip=function(_,j){if(!(this.offset+_<=this.length))return this.error(j||"DecoderBuffer overrun");var _e=new d(this.base);return _e._reporterState=this._reporterState,_e.offset=this.offset,_e.length=this.offset+_,this.offset+=_,_e},d.prototype.raw=function(_){return this.base.slice(_?_.offset:this.offset,this.length)};function b(h,_){if(Array.isArray(h))this.length=0,this.value=h.map(function(j){return j instanceof b||(j=new b(j,_)),this.length+=j.length,j},this);else if(typeof h=="number"){if(!(0<=h&&h<=255))return _.error("non-byte EncoderBuffer value");this.value=h,this.length=1}else if(typeof h=="string")this.value=h,this.length=c.byteLength(h);else if(c.isBuffer(h))this.value=h,this.length=h.length;else return _.error("Unsupported type: "+typeof h)}return buffer.EncoderBuffer=b,b.prototype.join=function(_,j){return _||(_=new c(this.length)),j||(j=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(_e){_e.join(_,j),j+=_e.length}):(typeof this.value=="number"?_[j]=this.value:typeof this.value=="string"?_.write(this.value,j):c.isBuffer(this.value)&&this.value.copy(_,j),j+=this.length)),_},buffer}var node$1,hasRequiredNode;function requireNode(){if(hasRequiredNode)return node$1;hasRequiredNode=1;var e=requireBase().Reporter,a=requireBase().EncoderBuffer,c=requireBase().DecoderBuffer,d=requireMinimalisticAssert(),b=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],h=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(b),_=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function j(et,$){var rt={};this._baseState=rt,rt.enc=et,rt.parent=$||null,rt.children=null,rt.tag=null,rt.args=null,rt.reverseArgs=null,rt.choice=null,rt.optional=!1,rt.any=!1,rt.obj=!1,rt.use=null,rt.useDecoder=null,rt.key=null,rt.default=null,rt.explicit=null,rt.implicit=null,rt.contains=null,rt.parent||(rt.children=[],this._wrap())}node$1=j;var _e=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];return j.prototype.clone=function(){var $=this._baseState,rt={};_e.forEach(function(st){rt[st]=$[st]});var nt=new this.constructor(rt.parent);return nt._baseState=rt,nt},j.prototype._wrap=function(){var $=this._baseState;h.forEach(function(rt){this[rt]=function(){var st=new this.constructor(this);return $.children.push(st),st[rt].apply(st,arguments)}},this)},j.prototype._init=function($){var rt=this._baseState;d(rt.parent===null),$.call(this),rt.children=rt.children.filter(function(nt){return nt._baseState.parent===this},this),d.equal(rt.children.length,1,"Root node can have only one child")},j.prototype._useArgs=function($){var rt=this._baseState,nt=$.filter(function(st){return st instanceof this.constructor},this);$=$.filter(function(st){return!(st instanceof this.constructor)},this),nt.length!==0&&(d(rt.children===null),rt.children=nt,nt.forEach(function(st){st._baseState.parent=this},this)),$.length!==0&&(d(rt.args===null),rt.args=$,rt.reverseArgs=$.map(function(st){if(typeof st!="object"||st.constructor!==Object)return st;var at={};return Object.keys(st).forEach(function(ut){ut==(ut|0)&&(ut|=0);var wt=st[ut];at[wt]=ut}),at}))},_.forEach(function(et){j.prototype[et]=function(){var rt=this._baseState;throw new Error(et+" not implemented for encoding: "+rt.enc)}}),b.forEach(function(et){j.prototype[et]=function(){var rt=this._baseState,nt=Array.prototype.slice.call(arguments);return d(rt.tag===null),rt.tag=et,this._useArgs(nt),this}}),j.prototype.use=function($){d($);var rt=this._baseState;return d(rt.use===null),rt.use=$,this},j.prototype.optional=function(){var $=this._baseState;return $.optional=!0,this},j.prototype.def=function($){var rt=this._baseState;return d(rt.default===null),rt.default=$,rt.optional=!0,this},j.prototype.explicit=function($){var rt=this._baseState;return d(rt.explicit===null&&rt.implicit===null),rt.explicit=$,this},j.prototype.implicit=function($){var rt=this._baseState;return d(rt.explicit===null&&rt.implicit===null),rt.implicit=$,this},j.prototype.obj=function(){var $=this._baseState,rt=Array.prototype.slice.call(arguments);return $.obj=!0,rt.length!==0&&this._useArgs(rt),this},j.prototype.key=function($){var rt=this._baseState;return d(rt.key===null),rt.key=$,this},j.prototype.any=function(){var $=this._baseState;return $.any=!0,this},j.prototype.choice=function($){var rt=this._baseState;return d(rt.choice===null),rt.choice=$,this._useArgs(Object.keys($).map(function(nt){return $[nt]})),this},j.prototype.contains=function($){var rt=this._baseState;return d(rt.use===null),rt.contains=$,this},j.prototype._decode=function($,rt){var nt=this._baseState;if(nt.parent===null)return $.wrapResult(nt.children[0]._decode($,rt));var st=nt.default,at=!0,ut=null;if(nt.key!==null&&(ut=$.enterKey(nt.key)),nt.optional){var wt=null;if(nt.explicit!==null?wt=nt.explicit:nt.implicit!==null?wt=nt.implicit:nt.tag!==null&&(wt=nt.tag),wt===null&&!nt.any){var pt=$.save();try{nt.choice===null?this._decodeGeneric(nt.tag,$,rt):this._decodeChoice($,rt),at=!0}catch{at=!1}$.restore(pt)}else if(at=this._peekTag($,wt,nt.any),$.isError(at))return at}var xt;if(nt.obj&&at&&(xt=$.enterObject()),at){if(nt.explicit!==null){var St=this._decodeTag($,nt.explicit);if($.isError(St))return St;$=St}var Nt=$.offset;if(nt.use===null&&nt.choice===null){if(nt.any)var pt=$.save();var At=this._decodeTag($,nt.implicit!==null?nt.implicit:nt.tag,nt.any);if($.isError(At))return At;nt.any?st=$.raw(pt):$=At}if(rt&&rt.track&&nt.tag!==null&&rt.track($.path(),Nt,$.length,"tagged"),rt&&rt.track&&nt.tag!==null&&rt.track($.path(),$.offset,$.length,"content"),nt.any?st=st:nt.choice===null?st=this._decodeGeneric(nt.tag,$,rt):st=this._decodeChoice($,rt),$.isError(st))return st;if(!nt.any&&nt.choice===null&&nt.children!==null&&nt.children.forEach(function(Bt){Bt._decode($,rt)}),nt.contains&&(nt.tag==="octstr"||nt.tag==="bitstr")){var Ct=new c(st);st=this._getUse(nt.contains,$._reporterState.obj)._decode(Ct,rt)}}return nt.obj&&at&&(st=$.leaveObject(xt)),nt.key!==null&&(st!==null||at===!0)?$.leaveKey(ut,nt.key,st):ut!==null&&$.exitKey(ut),st},j.prototype._decodeGeneric=function($,rt,nt){var st=this._baseState;return $==="seq"||$==="set"?null:$==="seqof"||$==="setof"?this._decodeList(rt,$,st.args[0],nt):/str$/.test($)?this._decodeStr(rt,$,nt):$==="objid"&&st.args?this._decodeObjid(rt,st.args[0],st.args[1],nt):$==="objid"?this._decodeObjid(rt,null,null,nt):$==="gentime"||$==="utctime"?this._decodeTime(rt,$,nt):$==="null_"?this._decodeNull(rt,nt):$==="bool"?this._decodeBool(rt,nt):$==="objDesc"?this._decodeStr(rt,$,nt):$==="int"||$==="enum"?this._decodeInt(rt,st.args&&st.args[0],nt):st.use!==null?this._getUse(st.use,rt._reporterState.obj)._decode(rt,nt):rt.error("unknown tag: "+$)},j.prototype._getUse=function($,rt){var nt=this._baseState;return nt.useDecoder=this._use($,rt),d(nt.useDecoder._baseState.parent===null),nt.useDecoder=nt.useDecoder._baseState.children[0],nt.implicit!==nt.useDecoder._baseState.implicit&&(nt.useDecoder=nt.useDecoder.clone(),nt.useDecoder._baseState.implicit=nt.implicit),nt.useDecoder},j.prototype._decodeChoice=function($,rt){var nt=this._baseState,st=null,at=!1;return Object.keys(nt.choice).some(function(ut){var wt=$.save(),pt=nt.choice[ut];try{var xt=pt._decode($,rt);if($.isError(xt))return!1;st={type:ut,value:xt},at=!0}catch{return $.restore(wt),!1}return!0},this),at?st:$.error("Choice not matched")},j.prototype._createEncoderBuffer=function($){return new a($,this.reporter)},j.prototype._encode=function($,rt,nt){var st=this._baseState;if(!(st.default!==null&&st.default===$)){var at=this._encodeValue($,rt,nt);if(at!==void 0&&!this._skipDefault(at,rt,nt))return at}},j.prototype._encodeValue=function($,rt,nt){var st=this._baseState;if(st.parent===null)return st.children[0]._encode($,rt||new e);var pt=null;if(this.reporter=rt,st.optional&&$===void 0)if(st.default!==null)$=st.default;else return;var at=null,ut=!1;if(st.any)pt=this._createEncoderBuffer($);else if(st.choice)pt=this._encodeChoice($,rt);else if(st.contains)at=this._getUse(st.contains,nt)._encode($,rt),ut=!0;else if(st.children)at=st.children.map(function(Nt){if(Nt._baseState.tag==="null_")return Nt._encode(null,rt,$);if(Nt._baseState.key===null)return rt.error("Child should have a key");var At=rt.enterKey(Nt._baseState.key);if(typeof $!="object")return rt.error("Child expected, but input is not object");var Ct=Nt._encode($[Nt._baseState.key],rt,$);return rt.leaveKey(At),Ct},this).filter(function(Nt){return Nt}),at=this._createEncoderBuffer(at);else if(st.tag==="seqof"||st.tag==="setof"){if(!(st.args&&st.args.length===1))return rt.error("Too many args for : "+st.tag);if(!Array.isArray($))return rt.error("seqof/setof, but data is not Array");var wt=this.clone();wt._baseState.implicit=null,at=this._createEncoderBuffer($.map(function(Nt){var At=this._baseState;return this._getUse(At.args[0],$)._encode(Nt,rt)},wt))}else st.use!==null?pt=this._getUse(st.use,nt)._encode($,rt):(at=this._encodePrimitive(st.tag,$),ut=!0);var pt;if(!st.any&&st.choice===null){var xt=st.implicit!==null?st.implicit:st.tag,St=st.implicit===null?"universal":"context";xt===null?st.use===null&&rt.error("Tag could be omitted only for .use()"):st.use===null&&(pt=this._encodeComposite(xt,ut,St,at))}return st.explicit!==null&&(pt=this._encodeComposite(st.explicit,!1,"context",pt)),pt},j.prototype._encodeChoice=function($,rt){var nt=this._baseState,st=nt.choice[$.type];return st||d(!1,$.type+" not found in "+JSON.stringify(Object.keys(nt.choice))),st._encode($.value,rt)},j.prototype._encodePrimitive=function($,rt){var nt=this._baseState;if(/str$/.test($))return this._encodeStr(rt,$);if($==="objid"&&nt.args)return this._encodeObjid(rt,nt.reverseArgs[0],nt.args[1]);if($==="objid")return this._encodeObjid(rt,null,null);if($==="gentime"||$==="utctime")return this._encodeTime(rt,$);if($==="null_")return this._encodeNull();if($==="int"||$==="enum")return this._encodeInt(rt,nt.args&&nt.reverseArgs[0]);if($==="bool")return this._encodeBool(rt);if($==="objDesc")return this._encodeStr(rt,$);throw new Error("Unsupported tag: "+$)},j.prototype._isNumstr=function($){return/^[0-9 ]*$/.test($)},j.prototype._isPrintstr=function($){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test($)},node$1}var hasRequiredBase;function requireBase(){return hasRequiredBase||(hasRequiredBase=1,function(e){var a=e;a.Reporter=requireReporter().Reporter,a.DecoderBuffer=requireBuffer().DecoderBuffer,a.EncoderBuffer=requireBuffer().EncoderBuffer,a.Node=requireNode()}(base)),base}var constants={},der={},hasRequiredDer$2;function requireDer$2(){return hasRequiredDer$2||(hasRequiredDer$2=1,function(e){var a=requireConstants();e.tagClass={0:"universal",1:"application",2:"context",3:"private"},e.tagClassByName=a._reverse(e.tagClass),e.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},e.tagByName=a._reverse(e.tag)}(der)),der}var hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,function(e){var a=e;a._reverse=function(d){var b={};return Object.keys(d).forEach(function(h){(h|0)==h&&(h=h|0);var _=d[h];b[_]=h}),b},a.der=requireDer$2()}(constants)),constants}var decoders={},der_1$1,hasRequiredDer$1;function requireDer$1(){if(hasRequiredDer$1)return der_1$1;hasRequiredDer$1=1;var e=inherits_browserExports,a=requireAsn1$1(),c=a.base,d=a.bignum,b=a.constants.der;function h(et){this.enc="der",this.name=et.name,this.entity=et,this.tree=new _,this.tree._init(et.body)}der_1$1=h,h.prototype.decode=function($,rt){return $ instanceof c.DecoderBuffer||($=new c.DecoderBuffer($,rt)),this.tree._decode($,rt)};function _(et){c.Node.call(this,"der",et)}e(_,c.Node),_.prototype._peekTag=function($,rt,nt){if($.isEmpty())return!1;var st=$.save(),at=j($,'Failed to peek tag: "'+rt+'"');return $.isError(at)?at:($.restore(st),at.tag===rt||at.tagStr===rt||at.tagStr+"of"===rt||nt)},_.prototype._decodeTag=function($,rt,nt){var st=j($,'Failed to decode tag of "'+rt+'"');if($.isError(st))return st;var at=_e($,st.primitive,'Failed to get length of "'+rt+'"');if($.isError(at))return at;if(!nt&&st.tag!==rt&&st.tagStr!==rt&&st.tagStr+"of"!==rt)return $.error('Failed to match tag: "'+rt+'"');if(st.primitive||at!==null)return $.skip(at,'Failed to match body of: "'+rt+'"');var ut=$.save(),wt=this._skipUntilEnd($,'Failed to skip indefinite length body: "'+this.tag+'"');return $.isError(wt)?wt:(at=$.offset-ut.offset,$.restore(ut),$.skip(at,'Failed to match body of: "'+rt+'"'))},_.prototype._skipUntilEnd=function($,rt){for(;;){var nt=j($,rt);if($.isError(nt))return nt;var st=_e($,nt.primitive,rt);if($.isError(st))return st;var at;if(nt.primitive||st!==null?at=$.skip(st):at=this._skipUntilEnd($,rt),$.isError(at))return at;if(nt.tagStr==="end")break}},_.prototype._decodeList=function($,rt,nt,st){for(var at=[];!$.isEmpty();){var ut=this._peekTag($,"end");if($.isError(ut))return ut;var wt=nt.decode($,"der",st);if($.isError(wt)&&ut)break;at.push(wt)}return at},_.prototype._decodeStr=function($,rt){if(rt==="bitstr"){var nt=$.readUInt8();return $.isError(nt)?nt:{unused:nt,data:$.raw()}}else if(rt==="bmpstr"){var st=$.raw();if(st.length%2===1)return $.error("Decoding of string type: bmpstr length mismatch");for(var at="",ut=0;ut<st.length/2;ut++)at+=String.fromCharCode(st.readUInt16BE(ut*2));return at}else if(rt==="numstr"){var wt=$.raw().toString("ascii");return this._isNumstr(wt)?wt:$.error("Decoding of string type: numstr unsupported characters")}else{if(rt==="octstr")return $.raw();if(rt==="objDesc")return $.raw();if(rt==="printstr"){var pt=$.raw().toString("ascii");return this._isPrintstr(pt)?pt:$.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(rt)?$.raw().toString():$.error("Decoding of string type: "+rt+" unsupported")}},_.prototype._decodeObjid=function($,rt,nt){for(var st,at=[],ut=0;!$.isEmpty();){var wt=$.readUInt8();ut<<=7,ut|=wt&127,wt&128||(at.push(ut),ut=0)}wt&128&&at.push(ut);var pt=at[0]/40|0,xt=at[0]%40;if(nt?st=at:st=[pt,xt].concat(at.slice(1)),rt){var St=rt[st.join(" ")];St===void 0&&(St=rt[st.join(".")]),St!==void 0&&(st=St)}return st},_.prototype._decodeTime=function($,rt){var nt=$.raw().toString();if(rt==="gentime")var st=nt.slice(0,4)|0,at=nt.slice(4,6)|0,ut=nt.slice(6,8)|0,wt=nt.slice(8,10)|0,pt=nt.slice(10,12)|0,xt=nt.slice(12,14)|0;else if(rt==="utctime"){var st=nt.slice(0,2)|0,at=nt.slice(2,4)|0,ut=nt.slice(4,6)|0,wt=nt.slice(6,8)|0,pt=nt.slice(8,10)|0,xt=nt.slice(10,12)|0;st<70?st=2e3+st:st=1900+st}else return $.error("Decoding "+rt+" time is not supported yet");return Date.UTC(st,at-1,ut,wt,pt,xt,0)},_.prototype._decodeNull=function($){return null},_.prototype._decodeBool=function($){var rt=$.readUInt8();return $.isError(rt)?rt:rt!==0},_.prototype._decodeInt=function($,rt){var nt=$.raw(),st=new d(nt);return rt&&(st=rt[st.toString(10)]||st),st},_.prototype._use=function($,rt){return typeof $=="function"&&($=$(rt)),$._getDecoder("der").tree};function j(et,$){var rt=et.readUInt8($);if(et.isError(rt))return rt;var nt=b.tagClass[rt>>6],st=(rt&32)===0;if((rt&31)===31){var at=rt;for(rt=0;(at&128)===128;){if(at=et.readUInt8($),et.isError(at))return at;rt<<=7,rt|=at&127}}else rt&=31;var ut=b.tag[rt];return{cls:nt,primitive:st,tag:rt,tagStr:ut}}function _e(et,$,rt){var nt=et.readUInt8(rt);if(et.isError(nt))return nt;if(!$&&nt===128)return null;if(!(nt&128))return nt;var st=nt&127;if(st>4)return et.error("length octect is too long");nt=0;for(var at=0;at<st;at++){nt<<=8;var ut=et.readUInt8(rt);if(et.isError(ut))return ut;nt|=ut}return nt}return der_1$1}var pem$1,hasRequiredPem$1;function requirePem$1(){if(hasRequiredPem$1)return pem$1;hasRequiredPem$1=1;var e=inherits_browserExports,a=require$$0$1.Buffer,c=requireDer$1();function d(b){c.call(this,b),this.enc="pem"}return e(d,c),pem$1=d,d.prototype.decode=function(h,_){for(var j=h.toString().split(/[\r\n]+/g),_e=_.label.toUpperCase(),et=/^-----(BEGIN|END) ([^-]+)-----$/,$=-1,rt=-1,nt=0;nt<j.length;nt++){var st=j[nt].match(et);if(st!==null&&st[2]===_e)if($===-1){if(st[1]!=="BEGIN")break;$=nt}else{if(st[1]!=="END")break;rt=nt;break}}if($===-1||rt===-1)throw new Error("PEM section not found for: "+_e);var at=j.slice($+1,rt).join("");at.replace(/[^a-z0-9\+\/=]+/gi,"");var ut=new a(at,"base64");return c.prototype.decode.call(this,ut,_)},pem$1}var hasRequiredDecoders;function requireDecoders(){return hasRequiredDecoders||(hasRequiredDecoders=1,function(e){var a=e;a.der=requireDer$1(),a.pem=requirePem$1()}(decoders)),decoders}var encoders={},der_1,hasRequiredDer;function requireDer(){if(hasRequiredDer)return der_1;hasRequiredDer=1;var e=inherits_browserExports,a=require$$0$1.Buffer,c=requireAsn1$1(),d=c.base,b=c.constants.der;function h(et){this.enc="der",this.name=et.name,this.entity=et,this.tree=new _,this.tree._init(et.body)}der_1=h,h.prototype.encode=function($,rt){return this.tree._encode($,rt).join()};function _(et){d.Node.call(this,"der",et)}e(_,d.Node),_.prototype._encodeComposite=function($,rt,nt,st){var at=_e($,rt,nt,this.reporter);if(st.length<128){var pt=new a(2);return pt[0]=at,pt[1]=st.length,this._createEncoderBuffer([pt,st])}for(var ut=1,wt=st.length;wt>=256;wt>>=8)ut++;var pt=new a(2+ut);pt[0]=at,pt[1]=128|ut;for(var wt=1+ut,xt=st.length;xt>0;wt--,xt>>=8)pt[wt]=xt&255;return this._createEncoderBuffer([pt,st])},_.prototype._encodeStr=function($,rt){if(rt==="bitstr")return this._createEncoderBuffer([$.unused|0,$.data]);if(rt==="bmpstr"){for(var nt=new a($.length*2),st=0;st<$.length;st++)nt.writeUInt16BE($.charCodeAt(st),st*2);return this._createEncoderBuffer(nt)}else return rt==="numstr"?this._isNumstr($)?this._createEncoderBuffer($):this.reporter.error("Encoding of string type: numstr supports only digits and space"):rt==="printstr"?this._isPrintstr($)?this._createEncoderBuffer($):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(rt)?this._createEncoderBuffer($):rt==="objDesc"?this._createEncoderBuffer($):this.reporter.error("Encoding of string type: "+rt+" unsupported")},_.prototype._encodeObjid=function($,rt,nt){if(typeof $=="string"){if(!rt)return this.reporter.error("string objid given, but no values map found");if(!rt.hasOwnProperty($))return this.reporter.error("objid not found in values map");$=rt[$].split(/[\s\.]+/g);for(var st=0;st<$.length;st++)$[st]|=0}else if(Array.isArray($)){$=$.slice();for(var st=0;st<$.length;st++)$[st]|=0}if(!Array.isArray($))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify($));if(!nt){if($[1]>=40)return this.reporter.error("Second objid identifier OOB");$.splice(0,2,$[0]*40+$[1])}for(var at=0,st=0;st<$.length;st++){var ut=$[st];for(at++;ut>=128;ut>>=7)at++}for(var wt=new a(at),pt=wt.length-1,st=$.length-1;st>=0;st--){var ut=$[st];for(wt[pt--]=ut&127;(ut>>=7)>0;)wt[pt--]=128|ut&127}return this._createEncoderBuffer(wt)};function j(et){return et<10?"0"+et:et}_.prototype._encodeTime=function($,rt){var nt,st=new Date($);return rt==="gentime"?nt=[j(st.getFullYear()),j(st.getUTCMonth()+1),j(st.getUTCDate()),j(st.getUTCHours()),j(st.getUTCMinutes()),j(st.getUTCSeconds()),"Z"].join(""):rt==="utctime"?nt=[j(st.getFullYear()%100),j(st.getUTCMonth()+1),j(st.getUTCDate()),j(st.getUTCHours()),j(st.getUTCMinutes()),j(st.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+rt+" time is not supported yet"),this._encodeStr(nt,"octstr")},_.prototype._encodeNull=function(){return this._createEncoderBuffer("")},_.prototype._encodeInt=function($,rt){if(typeof $=="string"){if(!rt)return this.reporter.error("String int or enum given, but no values map");if(!rt.hasOwnProperty($))return this.reporter.error("Values map doesn't contain: "+JSON.stringify($));$=rt[$]}if(typeof $!="number"&&!a.isBuffer($)){var nt=$.toArray();!$.sign&&nt[0]&128&&nt.unshift(0),$=new a(nt)}if(a.isBuffer($)){var st=$.length;$.length===0&&st++;var ut=new a(st);return $.copy(ut),$.length===0&&(ut[0]=0),this._createEncoderBuffer(ut)}if($<128)return this._createEncoderBuffer($);if($<256)return this._createEncoderBuffer([0,$]);for(var st=1,at=$;at>=256;at>>=8)st++;for(var ut=new Array(st),at=ut.length-1;at>=0;at--)ut[at]=$&255,$>>=8;return ut[0]&128&&ut.unshift(0),this._createEncoderBuffer(new a(ut))},_.prototype._encodeBool=function($){return this._createEncoderBuffer($?255:0)},_.prototype._use=function($,rt){return typeof $=="function"&&($=$(rt)),$._getEncoder("der").tree},_.prototype._skipDefault=function($,rt,nt){var st=this._baseState,at;if(st.default===null)return!1;var ut=$.join();if(st.defaultBuffer===void 0&&(st.defaultBuffer=this._encodeValue(st.default,rt,nt).join()),ut.length!==st.defaultBuffer.length)return!1;for(at=0;at<ut.length;at++)if(ut[at]!==st.defaultBuffer[at])return!1;return!0};function _e(et,$,rt,nt){var st;if(et==="seqof"?et="seq":et==="setof"&&(et="set"),b.tagByName.hasOwnProperty(et))st=b.tagByName[et];else if(typeof et=="number"&&(et|0)===et)st=et;else return nt.error("Unknown tag: "+et);return st>=31?nt.error("Multi-octet tag encoding unsupported"):($||(st|=32),st|=b.tagClassByName[rt||"universal"]<<6,st)}return der_1}var pem,hasRequiredPem;function requirePem(){if(hasRequiredPem)return pem;hasRequiredPem=1;var e=inherits_browserExports,a=requireDer();function c(d){a.call(this,d),this.enc="pem"}return e(c,a),pem=c,c.prototype.encode=function(b,h){for(var _=a.prototype.encode.call(this,b),j=_.toString("base64"),_e=["-----BEGIN "+h.label+"-----"],et=0;et<j.length;et+=64)_e.push(j.slice(et,et+64));return _e.push("-----END "+h.label+"-----"),_e.join(`
`)},pem}var hasRequiredEncoders;function requireEncoders(){return hasRequiredEncoders||(hasRequiredEncoders=1,function(e){var a=e;a.der=requireDer(),a.pem=requirePem()}(encoders)),encoders}var hasRequiredAsn1$1;function requireAsn1$1(){return hasRequiredAsn1$1||(hasRequiredAsn1$1=1,function(e){var a=e;a.bignum=requireBn$2(),a.define=requireApi().define,a.base=requireBase(),a.constants=requireConstants(),a.decoders=requireDecoders(),a.encoders=requireEncoders()}(asn1)),asn1}var certificate,hasRequiredCertificate;function requireCertificate(){if(hasRequiredCertificate)return certificate;hasRequiredCertificate=1;var e=requireAsn1$1(),a=e.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),c=e.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),d=e.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),b=e.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(d),this.key("subjectPublicKey").bitstr())}),h=e.define("RelativeDistinguishedName",function(){this.setof(c)}),_=e.define("RDNSequence",function(){this.seqof(h)}),j=e.define("Name",function(){this.choice({rdnSequence:this.use(_)})}),_e=e.define("Validity",function(){this.seq().obj(this.key("notBefore").use(a),this.key("notAfter").use(a))}),et=e.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),$=e.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(d),this.key("issuer").use(j),this.key("validity").use(_e),this.key("subject").use(j),this.key("subjectPublicKeyInfo").use(b),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(et).optional())}),rt=e.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use($),this.key("signatureAlgorithm").use(d),this.key("signatureValue").bitstr())});return certificate=rt,certificate}var hasRequiredAsn1;function requireAsn1(){if(hasRequiredAsn1)return asn1$1;hasRequiredAsn1=1;var e=requireAsn1$1();asn1$1.certificate=requireCertificate();var a=e.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});asn1$1.RSAPrivateKey=a;var c=e.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});asn1$1.RSAPublicKey=c;var d=e.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),b=e.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(d),this.key("subjectPublicKey").bitstr())});asn1$1.PublicKey=b;var h=e.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(d),this.key("subjectPrivateKey").octstr())});asn1$1.PrivateKey=h;var _=e.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});asn1$1.EncryptedPrivateKey=_;var j=e.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});asn1$1.DSAPrivateKey=j,asn1$1.DSAparam=e.define("DSAparam",function(){this.int()});var _e=e.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),et=e.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(_e),this.key("publicKey").optional().explicit(1).bitstr())});return asn1$1.ECPrivateKey=et,asn1$1.signature=e.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}),asn1$1}const require$$1={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var fixProc,hasRequiredFixProc;function requireFixProc(){if(hasRequiredFixProc)return fixProc;hasRequiredFixProc=1;var e=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,a=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,c=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,d=requireEvp_bytestokey(),b=requireBrowser$6(),h=requireSafeBuffer$2().Buffer;return fixProc=function(_,j){var _e=_.toString(),et=_e.match(e),$;if(et){var nt="aes"+et[1],st=h.from(et[2],"hex"),at=h.from(et[3].replace(/[\r\n]/g,""),"base64"),ut=d(j,st.slice(0,8),parseInt(et[1],10)).key,wt=[],pt=b.createDecipheriv(nt,ut,st);wt.push(pt.update(at)),wt.push(pt.final()),$=h.concat(wt)}else{var rt=_e.match(c);$=h.from(rt[2].replace(/[\r\n]/g,""),"base64")}var xt=_e.match(a)[1];return{tag:xt,data:$}},fixProc}var parseAsn1,hasRequiredParseAsn1;function requireParseAsn1(){if(hasRequiredParseAsn1)return parseAsn1;hasRequiredParseAsn1=1;var e=requireAsn1(),a=require$$1,c=requireFixProc(),d=requireBrowser$6(),b=requireBrowser$7().pbkdf2Sync,h=requireSafeBuffer$2().Buffer;function _(_e,et){var $=_e.algorithm.decrypt.kde.kdeparams.salt,rt=parseInt(_e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),nt=a[_e.algorithm.decrypt.cipher.algo.join(".")],st=_e.algorithm.decrypt.cipher.iv,at=_e.subjectPrivateKey,ut=parseInt(nt.split("-")[1],10)/8,wt=b(et,$,rt,ut,"sha1"),pt=d.createDecipheriv(nt,wt,st),xt=[];return xt.push(pt.update(at)),xt.push(pt.final()),h.concat(xt)}function j(_e){var et;typeof _e=="object"&&!h.isBuffer(_e)&&(et=_e.passphrase,_e=_e.key),typeof _e=="string"&&(_e=h.from(_e));var $=c(_e,et),rt=$.tag,nt=$.data,st,at;switch(rt){case"CERTIFICATE":at=e.certificate.decode(nt,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(at||(at=e.PublicKey.decode(nt,"der")),st=at.algorithm.algorithm.join("."),st){case"1.2.840.113549.1.1.1":return e.RSAPublicKey.decode(at.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return at.subjectPrivateKey=at.subjectPublicKey,{type:"ec",data:at};case"1.2.840.10040.4.1":return at.algorithm.params.pub_key=e.DSAparam.decode(at.subjectPublicKey.data,"der"),{type:"dsa",data:at.algorithm.params};default:throw new Error("unknown key id "+st)}case"ENCRYPTED PRIVATE KEY":nt=e.EncryptedPrivateKey.decode(nt,"der"),nt=_(nt,et);case"PRIVATE KEY":switch(at=e.PrivateKey.decode(nt,"der"),st=at.algorithm.algorithm.join("."),st){case"1.2.840.113549.1.1.1":return e.RSAPrivateKey.decode(at.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:at.algorithm.curve,privateKey:e.ECPrivateKey.decode(at.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return at.algorithm.params.priv_key=e.DSAparam.decode(at.subjectPrivateKey,"der"),{type:"dsa",params:at.algorithm.params};default:throw new Error("unknown key id "+st)}case"RSA PUBLIC KEY":return e.RSAPublicKey.decode(nt,"der");case"RSA PRIVATE KEY":return e.RSAPrivateKey.decode(nt,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:e.DSAPrivateKey.decode(nt,"der")};case"EC PRIVATE KEY":return nt=e.ECPrivateKey.decode(nt,"der"),{curve:nt.parameters.value,privateKey:nt.privateKey};default:throw new Error("unknown key type "+rt)}}return j.signature=e.signature,parseAsn1=j,parseAsn1}const require$$4={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var hasRequiredSign;function requireSign(){if(hasRequiredSign)return sign.exports;hasRequiredSign=1;var e=requireSafeBuffer$2().Buffer,a=requireBrowser$8(),c=requireBrowserifyRsa(),d=requireElliptic().ec,b=requireBn(),h=requireParseAsn1(),_=require$$4,j=1;function _e(pt,xt,St,Nt,At){var Ct=h(xt);if(Ct.curve){if(Nt!=="ecdsa"&&Nt!=="ecdsa/rsa")throw new Error("wrong private key type");return et(pt,Ct)}else if(Ct.type==="dsa"){if(Nt!=="dsa")throw new Error("wrong private key type");return $(pt,Ct,St)}if(Nt!=="rsa"&&Nt!=="ecdsa/rsa")throw new Error("wrong private key type");if(xt.padding!==void 0&&xt.padding!==j)throw new Error("illegal or unsupported padding mode");pt=e.concat([At,pt]);for(var Vt=Ct.modulus.byteLength(),Bt=[0,1];pt.length+Bt.length+1<Vt;)Bt.push(255);Bt.push(0);for(var Ut=-1;++Ut<pt.length;)Bt.push(pt[Ut]);var Ft=c(Bt,Ct);return Ft}function et(pt,xt){var St=_[xt.curve.join(".")];if(!St)throw new Error("unknown curve "+xt.curve.join("."));var Nt=new d(St),At=Nt.keyFromPrivate(xt.privateKey),Ct=At.sign(pt);return e.from(Ct.toDER())}function $(pt,xt,St){for(var Nt=xt.params.priv_key,At=xt.params.p,Ct=xt.params.q,Vt=xt.params.g,Bt=new b(0),Ut,Ft=st(pt,Ct).mod(Ct),Mt=!1,mt=nt(Nt,Ct,pt,St);Mt===!1;)Ut=ut(Ct,mt,St),Bt=wt(Vt,Ut,At,Ct),Mt=Ut.invm(Ct).imul(Ft.add(Nt.mul(Bt))).mod(Ct),Mt.cmpn(0)===0&&(Mt=!1,Bt=new b(0));return rt(Bt,Mt)}function rt(pt,xt){pt=pt.toArray(),xt=xt.toArray(),pt[0]&128&&(pt=[0].concat(pt)),xt[0]&128&&(xt=[0].concat(xt));var St=pt.length+xt.length+4,Nt=[48,St,2,pt.length];return Nt=Nt.concat(pt,[2,xt.length],xt),e.from(Nt)}function nt(pt,xt,St,Nt){if(pt=e.from(pt.toArray()),pt.length<xt.byteLength()){var At=e.alloc(xt.byteLength()-pt.length);pt=e.concat([At,pt])}var Ct=St.length,Vt=at(St,xt),Bt=e.alloc(Ct);Bt.fill(1);var Ut=e.alloc(Ct);return Ut=a(Nt,Ut).update(Bt).update(e.from([0])).update(pt).update(Vt).digest(),Bt=a(Nt,Ut).update(Bt).digest(),Ut=a(Nt,Ut).update(Bt).update(e.from([1])).update(pt).update(Vt).digest(),Bt=a(Nt,Ut).update(Bt).digest(),{k:Ut,v:Bt}}function st(pt,xt){var St=new b(pt),Nt=(pt.length<<3)-xt.bitLength();return Nt>0&&St.ishrn(Nt),St}function at(pt,xt){pt=st(pt,xt),pt=pt.mod(xt);var St=e.from(pt.toArray());if(St.length<xt.byteLength()){var Nt=e.alloc(xt.byteLength()-St.length);St=e.concat([Nt,St])}return St}function ut(pt,xt,St){var Nt,At;do{for(Nt=e.alloc(0);Nt.length*8<pt.bitLength();)xt.v=a(St,xt.k).update(xt.v).digest(),Nt=e.concat([Nt,xt.v]);At=st(Nt,pt),xt.k=a(St,xt.k).update(xt.v).update(e.from([0])).digest(),xt.v=a(St,xt.k).update(xt.v).digest()}while(At.cmp(pt)!==-1);return At}function wt(pt,xt,St,Nt){return pt.toRed(b.mont(St)).redPow(xt).fromRed().mod(Nt)}return sign.exports=_e,sign.exports.getKey=nt,sign.exports.makeKey=ut,sign.exports}var verify_1,hasRequiredVerify;function requireVerify(){if(hasRequiredVerify)return verify_1;hasRequiredVerify=1;var e=requireSafeBuffer$2().Buffer,a=requireBn(),c=requireElliptic().ec,d=requireParseAsn1(),b=require$$4;function h(et,$,rt,nt,st){var at=d(rt);if(at.type==="ec"){if(nt!=="ecdsa"&&nt!=="ecdsa/rsa")throw new Error("wrong public key type");return _(et,$,at)}else if(at.type==="dsa"){if(nt!=="dsa")throw new Error("wrong public key type");return j(et,$,at)}if(nt!=="rsa"&&nt!=="ecdsa/rsa")throw new Error("wrong public key type");$=e.concat([st,$]);for(var ut=at.modulus.byteLength(),wt=[1],pt=0;$.length+wt.length+2<ut;)wt.push(255),pt+=1;wt.push(0);for(var xt=-1;++xt<$.length;)wt.push($[xt]);wt=e.from(wt);var St=a.mont(at.modulus);et=new a(et).toRed(St),et=et.redPow(new a(at.publicExponent)),et=e.from(et.fromRed().toArray());var Nt=pt<8?1:0;for(ut=Math.min(et.length,wt.length),et.length!==wt.length&&(Nt=1),xt=-1;++xt<ut;)Nt|=et[xt]^wt[xt];return Nt===0}function _(et,$,rt){var nt=b[rt.data.algorithm.curve.join(".")];if(!nt)throw new Error("unknown curve "+rt.data.algorithm.curve.join("."));var st=new c(nt),at=rt.data.subjectPrivateKey.data;return st.verify($,et,at)}function j(et,$,rt){var nt=rt.data.p,st=rt.data.q,at=rt.data.g,ut=rt.data.pub_key,wt=d.signature.decode(et,"der"),pt=wt.s,xt=wt.r;_e(pt,st),_e(xt,st);var St=a.mont(nt),Nt=pt.invm(st),At=at.toRed(St).redPow(new a($).mul(Nt).mod(st)).fromRed().mul(ut.toRed(St).redPow(xt.mul(Nt).mod(st)).fromRed()).mod(nt).mod(st);return At.cmp(xt)===0}function _e(et,$){if(et.cmpn(0)<=0)throw new Error("invalid sig");if(et.cmp($)>=0)throw new Error("invalid sig")}return verify_1=h,verify_1}var browser$3,hasRequiredBrowser$3;function requireBrowser$3(){if(hasRequiredBrowser$3)return browser$3;hasRequiredBrowser$3=1;var e=requireSafeBuffer$2().Buffer,a=requireBrowser$9(),c=requireReadableBrowser(),d=inherits_browserExports,b=requireSign(),h=requireVerify(),_=require$$6;Object.keys(_).forEach(function(rt){_[rt].id=e.from(_[rt].id,"hex"),_[rt.toLowerCase()]=_[rt]});function j(rt){c.Writable.call(this);var nt=_[rt];if(!nt)throw new Error("Unknown message digest");this._hashType=nt.hash,this._hash=a(nt.hash),this._tag=nt.id,this._signType=nt.sign}d(j,c.Writable),j.prototype._write=function(nt,st,at){this._hash.update(nt),at()},j.prototype.update=function(nt,st){return this._hash.update(typeof nt=="string"?e.from(nt,st):nt),this},j.prototype.sign=function(nt,st){this.end();var at=this._hash.digest(),ut=b(at,nt,this._hashType,this._signType,this._tag);return st?ut.toString(st):ut};function _e(rt){c.Writable.call(this);var nt=_[rt];if(!nt)throw new Error("Unknown message digest");this._hash=a(nt.hash),this._tag=nt.id,this._signType=nt.sign}d(_e,c.Writable),_e.prototype._write=function(nt,st,at){this._hash.update(nt),at()},_e.prototype.update=function(nt,st){return this._hash.update(typeof nt=="string"?e.from(nt,st):nt),this},_e.prototype.verify=function(nt,st,at){var ut=typeof st=="string"?e.from(st,at):st;this.end();var wt=this._hash.digest();return h(ut,wt,nt,this._signType,this._tag)};function et(rt){return new j(rt)}function $(rt){return new _e(rt)}return browser$3={Sign:et,Verify:$,createSign:et,createVerify:$},browser$3}var browser$2,hasRequiredBrowser$2;function requireBrowser$2(){if(hasRequiredBrowser$2)return browser$2;hasRequiredBrowser$2=1;var e=requireElliptic(),a=requireBn$2();browser$2=function(_){return new d(_)};var c={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};c.p224=c.secp224r1,c.p256=c.secp256r1=c.prime256v1,c.p192=c.secp192r1=c.prime192v1,c.p384=c.secp384r1,c.p521=c.secp521r1;function d(h){this.curveType=c[h],this.curveType||(this.curveType={name:h}),this.curve=new e.ec(this.curveType.name),this.keys=void 0}d.prototype.generateKeys=function(h,_){return this.keys=this.curve.genKeyPair(),this.getPublicKey(h,_)},d.prototype.computeSecret=function(h,_,j){_=_||"utf8",Buffer.isBuffer(h)||(h=new Buffer(h,_));var _e=this.curve.keyFromPublic(h).getPublic(),et=_e.mul(this.keys.getPrivate()).getX();return b(et,j,this.curveType.byteLength)},d.prototype.getPublicKey=function(h,_){var j=this.keys.getPublic(_==="compressed",!0);return _==="hybrid"&&(j[j.length-1]%2?j[0]=7:j[0]=6),b(j,h)},d.prototype.getPrivateKey=function(h){return b(this.keys.getPrivate(),h)},d.prototype.setPublicKey=function(h,_){return _=_||"utf8",Buffer.isBuffer(h)||(h=new Buffer(h,_)),this.keys._importPublic(h),this},d.prototype.setPrivateKey=function(h,_){_=_||"utf8",Buffer.isBuffer(h)||(h=new Buffer(h,_));var j=new a(h);return j=j.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(j),this};function b(h,_,j){Array.isArray(h)||(h=h.toArray());var _e=new Buffer(h);if(j&&_e.length<j){var et=new Buffer(j-_e.length);et.fill(0),_e=Buffer.concat([et,_e])}return _?_e.toString(_):_e}return browser$2}var browser$1={},mgf,hasRequiredMgf;function requireMgf(){if(hasRequiredMgf)return mgf;hasRequiredMgf=1;var e=requireBrowser$9(),a=requireSafeBuffer$2().Buffer;mgf=function(d,b){for(var h=a.alloc(0),_=0,j;h.length<b;)j=c(_++),h=a.concat([h,e("sha1").update(d).update(j).digest()]);return h.slice(0,b)};function c(d){var b=a.allocUnsafe(4);return b.writeUInt32BE(d,0),b}return mgf}var xor,hasRequiredXor;function requireXor(){return hasRequiredXor||(hasRequiredXor=1,xor=function(a,c){for(var d=a.length,b=-1;++b<d;)a[b]^=c[b];return a}),xor}var withPublic_1,hasRequiredWithPublic;function requireWithPublic(){if(hasRequiredWithPublic)return withPublic_1;hasRequiredWithPublic=1;var e=requireBn$2(),a=requireSafeBuffer$2().Buffer;function c(d,b){return a.from(d.toRed(e.mont(b.modulus)).redPow(new e(b.publicExponent)).fromRed().toArray())}return withPublic_1=c,withPublic_1}var publicEncrypt,hasRequiredPublicEncrypt;function requirePublicEncrypt(){if(hasRequiredPublicEncrypt)return publicEncrypt;hasRequiredPublicEncrypt=1;var e=requireParseAsn1(),a=requireBrowser$b(),c=requireBrowser$9(),d=requireMgf(),b=requireXor(),h=requireBn$2(),_=requireWithPublic(),j=requireBrowserifyRsa(),_e=requireSafeBuffer$2().Buffer;publicEncrypt=function(st,at,ut){var wt;st.padding?wt=st.padding:ut?wt=1:wt=4;var pt=e(st),xt;if(wt===4)xt=et(pt,at);else if(wt===1)xt=$(pt,at,ut);else if(wt===3){if(xt=new h(at),xt.cmp(pt.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return ut?j(xt,pt):_(xt,pt)};function et(nt,st){var at=nt.modulus.byteLength(),ut=st.length,wt=c("sha1").update(_e.alloc(0)).digest(),pt=wt.length,xt=2*pt;if(ut>at-xt-2)throw new Error("message too long");var St=_e.alloc(at-ut-xt-2),Nt=at-pt-1,At=a(pt),Ct=b(_e.concat([wt,St,_e.alloc(1,1),st],Nt),d(At,Nt)),Vt=b(At,d(Ct,pt));return new h(_e.concat([_e.alloc(1),Vt,Ct],at))}function $(nt,st,at){var ut=st.length,wt=nt.modulus.byteLength();if(ut>wt-11)throw new Error("message too long");var pt;return at?pt=_e.alloc(wt-ut-3,255):pt=rt(wt-ut-3),new h(_e.concat([_e.from([0,at?1:2]),pt,_e.alloc(1),st],wt))}function rt(nt){for(var st=_e.allocUnsafe(nt),at=0,ut=a(nt*2),wt=0,pt;at<nt;)wt===ut.length&&(ut=a(nt*2),wt=0),pt=ut[wt++],pt&&(st[at++]=pt);return st}return publicEncrypt}var privateDecrypt,hasRequiredPrivateDecrypt;function requirePrivateDecrypt(){if(hasRequiredPrivateDecrypt)return privateDecrypt;hasRequiredPrivateDecrypt=1;var e=requireParseAsn1(),a=requireMgf(),c=requireXor(),d=requireBn$2(),b=requireBrowserifyRsa(),h=requireBrowser$9(),_=requireWithPublic(),j=requireSafeBuffer$2().Buffer;privateDecrypt=function(nt,st,at){var ut;nt.padding?ut=nt.padding:at?ut=1:ut=4;var wt=e(nt),pt=wt.modulus.byteLength();if(st.length>pt||new d(st).cmp(wt.modulus)>=0)throw new Error("decryption error");var xt;at?xt=_(new d(st),wt):xt=b(st,wt);var St=j.alloc(pt-xt.length);if(xt=j.concat([St,xt],pt),ut===4)return _e(wt,xt);if(ut===1)return et(wt,xt,at);if(ut===3)return xt;throw new Error("unknown padding")};function _e(rt,nt){var st=rt.modulus.byteLength(),at=h("sha1").update(j.alloc(0)).digest(),ut=at.length;if(nt[0]!==0)throw new Error("decryption error");var wt=nt.slice(1,ut+1),pt=nt.slice(ut+1),xt=c(wt,a(pt,ut)),St=c(pt,a(xt,st-ut-1));if($(at,St.slice(0,ut)))throw new Error("decryption error");for(var Nt=ut;St[Nt]===0;)Nt++;if(St[Nt++]!==1)throw new Error("decryption error");return St.slice(Nt)}function et(rt,nt,st){for(var at=nt.slice(0,2),ut=2,wt=0;nt[ut++]!==0;)if(ut>=nt.length){wt++;break}var pt=nt.slice(2,ut-1);if((at.toString("hex")!=="0002"&&!st||at.toString("hex")!=="0001"&&st)&&wt++,pt.length<8&&wt++,wt)throw new Error("decryption error");return nt.slice(ut)}function $(rt,nt){rt=j.from(rt),nt=j.from(nt);var st=0,at=rt.length;rt.length!==nt.length&&(st++,at=Math.min(rt.length,nt.length));for(var ut=-1;++ut<at;)st+=rt[ut]^nt[ut];return st}return privateDecrypt}var hasRequiredBrowser$1;function requireBrowser$1(){return hasRequiredBrowser$1||(hasRequiredBrowser$1=1,function(e){e.publicEncrypt=requirePublicEncrypt(),e.privateDecrypt=requirePrivateDecrypt(),e.privateEncrypt=function(c,d){return e.publicEncrypt(c,d,!0)},e.publicDecrypt=function(c,d){return e.privateDecrypt(c,d,!0)}}(browser$1)),browser$1}var browser={},hasRequiredBrowser;function requireBrowser(){if(hasRequiredBrowser)return browser;hasRequiredBrowser=1;function e(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var a=requireSafeBuffer$2(),c=requireBrowser$b(),d=a.Buffer,b=a.kMaxLength,h=commonjsGlobal.crypto||commonjsGlobal.msCrypto,_=Math.pow(2,32)-1;function j(nt,st){if(typeof nt!="number"||nt!==nt)throw new TypeError("offset must be a number");if(nt>_||nt<0)throw new TypeError("offset must be a uint32");if(nt>b||nt>st)throw new RangeError("offset out of range")}function _e(nt,st,at){if(typeof nt!="number"||nt!==nt)throw new TypeError("size must be a number");if(nt>_||nt<0)throw new TypeError("size must be a uint32");if(nt+st>at||nt>b)throw new RangeError("buffer too small")}h&&h.getRandomValues||!process$1.browser?(browser.randomFill=et,browser.randomFillSync=rt):(browser.randomFill=e,browser.randomFillSync=e);function et(nt,st,at,ut){if(!d.isBuffer(nt)&&!(nt instanceof commonjsGlobal.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof st=="function")ut=st,st=0,at=nt.length;else if(typeof at=="function")ut=at,at=nt.length-st;else if(typeof ut!="function")throw new TypeError('"cb" argument must be a function');return j(st,nt.length),_e(at,st,nt.length),$(nt,st,at,ut)}function $(nt,st,at,ut){if(process$1.browser){var wt=nt.buffer,pt=new Uint8Array(wt,st,at);if(h.getRandomValues(pt),ut){process$1.nextTick(function(){ut(null,nt)});return}return nt}if(ut){c(at,function(St,Nt){if(St)return ut(St);Nt.copy(nt,st),ut(null,nt)});return}var xt=c(at);return xt.copy(nt,st),nt}function rt(nt,st,at){if(typeof st>"u"&&(st=0),!d.isBuffer(nt)&&!(nt instanceof commonjsGlobal.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return j(st,nt.length),at===void 0&&(at=nt.length-st),_e(at,st,nt.length),$(nt,st,at)}return browser}var hasRequiredCryptoBrowserify;function requireCryptoBrowserify(){if(hasRequiredCryptoBrowserify)return cryptoBrowserify;hasRequiredCryptoBrowserify=1,cryptoBrowserify.randomBytes=cryptoBrowserify.rng=cryptoBrowserify.pseudoRandomBytes=cryptoBrowserify.prng=requireBrowser$b(),cryptoBrowserify.createHash=cryptoBrowserify.Hash=requireBrowser$9(),cryptoBrowserify.createHmac=cryptoBrowserify.Hmac=requireBrowser$8();var e=requireAlgos(),a=Object.keys(e),c=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(a);cryptoBrowserify.getHashes=function(){return c};var d=requireBrowser$7();cryptoBrowserify.pbkdf2=d.pbkdf2,cryptoBrowserify.pbkdf2Sync=d.pbkdf2Sync;var b=requireBrowser$5();cryptoBrowserify.Cipher=b.Cipher,cryptoBrowserify.createCipher=b.createCipher,cryptoBrowserify.Cipheriv=b.Cipheriv,cryptoBrowserify.createCipheriv=b.createCipheriv,cryptoBrowserify.Decipher=b.Decipher,cryptoBrowserify.createDecipher=b.createDecipher,cryptoBrowserify.Decipheriv=b.Decipheriv,cryptoBrowserify.createDecipheriv=b.createDecipheriv,cryptoBrowserify.getCiphers=b.getCiphers,cryptoBrowserify.listCiphers=b.listCiphers;var h=requireBrowser$4();cryptoBrowserify.DiffieHellmanGroup=h.DiffieHellmanGroup,cryptoBrowserify.createDiffieHellmanGroup=h.createDiffieHellmanGroup,cryptoBrowserify.getDiffieHellman=h.getDiffieHellman,cryptoBrowserify.createDiffieHellman=h.createDiffieHellman,cryptoBrowserify.DiffieHellman=h.DiffieHellman;var _=requireBrowser$3();cryptoBrowserify.createSign=_.createSign,cryptoBrowserify.Sign=_.Sign,cryptoBrowserify.createVerify=_.createVerify,cryptoBrowserify.Verify=_.Verify,cryptoBrowserify.createECDH=requireBrowser$2();var j=requireBrowser$1();cryptoBrowserify.publicEncrypt=j.publicEncrypt,cryptoBrowserify.privateEncrypt=j.privateEncrypt,cryptoBrowserify.publicDecrypt=j.publicDecrypt,cryptoBrowserify.privateDecrypt=j.privateDecrypt;var _e=requireBrowser();return cryptoBrowserify.randomFill=_e.randomFill,cryptoBrowserify.randomFillSync=_e.randomFillSync,cryptoBrowserify.createCredentials=function(){throw new Error(`sorry, createCredentials is not implemented yet
we accept pull requests
https://github.com/browserify/crypto-browserify`)},cryptoBrowserify.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},cryptoBrowserify}(function(e,a){var c=void 0,d=function(b){return c||(c=new Promise(function(h,_){var j=typeof b<"u"?b:{},_e=j.onAbort;j.onAbort=function(bt){_(new Error(bt)),_e&&_e(bt)},j.postRun=j.postRun||[],j.postRun.push(function(){h(j)}),e=void 0;var et;et||(et=typeof j<"u"?j:{});var $=typeof window=="object",rt=typeof WorkerGlobalScope<"u",nt=typeof process$1=="object"&&typeof process$1.versions=="object"&&typeof process$1.versions.node=="string"&&process$1.type!="renderer";et.onRuntimeInitialized=function(){function bt(ar,br){switch(typeof br){case"boolean":Il(ar,br?1:0);break;case"number":Ml(ar,br);break;case"string":Al(ar,br,-1,-1);break;case"object":if(br===null)yo(ar);else if(br.length!=null){var $r=Zs(br,Ws);Cl(ar,$r,br.length,-1),Ks($r)}else Gs(ar,"Wrong API use : tried to return a value of an unknown type ("+br+").",-1);break;default:yo(ar)}}function jt(ar,br){for(var $r=[],zr=0;zr<ar;zr+=1){var Zr=It(br+4*zr,"i32"),an=El(Zr);if(an===1||an===2)Zr=Nl(Zr);else if(an===3)Zr=_l(Zr);else if(an===4){an=Zr,Zr=Sl(an),an=Rl(an);for(var Ln=new Uint8Array(Zr),On=0;On<Zr;On+=1)Ln[On]=Ft[an+On];Zr=Ln}else Zr=null;$r.push(Zr)}return $r}function Pt(ar,br){this.Qa=ar,this.db=br,this.Oa=1,this.lb=[]}function zt(ar,br){if(this.db=br,br=Qt(ar)+1,this.eb=xa(br),this.eb===null)throw Error("Unable to allocate memory for the SQL string");tr(ar,Mt,this.eb,br),this.kb=this.eb,this.Za=this.pb=null}function Yt(ar){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),ar!=null){var br=this.filename,$r="/",zr=br;if($r&&($r=typeof $r=="string"?$r:jr($r),zr=br?sr($r+"/"+br):$r),br=Jt(!0,!0),zr=Pn(zr,br),ar){if(typeof ar=="string"){$r=Array(ar.length);for(var Zr=0,an=ar.length;Zr<an;++Zr)$r[Zr]=ar.charCodeAt(Zr);ar=$r}yn(zr,br|146),$r=hn(zr,577),Un($r,ar,0,ar.length,0),En($r),yn(zr,br)}}this.handleError(Lr(this.filename,or)),this.db=It(or,"i32"),bo(this.db),this.fb={},this.Sa={}}var or=Jn(4),pr=et.cwrap,Lr=pr("sqlite3_open","number",["string","number"]),Xr=pr("sqlite3_close_v2","number",["number"]),Gr=pr("sqlite3_exec","number",["number","string","number","number","number"]),cn=pr("sqlite3_changes","number",["number"]),In=pr("sqlite3_prepare_v2","number",["number","string","number","number","number"]),ho=pr("sqlite3_sql","string",["number"]),Do=pr("sqlite3_normalized_sql","string",["number"]),po=pr("sqlite3_prepare_v2","number",["number","number","number","number","number"]),Fo=pr("sqlite3_bind_text","number",["number","number","number","number","number"]),mo=pr("sqlite3_bind_blob","number",["number","number","number","number","number"]),Uo=pr("sqlite3_bind_double","number",["number","number","number"]),zo=pr("sqlite3_bind_int","number",["number","number","number"]),Vo=pr("sqlite3_bind_parameter_index","number",["number","string"]),Ho=pr("sqlite3_step","number",["number"]),Wo=pr("sqlite3_errmsg","string",["number"]),Zo=pr("sqlite3_column_count","number",["number"]),Ko=pr("sqlite3_data_count","number",["number"]),Go=pr("sqlite3_column_double","number",["number","number"]),go=pr("sqlite3_column_text","string",["number","number"]),Qo=pr("sqlite3_column_blob","number",["number","number"]),Xo=pr("sqlite3_column_bytes","number",["number","number"]),Yo=pr("sqlite3_column_type","number",["number","number"]),Jo=pr("sqlite3_column_name","string",["number","number"]),xl=pr("sqlite3_reset","number",["number"]),yl=pr("sqlite3_clear_bindings","number",["number"]),wl=pr("sqlite3_finalize","number",["number"]),xo=pr("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),El=pr("sqlite3_value_type","number",["number"]),Sl=pr("sqlite3_value_bytes","number",["number"]),_l=pr("sqlite3_value_text","string",["number"]),Rl=pr("sqlite3_value_blob","number",["number"]),Nl=pr("sqlite3_value_double","number",["number"]),Ml=pr("sqlite3_result_double","",["number","number"]),yo=pr("sqlite3_result_null","",["number"]),Al=pr("sqlite3_result_text","",["number","string","number","number"]),Cl=pr("sqlite3_result_blob","",["number","number","number","number"]),Il=pr("sqlite3_result_int","",["number","number"]),Gs=pr("sqlite3_result_error","",["number","string","number"]),vo=pr("sqlite3_aggregate_context","number",["number","number"]),bo=pr("RegisterExtensionFunctions","number",["number"]),wo=pr("sqlite3_update_hook","number",["number","number","number"]);Pt.prototype.bind=function(ar){if(!this.Qa)throw"Statement closed";return this.reset(),Array.isArray(ar)?this.Cb(ar):ar!=null&&typeof ar=="object"?this.Db(ar):!0},Pt.prototype.step=function(){if(!this.Qa)throw"Statement closed";this.Oa=1;var ar=Ho(this.Qa);switch(ar){case 100:return!0;case 101:return!1;default:throw this.db.handleError(ar)}},Pt.prototype.wb=function(ar){return ar==null&&(ar=this.Oa,this.Oa+=1),Go(this.Qa,ar)},Pt.prototype.Gb=function(ar){if(ar==null&&(ar=this.Oa,this.Oa+=1),ar=go(this.Qa,ar),typeof BigInt!="function")throw Error("BigInt is not supported");return BigInt(ar)},Pt.prototype.Hb=function(ar){return ar==null&&(ar=this.Oa,this.Oa+=1),go(this.Qa,ar)},Pt.prototype.getBlob=function(ar){ar==null&&(ar=this.Oa,this.Oa+=1);var br=Xo(this.Qa,ar);ar=Qo(this.Qa,ar);for(var $r=new Uint8Array(br),zr=0;zr<br;zr+=1)$r[zr]=Ft[ar+zr];return $r},Pt.prototype.get=function(ar,br){br=br||{},ar!=null&&this.bind(ar)&&this.step(),ar=[];for(var $r=Ko(this.Qa),zr=0;zr<$r;zr+=1)switch(Yo(this.Qa,zr)){case 1:var Zr=br.useBigInt?this.Gb(zr):this.wb(zr);ar.push(Zr);break;case 2:ar.push(this.wb(zr));break;case 3:ar.push(this.Hb(zr));break;case 4:ar.push(this.getBlob(zr));break;default:ar.push(null)}return ar},Pt.prototype.getColumnNames=function(){for(var ar=[],br=Zo(this.Qa),$r=0;$r<br;$r+=1)ar.push(Jo(this.Qa,$r));return ar},Pt.prototype.getAsObject=function(ar,br){ar=this.get(ar,br),br=this.getColumnNames();for(var $r={},zr=0;zr<br.length;zr+=1)$r[br[zr]]=ar[zr];return $r},Pt.prototype.getSQL=function(){return ho(this.Qa)},Pt.prototype.getNormalizedSQL=function(){return Do(this.Qa)},Pt.prototype.run=function(ar){return ar!=null&&this.bind(ar),this.step(),this.reset()},Pt.prototype.sb=function(ar,br){br==null&&(br=this.Oa,this.Oa+=1),ar=gr(ar);var $r=Zs(ar,Ws);this.lb.push($r),this.db.handleError(Fo(this.Qa,br,$r,ar.length-1,0))},Pt.prototype.Bb=function(ar,br){br==null&&(br=this.Oa,this.Oa+=1);var $r=Zs(ar,Ws);this.lb.push($r),this.db.handleError(mo(this.Qa,br,$r,ar.length,0))},Pt.prototype.rb=function(ar,br){br==null&&(br=this.Oa,this.Oa+=1),this.db.handleError((ar===(ar|0)?zo:Uo)(this.Qa,br,ar))},Pt.prototype.Eb=function(ar){ar==null&&(ar=this.Oa,this.Oa+=1),mo(this.Qa,ar,0,0,0)},Pt.prototype.tb=function(ar,br){switch(br==null&&(br=this.Oa,this.Oa+=1),typeof ar){case"string":this.sb(ar,br);return;case"number":this.rb(ar,br);return;case"bigint":this.sb(ar.toString(),br);return;case"boolean":this.rb(ar+0,br);return;case"object":if(ar===null){this.Eb(br);return}if(ar.length!=null){this.Bb(ar,br);return}}throw"Wrong API use : tried to bind a value of an unknown type ("+ar+")."},Pt.prototype.Db=function(ar){var br=this;return Object.keys(ar).forEach(function($r){var zr=Vo(br.Qa,$r);zr!==0&&br.tb(ar[$r],zr)}),!0},Pt.prototype.Cb=function(ar){for(var br=0;br<ar.length;br+=1)this.tb(ar[br],br+1);return!0},Pt.prototype.reset=function(){return this.freemem(),yl(this.Qa)===0&&xl(this.Qa)===0},Pt.prototype.freemem=function(){for(var ar;(ar=this.lb.pop())!==void 0;)Ks(ar)},Pt.prototype.free=function(){this.freemem();var ar=wl(this.Qa)===0;return delete this.db.fb[this.Qa],this.Qa=0,ar},zt.prototype.next=function(){if(this.eb===null)return{done:!0};if(this.Za!==null&&(this.Za.free(),this.Za=null),!this.db.db)throw this.mb(),Error("Database closed");var ar=Os(),br=Jn(4);cr(or),cr(br);try{this.db.handleError(po(this.db.db,this.kb,-1,or,br)),this.kb=It(br,"i32");var $r=It(or,"i32");return $r===0?(this.mb(),{done:!0}):(this.Za=new Pt($r,this.db),this.db.fb[$r]=this.Za,{value:this.Za,done:!1})}catch(zr){throw this.pb=yr(this.kb),this.mb(),zr}finally{$s(ar)}},zt.prototype.mb=function(){Ks(this.eb),this.eb=null},zt.prototype.getRemainingSQL=function(){return this.pb!==null?this.pb:yr(this.kb)},typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(zt.prototype[Symbol.iterator]=function(){return this}),Yt.prototype.run=function(ar,br){if(!this.db)throw"Database closed";if(br){ar=this.prepare(ar,br);try{ar.step()}finally{ar.free()}}else this.handleError(Gr(this.db,ar,0,0,or));return this},Yt.prototype.exec=function(ar,br,$r){if(!this.db)throw"Database closed";var zr=Os(),Zr=null;try{var an=na(ar),Ln=Jn(4);for(ar=[];It(an,"i8")!==0;){cr(or),cr(Ln),this.handleError(po(this.db,an,-1,or,Ln));var On=It(or,"i32");if(an=It(Ln,"i32"),On!==0){var $n=null;for(Zr=new Pt(On,this),br!=null&&Zr.bind(br);Zr.step();)$n===null&&($n={columns:Zr.getColumnNames(),values:[]},ar.push($n)),$n.values.push(Zr.get(null,$r));Zr.free()}}return ar}catch(qn){throw Zr&&Zr.free(),qn}finally{$s(zr)}},Yt.prototype.each=function(ar,br,$r,zr,Zr){typeof br=="function"&&(zr=$r,$r=br,br=void 0),ar=this.prepare(ar,br);try{for(;ar.step();)$r(ar.getAsObject(null,Zr))}finally{ar.free()}if(typeof zr=="function")return zr()},Yt.prototype.prepare=function(ar,br){if(cr(or),this.handleError(In(this.db,ar,-1,or,0)),ar=It(or,"i32"),ar===0)throw"Nothing to prepare";var $r=new Pt(ar,this);return br!=null&&$r.bind(br),this.fb[ar]=$r},Yt.prototype.iterateStatements=function(ar){return new zt(ar,this)},Yt.prototype.export=function(){Object.values(this.fb).forEach(function(br){br.free()}),Object.values(this.Sa).forEach(Yn),this.Sa={},this.handleError(Xr(this.db));var ar=Wn(this.filename);return this.handleError(Lr(this.filename,or)),this.db=It(or,"i32"),bo(this.db),ar},Yt.prototype.close=function(){this.db!==null&&(Object.values(this.fb).forEach(function(ar){ar.free()}),Object.values(this.Sa).forEach(Yn),this.Sa={},this.Ya&&(Yn(this.Ya),this.Ya=void 0),this.handleError(Xr(this.db)),jn("/"+this.filename),this.db=null)},Yt.prototype.handleError=function(ar){if(ar===0)return null;throw ar=Wo(this.db),Error(ar)},Yt.prototype.getRowsModified=function(){return cn(this.db)},Yt.prototype.create_function=function(ar,br){Object.prototype.hasOwnProperty.call(this.Sa,ar)&&(Yn(this.Sa[ar]),delete this.Sa[ar]);var $r=Ps(function(zr,Zr,an){Zr=jt(Zr,an);try{var Ln=br.apply(null,Zr)}catch(On){Gs(zr,On,-1);return}bt(zr,Ln)},"viii");return this.Sa[ar]=$r,this.handleError(xo(this.db,ar,br.length,1,0,$r,0,0,0)),this},Yt.prototype.create_aggregate=function(ar,br){var $r=br.init||function(){return null},zr=br.finalize||function($n){return $n},Zr=br.step;if(!Zr)throw"An aggregate function must have a step function in "+ar;var an={};Object.hasOwnProperty.call(this.Sa,ar)&&(Yn(this.Sa[ar]),delete this.Sa[ar]),br=ar+"__finalize",Object.hasOwnProperty.call(this.Sa,br)&&(Yn(this.Sa[br]),delete this.Sa[br]);var Ln=Ps(function($n,qn,_a){var cs=vo($n,1);Object.hasOwnProperty.call(an,cs)||(an[cs]=$r()),qn=jt(qn,_a),qn=[an[cs]].concat(qn);try{an[cs]=Zr.apply(null,qn)}catch(Tl){delete an[cs],Gs($n,Tl,-1)}},"viii"),On=Ps(function($n){var qn=vo($n,1);try{var _a=zr(an[qn])}catch(cs){delete an[qn],Gs($n,cs,-1);return}bt($n,_a),delete an[qn]},"vi");return this.Sa[ar]=Ln,this.Sa[br]=On,this.handleError(xo(this.db,ar,Zr.length-1,1,0,0,Ln,On,0)),this},Yt.prototype.updateHook=function(ar){this.Ya&&(wo(this.db,0,0),Yn(this.Ya),this.Ya=void 0),ar&&(this.Ya=Ps(function(br,$r,zr,Zr,an){switch($r){case 18:br="insert";break;case 23:br="update";break;case 9:br="delete";break;default:throw"unknown operationCode in updateHook callback: "+$r}if(zr=zr?hr(Mt,zr):"",Zr=Zr?hr(Mt,Zr):"",an>Number.MAX_SAFE_INTEGER)throw"rowId too big to fit inside a Number";ar(br,zr,Zr,Number(an))},"viiiij"),wo(this.db,this.Ya,0))},et.Database=Yt};var st={...et},at="./this.program",ut=(bt,jt)=>{throw jt},wt="",pt,xt;if(nt){var St=require$$0$2;requirePathBrowserify(),wt=__dirname+"/",xt=bt=>(bt=lt(bt)?new URL(bt):bt,St.readFileSync(bt)),pt=async bt=>(bt=lt(bt)?new URL(bt):bt,St.readFileSync(bt,void 0)),!et.thisProgram&&1<process$1.argv.length&&(at=process$1.argv[1].replace(/\\/g,"/")),process$1.argv.slice(2),e.exports=et,ut=(bt,jt)=>{throw process$1.exitCode=bt,jt}}else($||rt)&&(rt?wt=self.location.href:typeof document<"u"&&document.currentScript&&(wt=document.currentScript.src),wt=wt.startsWith("blob:")?"":wt.slice(0,wt.replace(/[?#].*/,"").lastIndexOf("/")+1),rt&&(xt=bt=>{var jt=new XMLHttpRequest;return jt.open("GET",bt,!1),jt.responseType="arraybuffer",jt.send(null),new Uint8Array(jt.response)}),pt=async bt=>{if(lt(bt))return new Promise((Pt,zt)=>{var Yt=new XMLHttpRequest;Yt.open("GET",bt,!0),Yt.responseType="arraybuffer",Yt.onload=()=>{Yt.status==200||Yt.status==0&&Yt.response?Pt(Yt.response):zt(Yt.status)},Yt.onerror=zt,Yt.send(null)});var jt=await fetch(bt,{credentials:"same-origin"});if(jt.ok)return jt.arrayBuffer();throw Error(jt.status+" : "+jt.url)});var Nt=et.print||console.log.bind(console),At=et.printErr||console.error.bind(console);Object.assign(et,st),st=null,et.thisProgram&&(at=et.thisProgram);var Ct=et.wasmBinary,Vt,Bt=!1,Ut,Ft,Mt,mt,ft,tt,it,ht,dt,lt=bt=>bt.startsWith("file://");function gt(){var bt=Vt.buffer;et.HEAP8=Ft=new Int8Array(bt),et.HEAP16=mt=new Int16Array(bt),et.HEAPU8=Mt=new Uint8Array(bt),et.HEAPU16=new Uint16Array(bt),et.HEAP32=ft=new Int32Array(bt),et.HEAPU32=tt=new Uint32Array(bt),et.HEAPF32=it=new Float32Array(bt),et.HEAPF64=dt=new Float64Array(bt),et.HEAP64=ht=new BigInt64Array(bt),et.HEAPU64=new BigUint64Array(bt)}var ot=0,vt=null;function ct(bt){var jt;throw(jt=et.onAbort)==null||jt.call(et,bt),bt="Aborted("+bt+")",At(bt),Bt=!0,new WebAssembly.RuntimeError(bt+". Build with -sASSERTIONS for more info.")}var yt;async function Dt(bt){if(!Ct)try{var jt=await pt(bt);return new Uint8Array(jt)}catch{}if(bt==yt&&Ct)bt=new Uint8Array(Ct);else if(xt)bt=xt(bt);else throw"both async and sync fetching of the wasm failed";return bt}async function Ht(bt,jt){try{var Pt=await Dt(bt);return await WebAssembly.instantiate(Pt,jt)}catch(zt){At(`failed to asynchronously prepare wasm: ${zt}`),ct(zt)}}async function qt(bt){var jt=yt;if(!Ct&&typeof WebAssembly.instantiateStreaming=="function"&&!lt(jt)&&!nt)try{var Pt=fetch(jt,{credentials:"same-origin"});return await WebAssembly.instantiateStreaming(Pt,bt)}catch(zt){At(`wasm streaming compile failed: ${zt}`),At("falling back to ArrayBuffer instantiation")}return Ht(jt,bt)}class _t{constructor(jt){Kr(this,"name","ExitStatus");this.message=`Program terminated with exit(${jt})`,this.status=jt}}var kt=bt=>{for(;0<bt.length;)bt.shift()(et)},Lt=[],Kt=[],$t=()=>{var bt=et.preRun.shift();Kt.unshift(bt)};function It(bt,jt="i8"){switch(jt.endsWith("*")&&(jt="*"),jt){case"i1":return Ft[bt];case"i8":return Ft[bt];case"i16":return mt[bt>>1];case"i32":return ft[bt>>2];case"i64":return ht[bt>>3];case"float":return it[bt>>2];case"double":return dt[bt>>3];case"*":return tt[bt>>2];default:ct(`invalid type for getValue: ${jt}`)}}var Xt=et.noExitRuntime||!0;function cr(bt){var jt="i32";switch(jt.endsWith("*")&&(jt="*"),jt){case"i1":Ft[bt]=0;break;case"i8":Ft[bt]=0;break;case"i16":mt[bt>>1]=0;break;case"i32":ft[bt>>2]=0;break;case"i64":ht[bt>>3]=BigInt(0);break;case"float":it[bt>>2]=0;break;case"double":dt[bt>>3]=0;break;case"*":tt[bt>>2]=0;break;default:ct(`invalid type for setValue: ${jt}`)}}var fr=typeof TextDecoder<"u"?new TextDecoder:void 0,hr=(bt,jt=0,Pt=NaN)=>{var zt=jt+Pt;for(Pt=jt;bt[Pt]&&!(Pt>=zt);)++Pt;if(16<Pt-jt&&bt.buffer&&fr)return fr.decode(bt.subarray(jt,Pt));for(zt="";jt<Pt;){var Yt=bt[jt++];if(Yt&128){var or=bt[jt++]&63;if((Yt&224)==192)zt+=String.fromCharCode((Yt&31)<<6|or);else{var pr=bt[jt++]&63;Yt=(Yt&240)==224?(Yt&15)<<12|or<<6|pr:(Yt&7)<<18|or<<12|pr<<6|bt[jt++]&63,65536>Yt?zt+=String.fromCharCode(Yt):(Yt-=65536,zt+=String.fromCharCode(55296|Yt>>10,56320|Yt&1023))}}else zt+=String.fromCharCode(Yt)}return zt},yr=(bt,jt)=>bt?hr(Mt,bt,jt):"",Sr=(bt,jt)=>{for(var Pt=0,zt=bt.length-1;0<=zt;zt--){var Yt=bt[zt];Yt==="."?bt.splice(zt,1):Yt===".."?(bt.splice(zt,1),Pt++):Pt&&(bt.splice(zt,1),Pt--)}if(jt)for(;Pt;Pt--)bt.unshift("..");return bt},sr=bt=>{var jt=bt.charAt(0)==="/",Pt=bt.slice(-1)==="/";return(bt=Sr(bt.split("/").filter(zt=>!!zt),!jt).join("/"))||jt||(bt="."),bt&&Pt&&(bt+="/"),(jt?"/":"")+bt},Zt=bt=>{var jt=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(bt).slice(1);return bt=jt[0],jt=jt[1],!bt&&!jt?".":(jt&&(jt=jt.slice(0,-1)),bt+jt)},Gt=bt=>bt&&bt.match(/([^\/]+|\/)\/*$/)[1],nr=()=>{if(nt){var bt=requireCryptoBrowserify();return jt=>bt.randomFillSync(jt)}return jt=>crypto.getRandomValues(jt)},ur=bt=>{(ur=nr())(bt)},ir=(...bt)=>{for(var jt="",Pt=!1,zt=bt.length-1;-1<=zt&&!Pt;zt--){if(Pt=0<=zt?bt[zt]:"/",typeof Pt!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!Pt)return"";jt=Pt+"/"+jt,Pt=Pt.charAt(0)==="/"}return jt=Sr(jt.split("/").filter(Yt=>!!Yt),!Pt).join("/"),(Pt?"/":"")+jt||"."},lr=[],Qt=bt=>{for(var jt=0,Pt=0;Pt<bt.length;++Pt){var zt=bt.charCodeAt(Pt);127>=zt?jt++:2047>=zt?jt+=2:55296<=zt&&57343>=zt?(jt+=4,++Pt):jt+=3}return jt},tr=(bt,jt,Pt,zt)=>{if(!(0<zt))return 0;var Yt=Pt;zt=Pt+zt-1;for(var or=0;or<bt.length;++or){var pr=bt.charCodeAt(or);if(55296<=pr&&57343>=pr){var Lr=bt.charCodeAt(++or);pr=65536+((pr&1023)<<10)|Lr&1023}if(127>=pr){if(Pt>=zt)break;jt[Pt++]=pr}else{if(2047>=pr){if(Pt+1>=zt)break;jt[Pt++]=192|pr>>6}else{if(65535>=pr){if(Pt+2>=zt)break;jt[Pt++]=224|pr>>12}else{if(Pt+3>=zt)break;jt[Pt++]=240|pr>>18,jt[Pt++]=128|pr>>12&63}jt[Pt++]=128|pr>>6&63}jt[Pt++]=128|pr&63}}return jt[Pt]=0,Pt-Yt},gr=(bt,jt)=>{var Pt=Array(Qt(bt)+1);return bt=tr(bt,Pt,0,Pt.length),jt&&(Pt.length=bt),Pt},wr=[];function Tt(bt,jt){wr[bt]={input:[],output:[],cb:jt},vn(bt,Et)}var Et={open(bt){var jt=wr[bt.node.rdev];if(!jt)throw new dr(43);bt.tty=jt,bt.seekable=!1},close(bt){bt.tty.cb.fsync(bt.tty)},fsync(bt){bt.tty.cb.fsync(bt.tty)},read(bt,jt,Pt,zt){if(!bt.tty||!bt.tty.cb.xb)throw new dr(60);for(var Yt=0,or=0;or<zt;or++){try{var pr=bt.tty.cb.xb(bt.tty)}catch{throw new dr(29)}if(pr===void 0&&Yt===0)throw new dr(6);if(pr==null)break;Yt++,jt[Pt+or]=pr}return Yt&&(bt.node.atime=Date.now()),Yt},write(bt,jt,Pt,zt){if(!bt.tty||!bt.tty.cb.qb)throw new dr(60);try{for(var Yt=0;Yt<zt;Yt++)bt.tty.cb.qb(bt.tty,jt[Pt+Yt])}catch{throw new dr(29)}return zt&&(bt.node.mtime=bt.node.ctime=Date.now()),Yt}},Rt={xb(){e:{if(!lr.length){var bt=null;if(nt){var jt=Buffer.alloc(256),Pt=0,zt=process$1.stdin.fd;try{Pt=St.readSync(zt,jt,0,256)}catch(Yt){if(Yt.toString().includes("EOF"))Pt=0;else throw Yt}0<Pt&&(bt=jt.slice(0,Pt).toString("utf-8"))}else typeof window<"u"&&typeof window.prompt=="function"&&(bt=window.prompt("Input: "),bt!==null&&(bt+=`
`));if(!bt){bt=null;break e}lr=gr(bt,!0)}bt=lr.shift()}return bt},qb(bt,jt){jt===null||jt===10?(Nt(hr(bt.output)),bt.output=[]):jt!=0&&bt.output.push(jt)},fsync(bt){var jt;0<((jt=bt.output)==null?void 0:jt.length)&&(Nt(hr(bt.output)),bt.output=[])},Tb(){return{Ob:25856,Qb:5,Nb:191,Pb:35387,Mb:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Ub(){return 0},Vb(){return[24,80]}},Ot={qb(bt,jt){jt===null||jt===10?(At(hr(bt.output)),bt.output=[]):jt!=0&&bt.output.push(jt)},fsync(bt){var jt;0<((jt=bt.output)==null?void 0:jt.length)&&(At(hr(bt.output)),bt.output=[])}},Wt={Wa:null,Xa(){return Wt.createNode(null,"/",16895,0)},createNode(bt,jt,Pt,zt){if((Pt&61440)===24576||(Pt&61440)===4096)throw new dr(63);return Wt.Wa||(Wt.Wa={dir:{node:{Ta:Wt.La.Ta,Ua:Wt.La.Ua,lookup:Wt.La.lookup,hb:Wt.La.hb,rename:Wt.La.rename,unlink:Wt.La.unlink,rmdir:Wt.La.rmdir,readdir:Wt.La.readdir,symlink:Wt.La.symlink},stream:{Va:Wt.Ma.Va}},file:{node:{Ta:Wt.La.Ta,Ua:Wt.La.Ua},stream:{Va:Wt.Ma.Va,read:Wt.Ma.read,write:Wt.Ma.write,ib:Wt.Ma.ib,jb:Wt.Ma.jb}},link:{node:{Ta:Wt.La.Ta,Ua:Wt.La.Ua,readlink:Wt.La.readlink},stream:{}},ub:{node:{Ta:Wt.La.Ta,Ua:Wt.La.Ua},stream:Wr}}),Pt=qr(bt,jt,Pt,zt),Br(Pt.mode)?(Pt.La=Wt.Wa.dir.node,Pt.Ma=Wt.Wa.dir.stream,Pt.Na={}):(Pt.mode&61440)===32768?(Pt.La=Wt.Wa.file.node,Pt.Ma=Wt.Wa.file.stream,Pt.Ra=0,Pt.Na=null):(Pt.mode&61440)===40960?(Pt.La=Wt.Wa.link.node,Pt.Ma=Wt.Wa.link.stream):(Pt.mode&61440)===8192&&(Pt.La=Wt.Wa.ub.node,Pt.Ma=Wt.Wa.ub.stream),Pt.atime=Pt.mtime=Pt.ctime=Date.now(),bt&&(bt.Na[jt]=Pt,bt.atime=bt.mtime=bt.ctime=Pt.atime),Pt},Sb(bt){return bt.Na?bt.Na.subarray?bt.Na.subarray(0,bt.Ra):new Uint8Array(bt.Na):new Uint8Array(0)},La:{Ta(bt){var jt={};return jt.dev=(bt.mode&61440)===8192?bt.id:1,jt.ino=bt.id,jt.mode=bt.mode,jt.nlink=1,jt.uid=0,jt.gid=0,jt.rdev=bt.rdev,Br(bt.mode)?jt.size=4096:(bt.mode&61440)===32768?jt.size=bt.Ra:(bt.mode&61440)===40960?jt.size=bt.link.length:jt.size=0,jt.atime=new Date(bt.atime),jt.mtime=new Date(bt.mtime),jt.ctime=new Date(bt.ctime),jt.blksize=4096,jt.blocks=Math.ceil(jt.size/jt.blksize),jt},Ua(bt,jt){for(var Pt of["mode","atime","mtime","ctime"])jt[Pt]!=null&&(bt[Pt]=jt[Pt]);jt.size!==void 0&&(jt=jt.size,bt.Ra!=jt&&(jt==0?(bt.Na=null,bt.Ra=0):(Pt=bt.Na,bt.Na=new Uint8Array(jt),Pt&&bt.Na.set(Pt.subarray(0,Math.min(jt,bt.Ra))),bt.Ra=jt)))},lookup(){throw Wt.vb},hb(bt,jt,Pt,zt){return Wt.createNode(bt,jt,Pt,zt)},rename(bt,jt,Pt){try{var zt=Mr(jt,Pt)}catch{}if(zt){if(Br(bt.mode))for(var Yt in zt.Na)throw new dr(55);Fr(zt)}delete bt.parent.Na[bt.name],jt.Na[Pt]=bt,bt.name=Pt,jt.ctime=jt.mtime=bt.parent.ctime=bt.parent.mtime=Date.now()},unlink(bt,jt){delete bt.Na[jt],bt.ctime=bt.mtime=Date.now()},rmdir(bt,jt){var Pt=Mr(bt,jt),zt;for(zt in Pt.Na)throw new dr(55);delete bt.Na[jt],bt.ctime=bt.mtime=Date.now()},readdir(bt){return[".","..",...Object.keys(bt.Na)]},symlink(bt,jt,Pt){return bt=Wt.createNode(bt,jt,41471,0),bt.link=Pt,bt},readlink(bt){if((bt.mode&61440)!==40960)throw new dr(28);return bt.link}},Ma:{read(bt,jt,Pt,zt,Yt){var or=bt.node.Na;if(Yt>=bt.node.Ra)return 0;if(bt=Math.min(bt.node.Ra-Yt,zt),8<bt&&or.subarray)jt.set(or.subarray(Yt,Yt+bt),Pt);else for(zt=0;zt<bt;zt++)jt[Pt+zt]=or[Yt+zt];return bt},write(bt,jt,Pt,zt,Yt,or){if(jt.buffer===Ft.buffer&&(or=!1),!zt)return 0;if(bt=bt.node,bt.mtime=bt.ctime=Date.now(),jt.subarray&&(!bt.Na||bt.Na.subarray)){if(or)return bt.Na=jt.subarray(Pt,Pt+zt),bt.Ra=zt;if(bt.Ra===0&&Yt===0)return bt.Na=jt.slice(Pt,Pt+zt),bt.Ra=zt;if(Yt+zt<=bt.Ra)return bt.Na.set(jt.subarray(Pt,Pt+zt),Yt),zt}or=Yt+zt;var pr=bt.Na?bt.Na.length:0;if(pr>=or||(or=Math.max(or,pr*(1048576>pr?2:1.125)>>>0),pr!=0&&(or=Math.max(or,256)),pr=bt.Na,bt.Na=new Uint8Array(or),0<bt.Ra&&bt.Na.set(pr.subarray(0,bt.Ra),0)),bt.Na.subarray&&jt.subarray)bt.Na.set(jt.subarray(Pt,Pt+zt),Yt);else for(or=0;or<zt;or++)bt.Na[Yt+or]=jt[Pt+or];return bt.Ra=Math.max(bt.Ra,Yt+zt),zt},Va(bt,jt,Pt){if(Pt===1?jt+=bt.position:Pt===2&&(bt.node.mode&61440)===32768&&(jt+=bt.node.Ra),0>jt)throw new dr(28);return jt},ib(bt,jt,Pt,zt,Yt){if((bt.node.mode&61440)!==32768)throw new dr(43);if(bt=bt.node.Na,Yt&2||!bt||bt.buffer!==Ft.buffer){Yt=!0,zt=65536*Math.ceil(jt/65536);var or=co(65536,zt);if(or&&Mt.fill(0,or,or+zt),zt=or,!zt)throw new dr(48);bt&&((0<Pt||Pt+jt<bt.length)&&(bt.subarray?bt=bt.subarray(Pt,Pt+jt):bt=Array.prototype.slice.call(bt,Pt,Pt+jt)),Ft.set(bt,zt))}else Yt=!1,zt=bt.byteOffset;return{Kb:zt,Ab:Yt}},jb(bt,jt,Pt,zt){return Wt.Ma.write(bt,jt,0,zt,Pt,!1),0}}},Jt=(bt,jt)=>{var Pt=0;return bt&&(Pt|=365),jt&&(Pt|=146),Pt},er=null,Er={},xr=[],vr=1,Rr=null,_r=!1,kr=!0,Qr={},dr=class{constructor(bt){Kr(this,"name","ErrnoError");this.Pa=bt}},Nr=class{constructor(){Kr(this,"gb",{});Kr(this,"node",null)}get flags(){return this.gb.flags}set flags(bt){this.gb.flags=bt}get position(){return this.gb.position}set position(bt){this.gb.position=bt}},en=class{constructor(bt,jt,Pt,zt){Kr(this,"La",{});Kr(this,"Ma",{});Kr(this,"ab",null);bt||(bt=this),this.parent=bt,this.Xa=bt.Xa,this.id=vr++,this.name=jt,this.mode=Pt,this.rdev=zt,this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&365)===365}set read(bt){bt?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(bt){bt?this.mode|=146:this.mode&=-147}};function Pr(bt,jt={}){if(!bt)throw new dr(44);jt.nb??(jt.nb=!0),bt.charAt(0)==="/"||(bt="//"+bt);var Pt=0;e:for(;40>Pt;Pt++){bt=bt.split("/").filter(Lr=>!!Lr);for(var zt=er,Yt="/",or=0;or<bt.length;or++){var pr=or===bt.length-1;if(pr&&jt.parent)break;if(bt[or]!==".")if(bt[or]==="..")Yt=Zt(Yt),zt=zt.parent;else{Yt=sr(Yt+"/"+bt[or]);try{zt=Mr(zt,bt[or])}catch(Lr){if((Lr==null?void 0:Lr.Pa)===44&&pr&&jt.Jb)return{path:Yt};throw Lr}if(!zt.ab||pr&&!jt.nb||(zt=zt.ab.root),(zt.mode&61440)===40960&&(!pr||jt.$a)){if(!zt.La.readlink)throw new dr(52);zt=zt.La.readlink(zt),zt.charAt(0)==="/"||(zt=Zt(Yt)+"/"+zt),bt=zt+"/"+bt.slice(or+1).join("/");continue e}}}return{path:Yt,node:zt}}throw new dr(32)}function jr(bt){for(var jt;;){if(bt===bt.parent)return bt=bt.Xa.zb,jt?bt[bt.length-1]!=="/"?`${bt}/${jt}`:bt+jt:bt;jt=jt?`${bt.name}/${jt}`:bt.name,bt=bt.parent}}function tn(bt,jt){for(var Pt=0,zt=0;zt<jt.length;zt++)Pt=(Pt<<5)-Pt+jt.charCodeAt(zt)|0;return(bt+Pt>>>0)%Rr.length}function Fr(bt){var jt=tn(bt.parent.id,bt.name);if(Rr[jt]===bt)Rr[jt]=bt.bb;else for(jt=Rr[jt];jt;){if(jt.bb===bt){jt.bb=bt.bb;break}jt=jt.bb}}function Mr(bt,jt){var Pt=Br(bt.mode)?(Pt=rn(bt,"x"))?Pt:bt.La.lookup?0:2:54;if(Pt)throw new dr(Pt);for(Pt=Rr[tn(bt.id,jt)];Pt;Pt=Pt.bb){var zt=Pt.name;if(Pt.parent.id===bt.id&&zt===jt)return Pt}return bt.La.lookup(bt,jt)}function qr(bt,jt,Pt,zt){return bt=new en(bt,jt,Pt,zt),jt=tn(bt.parent.id,bt.name),bt.bb=Rr[jt],Rr[jt]=bt}function Br(bt){return(bt&61440)===16384}function Cr(bt){var jt=["r","w","rw"][bt&3];return bt&512&&(jt+="w"),jt}function rn(bt,jt){if(kr)return 0;if(!jt.includes("r")||bt.mode&292){if(jt.includes("w")&&!(bt.mode&146)||jt.includes("x")&&!(bt.mode&73))return 2}else return 2;return 0}function Hr(bt,jt){if(!Br(bt.mode))return 54;try{return Mr(bt,jt),20}catch{}return rn(bt,"wx")}function Ir(bt,jt,Pt){try{var zt=Mr(bt,jt)}catch(Yt){return Yt.Pa}if(bt=rn(bt,"wx"))return bt;if(Pt){if(!Br(zt.mode))return 54;if(zt===zt.parent||jr(zt)==="/")return 10}else if(Br(zt.mode))return 31;return 0}function nn(bt){if(!bt)throw new dr(63);return bt}function Or(bt){if(bt=xr[bt],!bt)throw new dr(8);return bt}function Tr(bt,jt=-1){if(bt=Object.assign(new Nr,bt),jt==-1)e:{for(jt=0;4096>=jt;jt++)if(!xr[jt])break e;throw new dr(33)}return bt.fd=jt,xr[jt]=bt}function on(bt,jt=-1){var Pt,zt;return bt=Tr(bt,jt),(zt=(Pt=bt.Ma)==null?void 0:Pt.Rb)==null||zt.call(Pt,bt),bt}function Vr(bt,jt,Pt){var zt=bt==null?void 0:bt.Ma.Ua;bt=zt?bt:jt,zt??(zt=jt.La.Ua),nn(zt),zt(bt,Pt)}var Wr={open(bt){var jt,Pt;bt.Ma=Er[bt.node.rdev].Ma,(Pt=(jt=bt.Ma).open)==null||Pt.call(jt,bt)},Va(){throw new dr(70)}};function vn(bt,jt){Er[bt]={Ma:jt}}function kn(bt,jt){var Pt=jt==="/";if(Pt&&er)throw new dr(10);if(!Pt&&jt){var zt=Pr(jt,{nb:!1});if(jt=zt.path,zt=zt.node,zt.ab)throw new dr(10);if(!Br(zt.mode))throw new dr(54)}jt={type:bt,Wb:{},zb:jt,Ib:[]},bt=bt.Xa(jt),bt.Xa=jt,jt.root=bt,Pt?er=bt:zt&&(zt.ab=jt,zt.Xa&&zt.Xa.Ib.push(jt))}function gn(bt,jt,Pt){var zt=Pr(bt,{parent:!0}).node;if(bt=Gt(bt),!bt)throw new dr(28);if(bt==="."||bt==="..")throw new dr(20);var Yt=Hr(zt,bt);if(Yt)throw new dr(Yt);if(!zt.La.hb)throw new dr(63);return zt.La.hb(zt,bt,jt,Pt)}function Pn(bt,jt=438){return gn(bt,jt&4095|32768,0)}function un(bt,jt=511){return gn(bt,jt&1023|16384,0)}function xn(bt,jt,Pt){typeof Pt>"u"&&(Pt=jt,jt=438),gn(bt,jt|8192,Pt)}function wn(bt,jt){if(!ir(bt))throw new dr(44);var Pt=Pr(jt,{parent:!0}).node;if(!Pt)throw new dr(44);jt=Gt(jt);var zt=Hr(Pt,jt);if(zt)throw new dr(zt);if(!Pt.La.symlink)throw new dr(63);Pt.La.symlink(Pt,jt,bt)}function Rn(bt){var jt=Pr(bt,{parent:!0}).node;bt=Gt(bt);var Pt=Mr(jt,bt),zt=Ir(jt,bt,!0);if(zt)throw new dr(zt);if(!jt.La.rmdir)throw new dr(63);if(Pt.ab)throw new dr(10);jt.La.rmdir(jt,bt),Fr(Pt)}function jn(bt){var jt=Pr(bt,{parent:!0}).node;if(!jt)throw new dr(44);bt=Gt(bt);var Pt=Mr(jt,bt),zt=Ir(jt,bt,!1);if(zt)throw new dr(zt);if(!jt.La.unlink)throw new dr(63);if(Pt.ab)throw new dr(10);jt.La.unlink(jt,bt),Fr(Pt)}function mn(bt,jt){return bt=Pr(bt,{$a:!jt}).node,nn(bt.La.Ta)(bt)}function Nn(bt,jt,Pt,zt){Vr(bt,jt,{mode:Pt&4095|jt.mode&-4096,ctime:Date.now(),Fb:zt})}function yn(bt,jt){bt=typeof bt=="string"?Pr(bt,{$a:!0}).node:bt,Nn(null,bt,jt)}function Mn(bt,jt,Pt){if(Br(jt.mode))throw new dr(31);if((jt.mode&61440)!==32768)throw new dr(28);var zt=rn(jt,"w");if(zt)throw new dr(zt);Vr(bt,jt,{size:Pt,timestamp:Date.now()})}function hn(bt,jt,Pt=438){if(bt==="")throw new dr(44);if(typeof jt=="string"){var zt={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[jt];if(typeof zt>"u")throw Error(`Unknown file open mode: ${jt}`);jt=zt}if(Pt=jt&64?Pt&4095|32768:0,typeof bt=="object")zt=bt;else{var Yt=bt.endsWith("/");bt=Pr(bt,{$a:!(jt&131072),Jb:!0}),zt=bt.node,bt=bt.path}var or=!1;if(jt&64)if(zt){if(jt&128)throw new dr(20)}else{if(Yt)throw new dr(31);zt=gn(bt,Pt|511,0),or=!0}if(!zt)throw new dr(44);if((zt.mode&61440)===8192&&(jt&=-513),jt&65536&&!Br(zt.mode))throw new dr(54);if(!or&&(Yt=zt?(zt.mode&61440)===40960?32:Br(zt.mode)&&(Cr(jt)!=="r"||jt&576)?31:rn(zt,Cr(jt)):44))throw new dr(Yt);return jt&512&&!or&&(Yt=zt,Yt=typeof Yt=="string"?Pr(Yt,{$a:!0}).node:Yt,Mn(null,Yt,0)),jt&=-131713,Yt=Tr({node:zt,path:jr(zt),flags:jt,seekable:!0,position:0,Ma:zt.Ma,Lb:[],error:!1}),Yt.Ma.open&&Yt.Ma.open(Yt),or&&yn(zt,Pt&511),!et.logReadFiles||jt&1||bt in Qr||(Qr[bt]=1),Yt}function En(bt){if(bt.fd===null)throw new dr(8);bt.ob&&(bt.ob=null);try{bt.Ma.close&&bt.Ma.close(bt)}catch(jt){throw jt}finally{xr[bt.fd]=null}bt.fd=null}function An(bt,jt,Pt){if(bt.fd===null)throw new dr(8);if(!bt.seekable||!bt.Ma.Va)throw new dr(70);if(Pt!=0&&Pt!=1&&Pt!=2)throw new dr(28);bt.position=bt.Ma.Va(bt,jt,Pt),bt.Lb=[]}function Cn(bt,jt,Pt,zt,Yt){if(0>zt||0>Yt)throw new dr(28);if(bt.fd===null)throw new dr(8);if((bt.flags&2097155)===1)throw new dr(8);if(Br(bt.node.mode))throw new dr(31);if(!bt.Ma.read)throw new dr(28);var or=typeof Yt<"u";if(!or)Yt=bt.position;else if(!bt.seekable)throw new dr(70);return jt=bt.Ma.read(bt,jt,Pt,zt,Yt),or||(bt.position+=jt),jt}function Un(bt,jt,Pt,zt,Yt){if(0>zt||0>Yt)throw new dr(28);if(bt.fd===null)throw new dr(8);if(!(bt.flags&2097155))throw new dr(8);if(Br(bt.node.mode))throw new dr(31);if(!bt.Ma.write)throw new dr(28);bt.seekable&&bt.flags&1024&&An(bt,0,2);var or=typeof Yt<"u";if(!or)Yt=bt.position;else if(!bt.seekable)throw new dr(70);return jt=bt.Ma.write(bt,jt,Pt,zt,Yt,void 0),or||(bt.position+=jt),jt}function Wn(bt){var jt,Pt=hn(bt,Pt||0);bt=mn(bt).size;var zt=new Uint8Array(bt);return Cn(Pt,zt,0,bt,0),jt=zt,En(Pt),jt}function Xn(bt,jt,Pt){bt=sr("/dev/"+bt);var zt=Jt(!!jt,!!Pt);Xn.yb??(Xn.yb=64);var Yt=Xn.yb++<<8|0;vn(Yt,{open(or){or.seekable=!1},close(){var or;(or=Pt==null?void 0:Pt.buffer)!=null&&or.length&&Pt(10)},read(or,pr,Lr,Xr){for(var Gr=0,cn=0;cn<Xr;cn++){try{var In=jt()}catch{throw new dr(29)}if(In===void 0&&Gr===0)throw new dr(6);if(In==null)break;Gr++,pr[Lr+cn]=In}return Gr&&(or.node.atime=Date.now()),Gr},write(or,pr,Lr,Xr){for(var Gr=0;Gr<Xr;Gr++)try{Pt(pr[Lr+Gr])}catch{throw new dr(29)}return Xr&&(or.node.mtime=or.node.ctime=Date.now()),Gr}}),xn(bt,zt,Yt)}var ln={};function ls(bt,jt,Pt){if(jt.charAt(0)==="/")return jt;if(bt=bt===-100?"/":Or(bt).path,jt.length==0){if(!Pt)throw new dr(44);return bt}return bt+"/"+jt}function zs(bt,jt){ft[bt>>2]=jt.dev,ft[bt+4>>2]=jt.mode,tt[bt+8>>2]=jt.nlink,ft[bt+12>>2]=jt.uid,ft[bt+16>>2]=jt.gid,ft[bt+20>>2]=jt.rdev,ht[bt+24>>3]=BigInt(jt.size),ft[bt+32>>2]=4096,ft[bt+36>>2]=jt.blocks;var Pt=jt.atime.getTime(),zt=jt.mtime.getTime(),Yt=jt.ctime.getTime();return ht[bt+40>>3]=BigInt(Math.floor(Pt/1e3)),tt[bt+48>>2]=Pt%1e3*1e6,ht[bt+56>>3]=BigInt(Math.floor(zt/1e3)),tt[bt+64>>2]=zt%1e3*1e6,ht[bt+72>>3]=BigInt(Math.floor(Yt/1e3)),tt[bt+80>>2]=Yt%1e3*1e6,ht[bt+88>>3]=BigInt(jt.ino),0}var Vs=void 0,Hs=()=>{var bt=ft[+Vs>>2];return Vs+=4,bt},Xs=0,$o=[0,31,60,91,121,152,182,213,244,274,305,335],Oo=[0,31,59,90,120,151,181,212,243,273,304,334],Ts={},lo=bt=>{var jt;Ut=bt,Xt||0<Xs||((jt=et.onExit)==null||jt.call(et,bt),Bt=!0),ut(bt,new _t(bt))},Bo=bt=>{if(!Bt)try{if(bt(),!(Xt||0<Xs))try{Ut=bt=Ut,lo(bt)}catch(jt){jt instanceof _t||jt=="unwind"||ut(1,jt)}}catch(jt){jt instanceof _t||jt=="unwind"||ut(1,jt)}},Ys={},uo=()=>{if(!Js){var bt={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:at||"./this.program"},jt;for(jt in Ys)Ys[jt]===void 0?delete bt[jt]:bt[jt]=Ys[jt];var Pt=[];for(jt in bt)Pt.push(`${jt}=${bt[jt]}`);Js=Pt}return Js},Js,na=bt=>{var jt=Qt(bt)+1,Pt=Jn(jt);return tr(bt,Mt,Pt,jt),Pt},Lo=(bt,jt,Pt,zt)=>{var Yt={string:Gr=>{var cn=0;return Gr!=null&&Gr!==0&&(cn=na(Gr)),cn},array:Gr=>{var cn=Jn(Gr.length);return Ft.set(Gr,cn),cn}};bt=et["_"+bt];var or=[],pr=0;if(zt)for(var Lr=0;Lr<zt.length;Lr++){var Xr=Yt[Pt[Lr]];Xr?(pr===0&&(pr=Os()),or[Lr]=Xr(zt[Lr])):or[Lr]=zt[Lr]}return Pt=bt(...or),Pt=function(Gr){return pr!==0&&$s(pr),jt==="string"?Gr?hr(Mt,Gr):"":jt==="boolean"?!!Gr:Gr}(Pt)},Ws=0,Zs=(bt,jt)=>(jt=jt==1?Jn(bt.length):xa(bt.length),bt.subarray||bt.slice||(bt=new Uint8Array(bt)),Mt.set(bt,jt),jt),us,ga=[],Zn,Yn=bt=>{us.delete(Zn.get(bt)),Zn.set(bt,null),ga.push(bt)},Ps=(bt,jt)=>{if(!us){us=new WeakMap;var Pt=Zn.length;if(us)for(var zt=0;zt<0+Pt;zt++){var Yt=Zn.get(zt);Yt&&us.set(Yt,zt)}}if(Pt=us.get(bt)||0)return Pt;if(ga.length)Pt=ga.pop();else{try{Zn.grow(1)}catch(Xr){throw Xr instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":Xr}Pt=Zn.length-1}try{Zn.set(Pt,bt)}catch(Xr){if(!(Xr instanceof TypeError))throw Xr;if(typeof WebAssembly.Function=="function"){var or=WebAssembly.Function;zt={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},Yt={parameters:[],results:jt[0]=="v"?[]:[zt[jt[0]]]};for(var pr=1;pr<jt.length;++pr)Yt.parameters.push(zt[jt[pr]]);jt=new or(Yt,bt)}else{zt=[1],Yt=jt.slice(0,1),jt=jt.slice(1),pr={i:127,p:127,j:126,f:125,d:124,e:111},zt.push(96);var Lr=jt.length;128>Lr?zt.push(Lr):zt.push(Lr%128|128,Lr>>7);for(or of jt)zt.push(pr[or]);Yt=="v"?zt.push(0):zt.push(1,pr[Yt]),jt=[0,97,115,109,1,0,0,0,1],or=zt.length,128>or?jt.push(or):jt.push(or%128|128,or>>7),jt.push(...zt),jt.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),jt=new WebAssembly.Module(new Uint8Array(jt)),jt=new WebAssembly.Instance(jt,{e:{f:bt}}).exports.f}Zn.set(Pt,jt)}return us.set(bt,Pt),Pt};Rr=Array(4096),kn(Wt,"/"),un("/tmp"),un("/home"),un("/home/web_user"),function(){un("/dev"),vn(259,{read:()=>0,write:(zt,Yt,or,pr)=>pr,Va:()=>0}),xn("/dev/null",259),Tt(1280,Rt),Tt(1536,Ot),xn("/dev/tty",1280),xn("/dev/tty1",1536);var bt=new Uint8Array(1024),jt=0,Pt=()=>(jt===0&&(ur(bt),jt=bt.byteLength),bt[--jt]);Xn("random",Pt),Xn("urandom",Pt),un("/dev/shm"),un("/dev/shm/tmp")}(),function(){un("/proc");var bt=un("/proc/self");un("/proc/self/fd"),kn({Xa(){var jt=qr(bt,"fd",16895,73);return jt.Ma={Va:Wt.Ma.Va},jt.La={lookup(Pt,zt){Pt=+zt;var Yt=Or(Pt);return Pt={parent:null,Xa:{zb:"fake"},La:{readlink:()=>Yt.path},id:Pt+1},Pt.parent=Pt},readdir(){return Array.from(xr.entries()).filter(([,Pt])=>Pt).map(([Pt])=>Pt.toString())}},jt}},"/proc/self/fd")}(),Wt.vb=new dr(44),Wt.vb.stack="<generic error, no stack>";var qo={a:(bt,jt,Pt,zt)=>ct(`Assertion failed: ${bt?hr(Mt,bt):""}, at: `+[jt?jt?hr(Mt,jt):"":"unknown filename",Pt,zt?zt?hr(Mt,zt):"":"unknown function"]),i:function(bt,jt){try{return bt=bt?hr(Mt,bt):"",yn(bt,jt),0}catch(Pt){if(typeof ln>"u"||Pt.name!=="ErrnoError")throw Pt;return-Pt.Pa}},L:function(bt,jt,Pt){try{if(jt=jt?hr(Mt,jt):"",jt=ls(bt,jt),Pt&-8)return-28;var zt=Pr(jt,{$a:!0}).node;return zt?(bt="",Pt&4&&(bt+="r"),Pt&2&&(bt+="w"),Pt&1&&(bt+="x"),bt&&rn(zt,bt)?-2:0):-44}catch(Yt){if(typeof ln>"u"||Yt.name!=="ErrnoError")throw Yt;return-Yt.Pa}},j:function(bt,jt){try{var Pt=Or(bt);return Nn(Pt,Pt.node,jt,!1),0}catch(zt){if(typeof ln>"u"||zt.name!=="ErrnoError")throw zt;return-zt.Pa}},h:function(bt){try{var jt=Or(bt);return Vr(jt,jt.node,{timestamp:Date.now(),Fb:!1}),0}catch(Pt){if(typeof ln>"u"||Pt.name!=="ErrnoError")throw Pt;return-Pt.Pa}},b:function(bt,jt,Pt){Vs=Pt;try{var zt=Or(bt);switch(jt){case 0:var Yt=Hs();if(0>Yt)break;for(;xr[Yt];)Yt++;return on(zt,Yt).fd;case 1:case 2:return 0;case 3:return zt.flags;case 4:return Yt=Hs(),zt.flags|=Yt,0;case 12:return Yt=Hs(),mt[Yt+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(or){if(typeof ln>"u"||or.name!=="ErrnoError")throw or;return-or.Pa}},g:function(bt,jt){try{var Pt=Or(bt),zt=Pt.node,Yt=Pt.Ma.Ta;bt=Yt?Pt:zt,Yt??(Yt=zt.La.Ta),nn(Yt);var or=Yt(bt);return zs(jt,or)}catch(pr){if(typeof ln>"u"||pr.name!=="ErrnoError")throw pr;return-pr.Pa}},H:function(bt,jt){jt=-9007199254740992>jt||9007199254740992<jt?NaN:Number(jt);try{if(isNaN(jt))return 61;var Pt=Or(bt);if(0>jt||!(Pt.flags&2097155))throw new dr(28);return Mn(Pt,Pt.node,jt),0}catch(zt){if(typeof ln>"u"||zt.name!=="ErrnoError")throw zt;return-zt.Pa}},G:function(bt,jt){try{if(jt===0)return-28;var Pt=Qt("/")+1;return jt<Pt?-68:(tr("/",Mt,bt,jt),Pt)}catch(zt){if(typeof ln>"u"||zt.name!=="ErrnoError")throw zt;return-zt.Pa}},K:function(bt,jt){try{return bt=bt?hr(Mt,bt):"",zs(jt,mn(bt,!0))}catch(Pt){if(typeof ln>"u"||Pt.name!=="ErrnoError")throw Pt;return-Pt.Pa}},C:function(bt,jt,Pt){try{return jt=jt?hr(Mt,jt):"",jt=ls(bt,jt),un(jt,Pt),0}catch(zt){if(typeof ln>"u"||zt.name!=="ErrnoError")throw zt;return-zt.Pa}},J:function(bt,jt,Pt,zt){try{jt=jt?hr(Mt,jt):"";var Yt=zt&256;return jt=ls(bt,jt,zt&4096),zs(Pt,Yt?mn(jt,!0):mn(jt))}catch(or){if(typeof ln>"u"||or.name!=="ErrnoError")throw or;return-or.Pa}},x:function(bt,jt,Pt,zt){Vs=zt;try{jt=jt?hr(Mt,jt):"",jt=ls(bt,jt);var Yt=zt?Hs():0;return hn(jt,Pt,Yt).fd}catch(or){if(typeof ln>"u"||or.name!=="ErrnoError")throw or;return-or.Pa}},v:function(bt,jt,Pt,zt){try{if(jt=jt?hr(Mt,jt):"",jt=ls(bt,jt),0>=zt)return-28;var Yt=Pr(jt).node;if(!Yt)throw new dr(44);if(!Yt.La.readlink)throw new dr(28);var or=Yt.La.readlink(Yt),pr=Math.min(zt,Qt(or)),Lr=Ft[Pt+pr];return tr(or,Mt,Pt,zt+1),Ft[Pt+pr]=Lr,pr}catch(Xr){if(typeof ln>"u"||Xr.name!=="ErrnoError")throw Xr;return-Xr.Pa}},u:function(bt){try{return bt=bt?hr(Mt,bt):"",Rn(bt),0}catch(jt){if(typeof ln>"u"||jt.name!=="ErrnoError")throw jt;return-jt.Pa}},f:function(bt,jt){try{return bt=bt?hr(Mt,bt):"",zs(jt,mn(bt))}catch(Pt){if(typeof ln>"u"||Pt.name!=="ErrnoError")throw Pt;return-Pt.Pa}},r:function(bt,jt,Pt){try{return jt=jt?hr(Mt,jt):"",jt=ls(bt,jt),Pt===0?jn(jt):Pt===512?Rn(jt):ct("Invalid flags passed to unlinkat"),0}catch(zt){if(typeof ln>"u"||zt.name!=="ErrnoError")throw zt;return-zt.Pa}},q:function(bt,jt,Pt){try{jt=jt?hr(Mt,jt):"",jt=ls(bt,jt,!0);var zt=Date.now(),Yt,or;if(Pt){var pr=tt[Pt>>2]+4294967296*ft[Pt+4>>2],Lr=ft[Pt+8>>2];Lr==1073741823?Yt=zt:Lr==1073741822?Yt=null:Yt=1e3*pr+Lr/1e6,Pt+=16,pr=tt[Pt>>2]+4294967296*ft[Pt+4>>2],Lr=ft[Pt+8>>2],Lr==1073741823?or=zt:Lr==1073741822?or=null:or=1e3*pr+Lr/1e6}else or=Yt=zt;if((or??Yt)!==null){bt=Yt;var Xr=Pr(jt,{$a:!0}).node;nn(Xr.La.Ua)(Xr,{atime:bt,mtime:or})}return 0}catch(Gr){if(typeof ln>"u"||Gr.name!=="ErrnoError")throw Gr;return-Gr.Pa}},m:()=>ct(""),l:()=>{Xt=!1,Xs=0},A:function(bt,jt){bt=-9007199254740992>bt||9007199254740992<bt?NaN:Number(bt),bt=new Date(1e3*bt),ft[jt>>2]=bt.getSeconds(),ft[jt+4>>2]=bt.getMinutes(),ft[jt+8>>2]=bt.getHours(),ft[jt+12>>2]=bt.getDate(),ft[jt+16>>2]=bt.getMonth(),ft[jt+20>>2]=bt.getFullYear()-1900,ft[jt+24>>2]=bt.getDay();var Pt=bt.getFullYear();ft[jt+28>>2]=(Pt%4!==0||Pt%100===0&&Pt%400!==0?Oo:$o)[bt.getMonth()]+bt.getDate()-1|0,ft[jt+36>>2]=-(60*bt.getTimezoneOffset()),Pt=new Date(bt.getFullYear(),6,1).getTimezoneOffset();var zt=new Date(bt.getFullYear(),0,1).getTimezoneOffset();ft[jt+32>>2]=(Pt!=zt&&bt.getTimezoneOffset()==Math.min(zt,Pt))|0},y:function(bt,jt,Pt,zt,Yt,or,pr){Yt=-9007199254740992>Yt||9007199254740992<Yt?NaN:Number(Yt);try{if(isNaN(Yt))return 61;var Lr=Or(zt);if(jt&2&&!(Pt&2)&&(Lr.flags&2097155)!==2)throw new dr(2);if((Lr.flags&2097155)===1)throw new dr(2);if(!Lr.Ma.ib)throw new dr(43);if(!bt)throw new dr(28);var Xr=Lr.Ma.ib(Lr,bt,Yt,jt,Pt),Gr=Xr.Kb;return ft[or>>2]=Xr.Ab,tt[pr>>2]=Gr,0}catch(cn){if(typeof ln>"u"||cn.name!=="ErrnoError")throw cn;return-cn.Pa}},z:function(bt,jt,Pt,zt,Yt,or){or=-9007199254740992>or||9007199254740992<or?NaN:Number(or);try{var pr=Or(Yt);if(Pt&2){if(Pt=or,(pr.node.mode&61440)!==32768)throw new dr(43);if(!(zt&2)){var Lr=Mt.slice(bt,bt+jt);pr.Ma.jb&&pr.Ma.jb(pr,Lr,Pt,jt,zt)}}}catch(Xr){if(typeof ln>"u"||Xr.name!=="ErrnoError")throw Xr;return-Xr.Pa}},n:(bt,jt)=>{if(Ts[bt]&&(clearTimeout(Ts[bt].id),delete Ts[bt]),!jt)return 0;var Pt=setTimeout(()=>{delete Ts[bt],Bo(()=>fo(bt,performance.now()))},jt);return Ts[bt]={id:Pt,Xb:jt},0},B:(bt,jt,Pt,zt)=>{var Yt=new Date().getFullYear(),or=new Date(Yt,0,1).getTimezoneOffset();Yt=new Date(Yt,6,1).getTimezoneOffset(),tt[bt>>2]=60*Math.max(or,Yt),ft[jt>>2]=+(or!=Yt),jt=pr=>{var Lr=Math.abs(pr);return`UTC${0<=pr?"-":"+"}${String(Math.floor(Lr/60)).padStart(2,"0")}${String(Lr%60).padStart(2,"0")}`},bt=jt(or),jt=jt(Yt),Yt<or?(tr(bt,Mt,Pt,17),tr(jt,Mt,zt,17)):(tr(bt,Mt,zt,17),tr(jt,Mt,Pt,17))},d:()=>Date.now(),s:()=>2147483648,c:()=>performance.now(),o:bt=>{var jt=Mt.length;if(bt>>>=0,2147483648<bt)return!1;for(var Pt=1;4>=Pt;Pt*=2){var zt=jt*(1+.2/Pt);zt=Math.min(zt,bt+100663296);e:{zt=(Math.min(2147483648,65536*Math.ceil(Math.max(bt,zt)/65536))-Vt.buffer.byteLength+65535)/65536|0;try{Vt.grow(zt),gt();var Yt=1;break e}catch{}Yt=void 0}if(Yt)return!0}return!1},E:(bt,jt)=>{var Pt=0;return uo().forEach((zt,Yt)=>{var or=jt+Pt;for(Yt=tt[bt+4*Yt>>2]=or,or=0;or<zt.length;++or)Ft[Yt++]=zt.charCodeAt(or);Ft[Yt]=0,Pt+=zt.length+1}),0},F:(bt,jt)=>{var Pt=uo();tt[bt>>2]=Pt.length;var zt=0;return Pt.forEach(Yt=>zt+=Yt.length+1),tt[jt>>2]=zt,0},e:function(bt){try{var jt=Or(bt);return En(jt),0}catch(Pt){if(typeof ln>"u"||Pt.name!=="ErrnoError")throw Pt;return Pt.Pa}},p:function(bt,jt){try{var Pt=Or(bt);return Ft[jt]=Pt.tty?2:Br(Pt.mode)?3:(Pt.mode&61440)===40960?7:4,mt[jt+2>>1]=0,ht[jt+8>>3]=BigInt(0),ht[jt+16>>3]=BigInt(0),0}catch(zt){if(typeof ln>"u"||zt.name!=="ErrnoError")throw zt;return zt.Pa}},w:function(bt,jt,Pt,zt){try{e:{var Yt=Or(bt);bt=jt;for(var or,pr=jt=0;pr<Pt;pr++){var Lr=tt[bt>>2],Xr=tt[bt+4>>2];bt+=8;var Gr=Cn(Yt,Ft,Lr,Xr,or);if(0>Gr){var cn=-1;break e}if(jt+=Gr,Gr<Xr)break;typeof or<"u"&&(or+=Gr)}cn=jt}return tt[zt>>2]=cn,0}catch(In){if(typeof ln>"u"||In.name!=="ErrnoError")throw In;return In.Pa}},D:function(bt,jt,Pt,zt){jt=-9007199254740992>jt||9007199254740992<jt?NaN:Number(jt);try{if(isNaN(jt))return 61;var Yt=Or(bt);return An(Yt,jt,Pt),ht[zt>>3]=BigInt(Yt.position),Yt.ob&&jt===0&&Pt===0&&(Yt.ob=null),0}catch(or){if(typeof ln>"u"||or.name!=="ErrnoError")throw or;return or.Pa}},I:function(bt){var Pt;try{var jt=Or(bt);return(Pt=jt.Ma)!=null&&Pt.fsync?jt.Ma.fsync(jt):0}catch(zt){if(typeof ln>"u"||zt.name!=="ErrnoError")throw zt;return zt.Pa}},t:function(bt,jt,Pt,zt){try{e:{var Yt=Or(bt);bt=jt;for(var or,pr=jt=0;pr<Pt;pr++){var Lr=tt[bt>>2],Xr=tt[bt+4>>2];bt+=8;var Gr=Un(Yt,Ft,Lr,Xr,or);if(0>Gr){var cn=-1;break e}if(jt+=Gr,Gr<Xr)break;typeof or<"u"&&(or+=Gr)}cn=jt}return tt[zt>>2]=cn,0}catch(In){if(typeof ln>"u"||In.name!=="ErrnoError")throw In;return In.Pa}},k:lo},Dr;(async function(){var Pt;function bt(zt){var Yt;return Dr=zt.exports,Vt=Dr.M,gt(),Zn=Dr.O,ot--,(Yt=et.monitorRunDependencies)==null||Yt.call(et,ot),ot==0&&vt&&(zt=vt,vt=null,zt()),Dr}ot++,(Pt=et.monitorRunDependencies)==null||Pt.call(et,ot);var jt={a:qo};return et.instantiateWasm?new Promise(zt=>{et.instantiateWasm(jt,(Yt,or)=>{bt(Yt),zt(Yt.exports)})}):(yt??(yt=et.locateFile?et.locateFile("sql-wasm.wasm",wt):wt+"sql-wasm.wasm"),bt((await qt(jt)).instance))})(),et._sqlite3_free=bt=>(et._sqlite3_free=Dr.P)(bt),et._sqlite3_value_text=bt=>(et._sqlite3_value_text=Dr.Q)(bt),et._sqlite3_prepare_v2=(bt,jt,Pt,zt,Yt)=>(et._sqlite3_prepare_v2=Dr.R)(bt,jt,Pt,zt,Yt),et._sqlite3_step=bt=>(et._sqlite3_step=Dr.S)(bt),et._sqlite3_reset=bt=>(et._sqlite3_reset=Dr.T)(bt),et._sqlite3_exec=(bt,jt,Pt,zt,Yt)=>(et._sqlite3_exec=Dr.U)(bt,jt,Pt,zt,Yt),et._sqlite3_finalize=bt=>(et._sqlite3_finalize=Dr.V)(bt),et._sqlite3_column_name=(bt,jt)=>(et._sqlite3_column_name=Dr.W)(bt,jt),et._sqlite3_column_text=(bt,jt)=>(et._sqlite3_column_text=Dr.X)(bt,jt),et._sqlite3_column_type=(bt,jt)=>(et._sqlite3_column_type=Dr.Y)(bt,jt),et._sqlite3_errmsg=bt=>(et._sqlite3_errmsg=Dr.Z)(bt),et._sqlite3_clear_bindings=bt=>(et._sqlite3_clear_bindings=Dr._)(bt),et._sqlite3_value_blob=bt=>(et._sqlite3_value_blob=Dr.$)(bt),et._sqlite3_value_bytes=bt=>(et._sqlite3_value_bytes=Dr.aa)(bt),et._sqlite3_value_double=bt=>(et._sqlite3_value_double=Dr.ba)(bt),et._sqlite3_value_int=bt=>(et._sqlite3_value_int=Dr.ca)(bt),et._sqlite3_value_type=bt=>(et._sqlite3_value_type=Dr.da)(bt),et._sqlite3_result_blob=(bt,jt,Pt,zt)=>(et._sqlite3_result_blob=Dr.ea)(bt,jt,Pt,zt),et._sqlite3_result_double=(bt,jt)=>(et._sqlite3_result_double=Dr.fa)(bt,jt),et._sqlite3_result_error=(bt,jt,Pt)=>(et._sqlite3_result_error=Dr.ga)(bt,jt,Pt),et._sqlite3_result_int=(bt,jt)=>(et._sqlite3_result_int=Dr.ha)(bt,jt),et._sqlite3_result_int64=(bt,jt)=>(et._sqlite3_result_int64=Dr.ia)(bt,jt),et._sqlite3_result_null=bt=>(et._sqlite3_result_null=Dr.ja)(bt),et._sqlite3_result_text=(bt,jt,Pt,zt)=>(et._sqlite3_result_text=Dr.ka)(bt,jt,Pt,zt),et._sqlite3_aggregate_context=(bt,jt)=>(et._sqlite3_aggregate_context=Dr.la)(bt,jt),et._sqlite3_column_count=bt=>(et._sqlite3_column_count=Dr.ma)(bt),et._sqlite3_data_count=bt=>(et._sqlite3_data_count=Dr.na)(bt),et._sqlite3_column_blob=(bt,jt)=>(et._sqlite3_column_blob=Dr.oa)(bt,jt),et._sqlite3_column_bytes=(bt,jt)=>(et._sqlite3_column_bytes=Dr.pa)(bt,jt),et._sqlite3_column_double=(bt,jt)=>(et._sqlite3_column_double=Dr.qa)(bt,jt),et._sqlite3_bind_blob=(bt,jt,Pt,zt,Yt)=>(et._sqlite3_bind_blob=Dr.ra)(bt,jt,Pt,zt,Yt),et._sqlite3_bind_double=(bt,jt,Pt)=>(et._sqlite3_bind_double=Dr.sa)(bt,jt,Pt),et._sqlite3_bind_int=(bt,jt,Pt)=>(et._sqlite3_bind_int=Dr.ta)(bt,jt,Pt),et._sqlite3_bind_text=(bt,jt,Pt,zt,Yt)=>(et._sqlite3_bind_text=Dr.ua)(bt,jt,Pt,zt,Yt),et._sqlite3_bind_parameter_index=(bt,jt)=>(et._sqlite3_bind_parameter_index=Dr.va)(bt,jt),et._sqlite3_sql=bt=>(et._sqlite3_sql=Dr.wa)(bt),et._sqlite3_normalized_sql=bt=>(et._sqlite3_normalized_sql=Dr.xa)(bt),et._sqlite3_changes=bt=>(et._sqlite3_changes=Dr.ya)(bt),et._sqlite3_close_v2=bt=>(et._sqlite3_close_v2=Dr.za)(bt),et._sqlite3_create_function_v2=(bt,jt,Pt,zt,Yt,or,pr,Lr,Xr)=>(et._sqlite3_create_function_v2=Dr.Aa)(bt,jt,Pt,zt,Yt,or,pr,Lr,Xr),et._sqlite3_update_hook=(bt,jt,Pt)=>(et._sqlite3_update_hook=Dr.Ba)(bt,jt,Pt),et._sqlite3_open=(bt,jt)=>(et._sqlite3_open=Dr.Ca)(bt,jt);var xa=et._malloc=bt=>(xa=et._malloc=Dr.Da)(bt),Ks=et._free=bt=>(Ks=et._free=Dr.Ea)(bt);et._RegisterExtensionFunctions=bt=>(et._RegisterExtensionFunctions=Dr.Fa)(bt);var co=(bt,jt)=>(co=Dr.Ga)(bt,jt),fo=(bt,jt)=>(fo=Dr.Ha)(bt,jt),$s=bt=>($s=Dr.Ia)(bt),Jn=bt=>(Jn=Dr.Ja)(bt),Os=()=>(Os=Dr.Ka)();et.stackSave=()=>Os(),et.stackRestore=bt=>$s(bt),et.stackAlloc=bt=>Jn(bt),et.cwrap=(bt,jt,Pt,zt)=>{var Yt=!Pt||Pt.every(or=>or==="number"||or==="boolean");return jt!=="string"&&Yt&&!zt?et["_"+bt]:(...or)=>Lo(bt,jt,Pt,or)},et.addFunction=Ps,et.removeFunction=Yn,et.UTF8ToString=yr,et.ALLOC_NORMAL=Ws,et.allocate=Zs,et.allocateUTF8OnStack=na;function ba(){function bt(){var Yt;if(et.calledRun=!0,!Bt){if(!et.noFSInit&&!_r){var jt,Pt;_r=!0,zt??(zt=et.stdin),jt??(jt=et.stdout),Pt??(Pt=et.stderr),zt?Xn("stdin",zt):wn("/dev/tty","/dev/stdin"),jt?Xn("stdout",null,jt):wn("/dev/tty","/dev/stdout"),Pt?Xn("stderr",null,Pt):wn("/dev/tty1","/dev/stderr"),hn("/dev/stdin",0),hn("/dev/stdout",1),hn("/dev/stderr",1)}if(Dr.N(),kr=!1,(Yt=et.onRuntimeInitialized)==null||Yt.call(et),et.postRun)for(typeof et.postRun=="function"&&(et.postRun=[et.postRun]);et.postRun.length;){var zt=et.postRun.shift();Lt.unshift(zt)}kt(Lt)}}if(0<ot)vt=ba;else{if(et.preRun)for(typeof et.preRun=="function"&&(et.preRun=[et.preRun]);et.preRun.length;)$t();kt(Kt),0<ot?vt=ba:et.setStatus?(et.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>et.setStatus(""),1),bt()},1)):bt()}}if(et.preInit)for(typeof et.preInit=="function"&&(et.preInit=[et.preInit]);0<et.preInit.length;)et.preInit.pop()();return ba(),j}),c)};e.exports=d,e.exports.default=d})(sqlWasm);var sqlWasmExports=sqlWasm.exports;const initSqlJs=getDefaultExportFromCjs$1(sqlWasmExports),normaliseRowId=e=>typeof e=="number"||typeof e=="string"?e:typeof e=="bigint"?e.toString():null,hasFsAccess=()=>{try{return typeof fs.accessSync=="function"}catch{return!1}};class SqlJsAdapter{constructor(a={}){Kr(this,"kind","sqljs");Kr(this,"capabilities");Kr(this,"SQL",null);Kr(this,"db",null);Kr(this,"filePath");this.adapterOptions=a;const c=["transactions","json","prepared"];hasFsAccess()&&c.push("persistence"),this.capabilities=new Set(c)}async open(a){if(!this.db)if(this.SQL=await initSqlJs(this.adapterOptions),this.filePath=a==null?void 0:a.filePath,this.filePath&&hasFsAccess()&&fs.existsSync(this.filePath)){const c=fs.readFileSync(this.filePath);this.db=new this.SQL.Database(c)}else this.db=new this.SQL.Database}async run(a,c){var b,h,_;const d=this.prepareInternal(a);try{const{named:j,positional:_e}=normaliseParameters(c);j?d.bind(j):_e&&d.bind(_e),d.step();const $=(_=(h=(b=this.db.exec("SELECT last_insert_rowid() AS id")[0])==null?void 0:b.values)==null?void 0:h[0])==null?void 0:_[0];return{changes:this.db.getRowsModified(),lastInsertRowid:normaliseRowId($)}}finally{d.free(),await this.persistIfNeeded()}}async get(a,c){const d=await this.all(a,c);return d.length>0?d[0]:null}async all(a,c){const d=this.prepareInternal(a);try{const{named:b,positional:h}=normaliseParameters(c);b?d.bind(b):h&&d.bind(h);const _=[];for(;d.step();){const j={};d.getColumnNames().forEach((_e,et)=>{j[_e]=d.get()[et]}),_.push(j)}return _}finally{d.free()}}async exec(a){this.ensureOpen(),this.db.run(a),await this.persistIfNeeded()}async transaction(a){this.ensureOpen(),this.db.run("BEGIN TRANSACTION;");try{const c=await a(this);return this.db.run("COMMIT;"),await this.persistIfNeeded(),c}catch(c){throw this.db.run("ROLLBACK;"),c}}async close(){this.db&&(await this.persistIfNeeded(),this.db.close(),this.db=null)}prepareInternal(a){return this.ensureOpen(),this.db.prepare(a)}ensureOpen(){if(!this.db)throw new Error("Storage adapter not opened. Call open() first.")}async persistIfNeeded(){if(!this.filePath||!hasFsAccess())return;const a=path$1.dirname(this.filePath);fs.existsSync(a)||fs.mkdirSync(a,{recursive:!0});const c=this.db.export();fs.writeFileSync(this.filePath,Buffer.from(c))}}const createSqlJsAdapter=e=>new SqlJsAdapter(e),isCapacitorPlugin=e=>!e||typeof e!="object"?!1:typeof e.createConnection=="function",loadCapacitorSqlite=async()=>{try{const e=await __vitePreload(()=>import("./index--ENsKeD3.js").then(a=>a.i),[]);if(isCapacitorPlugin(e))return e;if(e&&typeof e=="object"){const{default:a,CapacitorSQLite:c}=e;if(isCapacitorPlugin(a))return a;if(isCapacitorPlugin(c))return c}return null}catch(e){return console.warn("[StorageAdapter] @capacitor-community/sqlite module not available.",e),null}};class CapacitorSqliteAdapter{constructor(a={}){Kr(this,"kind","capacitor-sqlite");Kr(this,"capabilities",new Set(["transactions","wal","locks","persistence"]));Kr(this,"plugin",null);Kr(this,"connection",null);Kr(this,"dbName");this.options=a,this.dbName=a.database??"app"}async open(a){if(this.connection)return;if(this.plugin=await loadCapacitorSqlite(),!this.plugin)throw new Error("@capacitor-community/sqlite is unavailable. Install the plugin or choose a different adapter.");const c=a==null?void 0:a.adapterOptions,d=typeof(c==null?void 0:c.database)=="string"?c.database:void 0,b=this.options.database,h=d??b??this.dbName;if(this.connection=await this.plugin.createConnection(h,!1,"no-encryption",1,!1),await this.connection.open(),this.options.enableWal??!0)try{await this.connection.execute("PRAGMA journal_mode = WAL;")}catch(_){console.warn("[StorageAdapter] Failed to enable WAL on Capacitor SQLite.",_)}}async run(a,c){const d=this.ensureConnection(),{positional:b}=normaliseParameters(c),h=await d.run(a,b??[]);return{changes:h.changes??0,lastInsertRowid:h.lastId??null}}async get(a,c){const d=await this.all(a,c);return d.length>0?d[0]:null}async all(a,c){const d=this.ensureConnection(),{positional:b}=normaliseParameters(c);return(await d.query(a,b??[])).values??[]}async exec(a){await this.ensureConnection().execute(a)}async transaction(a){const c=this.ensureConnection();await c.execute("BEGIN TRANSACTION;");try{const d=await a(this);return await c.execute("COMMIT;"),d}catch(d){throw await c.execute("ROLLBACK;"),d}}async close(){this.connection&&(await this.connection.close(),this.connection=null)}ensureConnection(){if(!this.connection)throw new Error("Storage adapter not opened. Call open() before executing statements.");return this.connection}}const createCapacitorSqliteAdapter=e=>new CapacitorSqliteAdapter(e),__isBrowser=typeof window<"u"&&typeof window.document<"u",isPositional=e=>e.includes("?"),buildNamedStatement=(e,a)=>{const c=[],d=e.replace(/@([A-Za-z0-9_]+)/g,(h,_)=>(c.push(_),`$${c.length}`)),b=c.map(h=>a[h]);return{text:d,values:b}},buildPositionalStatement=(e,a)=>{let c=0;return{text:e.replace(/\?/g,()=>(c+=1,`$${c}`)),values:a}},prepareStatement=(e,a)=>{const{named:c,positional:d}=normaliseParameters(a);return c?buildNamedStatement(e,c):d?buildPositionalStatement(e,d):isPositional(e)?buildPositionalStatement(e,[]):{text:e,values:[]}},splitStatements=e=>e.split(";").map(a=>a.trim()).filter(a=>a.length>0);class PostgresAdapter{constructor(a){Kr(this,"kind","postgres");Kr(this,"capabilities",new Set(["transactions","locks","persistence","concurrent","json","arrays","prepared"]));Kr(this,"options");Kr(this,"pool",null);Kr(this,"transactionalClient",null);Kr(this,"pgModule",null);typeof a=="string"?this.options={connectionString:a}:this.options=a}async loadPgModule(){if(this.pgModule)return this.pgModule;if(__isBrowser)throw new Error("[StorageAdapter] PostgreSQL adapter cannot be used in a browser environment.");try{return this.pgModule=await __vitePreload(()=>import("pg"),[]),this.pgModule}catch(a){throw new Error(`[StorageAdapter] Failed to load pg module. Install it with: npm install pg. Error: ${a}`)}}async open(a){if(this.pool)return;if(__isBrowser)throw new Error("[StorageAdapter] PostgreSQL adapter cannot be opened in a browser environment.");const c=await this.loadPgModule(),{Pool:d}=c,b={};this.options.connectionString||a!=null&&a.connectionString?b.connectionString=(a==null?void 0:a.connectionString)??this.options.connectionString:(b.host=this.options.host??"localhost",b.port=this.options.port??5432,b.database=this.options.database,b.user=this.options.user,b.password=this.options.password),this.options.max!==void 0&&(b.max=this.options.max),this.options.min!==void 0&&(b.min=this.options.min),this.options.idleTimeoutMillis!==void 0&&(b.idleTimeoutMillis=this.options.idleTimeoutMillis),this.options.connectionTimeoutMillis!==void 0&&(b.connectionTimeoutMillis=this.options.connectionTimeoutMillis),this.options.application_name!==void 0&&(b.application_name=this.options.application_name),this.options.statement_timeout!==void 0&&(b.statement_timeout=this.options.statement_timeout),this.options.query_timeout!==void 0&&(b.query_timeout=this.options.query_timeout),this.options.ssl!==void 0&&(b.ssl=this.options.ssl),this.pool=new d(b),(await this.pool.connect()).release()}async run(a,c){var et;const d=await this.getExecutor(),{text:b,values:h}=prepareStatement(a,c),_=await d.query(b,h),j=(et=_.rows)==null?void 0:et[0],_e=j&&typeof j=="object"&&"id"in j?j.id:null;return{changes:_.rowCount??0,lastInsertRowid:_e}}async get(a,c){var j;const d=await this.getExecutor(),{text:b,values:h}=prepareStatement(a,c);return((j=(await d.query(b,h)).rows)==null?void 0:j[0])??null}async all(a,c){const d=await this.getExecutor(),{text:b,values:h}=prepareStatement(a,c);return(await d.query(b,h)).rows??[]}async exec(a){const c=await this.getExecutor(),d=splitStatements(a);for(const b of d)await c.query(b)}async transaction(a){if(!this.pool)throw new Error("Postgres adapter not opened.");const c=await this.pool.connect();try{await c.query("BEGIN"),this.transactionalClient=c;const d=await a(this);return await c.query("COMMIT"),d}catch(d){throw await c.query("ROLLBACK"),d}finally{this.transactionalClient=null,c.release()}}async close(){this.pool&&(await this.pool.end(),this.pool=null)}async getExecutor(){if(this.transactionalClient)return this.transactionalClient;if(!this.pool)throw new Error("Postgres adapter not opened.");return this.pool}}function createPostgresAdapter(e){return new PostgresAdapter(e)}const DB_VERSION=1;class IndexedDbAdapter{constructor(a={}){Kr(this,"kind","indexeddb");Kr(this,"capabilities",new Set(["transactions","persistence","json","prepared"]));Kr(this,"SQL",null);Kr(this,"db",null);Kr(this,"idb",null);Kr(this,"saveTimer",null);Kr(this,"dirty",!1);Kr(this,"dbName");Kr(this,"storeName");Kr(this,"autoSave");Kr(this,"saveIntervalMs");Kr(this,"sqlJsConfig");this.dbName=a.dbName||"app-db",this.storeName=a.storeName||"sqliteDb",this.autoSave=a.autoSave??!0,this.saveIntervalMs=a.saveIntervalMs||5e3,this.sqlJsConfig=a.sqlJsConfig||{}}async open(a){if(this.db)return;this.SQL=await initSqlJs(this.sqlJsConfig),this.idb=await this.openIndexedDb();const c=await this.loadFromIndexedDb();c?this.db=new this.SQL.Database(c):this.db=new this.SQL.Database,this.autoSave&&this.startAutoSave()}async run(a,c){var b,h,_;this.ensureOpen();const d=this.db.prepare(a);try{const{named:j,positional:_e}=normaliseParameters(c);j?d.bind(j):_e&&d.bind(_e),d.step();const $=(_=(h=(b=this.db.exec("SELECT last_insert_rowid() AS id")[0])==null?void 0:b.values)==null?void 0:h[0])==null?void 0:_[0],rt=this.normaliseRowId($);return this.dirty=!0,await this.persistIfNeeded(),{changes:this.db.getRowsModified(),lastInsertRowid:rt}}finally{d.free()}}async get(a,c){const d=await this.all(a,c);return d.length>0?d[0]:null}async all(a,c){this.ensureOpen();const d=this.db.prepare(a);try{const{named:b,positional:h}=normaliseParameters(c);b?d.bind(b):h&&d.bind(h);const _=[],j=d.getColumnNames();for(;d.step();){const _e=d.get(),et={};j.forEach(($,rt)=>{et[$]=_e[rt]}),_.push(et)}return _}finally{d.free()}}async exec(a){this.ensureOpen(),this.db.exec(a),this.dirty=!0,await this.persistIfNeeded()}async transaction(a){this.ensureOpen(),await this.run("BEGIN TRANSACTION");try{const c=await a(this);return await this.run("COMMIT"),this.dirty=!0,await this.persistIfNeeded(),c}catch(c){throw await this.run("ROLLBACK"),c}}async beginTransaction(){await this.run("BEGIN")}async commit(){await this.run("COMMIT"),this.dirty=!0,await this.persistIfNeeded()}async rollback(){await this.run("ROLLBACK")}async close(){this.saveTimer&&(clearInterval(this.saveTimer),this.saveTimer=null),this.dirty&&await this.saveToIndexedDb(),this.db&&(this.db.close(),this.db=null),this.idb&&(this.idb.close(),this.idb=null)}exportDatabase(){return this.ensureOpen(),this.db.export()}async importDatabase(a){this.ensureOpen(),this.db.close(),this.db=new this.SQL.Database(a),this.dirty=!0,await this.saveToIndexedDb()}openIndexedDb(){return new Promise((a,c)=>{const d=indexedDB.open(this.dbName,DB_VERSION);d.onupgradeneeded=()=>{const b=d.result;b.objectStoreNames.contains(this.storeName)||b.createObjectStore(this.storeName)},d.onsuccess=()=>a(d.result),d.onerror=()=>c(d.error)})}async loadFromIndexedDb(){return this.idb?new Promise((a,c)=>{const h=this.idb.transaction(this.storeName,"readonly").objectStore(this.storeName).get("db");h.onsuccess=()=>a(h.result||null),h.onerror=()=>c(h.error)}):null}async saveToIndexedDb(){if(!this.idb||!this.db)return;const a=this.db.export();return new Promise((c,d)=>{const _=this.idb.transaction(this.storeName,"readwrite").objectStore(this.storeName).put(a,"db");_.onsuccess=()=>{this.dirty=!1,c()},_.onerror=()=>d(_.error)})}async persistIfNeeded(){this.autoSave&&!this.saveTimer&&await this.saveToIndexedDb()}startAutoSave(){this.saveTimer=setInterval(async()=>{this.dirty&&await this.saveToIndexedDb()},this.saveIntervalMs)}ensureOpen(){if(!this.db)throw new Error("IndexedDbAdapter: Database not open. Call open() first.")}normaliseRowId(a){return typeof a=="number"||typeof a=="string"?a:typeof a=="bigint"?a.toString():null}prepareInternal(a){return this.ensureOpen(),this.db.prepare(a)}}var define_process_env_default={};const isBrowser$1=typeof window<"u"&&typeof window.document<"u";var To;const isNode=typeof process$1<"u"&&!!((To=process$1.versions)!=null&&To.node),joinPath=async e=>{if(isBrowser$1)return e.join("/");if(isNode)try{return(await __vitePreload(()=>Promise.resolve().then(()=>index$2),void 0)).join(...e)}catch{return e.join("/")}return e.join("/")},getEnv=e=>{if(typeof process$1<"u"&&define_process_env_default)return define_process_env_default[e]},getCwd=()=>isNode&&typeof process$1<"u"&&process$1.cwd?process$1.cwd():"/",isCapacitorRuntime=()=>{var a;if(typeof window>"u")return!1;const e=window.Capacitor;return!!((a=e==null?void 0:e.isNativePlatform)!=null&&a.call(e))},resolveStorageAdapter=async(e={})=>{var _e;const a=getEnv("STORAGE_ADAPTER"),c=((_e=e.postgres)==null?void 0:_e.connectionString)??getEnv("DATABASE_URL")??void 0,d=isBrowser$1?"db_data/app.sqlite3":await joinPath([getCwd(),"db_data","app.sqlite3"]),b=e.filePath??d,_=(e.priority&&e.priority.length>0?e.priority:a?[a]:isCapacitorRuntime()?["capacitor","indexeddb","sqljs"]:c?["postgres","better-sqlite3","indexeddb","sqljs"]:typeof window<"u"&&window.indexedDB?["indexeddb","sqljs"]:["better-sqlite3","indexeddb","sqljs"]).map(et=>{switch(et){case"postgres":return{name:et,factory:async()=>{if(!c)throw new Error("DATABASE_URL or postgres connection string not provided.");return createPostgresAdapter(c)},openOptions:{connectionString:c}};case"better-sqlite3":return{name:et,factory:async()=>createBetterSqliteAdapter(b),openOptions:{filePath:b}};case"capacitor":return{name:et,factory:async()=>createCapacitorSqliteAdapter(e.capacitor)};case"indexeddb":return{name:et,factory:async()=>{var rt;const $=(rt=e.openOptions)==null?void 0:rt.adapterOptions;return new IndexedDbAdapter({dbName:($==null?void 0:$.dbName)||"app-db",autoSave:!0})}};case"sqljs":default:return{name:"sqljs",factory:async()=>createSqlJsAdapter(),openOptions:{filePath:b}}}}),j=[];for(const et of _)try{const $=await et.factory(),rt={...et.openOptions,...e.openOptions};return await $.open(rt),console.info(`[StorageAdapter] Using adapter "${et.name}".`),$}catch($){console.warn(`[StorageAdapter] Failed to initialise adapter "${et.name}".`,$),j.push($);continue}throw new StorageResolutionError("Unable to resolve a storage adapter for the current environment.",j)};async function createDatabase(e={}){var _;const a={},c=typeof window<"u"&&typeof window.document<"u",d=typeof process$1<"u"&&!!((_=process$1.versions)!=null&&_.node),b=typeof globalThis.Deno<"u";if(e.url&&(a.postgres={connectionString:e.url}),e.postgres&&(a.postgres=e.postgres),e.file&&(a.filePath=e.file),e.mobile&&(a.capacitor=e.mobile),e.type){const j={postgres:"postgres",sqlite:"better-sqlite3",browser:"sqljs",mobile:"capacitor",memory:"better-sqlite3"};a.priority=[j[e.type]],e.type==="memory"&&(a.filePath=":memory:")}if(e.priority&&(a.priority=e.priority),!a.priority||a.priority.length===0)if(c||b)a.priority=["sqljs"];else if(d)a.priority=["better-sqlite3","sqljs"];else throw new Error("[StorageAdapter] Unsupported runtime environment for automatic adapter selection.");const h=await resolveStorageAdapter(a);return await h.open(a.openOptions),h}const TABLE_NAME="agentos_state_blobs";let adapterPromise$1=null,schemaPromise=null;async function getAdapter$1(){var a;adapterPromise$1||(adapterPromise$1=createDatabase({priority:["indexeddb","sqljs","memory"],type:typeof window>"u"?"memory":void 0}));const e=await adapterPromise$1;return schemaPromise||(schemaPromise=((a=e.exec)==null?void 0:a.call(e,`
      CREATE TABLE IF NOT EXISTS ${TABLE_NAME} (
        key TEXT PRIMARY KEY,
        value TEXT NOT NULL,
        updated_at TEXT NOT NULL
      )
    `))??Promise.resolve()),await schemaPromise,e}const memoryStore=new Map,memoryStorage={getItem:e=>memoryStore.get(e)??null,setItem:(e,a)=>{memoryStore.set(e,a)},removeItem:e=>{memoryStore.delete(e)}},isBrowser=typeof window<"u",sqlStateStorage=isBrowser?{getItem:async e=>{try{const c=await(await getAdapter$1()).get(`SELECT value FROM ${TABLE_NAME} WHERE key = ?`,[e]);return(c==null?void 0:c.value)??null}catch(a){return console.warn("[AgentOS Client] SQL state storage getItem failed. Falling back to memory.",a),memoryStorage.getItem(e)}},setItem:async(e,a)=>{try{await(await getAdapter$1()).run(`INSERT INTO ${TABLE_NAME} (key, value, updated_at)
             VALUES (?, ?, ?)
             ON CONFLICT(key) DO UPDATE SET value = excluded.value, updated_at = excluded.updated_at`,[e,a,new Date().toISOString()])}catch(c){console.warn("[AgentOS Client] SQL state storage setItem failed. Falling back to memory.",c),memoryStorage.setItem(e,a)}},removeItem:async e=>{try{await(await getAdapter$1()).run(`DELETE FROM ${TABLE_NAME} WHERE key = ?`,[e])}catch(a){console.warn("[AgentOS Client] SQL state storage removeItem failed. Falling back to memory.",a),memoryStorage.removeItem(e)}}}:memoryStorage,defaultPersonas=[{id:"atlas-systems-architect",displayName:"Atlas Systems Architect",description:"Designs resilient multi-agent topologies and long-running workflows.",tags:["systems","architecture"],traits:["Analytical","Calm","Long-horizon planning"],capabilities:["workflow-authoring","policy-audits"],metadata:{tier:"pro"},source:"local"},{id:"meridian-product-strategist",displayName:"Meridian Product Strategist",description:"Synthesises customer signals and agent telemetry into actionable roadmaps.",tags:["product","strategy"],traits:["Collaborative","Outcomes-first"],capabilities:["insight-synthesis","agency-briefing"],source:"local"},{id:"solstice-research-analyst",displayName:"Solstice Research Analyst",description:"Conducts rapid literature reviews and evaluates emergent agency behaviour.",tags:["research","analysis"],traits:["Curious","Rigorous"],capabilities:["rag","agency-observation"],source:"local"}],persistedStorage=createJSONStorage(()=>typeof window<"u"?idbStorage:sqlStateStorage),useSessionStore=create$1()(persist(e=>({sessions:[],personas:defaultPersonas,agencies:[],agencySessions:{},workflowSnapshots:{},activeSessionId:null,activeAgencyId:null,personaFilters:{search:"",capabilities:[]},upsertSession:a=>e(c=>{const d=c.sessions.findIndex(h=>h.id===a.id);if(d===-1)return{sessions:[{id:a.id,targetType:a.targetType??"persona",displayName:a.displayName??"Untitled session",personaId:a.personaId,agencyId:a.agencyId,status:a.status??"idle",events:a.events??[]},...c.sessions].slice(0,25)};const b=[...c.sessions];return b[d]={...b[d],...a,events:a.events??b[d].events},{sessions:b}}),appendEvent:(a,c)=>e(d=>({sessions:d.sessions.map(h=>h.id===a?{...h,events:h.events.length>=200?[...h.events.slice(1),c]:[...h.events,c]}:h)})),removeSession:a=>e(c=>({sessions:c.sessions.filter(d=>d.id!==a),activeSessionId:c.activeSessionId===a?null:c.activeSessionId})),clearAll:()=>e(()=>({sessions:[],agencies:[],personas:defaultPersonas,activeSessionId:null,activeAgencyId:null,agencySessions:{},workflowSnapshots:{}})),setActiveSession:a=>e({activeSessionId:a}),addPersona:a=>e(c=>{const d={...a,source:a.source??"local"};return{personas:c.personas.some(_=>_.id===d.id)?c.personas.map(_=>_.id===d.id?{..._,...d}:_):[d,...c.personas]}}),setPersonas:a=>e(c=>{const d=a.map(_=>_.id?{..._,source:_.source??"remote"}:null).filter(_=>!!_);if(d.length===0)return{};const b=new Set(d.map(_=>_.id)),h=c.personas.filter(_=>!b.has(_.id)&&_.source!=="remote");return{personas:[...d,...h]}}),updatePersona:(a,c)=>e(d=>({personas:d.personas.map(b=>b.id===a?{...b,...c}:b)})),removePersona:a=>e(c=>({personas:c.personas.filter(d=>d.id!==a),agencies:c.agencies.map(d=>({...d,participants:d.participants.map(b=>b.personaId===a?{...b,personaId:void 0}:b)}))})),addAgency:a=>e(c=>({agencies:c.agencies.some(h=>h.id===a.id)?c.agencies.map(h=>h.id===a.id?{...h,...a,updatedAt:a.updatedAt}:h):[a,...c.agencies],activeAgencyId:a.id})),updateAgency:(a,c)=>e(d=>({agencies:d.agencies.map(b=>b.id===a?{...b,...c,updatedAt:new Date().toISOString()}:b)})),removeAgency:a=>e(c=>({agencies:c.agencies.filter(d=>d.id!==a),activeAgencyId:c.activeAgencyId===a?null:c.activeAgencyId})),setActiveAgency:a=>e({activeAgencyId:a}),setPersonaFilters:a=>e(c=>({personaFilters:{...c.personaFilters,...a,capabilities:a.capabilities?Array.from(new Set(a.capabilities.map(d=>d.trim()).filter(Boolean))):c.personaFilters.capabilities}})),applyAgencySnapshot:a=>e(c=>({agencySessions:{...c.agencySessions,[a.agencyId]:a},agencies:c.agencies.map(d=>d.id===a.agencyId?{...d,updatedAt:new Date().toISOString()}:d)})),applyWorkflowSnapshot:a=>e(c=>({workflowSnapshots:{...c.workflowSnapshots,[a.workflowId]:a}})),removeWorkflowSnapshot:a=>e(c=>{const d={...c.workflowSnapshots};return delete d[a],{workflowSnapshots:d}}),clearWorkflowSnapshots:()=>e(()=>({workflowSnapshots:{}}))}),{name:"agentos-workbench-state",storage:persistedStorage,partialize:e=>({personas:e.personas,agencies:e.agencies,sessions:e.sessions,activeSessionId:e.activeSessionId,activeAgencyId:e.activeAgencyId,personaFilters:e.personaFilters,workflowSnapshots:e.workflowSnapshots,agencySessions:e.agencySessions})}));var AgentOSChunkType=(e=>(e.TEXT_DELTA="text_delta",e.SYSTEM_PROGRESS="system_progress",e.TOOL_CALL_REQUEST="tool_call_request",e.TOOL_RESULT_EMISSION="tool_result_emission",e.UI_COMMAND="ui_command",e.FINAL_RESPONSE="final_response",e.ERROR="error",e.METADATA_UPDATE="metadata_update",e.WORKFLOW_UPDATE="workflow_update",e.AGENCY_UPDATE="agency_update",e.RAG_RETRIEVAL="rag_retrieval",e.RAG_INGESTION="rag_ingestion",e))(AgentOSChunkType||{});const SUPPORTED_LANGUAGES=["en","es"];function LanguageSwitcher(){const{i18n:e,t:a}=useTranslation(),c=e.resolvedLanguage??e.language??"en",d=reactExports.useMemo(()=>SUPPORTED_LANGUAGES.map(b=>({code:b,label:a(`languageSwitcher.languages.${b}`)})),[a]);return jsxRuntimeExports.jsxs("label",{className:"inline-flex items-center gap-2 text-xs text-slate-400",children:[jsxRuntimeExports.jsx("span",{className:"sr-only",children:a("languageSwitcher.label")}),jsxRuntimeExports.jsx("select",{value:c,onChange:b=>{const h=b.target.value;e.changeLanguage(h)},className:"rounded-full border border-white/10 bg-slate-900/60 px-3 py-1 text-xs font-semibold uppercase tracking-[0.25em] text-slate-200 transition hover:border-white/20 focus:border-sky-500 focus:outline-none",children:d.map(b=>jsxRuntimeExports.jsx("option",{value:b.code,children:b.label},b.code))})]})}const statusBadgeStyles={idle:"border theme-border theme-bg-secondary theme-text-secondary",streaming:"theme-bg-success theme-text-on-accent border border-transparent",error:"theme-bg-error theme-text-on-accent border border-transparent"};function Sidebar({onCreateSession:e,onToggleCollapse:a,onNavigate:c}){var ht,dt;const{t:d}=useTranslation(),b=useSessionStore(lt=>lt.sessions),h=useSessionStore(lt=>lt.activeSessionId),_=useSessionStore(lt=>lt.setActiveSession),j=useSessionStore(lt=>lt.personas),_e=useSessionStore(lt=>lt.agencies),[et,$]=reactExports.useState("persona"),[rt,nt]=reactExports.useState(!1),[st,at]=reactExports.useState("persona"),ut=reactExports.useCallback(lt=>lt.includes("v_researcher")?"v_researcher":lt[0],[]),wt=reactExports.useMemo(()=>j.filter(lt=>lt.source==="remote").map(lt=>lt.id),[j]),pt=ut(wt)??((ht=j[0])==null?void 0:ht.id)??"",xt=((dt=_e[0])==null?void 0:dt.id)??"",[St,Nt]=reactExports.useState(pt),[At,Ct]=reactExports.useState(xt),[Vt,Bt]=reactExports.useState("");reactExports.useEffect(()=>{!St&&pt&&Nt(pt)},[pt,St]),reactExports.useEffect(()=>{!At&&xt&&Ct(xt)},[xt,At]);const Ut=j.length>0,Ft=_e.length>0,Mt=st==="persona"&&Ut&&!!St||st==="agency"&&Ft&&!!At,mt=()=>{const lt=et==="agency"?"agency":"persona";at(lt),lt==="agency"?Ct(xt):Nt(pt),Bt(""),nt(!0)},ft=()=>{if(!Mt)return;const lt=Vt.trim()||void 0;if(st==="agency"){const gt=At||xt;if(!gt)return;e({targetType:"agency",agencyId:gt,displayName:lt})}else{const gt=St||pt;if(!gt)return;e({targetType:"persona",personaId:gt,displayName:lt})}$(st),nt(!1),Bt(""),Nt(pt),Ct(xt)},tt=reactExports.useMemo(()=>{const lt=[...b];return(et==="all"?lt:lt.filter(ot=>ot.targetType===et)).sort((ot,vt)=>{var Dt,Ht;const ct=((Dt=ot.events[0])==null?void 0:Dt.timestamp)??0;return(((Ht=vt.events[0])==null?void 0:Ht.timestamp)??0)-ct})},[b,et]),it=lt=>{$(lt);const gt=lt==="all"?b:b.filter(ot=>ot.targetType===lt);gt.length>0&&gt[0].id!==h&&_(gt[0].id)};return jsxRuntimeExports.jsxs("nav",{className:"flex h-full flex-col theme-bg-primary text-sm transition-theme","aria-label":d("sidebar.labels.navigation",{defaultValue:"Session navigation"}),children:[jsxRuntimeExports.jsxs("header",{className:"flex flex-shrink-0 flex-col gap-2 border-b theme-border px-4 py-3",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-1",children:jsxRuntimeExports.jsx("span",{className:"whitespace-nowrap text-[10px] font-medium uppercase tracking-[0.1em] theme-text-muted",children:"WORKBENCH"})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-[10px] uppercase tracking-[0.35em] theme-accent",children:"Sessions"}),jsxRuntimeExports.jsx("h1",{className:"sr-only",children:d("sidebar.title")})]}),jsxRuntimeExports.jsx("button",{onClick:mt,className:"inline-flex h-7 w-7 items-center justify-center rounded-full theme-bg-accent theme-text-on-accent shadow-md transition hover:-translate-y-0.5 hover:opacity-95 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2",title:d("sidebar.actions.newSession"),"aria-label":d("sidebar.actions.newSession"),children:jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4","aria-hidden":"true"})}),a&&jsxRuntimeExports.jsx("button",{type:"button",onClick:a,className:"ml-2 rounded-full border theme-border bg-[color:var(--color-background-secondary)] px-2 py-0.5 text-[10px] theme-text-secondary transition hover:-translate-y-0.5 hover:opacity-95 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent",title:"Hide sidebar","aria-label":"Hide sidebar",children:""})]}),jsxRuntimeExports.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-1.5",role:"navigation","aria-label":"Quick links",children:[jsxRuntimeExports.jsx("button",{onClick:()=>window.dispatchEvent(new CustomEvent("agentos:open-settings")),className:"rounded-full border theme-border bg-[color:var(--color-background-secondary)] px-2.5 py-0.5 text-[10px] theme-text-secondary transition hover:opacity-95 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent",children:"Settings"}),jsxRuntimeExports.jsx("button",{onClick:()=>window.dispatchEvent(new CustomEvent("agentos:open-about")),className:"rounded-full border theme-border bg-[color:var(--color-background-secondary)] px-2.5 py-0.5 text-[10px] theme-text-secondary transition hover:opacity-95 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent",children:"About"}),jsxRuntimeExports.jsx("span",{className:"mx-1 h-3 w-px bg-[color:var(--color-border-primary)]","aria-hidden":"true"}),jsxRuntimeExports.jsx("button",{onClick:()=>window.dispatchEvent(new CustomEvent("agentos:toggle-tour")),className:"rounded-full px-2.5 py-0.5 text-[10px] theme-bg-warning transition hover:opacity-95 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent",children:"Tour"}),jsxRuntimeExports.jsx("button",{onClick:()=>window.dispatchEvent(new CustomEvent("agentos:toggle-theme-panel")),className:"rounded-full border theme-border bg-[color:var(--color-background-secondary)] px-2.5 py-0.5 text-[10px] theme-text-secondary transition hover:opacity-95 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent",children:"Theme"}),jsxRuntimeExports.jsx("button",{onClick:()=>window.dispatchEvent(new CustomEvent("agentos:open-import")),className:"rounded-full px-2.5 py-0.5 text-[10px] theme-bg-success transition hover:opacity-95 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent",children:"Import"})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between gap-2 pt-1",role:"toolbar","aria-label":d("sidebar.labels.preferences",{defaultValue:"Preferences"}),children:jsxRuntimeExports.jsx(LanguageSwitcher,{})})]}),jsxRuntimeExports.jsxs("div",{className:"min-h-0 flex-1 space-y-1 overflow-y-auto px-3 pb-4 pt-3",role:"list","aria-label":d("sidebar.labels.sessionList",{defaultValue:"Active sessions"}),children:[jsxRuntimeExports.jsxs("div",{className:"mb-2 flex items-center gap-1.5 text-xs",children:[jsxRuntimeExports.jsx("button",{onClick:()=>it("all"),className:clsx("rounded-full border px-2 py-0.5 text-[10px] transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent",et==="all"?"theme-bg-accent theme-text-on-accent border-transparent shadow-sm":"theme-text-secondary theme-bg-secondary theme-border hover:opacity-95"),children:"All"}),jsxRuntimeExports.jsx("button",{onClick:()=>it("persona"),className:clsx("rounded-full border px-2 py-0.5 text-[10px] transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent",et==="persona"?"theme-bg-accent theme-text-on-accent border-transparent shadow-sm":"theme-text-secondary theme-bg-secondary theme-border hover:opacity-95"),children:"Persona"}),jsxRuntimeExports.jsx("button",{onClick:()=>it("agency"),className:clsx("rounded-full border px-2 py-0.5 text-[10px] transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent",et==="agency"?"theme-bg-accent theme-text-on-accent border-transparent shadow-sm":"theme-text-secondary theme-bg-secondary theme-border hover:opacity-95"),children:"Agency"})]}),tt.length===0?jsxRuntimeExports.jsx("div",{className:"rounded-lg border theme-border theme-bg-secondary-soft p-3 text-xs theme-text-secondary transition-theme",role:"status",children:d("sidebar.emptyState")}):tt.map(lt=>{const gt=lt.status,ot=d(`common.status.${gt}`,{defaultValue:gt}),vt=h===lt.id,ct=lt.targetType==="agency"?jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1 text-[9px] font-semibold uppercase tracking-[0.4em] theme-accent",children:[jsxRuntimeExports.jsx(Users,{className:"h-2.5 w-2.5","aria-hidden":"true"})," ",d("sidebar.badges.agency")]}):jsxRuntimeExports.jsx("span",{className:"text-[9px] font-semibold uppercase tracking-[0.4em] theme-text-muted",children:d("sidebar.badges.persona")});return jsxRuntimeExports.jsxs("button",{onClick:()=>_(lt.id),className:clsx("flex w-full flex-col gap-1.5 rounded-xl border px-3 py-2.5 text-left transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-1",vt?"theme-bg-secondary-soft border theme-border-strong shadow-md":"border theme-border theme-bg-secondary hover:opacity-95"),role:"listitem","aria-label":d("sidebar.session.ariaLabel",{defaultValue:"Session {{name}}, status: {{status}}",name:lt.displayName,status:ot}),"aria-current":vt?"page":void 0,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between text-[10px]",children:[jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1.5 font-semibold uppercase tracking-widest theme-text-muted",children:[jsxRuntimeExports.jsx(Radio,{className:"h-2.5 w-2.5 theme-accent","aria-hidden":"true"}),jsxRuntimeExports.jsx("span",{className:"sr-only",children:d("sidebar.session.streamLabel")})]}),jsxRuntimeExports.jsx("span",{className:clsx("rounded-full px-1.5 py-0.5 text-[9px] font-semibold uppercase tracking-widest",statusBadgeStyles[gt]),role:"status","aria-live":"polite",children:ot})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-semibold theme-text-primary truncate pr-2",children:lt.displayName}),ct]}),jsxRuntimeExports.jsx("p",{className:"text-[10px] theme-text-secondary mt-0.5",children:lt.events.length===0?d("sidebar.session.noActivity"):new Date(lt.events[0].timestamp).toLocaleTimeString()})]}),lt.events.find(yt=>yt.type===AgentOSChunkType.FINAL_RESPONSE)&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] theme-accent",children:[jsxRuntimeExports.jsx(CircleCheck,{className:"h-2.5 w-2.5","aria-hidden":"true"}),jsxRuntimeExports.jsx("span",{children:d("sidebar.session.completedTurn")})]})]},lt.id)})]}),rt&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4 backdrop-blur-sm",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-md card-panel--strong p-5 shadow-xl transition-theme",children:[jsxRuntimeExports.jsx("header",{className:"mb-3",children:jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold theme-text-primary",children:"New session"})}),jsxRuntimeExports.jsxs("div",{className:"space-y-3 text-sm theme-text-secondary",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[jsxRuntimeExports.jsxs("label",{className:"inline-flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"radio",checked:st==="persona",onChange:()=>{at("persona"),Nt(pt)}}),jsxRuntimeExports.jsx("span",{children:"Persona"})]}),jsxRuntimeExports.jsxs("label",{className:"inline-flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"radio",checked:st==="agency",onChange:()=>{at("agency"),Ct(xt)},disabled:!Ft}),jsxRuntimeExports.jsx("span",{className:Ft?void 0:"theme-text-muted",children:"Agency"})]})]}),st==="persona"?jsxRuntimeExports.jsxs("label",{className:"block",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 block text-xs theme-text-muted",children:"Persona"}),Ut?jsxRuntimeExports.jsx("select",{value:St,onChange:lt=>Nt(lt.target.value),className:"w-full rounded-lg border theme-border bg-[color:var(--color-background-secondary)] px-3 py-2 text-sm theme-text-primary",children:[...j].map(lt=>jsxRuntimeExports.jsx("option",{value:lt.id,children:lt.displayName},lt.id))}):jsxRuntimeExports.jsx("p",{className:"rounded-lg border theme-border bg-[color:var(--color-background-secondary)] px-3 py-2 text-xs theme-text-secondary",children:"No personas available. Create or import one from the Personas tab."})]}):jsxRuntimeExports.jsxs("label",{className:"block",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 block text-xs theme-text-muted",children:"Agency"}),Ft?jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("select",{value:At,onChange:lt=>Ct(lt.target.value),className:"w-full rounded-lg border theme-border bg-[color:var(--color-background-secondary)] px-3 py-2 text-sm theme-text-primary",children:[..._e].map(lt=>jsxRuntimeExports.jsx("option",{value:lt.id,children:lt.name},lt.id))}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>{nt(!1),window.dispatchEvent(new CustomEvent("agentos:open-agency-wizard"))},className:"inline-flex items-center gap-2 text-xs theme-text-secondary underline decoration-dotted hover:theme-accent",children:[jsxRuntimeExports.jsx(Sparkles,{className:"h-3.5 w-3.5 text-sky-500"}),"Launch agency wizard"]})]}):jsxRuntimeExports.jsxs("div",{className:"space-y-2 rounded-lg border theme-border bg-[color:var(--color-background-secondary)] px-3 py-2 text-xs theme-text-secondary",children:[jsxRuntimeExports.jsx("p",{children:"No agencies have been defined yet."}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{c==null||c("agency"),nt(!1)},className:"rounded-full px-3 py-1 text-xs font-semibold theme-bg-warning hover:opacity-95",children:"Open Agency Manager"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{nt(!1),window.dispatchEvent(new CustomEvent("agentos:open-agency-wizard"))},className:"rounded-full px-3 py-1 text-xs font-semibold theme-bg-accent hover:opacity-95",children:"Launch Wizard"})]})]}),jsxRuntimeExports.jsxs("label",{className:"block",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 block text-xs theme-text-muted",children:"Name (optional)"}),jsxRuntimeExports.jsx("input",{value:Vt,onChange:lt=>Bt(lt.target.value),className:"w-full rounded-lg border theme-border bg-[color:var(--color-background-secondary)] px-3 py-2 text-sm theme-text-primary"})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>nt(!1),className:"rounded-full border theme-border bg-[color:var(--color-background-secondary)] px-3 py-1 text-xs theme-text-secondary transition hover:opacity-95 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:ft,disabled:!Mt,className:clsx("rounded-full px-3 py-1 text-xs font-semibold focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent",Mt?"theme-bg-accent theme-text-on-accent hover:opacity-95":"cursor-not-allowed border theme-border theme-bg-secondary theme-text-muted"),children:"Create"})]})]})}),jsxRuntimeExports.jsx("footer",{className:"mt-auto border-t theme-border px-4 py-2 text-[10px] theme-text-secondary transition-theme",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-1.5",children:[jsxRuntimeExports.jsxs("a",{href:"https://vca.chat",target:"_blank",rel:"noreferrer",className:"group inline-flex items-center gap-1.5 rounded-lg px-1.5 py-0.5 theme-accent transition-transform duration-200 hover:-translate-y-0.5 hover:opacity-95 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-1",children:[jsxRuntimeExports.jsx(Store,{className:"h-3.5 w-3.5 transition-transform group-hover:scale-110","aria-hidden":"true"}),jsxRuntimeExports.jsx("span",{className:"uppercase tracking-[0.35em]",children:"Marketplace"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5 pr-2",children:[jsxRuntimeExports.jsxs("a",{href:"https://agentos.sh",target:"_blank",rel:"noreferrer",className:"group inline-flex items-center gap-1 rounded-md px-1.5 py-0.5 transition-transform duration-200 hover:-translate-y-0.5 hover:opacity-95 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-1",children:[jsxRuntimeExports.jsx(Globe,{className:"h-3.5 w-3.5","aria-hidden":"true"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"agentos.sh"})]}),jsxRuntimeExports.jsxs("a",{href:"https://frame.dev",target:"_blank",rel:"noreferrer",className:"group inline-flex items-center gap-1 rounded-md px-1.5 py-0.5 transition-transform duration-200 hover:-translate-y-0.5 hover:opacity-95 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-1",children:[jsxRuntimeExports.jsx(Users,{className:"h-3.5 w-3.5","aria-hidden":"true"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"frame.dev"})]}),jsxRuntimeExports.jsxs("a",{href:"https://github.com/framersai/agentos",target:"_blank",rel:"noreferrer",className:"group inline-flex items-center gap-1 rounded-md px-1.5 py-0.5 transition-transform duration-200 hover:-translate-y-0.5 hover:opacity-95 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-1",children:[jsxRuntimeExports.jsx(Github,{className:"h-3.5 w-3.5","aria-hidden":"true"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"GitHub"})]}),jsxRuntimeExports.jsx("a",{href:"https://github.com/framersai/agentos/stargazers",target:"_blank",rel:"noreferrer","aria-label":"Star AgentOS on GitHub",className:"group inline-flex items-center rounded-full p-1 pr-1.5 transition-transform duration-200 hover:-translate-y-0.5 hover:opacity-95 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-1",children:jsxRuntimeExports.jsx(Star,{className:"h-3.5 w-3.5 text-yellow-500 transition-transform group-active:scale-90","aria-hidden":"true"})}),jsxRuntimeExports.jsx("a",{href:"https://github.com/framersai/agentos/fork",target:"_blank",rel:"noreferrer","aria-label":"Fork AgentOS on GitHub",className:"group inline-flex items-center rounded-full p-1 transition-transform duration-200 hover:-translate-y-0.5 hover:opacity-95 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-1",children:jsxRuntimeExports.jsx(GitFork,{className:"h-3.5 w-3.5 transition-transform group-active:scale-90","aria-hidden":"true"})})]}),a&&jsxRuntimeExports.jsx("button",{type:"button",onClick:a,className:"ml-auto rounded-full border border-slate-200 px-2 py-0.5 text-[10px] text-slate-600 transition-colors hover:bg-slate-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-500 focus-visible:ring-offset-2 dark:border-white/10 dark:text-slate-300 dark:focus-visible:ring-offset-slate-950",title:"Hide sidebar",children:"Hide"})]})})]})}function ok$1(){}function unreachable(){}function stringify$1(e,a){const c={};return(e[e.length-1]===""?[...e,""]:e).join((c.padRight?" ":"")+","+(c.padLeft===!1?"":" ")).trim()}const nameRe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,nameReJsx=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,emptyOptions$2={};function name(e,a){return(emptyOptions$2.jsx?nameReJsx:nameRe).test(e)}const re=/[ \t\n\f\r]/g;function whitespace(e){return typeof e=="object"?e.type==="text"?empty$1(e.value):!1:empty$1(e)}function empty$1(e){return e.replace(re,"")===""}class Schema{constructor(a,c,d){this.normal=c,this.property=a,d&&(this.space=d)}}Schema.prototype.normal={};Schema.prototype.property={};Schema.prototype.space=void 0;function merge(e,a){const c={},d={};for(const b of e)Object.assign(c,b.property),Object.assign(d,b.normal);return new Schema(c,d,a)}function normalize$1(e){return e.toLowerCase()}class Info{constructor(a,c){this.attribute=c,this.property=a}}Info.prototype.attribute="";Info.prototype.booleanish=!1;Info.prototype.boolean=!1;Info.prototype.commaOrSpaceSeparated=!1;Info.prototype.commaSeparated=!1;Info.prototype.defined=!1;Info.prototype.mustUseProperty=!1;Info.prototype.number=!1;Info.prototype.overloadedBoolean=!1;Info.prototype.property="";Info.prototype.spaceSeparated=!1;Info.prototype.space=void 0;let powers=0;const boolean=increment(),booleanish=increment(),overloadedBoolean=increment(),number=increment(),spaceSeparated=increment(),commaSeparated=increment(),commaOrSpaceSeparated=increment();function increment(){return 2**++powers}const types=Object.freeze(Object.defineProperty({__proto__:null,boolean,booleanish,commaOrSpaceSeparated,commaSeparated,number,overloadedBoolean,spaceSeparated},Symbol.toStringTag,{value:"Module"})),checks=Object.keys(types);class DefinedInfo extends Info{constructor(a,c,d,b){let h=-1;if(super(a,c),mark(this,"space",b),typeof d=="number")for(;++h<checks.length;){const _=checks[h];mark(this,checks[h],(d&types[_])===types[_])}}}DefinedInfo.prototype.defined=!0;function mark(e,a,c){c&&(e[a]=c)}function create(e){const a={},c={};for(const[d,b]of Object.entries(e.properties)){const h=new DefinedInfo(d,e.transform(e.attributes||{},d),b,e.space);e.mustUseProperty&&e.mustUseProperty.includes(d)&&(h.mustUseProperty=!0),a[d]=h,c[normalize$1(d)]=d,c[normalize$1(h.attribute)]=d}return new Schema(a,c,e.space)}const aria=create({properties:{ariaActiveDescendant:null,ariaAtomic:booleanish,ariaAutoComplete:null,ariaBusy:booleanish,ariaChecked:booleanish,ariaColCount:number,ariaColIndex:number,ariaColSpan:number,ariaControls:spaceSeparated,ariaCurrent:null,ariaDescribedBy:spaceSeparated,ariaDetails:null,ariaDisabled:booleanish,ariaDropEffect:spaceSeparated,ariaErrorMessage:null,ariaExpanded:booleanish,ariaFlowTo:spaceSeparated,ariaGrabbed:booleanish,ariaHasPopup:null,ariaHidden:booleanish,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:spaceSeparated,ariaLevel:number,ariaLive:null,ariaModal:booleanish,ariaMultiLine:booleanish,ariaMultiSelectable:booleanish,ariaOrientation:null,ariaOwns:spaceSeparated,ariaPlaceholder:null,ariaPosInSet:number,ariaPressed:booleanish,ariaReadOnly:booleanish,ariaRelevant:null,ariaRequired:booleanish,ariaRoleDescription:spaceSeparated,ariaRowCount:number,ariaRowIndex:number,ariaRowSpan:number,ariaSelected:booleanish,ariaSetSize:number,ariaSort:null,ariaValueMax:number,ariaValueMin:number,ariaValueNow:number,ariaValueText:null,role:null},transform(e,a){return a==="role"?a:"aria-"+a.slice(4).toLowerCase()}});function caseSensitiveTransform(e,a){return a in e?e[a]:a}function caseInsensitiveTransform(e,a){return caseSensitiveTransform(e,a.toLowerCase())}const html$2=create({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:commaSeparated,acceptCharset:spaceSeparated,accessKey:spaceSeparated,action:null,allow:null,allowFullScreen:boolean,allowPaymentRequest:boolean,allowUserMedia:boolean,alt:null,as:null,async:boolean,autoCapitalize:null,autoComplete:spaceSeparated,autoFocus:boolean,autoPlay:boolean,blocking:spaceSeparated,capture:null,charSet:null,checked:boolean,cite:null,className:spaceSeparated,cols:number,colSpan:null,content:null,contentEditable:booleanish,controls:boolean,controlsList:spaceSeparated,coords:number|commaSeparated,crossOrigin:null,data:null,dateTime:null,decoding:null,default:boolean,defer:boolean,dir:null,dirName:null,disabled:boolean,download:overloadedBoolean,draggable:booleanish,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:boolean,formTarget:null,headers:spaceSeparated,height:number,hidden:overloadedBoolean,high:number,href:null,hrefLang:null,htmlFor:spaceSeparated,httpEquiv:spaceSeparated,id:null,imageSizes:null,imageSrcSet:null,inert:boolean,inputMode:null,integrity:null,is:null,isMap:boolean,itemId:null,itemProp:spaceSeparated,itemRef:spaceSeparated,itemScope:boolean,itemType:spaceSeparated,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:boolean,low:number,manifest:null,max:null,maxLength:number,media:null,method:null,min:null,minLength:number,multiple:boolean,muted:boolean,name:null,nonce:null,noModule:boolean,noValidate:boolean,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:boolean,optimum:number,pattern:null,ping:spaceSeparated,placeholder:null,playsInline:boolean,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:boolean,referrerPolicy:null,rel:spaceSeparated,required:boolean,reversed:boolean,rows:number,rowSpan:number,sandbox:spaceSeparated,scope:null,scoped:boolean,seamless:boolean,selected:boolean,shadowRootClonable:boolean,shadowRootDelegatesFocus:boolean,shadowRootMode:null,shape:null,size:number,sizes:null,slot:null,span:number,spellCheck:booleanish,src:null,srcDoc:null,srcLang:null,srcSet:null,start:number,step:null,style:null,tabIndex:number,target:null,title:null,translate:null,type:null,typeMustMatch:boolean,useMap:null,value:booleanish,width:number,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:spaceSeparated,axis:null,background:null,bgColor:null,border:number,borderColor:null,bottomMargin:number,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:boolean,declare:boolean,event:null,face:null,frame:null,frameBorder:null,hSpace:number,leftMargin:number,link:null,longDesc:null,lowSrc:null,marginHeight:number,marginWidth:number,noResize:boolean,noHref:boolean,noShade:boolean,noWrap:boolean,object:null,profile:null,prompt:null,rev:null,rightMargin:number,rules:null,scheme:null,scrolling:booleanish,standby:null,summary:null,text:null,topMargin:number,valueType:null,version:null,vAlign:null,vLink:null,vSpace:number,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:boolean,disableRemotePlayback:boolean,prefix:null,property:null,results:number,security:null,unselectable:null},space:"html",transform:caseInsensitiveTransform}),svg$1=create({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:commaOrSpaceSeparated,accentHeight:number,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:number,amplitude:number,arabicForm:null,ascent:number,attributeName:null,attributeType:null,azimuth:number,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:number,by:null,calcMode:null,capHeight:number,className:spaceSeparated,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:number,diffuseConstant:number,direction:null,display:null,dur:null,divisor:number,dominantBaseline:null,download:boolean,dx:null,dy:null,edgeMode:null,editable:null,elevation:number,enableBackground:null,end:null,event:null,exponent:number,externalResourcesRequired:null,fill:null,fillOpacity:number,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:commaSeparated,g2:commaSeparated,glyphName:commaSeparated,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:number,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:number,horizOriginX:number,horizOriginY:number,id:null,ideographic:number,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:number,k:number,k1:number,k2:number,k3:number,k4:number,kernelMatrix:commaOrSpaceSeparated,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:number,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:number,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:number,overlineThickness:number,paintOrder:null,panose1:null,path:null,pathLength:number,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:spaceSeparated,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:number,pointsAtY:number,pointsAtZ:number,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:commaOrSpaceSeparated,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:commaOrSpaceSeparated,rev:commaOrSpaceSeparated,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:commaOrSpaceSeparated,requiredFeatures:commaOrSpaceSeparated,requiredFonts:commaOrSpaceSeparated,requiredFormats:commaOrSpaceSeparated,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:number,specularExponent:number,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:number,strikethroughThickness:number,string:null,stroke:null,strokeDashArray:commaOrSpaceSeparated,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:number,strokeOpacity:number,strokeWidth:null,style:null,surfaceScale:number,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:commaOrSpaceSeparated,tabIndex:number,tableValues:null,target:null,targetX:number,targetY:number,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:commaOrSpaceSeparated,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:number,underlineThickness:number,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:number,values:null,vAlphabetic:number,vMathematical:number,vectorEffect:null,vHanging:number,vIdeographic:number,version:null,vertAdvY:number,vertOriginX:number,vertOriginY:number,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:number,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:caseSensitiveTransform}),xlink=create({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,a){return"xlink:"+a.slice(5).toLowerCase()}}),xmlns=create({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:caseInsensitiveTransform}),xml=create({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,a){return"xml:"+a.slice(3).toLowerCase()}}),hastToReact={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},cap$1=/[A-Z]/g,dash=/-[a-z]/g,valid=/^data[-\w.:]+$/i;function find(e,a){const c=normalize$1(a);let d=a,b=Info;if(c in e.normal)return e.property[e.normal[c]];if(c.length>4&&c.slice(0,4)==="data"&&valid.test(a)){if(a.charAt(4)==="-"){const h=a.slice(5).replace(dash,camelcase);d="data"+h.charAt(0).toUpperCase()+h.slice(1)}else{const h=a.slice(4);if(!dash.test(h)){let _=h.replace(cap$1,kebab);_.charAt(0)!=="-"&&(_="-"+_),a="data"+_}}b=DefinedInfo}return new b(d,a)}function kebab(e){return"-"+e.toLowerCase()}function camelcase(e){return e.charAt(1).toUpperCase()}const html$1=merge([aria,html$2,xlink,xmlns,xml],"html"),svg=merge([aria,svg$1,xlink,xmlns,xml],"svg");function stringify(e){return e.join(" ").trim()}var cjs$2={},COMMENT_REGEX=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,NEWLINE_REGEX=/\n/g,WHITESPACE_REGEX=/^\s*/,PROPERTY_REGEX=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,COLON_REGEX=/^:\s*/,VALUE_REGEX=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,SEMICOLON_REGEX=/^[;\s]*/,TRIM_REGEX=/^\s+|\s+$/g,NEWLINE=`
`,FORWARD_SLASH="/",ASTERISK="*",EMPTY_STRING="",TYPE_COMMENT="comment",TYPE_DECLARATION="declaration";function index$1(e,a){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];a=a||{};var c=1,d=1;function b(at){var ut=at.match(NEWLINE_REGEX);ut&&(c+=ut.length);var wt=at.lastIndexOf(NEWLINE);d=~wt?at.length-wt:d+at.length}function h(){var at={line:c,column:d};return function(ut){return ut.position=new _(at),et(),ut}}function _(at){this.start=at,this.end={line:c,column:d},this.source=a.source}_.prototype.content=e;function j(at){var ut=new Error(a.source+":"+c+":"+d+": "+at);if(ut.reason=at,ut.filename=a.source,ut.line=c,ut.column=d,ut.source=e,!a.silent)throw ut}function _e(at){var ut=at.exec(e);if(ut){var wt=ut[0];return b(wt),e=e.slice(wt.length),ut}}function et(){_e(WHITESPACE_REGEX)}function $(at){var ut;for(at=at||[];ut=rt();)ut!==!1&&at.push(ut);return at}function rt(){var at=h();if(!(FORWARD_SLASH!=e.charAt(0)||ASTERISK!=e.charAt(1))){for(var ut=2;EMPTY_STRING!=e.charAt(ut)&&(ASTERISK!=e.charAt(ut)||FORWARD_SLASH!=e.charAt(ut+1));)++ut;if(ut+=2,EMPTY_STRING===e.charAt(ut-1))return j("End of comment missing");var wt=e.slice(2,ut-2);return d+=2,b(wt),e=e.slice(ut),d+=2,at({type:TYPE_COMMENT,comment:wt})}}function nt(){var at=h(),ut=_e(PROPERTY_REGEX);if(ut){if(rt(),!_e(COLON_REGEX))return j("property missing ':'");var wt=_e(VALUE_REGEX),pt=at({type:TYPE_DECLARATION,property:trim(ut[0].replace(COMMENT_REGEX,EMPTY_STRING)),value:wt?trim(wt[0].replace(COMMENT_REGEX,EMPTY_STRING)):EMPTY_STRING});return _e(SEMICOLON_REGEX),pt}}function st(){var at=[];$(at);for(var ut;ut=nt();)ut!==!1&&(at.push(ut),$(at));return at}return et(),st()}function trim(e){return e?e.replace(TRIM_REGEX,EMPTY_STRING):EMPTY_STRING}var cjs$1=index$1,__importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cjs$2,"__esModule",{value:!0});cjs$2.default=StyleToObject;const inline_style_parser_1=__importDefault$1(cjs$1);function StyleToObject(e,a){let c=null;if(!e||typeof e!="string")return c;const d=(0,inline_style_parser_1.default)(e),b=typeof a=="function";return d.forEach(h=>{if(h.type!=="declaration")return;const{property:_,value:j}=h;b?a(_,j,h):j&&(c=c||{},c[_]=j)}),c}var utilities={};Object.defineProperty(utilities,"__esModule",{value:!0});utilities.camelCase=void 0;var CUSTOM_PROPERTY_REGEX=/^--[a-zA-Z0-9_-]+$/,HYPHEN_REGEX=/-([a-z])/g,NO_HYPHEN_REGEX=/^[^-]+$/,VENDOR_PREFIX_REGEX=/^-(webkit|moz|ms|o|khtml)-/,MS_VENDOR_PREFIX_REGEX=/^-(ms)-/,skipCamelCase=function(e){return!e||NO_HYPHEN_REGEX.test(e)||CUSTOM_PROPERTY_REGEX.test(e)},capitalize$1=function(e,a){return a.toUpperCase()},trimHyphen=function(e,a){return"".concat(a,"-")},camelCase=function(e,a){return a===void 0&&(a={}),skipCamelCase(e)?e:(e=e.toLowerCase(),a.reactCompat?e=e.replace(MS_VENDOR_PREFIX_REGEX,trimHyphen):e=e.replace(VENDOR_PREFIX_REGEX,trimHyphen),e.replace(HYPHEN_REGEX,capitalize$1))};utilities.camelCase=camelCase;var __importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},style_to_object_1=__importDefault(cjs$2),utilities_1=utilities;function StyleToJS(e,a){var c={};return!e||typeof e!="string"||(0,style_to_object_1.default)(e,function(d,b){d&&b&&(c[(0,utilities_1.camelCase)(d,a)]=b)}),c}StyleToJS.default=StyleToJS;var cjs=StyleToJS;const styleToJs=getDefaultExportFromCjs$1(cjs),pointStart$1=point$3("start");function point$3(e){return a;function a(c){const d=c&&c.position&&c.position[e]||{};if(typeof d.line=="number"&&d.line>0&&typeof d.column=="number"&&d.column>0)return{line:d.line,column:d.column,offset:typeof d.offset=="number"&&d.offset>-1?d.offset:void 0}}}function stringifyPosition(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?position$1(e.position):"start"in e||"end"in e?position$1(e):"line"in e||"column"in e?point$2(e):""}function point$2(e){return index(e&&e.line)+":"+index(e&&e.column)}function position$1(e){return point$2(e&&e.start)+"-"+point$2(e&&e.end)}function index(e){return e&&typeof e=="number"?e:1}class VFileMessage extends Error{constructor(a,c,d){super(),typeof c=="string"&&(d=c,c=void 0);let b="",h={},_=!1;if(c&&("line"in c&&"column"in c?h={place:c}:"start"in c&&"end"in c?h={place:c}:"type"in c?h={ancestors:[c],place:c.position}:h={...c}),typeof a=="string"?b=a:!h.cause&&a&&(_=!0,b=a.message,h.cause=a),!h.ruleId&&!h.source&&typeof d=="string"){const _e=d.indexOf(":");_e===-1?h.ruleId=d:(h.source=d.slice(0,_e),h.ruleId=d.slice(_e+1))}if(!h.place&&h.ancestors&&h.ancestors){const _e=h.ancestors[h.ancestors.length-1];_e&&(h.place=_e.position)}const j=h.place&&"start"in h.place?h.place.start:h.place;this.ancestors=h.ancestors||void 0,this.cause=h.cause||void 0,this.column=j?j.column:void 0,this.fatal=void 0,this.file="",this.message=b,this.line=j?j.line:void 0,this.name=stringifyPosition(h.place)||"1:1",this.place=h.place||void 0,this.reason=this.message,this.ruleId=h.ruleId||void 0,this.source=h.source||void 0,this.stack=_&&h.cause&&typeof h.cause.stack=="string"?h.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}VFileMessage.prototype.file="";VFileMessage.prototype.name="";VFileMessage.prototype.reason="";VFileMessage.prototype.message="";VFileMessage.prototype.stack="";VFileMessage.prototype.column=void 0;VFileMessage.prototype.line=void 0;VFileMessage.prototype.ancestors=void 0;VFileMessage.prototype.cause=void 0;VFileMessage.prototype.fatal=void 0;VFileMessage.prototype.place=void 0;VFileMessage.prototype.ruleId=void 0;VFileMessage.prototype.source=void 0;const own$3={}.hasOwnProperty,emptyMap=new Map,cap=/[A-Z]/g,tableElements=new Set(["table","tbody","thead","tfoot","tr"]),tableCellElement=new Set(["td","th"]),docs="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function toJsxRuntime(e,a){if(!a||a.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const c=a.filePath||void 0;let d;if(a.development){if(typeof a.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");d=developmentCreate(c,a.jsxDEV)}else{if(typeof a.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof a.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");d=productionCreate(c,a.jsx,a.jsxs)}const b={Fragment:a.Fragment,ancestors:[],components:a.components||{},create:d,elementAttributeNameCase:a.elementAttributeNameCase||"react",evaluater:a.createEvaluater?a.createEvaluater():void 0,filePath:c,ignoreInvalidStyle:a.ignoreInvalidStyle||!1,passKeys:a.passKeys!==!1,passNode:a.passNode||!1,schema:a.space==="svg"?svg:html$1,stylePropertyNameCase:a.stylePropertyNameCase||"dom",tableCellAlignToStyle:a.tableCellAlignToStyle!==!1},h=one$1(b,e,void 0);return h&&typeof h!="string"?h:b.create(e,b.Fragment,{children:h||void 0},void 0)}function one$1(e,a,c){if(a.type==="element")return element$1(e,a,c);if(a.type==="mdxFlowExpression"||a.type==="mdxTextExpression")return mdxExpression(e,a);if(a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement")return mdxJsxElement(e,a,c);if(a.type==="mdxjsEsm")return mdxEsm(e,a);if(a.type==="root")return root$1(e,a,c);if(a.type==="text")return text$3(e,a)}function element$1(e,a,c){const d=e.schema;let b=d;a.tagName.toLowerCase()==="svg"&&d.space==="html"&&(b=svg,e.schema=b),e.ancestors.push(a);const h=findComponentFromName(e,a.tagName,!1),_=createElementProps(e,a);let j=createChildren(e,a);return tableElements.has(a.tagName)&&(j=j.filter(function(_e){return typeof _e=="string"?!whitespace(_e):!0})),addNode(e,_,h,a),addChildren(_,j),e.ancestors.pop(),e.schema=d,e.create(a,h,_,c)}function mdxExpression(e,a){if(a.data&&a.data.estree&&e.evaluater){const d=a.data.estree.body[0];return d.type,e.evaluater.evaluateExpression(d.expression)}crashEstree(e,a.position)}function mdxEsm(e,a){if(a.data&&a.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(a.data.estree);crashEstree(e,a.position)}function mdxJsxElement(e,a,c){const d=e.schema;let b=d;a.name==="svg"&&d.space==="html"&&(b=svg,e.schema=b),e.ancestors.push(a);const h=a.name===null?e.Fragment:findComponentFromName(e,a.name,!0),_=createJsxElementProps(e,a),j=createChildren(e,a);return addNode(e,_,h,a),addChildren(_,j),e.ancestors.pop(),e.schema=d,e.create(a,h,_,c)}function root$1(e,a,c){const d={};return addChildren(d,createChildren(e,a)),e.create(a,e.Fragment,d,c)}function text$3(e,a){return a.value}function addNode(e,a,c,d){typeof c!="string"&&c!==e.Fragment&&e.passNode&&(a.node=d)}function addChildren(e,a){if(a.length>0){const c=a.length>1?a:a[0];c&&(e.children=c)}}function productionCreate(e,a,c){return d;function d(b,h,_,j){const et=Array.isArray(_.children)?c:a;return j?et(h,_,j):et(h,_)}}function developmentCreate(e,a){return c;function c(d,b,h,_){const j=Array.isArray(h.children),_e=pointStart$1(d);return a(b,h,_,j,{columnNumber:_e?_e.column-1:void 0,fileName:e,lineNumber:_e?_e.line:void 0},void 0)}}function createElementProps(e,a){const c={};let d,b;for(b in a.properties)if(b!=="children"&&own$3.call(a.properties,b)){const h=createProperty(e,b,a.properties[b]);if(h){const[_,j]=h;e.tableCellAlignToStyle&&_==="align"&&typeof j=="string"&&tableCellElement.has(a.tagName)?d=j:c[_]=j}}if(d){const h=c.style||(c.style={});h[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=d}return c}function createJsxElementProps(e,a){const c={};for(const d of a.attributes)if(d.type==="mdxJsxExpressionAttribute")if(d.data&&d.data.estree&&e.evaluater){const h=d.data.estree.body[0];h.type;const _=h.expression;_.type;const j=_.properties[0];j.type,Object.assign(c,e.evaluater.evaluateExpression(j.argument))}else crashEstree(e,a.position);else{const b=d.name;let h;if(d.value&&typeof d.value=="object")if(d.value.data&&d.value.data.estree&&e.evaluater){const j=d.value.data.estree.body[0];j.type,h=e.evaluater.evaluateExpression(j.expression)}else crashEstree(e,a.position);else h=d.value===null?!0:d.value;c[b]=h}return c}function createChildren(e,a){const c=[];let d=-1;const b=e.passKeys?new Map:emptyMap;for(;++d<a.children.length;){const h=a.children[d];let _;if(e.passKeys){const _e=h.type==="element"?h.tagName:h.type==="mdxJsxFlowElement"||h.type==="mdxJsxTextElement"?h.name:void 0;if(_e){const et=b.get(_e)||0;_=_e+"-"+et,b.set(_e,et+1)}}const j=one$1(e,h,_);j!==void 0&&c.push(j)}return c}function createProperty(e,a,c){const d=find(e.schema,a);if(!(c==null||typeof c=="number"&&Number.isNaN(c))){if(Array.isArray(c)&&(c=d.commaSeparated?stringify$1(c):stringify(c)),d.property==="style"){let b=typeof c=="object"?c:parseStyle(e,String(c));return e.stylePropertyNameCase==="css"&&(b=transformStylesToCssCasing(b)),["style",b]}return[e.elementAttributeNameCase==="react"&&d.space?hastToReact[d.property]||d.property:d.attribute,c]}}function parseStyle(e,a){try{return styleToJs(a,{reactCompat:!0})}catch(c){if(e.ignoreInvalidStyle)return{};const d=c,b=new VFileMessage("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:d,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw b.file=e.filePath||void 0,b.url=docs+"#cannot-parse-style-attribute",b}}function findComponentFromName(e,a,c){let d;if(!c)d={type:"Literal",value:a};else if(a.includes(".")){const b=a.split(".");let h=-1,_;for(;++h<b.length;){const j=name(b[h])?{type:"Identifier",name:b[h]}:{type:"Literal",value:b[h]};_=_?{type:"MemberExpression",object:_,property:j,computed:!!(h&&j.type==="Literal"),optional:!1}:j}d=_}else d=name(a)&&!/^[a-z]/.test(a)?{type:"Identifier",name:a}:{type:"Literal",value:a};if(d.type==="Literal"){const b=d.value;return own$3.call(e.components,b)?e.components[b]:b}if(e.evaluater)return e.evaluater.evaluateExpression(d);crashEstree(e)}function crashEstree(e,a){const c=new VFileMessage("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:a,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw c.file=e.filePath||void 0,c.url=docs+"#cannot-handle-mdx-estrees-without-createevaluater",c}function transformStylesToCssCasing(e){const a={};let c;for(c in e)own$3.call(e,c)&&(a[transformStyleToCssCasing(c)]=e[c]);return a}function transformStyleToCssCasing(e){let a=e.replace(cap,toDash);return a.slice(0,3)==="ms-"&&(a="-"+a),a}function toDash(e){return"-"+e.toLowerCase()}const urlAttributes={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},emptyOptions$1={};function toString$1(e,a){const c=emptyOptions$1,d=typeof c.includeImageAlt=="boolean"?c.includeImageAlt:!0,b=typeof c.includeHtml=="boolean"?c.includeHtml:!0;return one(e,d,b)}function one(e,a,c){if(node(e)){if("value"in e)return e.type==="html"&&!c?"":e.value;if(a&&"alt"in e&&e.alt)return e.alt;if("children"in e)return all(e.children,a,c)}return Array.isArray(e)?all(e,a,c):""}function all(e,a,c){const d=[];let b=-1;for(;++b<e.length;)d[b]=one(e[b],a,c);return d.join("")}function node(e){return!!(e&&typeof e=="object")}const element=document.createElement("i");function decodeNamedCharacterReference(e){const a="&"+e+";";element.innerHTML=a;const c=element.textContent;return c.charCodeAt(c.length-1)===59&&e!=="semi"||c===a?!1:c}function splice(e,a,c,d){const b=e.length;let h=0,_;if(a<0?a=-a>b?0:b+a:a=a>b?b:a,c=c>0?c:0,d.length<1e4)_=Array.from(d),_.unshift(a,c),e.splice(..._);else for(c&&e.splice(a,c);h<d.length;)_=d.slice(h,h+1e4),_.unshift(a,0),e.splice(..._),h+=1e4,a+=1e4}function push(e,a){return e.length>0?(splice(e,e.length,0,a),e):a}const hasOwnProperty={}.hasOwnProperty;function combineExtensions(e){const a={};let c=-1;for(;++c<e.length;)syntaxExtension(a,e[c]);return a}function syntaxExtension(e,a){let c;for(c in a){const b=(hasOwnProperty.call(e,c)?e[c]:void 0)||(e[c]={}),h=a[c];let _;if(h)for(_ in h){hasOwnProperty.call(b,_)||(b[_]=[]);const j=h[_];constructs(b[_],Array.isArray(j)?j:j?[j]:[])}}}function constructs(e,a){let c=-1;const d=[];for(;++c<a.length;)(a[c].add==="after"?e:d).push(a[c]);splice(e,0,0,d)}function decodeNumericCharacterReference(e,a){const c=Number.parseInt(e,a);return c<9||c===11||c>13&&c<32||c>126&&c<160||c>55295&&c<57344||c>64975&&c<65008||(c&65535)===65535||(c&65535)===65534||c>1114111?"":String.fromCodePoint(c)}function normalizeIdentifier(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const asciiAlpha=regexCheck(/[A-Za-z]/),asciiAlphanumeric=regexCheck(/[\dA-Za-z]/),asciiAtext=regexCheck(/[#-'*+\--9=?A-Z^-~]/);function asciiControl(e){return e!==null&&(e<32||e===127)}const asciiDigit=regexCheck(/\d/),asciiHexDigit=regexCheck(/[\dA-Fa-f]/),asciiPunctuation=regexCheck(/[!-/:-@[-`{-~]/);function markdownLineEnding(e){return e!==null&&e<-2}function markdownLineEndingOrSpace(e){return e!==null&&(e<0||e===32)}function markdownSpace(e){return e===-2||e===-1||e===32}const unicodePunctuation=regexCheck(new RegExp("\\p{P}|\\p{S}","u")),unicodeWhitespace=regexCheck(/\s/);function regexCheck(e){return a;function a(c){return c!==null&&c>-1&&e.test(String.fromCharCode(c))}}function normalizeUri(e){const a=[];let c=-1,d=0,b=0;for(;++c<e.length;){const h=e.charCodeAt(c);let _="";if(h===37&&asciiAlphanumeric(e.charCodeAt(c+1))&&asciiAlphanumeric(e.charCodeAt(c+2)))b=2;else if(h<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(h))||(_=String.fromCharCode(h));else if(h>55295&&h<57344){const j=e.charCodeAt(c+1);h<56320&&j>56319&&j<57344?(_=String.fromCharCode(h,j),b=1):_=""}else _=String.fromCharCode(h);_&&(a.push(e.slice(d,c),encodeURIComponent(_)),d=c+b+1,_=""),b&&(c+=b,b=0)}return a.join("")+e.slice(d)}function factorySpace(e,a,c,d){const b=d?d-1:Number.POSITIVE_INFINITY;let h=0;return _;function _(_e){return markdownSpace(_e)?(e.enter(c),j(_e)):a(_e)}function j(_e){return markdownSpace(_e)&&h++<b?(e.consume(_e),j):(e.exit(c),a(_e))}}const content$1={tokenize:initializeContent};function initializeContent(e){const a=e.attempt(this.parser.constructs.contentInitial,d,b);let c;return a;function d(j){if(j===null){e.consume(j);return}return e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),factorySpace(e,a,"linePrefix")}function b(j){return e.enter("paragraph"),h(j)}function h(j){const _e=e.enter("chunkText",{contentType:"text",previous:c});return c&&(c.next=_e),c=_e,_(j)}function _(j){if(j===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(j);return}return markdownLineEnding(j)?(e.consume(j),e.exit("chunkText"),h):(e.consume(j),_)}}const document$2={tokenize:initializeDocument},containerConstruct={tokenize:tokenizeContainer};function initializeDocument(e){const a=this,c=[];let d=0,b,h,_;return j;function j(St){if(d<c.length){const Nt=c[d];return a.containerState=Nt[1],e.attempt(Nt[0].continuation,_e,et)(St)}return et(St)}function _e(St){if(d++,a.containerState._closeFlow){a.containerState._closeFlow=void 0,b&&xt();const Nt=a.events.length;let At=Nt,Ct;for(;At--;)if(a.events[At][0]==="exit"&&a.events[At][1].type==="chunkFlow"){Ct=a.events[At][1].end;break}pt(d);let Vt=Nt;for(;Vt<a.events.length;)a.events[Vt][1].end={...Ct},Vt++;return splice(a.events,At+1,0,a.events.slice(Nt)),a.events.length=Vt,et(St)}return j(St)}function et(St){if(d===c.length){if(!b)return nt(St);if(b.currentConstruct&&b.currentConstruct.concrete)return at(St);a.interrupt=!!(b.currentConstruct&&!b._gfmTableDynamicInterruptHack)}return a.containerState={},e.check(containerConstruct,$,rt)(St)}function $(St){return b&&xt(),pt(d),nt(St)}function rt(St){return a.parser.lazy[a.now().line]=d!==c.length,_=a.now().offset,at(St)}function nt(St){return a.containerState={},e.attempt(containerConstruct,st,at)(St)}function st(St){return d++,c.push([a.currentConstruct,a.containerState]),nt(St)}function at(St){if(St===null){b&&xt(),pt(0),e.consume(St);return}return b=b||a.parser.flow(a.now()),e.enter("chunkFlow",{_tokenizer:b,contentType:"flow",previous:h}),ut(St)}function ut(St){if(St===null){wt(e.exit("chunkFlow"),!0),pt(0),e.consume(St);return}return markdownLineEnding(St)?(e.consume(St),wt(e.exit("chunkFlow")),d=0,a.interrupt=void 0,j):(e.consume(St),ut)}function wt(St,Nt){const At=a.sliceStream(St);if(Nt&&At.push(null),St.previous=h,h&&(h.next=St),h=St,b.defineSkip(St.start),b.write(At),a.parser.lazy[St.start.line]){let Ct=b.events.length;for(;Ct--;)if(b.events[Ct][1].start.offset<_&&(!b.events[Ct][1].end||b.events[Ct][1].end.offset>_))return;const Vt=a.events.length;let Bt=Vt,Ut,Ft;for(;Bt--;)if(a.events[Bt][0]==="exit"&&a.events[Bt][1].type==="chunkFlow"){if(Ut){Ft=a.events[Bt][1].end;break}Ut=!0}for(pt(d),Ct=Vt;Ct<a.events.length;)a.events[Ct][1].end={...Ft},Ct++;splice(a.events,Bt+1,0,a.events.slice(Vt)),a.events.length=Ct}}function pt(St){let Nt=c.length;for(;Nt-- >St;){const At=c[Nt];a.containerState=At[1],At[0].exit.call(a,e)}c.length=St}function xt(){b.write([null]),h=void 0,b=void 0,a.containerState._closeFlow=void 0}}function tokenizeContainer(e,a,c){return factorySpace(e,e.attempt(this.parser.constructs.document,a,c),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function classifyCharacter(e){if(e===null||markdownLineEndingOrSpace(e)||unicodeWhitespace(e))return 1;if(unicodePunctuation(e))return 2}function resolveAll(e,a,c){const d=[];let b=-1;for(;++b<e.length;){const h=e[b].resolveAll;h&&!d.includes(h)&&(a=h(a,c),d.push(h))}return a}const attention={name:"attention",resolveAll:resolveAllAttention,tokenize:tokenizeAttention};function resolveAllAttention(e,a){let c=-1,d,b,h,_,j,_e,et,$;for(;++c<e.length;)if(e[c][0]==="enter"&&e[c][1].type==="attentionSequence"&&e[c][1]._close){for(d=c;d--;)if(e[d][0]==="exit"&&e[d][1].type==="attentionSequence"&&e[d][1]._open&&a.sliceSerialize(e[d][1]).charCodeAt(0)===a.sliceSerialize(e[c][1]).charCodeAt(0)){if((e[d][1]._close||e[c][1]._open)&&(e[c][1].end.offset-e[c][1].start.offset)%3&&!((e[d][1].end.offset-e[d][1].start.offset+e[c][1].end.offset-e[c][1].start.offset)%3))continue;_e=e[d][1].end.offset-e[d][1].start.offset>1&&e[c][1].end.offset-e[c][1].start.offset>1?2:1;const rt={...e[d][1].end},nt={...e[c][1].start};movePoint(rt,-_e),movePoint(nt,_e),_={type:_e>1?"strongSequence":"emphasisSequence",start:rt,end:{...e[d][1].end}},j={type:_e>1?"strongSequence":"emphasisSequence",start:{...e[c][1].start},end:nt},h={type:_e>1?"strongText":"emphasisText",start:{...e[d][1].end},end:{...e[c][1].start}},b={type:_e>1?"strong":"emphasis",start:{..._.start},end:{...j.end}},e[d][1].end={..._.start},e[c][1].start={...j.end},et=[],e[d][1].end.offset-e[d][1].start.offset&&(et=push(et,[["enter",e[d][1],a],["exit",e[d][1],a]])),et=push(et,[["enter",b,a],["enter",_,a],["exit",_,a],["enter",h,a]]),et=push(et,resolveAll(a.parser.constructs.insideSpan.null,e.slice(d+1,c),a)),et=push(et,[["exit",h,a],["enter",j,a],["exit",j,a],["exit",b,a]]),e[c][1].end.offset-e[c][1].start.offset?($=2,et=push(et,[["enter",e[c][1],a],["exit",e[c][1],a]])):$=0,splice(e,d-1,c-d+3,et),c=d+et.length-$-2;break}}for(c=-1;++c<e.length;)e[c][1].type==="attentionSequence"&&(e[c][1].type="data");return e}function tokenizeAttention(e,a){const c=this.parser.constructs.attentionMarkers.null,d=this.previous,b=classifyCharacter(d);let h;return _;function _(_e){return h=_e,e.enter("attentionSequence"),j(_e)}function j(_e){if(_e===h)return e.consume(_e),j;const et=e.exit("attentionSequence"),$=classifyCharacter(_e),rt=!$||$===2&&b||c.includes(_e),nt=!b||b===2&&$||c.includes(d);return et._open=!!(h===42?rt:rt&&(b||!nt)),et._close=!!(h===42?nt:nt&&($||!rt)),a(_e)}}function movePoint(e,a){e.column+=a,e.offset+=a,e._bufferIndex+=a}const autolink={name:"autolink",tokenize:tokenizeAutolink};function tokenizeAutolink(e,a,c){let d=0;return b;function b(st){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(st),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),h}function h(st){return asciiAlpha(st)?(e.consume(st),_):st===64?c(st):et(st)}function _(st){return st===43||st===45||st===46||asciiAlphanumeric(st)?(d=1,j(st)):et(st)}function j(st){return st===58?(e.consume(st),d=0,_e):(st===43||st===45||st===46||asciiAlphanumeric(st))&&d++<32?(e.consume(st),j):(d=0,et(st))}function _e(st){return st===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(st),e.exit("autolinkMarker"),e.exit("autolink"),a):st===null||st===32||st===60||asciiControl(st)?c(st):(e.consume(st),_e)}function et(st){return st===64?(e.consume(st),$):asciiAtext(st)?(e.consume(st),et):c(st)}function $(st){return asciiAlphanumeric(st)?rt(st):c(st)}function rt(st){return st===46?(e.consume(st),d=0,$):st===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(st),e.exit("autolinkMarker"),e.exit("autolink"),a):nt(st)}function nt(st){if((st===45||asciiAlphanumeric(st))&&d++<63){const at=st===45?nt:rt;return e.consume(st),at}return c(st)}}const blankLine={partial:!0,tokenize:tokenizeBlankLine};function tokenizeBlankLine(e,a,c){return d;function d(h){return markdownSpace(h)?factorySpace(e,b,"linePrefix")(h):b(h)}function b(h){return h===null||markdownLineEnding(h)?a(h):c(h)}}const blockQuote={continuation:{tokenize:tokenizeBlockQuoteContinuation},exit,name:"blockQuote",tokenize:tokenizeBlockQuoteStart};function tokenizeBlockQuoteStart(e,a,c){const d=this;return b;function b(_){if(_===62){const j=d.containerState;return j.open||(e.enter("blockQuote",{_container:!0}),j.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(_),e.exit("blockQuoteMarker"),h}return c(_)}function h(_){return markdownSpace(_)?(e.enter("blockQuotePrefixWhitespace"),e.consume(_),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),a):(e.exit("blockQuotePrefix"),a(_))}}function tokenizeBlockQuoteContinuation(e,a,c){const d=this;return b;function b(_){return markdownSpace(_)?factorySpace(e,h,"linePrefix",d.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(_):h(_)}function h(_){return e.attempt(blockQuote,a,c)(_)}}function exit(e){e.exit("blockQuote")}const characterEscape={name:"characterEscape",tokenize:tokenizeCharacterEscape};function tokenizeCharacterEscape(e,a,c){return d;function d(h){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(h),e.exit("escapeMarker"),b}function b(h){return asciiPunctuation(h)?(e.enter("characterEscapeValue"),e.consume(h),e.exit("characterEscapeValue"),e.exit("characterEscape"),a):c(h)}}const characterReference={name:"characterReference",tokenize:tokenizeCharacterReference};function tokenizeCharacterReference(e,a,c){const d=this;let b=0,h,_;return j;function j(rt){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(rt),e.exit("characterReferenceMarker"),_e}function _e(rt){return rt===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(rt),e.exit("characterReferenceMarkerNumeric"),et):(e.enter("characterReferenceValue"),h=31,_=asciiAlphanumeric,$(rt))}function et(rt){return rt===88||rt===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(rt),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),h=6,_=asciiHexDigit,$):(e.enter("characterReferenceValue"),h=7,_=asciiDigit,$(rt))}function $(rt){if(rt===59&&b){const nt=e.exit("characterReferenceValue");return _===asciiAlphanumeric&&!decodeNamedCharacterReference(d.sliceSerialize(nt))?c(rt):(e.enter("characterReferenceMarker"),e.consume(rt),e.exit("characterReferenceMarker"),e.exit("characterReference"),a)}return _(rt)&&b++<h?(e.consume(rt),$):c(rt)}}const nonLazyContinuation={partial:!0,tokenize:tokenizeNonLazyContinuation},codeFenced={concrete:!0,name:"codeFenced",tokenize:tokenizeCodeFenced};function tokenizeCodeFenced(e,a,c){const d=this,b={partial:!0,tokenize:At};let h=0,_=0,j;return _e;function _e(Ct){return et(Ct)}function et(Ct){const Vt=d.events[d.events.length-1];return h=Vt&&Vt[1].type==="linePrefix"?Vt[2].sliceSerialize(Vt[1],!0).length:0,j=Ct,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),$(Ct)}function $(Ct){return Ct===j?(_++,e.consume(Ct),$):_<3?c(Ct):(e.exit("codeFencedFenceSequence"),markdownSpace(Ct)?factorySpace(e,rt,"whitespace")(Ct):rt(Ct))}function rt(Ct){return Ct===null||markdownLineEnding(Ct)?(e.exit("codeFencedFence"),d.interrupt?a(Ct):e.check(nonLazyContinuation,ut,Nt)(Ct)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),nt(Ct))}function nt(Ct){return Ct===null||markdownLineEnding(Ct)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),rt(Ct)):markdownSpace(Ct)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),factorySpace(e,st,"whitespace")(Ct)):Ct===96&&Ct===j?c(Ct):(e.consume(Ct),nt)}function st(Ct){return Ct===null||markdownLineEnding(Ct)?rt(Ct):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),at(Ct))}function at(Ct){return Ct===null||markdownLineEnding(Ct)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),rt(Ct)):Ct===96&&Ct===j?c(Ct):(e.consume(Ct),at)}function ut(Ct){return e.attempt(b,Nt,wt)(Ct)}function wt(Ct){return e.enter("lineEnding"),e.consume(Ct),e.exit("lineEnding"),pt}function pt(Ct){return h>0&&markdownSpace(Ct)?factorySpace(e,xt,"linePrefix",h+1)(Ct):xt(Ct)}function xt(Ct){return Ct===null||markdownLineEnding(Ct)?e.check(nonLazyContinuation,ut,Nt)(Ct):(e.enter("codeFlowValue"),St(Ct))}function St(Ct){return Ct===null||markdownLineEnding(Ct)?(e.exit("codeFlowValue"),xt(Ct)):(e.consume(Ct),St)}function Nt(Ct){return e.exit("codeFenced"),a(Ct)}function At(Ct,Vt,Bt){let Ut=0;return Ft;function Ft(it){return Ct.enter("lineEnding"),Ct.consume(it),Ct.exit("lineEnding"),Mt}function Mt(it){return Ct.enter("codeFencedFence"),markdownSpace(it)?factorySpace(Ct,mt,"linePrefix",d.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(it):mt(it)}function mt(it){return it===j?(Ct.enter("codeFencedFenceSequence"),ft(it)):Bt(it)}function ft(it){return it===j?(Ut++,Ct.consume(it),ft):Ut>=_?(Ct.exit("codeFencedFenceSequence"),markdownSpace(it)?factorySpace(Ct,tt,"whitespace")(it):tt(it)):Bt(it)}function tt(it){return it===null||markdownLineEnding(it)?(Ct.exit("codeFencedFence"),Vt(it)):Bt(it)}}}function tokenizeNonLazyContinuation(e,a,c){const d=this;return b;function b(_){return _===null?c(_):(e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),h)}function h(_){return d.parser.lazy[d.now().line]?c(_):a(_)}}const codeIndented={name:"codeIndented",tokenize:tokenizeCodeIndented},furtherStart={partial:!0,tokenize:tokenizeFurtherStart};function tokenizeCodeIndented(e,a,c){const d=this;return b;function b(et){return e.enter("codeIndented"),factorySpace(e,h,"linePrefix",5)(et)}function h(et){const $=d.events[d.events.length-1];return $&&$[1].type==="linePrefix"&&$[2].sliceSerialize($[1],!0).length>=4?_(et):c(et)}function _(et){return et===null?_e(et):markdownLineEnding(et)?e.attempt(furtherStart,_,_e)(et):(e.enter("codeFlowValue"),j(et))}function j(et){return et===null||markdownLineEnding(et)?(e.exit("codeFlowValue"),_(et)):(e.consume(et),j)}function _e(et){return e.exit("codeIndented"),a(et)}}function tokenizeFurtherStart(e,a,c){const d=this;return b;function b(_){return d.parser.lazy[d.now().line]?c(_):markdownLineEnding(_)?(e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),b):factorySpace(e,h,"linePrefix",5)(_)}function h(_){const j=d.events[d.events.length-1];return j&&j[1].type==="linePrefix"&&j[2].sliceSerialize(j[1],!0).length>=4?a(_):markdownLineEnding(_)?b(_):c(_)}}const codeText={name:"codeText",previous,resolve:resolveCodeText,tokenize:tokenizeCodeText};function resolveCodeText(e){let a=e.length-4,c=3,d,b;if((e[c][1].type==="lineEnding"||e[c][1].type==="space")&&(e[a][1].type==="lineEnding"||e[a][1].type==="space")){for(d=c;++d<a;)if(e[d][1].type==="codeTextData"){e[c][1].type="codeTextPadding",e[a][1].type="codeTextPadding",c+=2,a-=2;break}}for(d=c-1,a++;++d<=a;)b===void 0?d!==a&&e[d][1].type!=="lineEnding"&&(b=d):(d===a||e[d][1].type==="lineEnding")&&(e[b][1].type="codeTextData",d!==b+2&&(e[b][1].end=e[d-1][1].end,e.splice(b+2,d-b-2),a-=d-b-2,d=b+2),b=void 0);return e}function previous(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function tokenizeCodeText(e,a,c){let d=0,b,h;return _;function _(rt){return e.enter("codeText"),e.enter("codeTextSequence"),j(rt)}function j(rt){return rt===96?(e.consume(rt),d++,j):(e.exit("codeTextSequence"),_e(rt))}function _e(rt){return rt===null?c(rt):rt===32?(e.enter("space"),e.consume(rt),e.exit("space"),_e):rt===96?(h=e.enter("codeTextSequence"),b=0,$(rt)):markdownLineEnding(rt)?(e.enter("lineEnding"),e.consume(rt),e.exit("lineEnding"),_e):(e.enter("codeTextData"),et(rt))}function et(rt){return rt===null||rt===32||rt===96||markdownLineEnding(rt)?(e.exit("codeTextData"),_e(rt)):(e.consume(rt),et)}function $(rt){return rt===96?(e.consume(rt),b++,$):b===d?(e.exit("codeTextSequence"),e.exit("codeText"),a(rt)):(h.type="codeTextData",et(rt))}}class SpliceBuffer{constructor(a){this.left=a?[...a]:[],this.right=[]}get(a){if(a<0||a>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+a+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return a<this.left.length?this.left[a]:this.right[this.right.length-a+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(a,c){const d=c??Number.POSITIVE_INFINITY;return d<this.left.length?this.left.slice(a,d):a>this.left.length?this.right.slice(this.right.length-d+this.left.length,this.right.length-a+this.left.length).reverse():this.left.slice(a).concat(this.right.slice(this.right.length-d+this.left.length).reverse())}splice(a,c,d){const b=c||0;this.setCursor(Math.trunc(a));const h=this.right.splice(this.right.length-b,Number.POSITIVE_INFINITY);return d&&chunkedPush(this.left,d),h.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(a){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(a)}pushMany(a){this.setCursor(Number.POSITIVE_INFINITY),chunkedPush(this.left,a)}unshift(a){this.setCursor(0),this.right.push(a)}unshiftMany(a){this.setCursor(0),chunkedPush(this.right,a.reverse())}setCursor(a){if(!(a===this.left.length||a>this.left.length&&this.right.length===0||a<0&&this.left.length===0))if(a<this.left.length){const c=this.left.splice(a,Number.POSITIVE_INFINITY);chunkedPush(this.right,c.reverse())}else{const c=this.right.splice(this.left.length+this.right.length-a,Number.POSITIVE_INFINITY);chunkedPush(this.left,c.reverse())}}}function chunkedPush(e,a){let c=0;if(a.length<1e4)e.push(...a);else for(;c<a.length;)e.push(...a.slice(c,c+1e4)),c+=1e4}function subtokenize(e){const a={};let c=-1,d,b,h,_,j,_e,et;const $=new SpliceBuffer(e);for(;++c<$.length;){for(;c in a;)c=a[c];if(d=$.get(c),c&&d[1].type==="chunkFlow"&&$.get(c-1)[1].type==="listItemPrefix"&&(_e=d[1]._tokenizer.events,h=0,h<_e.length&&_e[h][1].type==="lineEndingBlank"&&(h+=2),h<_e.length&&_e[h][1].type==="content"))for(;++h<_e.length&&_e[h][1].type!=="content";)_e[h][1].type==="chunkText"&&(_e[h][1]._isInFirstContentOfListItem=!0,h++);if(d[0]==="enter")d[1].contentType&&(Object.assign(a,subcontent($,c)),c=a[c],et=!0);else if(d[1]._container){for(h=c,b=void 0;h--;)if(_=$.get(h),_[1].type==="lineEnding"||_[1].type==="lineEndingBlank")_[0]==="enter"&&(b&&($.get(b)[1].type="lineEndingBlank"),_[1].type="lineEnding",b=h);else if(!(_[1].type==="linePrefix"||_[1].type==="listItemIndent"))break;b&&(d[1].end={...$.get(b)[1].start},j=$.slice(b,c),j.unshift(d),$.splice(b,c-b+1,j))}}return splice(e,0,Number.POSITIVE_INFINITY,$.slice(0)),!et}function subcontent(e,a){const c=e.get(a)[1],d=e.get(a)[2];let b=a-1;const h=[];let _=c._tokenizer;_||(_=d.parser[c.contentType](c.start),c._contentTypeTextTrailing&&(_._contentTypeTextTrailing=!0));const j=_.events,_e=[],et={};let $,rt,nt=-1,st=c,at=0,ut=0;const wt=[ut];for(;st;){for(;e.get(++b)[1]!==st;);h.push(b),st._tokenizer||($=d.sliceStream(st),st.next||$.push(null),rt&&_.defineSkip(st.start),st._isInFirstContentOfListItem&&(_._gfmTasklistFirstContentOfListItem=!0),_.write($),st._isInFirstContentOfListItem&&(_._gfmTasklistFirstContentOfListItem=void 0)),rt=st,st=st.next}for(st=c;++nt<j.length;)j[nt][0]==="exit"&&j[nt-1][0]==="enter"&&j[nt][1].type===j[nt-1][1].type&&j[nt][1].start.line!==j[nt][1].end.line&&(ut=nt+1,wt.push(ut),st._tokenizer=void 0,st.previous=void 0,st=st.next);for(_.events=[],st?(st._tokenizer=void 0,st.previous=void 0):wt.pop(),nt=wt.length;nt--;){const pt=j.slice(wt[nt],wt[nt+1]),xt=h.pop();_e.push([xt,xt+pt.length-1]),e.splice(xt,2,pt)}for(_e.reverse(),nt=-1;++nt<_e.length;)et[at+_e[nt][0]]=at+_e[nt][1],at+=_e[nt][1]-_e[nt][0]-1;return et}const content={resolve:resolveContent,tokenize:tokenizeContent},continuationConstruct={partial:!0,tokenize:tokenizeContinuation};function resolveContent(e){return subtokenize(e),e}function tokenizeContent(e,a){let c;return d;function d(j){return e.enter("content"),c=e.enter("chunkContent",{contentType:"content"}),b(j)}function b(j){return j===null?h(j):markdownLineEnding(j)?e.check(continuationConstruct,_,h)(j):(e.consume(j),b)}function h(j){return e.exit("chunkContent"),e.exit("content"),a(j)}function _(j){return e.consume(j),e.exit("chunkContent"),c.next=e.enter("chunkContent",{contentType:"content",previous:c}),c=c.next,b}}function tokenizeContinuation(e,a,c){const d=this;return b;function b(_){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),factorySpace(e,h,"linePrefix")}function h(_){if(_===null||markdownLineEnding(_))return c(_);const j=d.events[d.events.length-1];return!d.parser.constructs.disable.null.includes("codeIndented")&&j&&j[1].type==="linePrefix"&&j[2].sliceSerialize(j[1],!0).length>=4?a(_):e.interrupt(d.parser.constructs.flow,c,a)(_)}}function factoryDestination(e,a,c,d,b,h,_,j,_e){const et=_e||Number.POSITIVE_INFINITY;let $=0;return rt;function rt(pt){return pt===60?(e.enter(d),e.enter(b),e.enter(h),e.consume(pt),e.exit(h),nt):pt===null||pt===32||pt===41||asciiControl(pt)?c(pt):(e.enter(d),e.enter(_),e.enter(j),e.enter("chunkString",{contentType:"string"}),ut(pt))}function nt(pt){return pt===62?(e.enter(h),e.consume(pt),e.exit(h),e.exit(b),e.exit(d),a):(e.enter(j),e.enter("chunkString",{contentType:"string"}),st(pt))}function st(pt){return pt===62?(e.exit("chunkString"),e.exit(j),nt(pt)):pt===null||pt===60||markdownLineEnding(pt)?c(pt):(e.consume(pt),pt===92?at:st)}function at(pt){return pt===60||pt===62||pt===92?(e.consume(pt),st):st(pt)}function ut(pt){return!$&&(pt===null||pt===41||markdownLineEndingOrSpace(pt))?(e.exit("chunkString"),e.exit(j),e.exit(_),e.exit(d),a(pt)):$<et&&pt===40?(e.consume(pt),$++,ut):pt===41?(e.consume(pt),$--,ut):pt===null||pt===32||pt===40||asciiControl(pt)?c(pt):(e.consume(pt),pt===92?wt:ut)}function wt(pt){return pt===40||pt===41||pt===92?(e.consume(pt),ut):ut(pt)}}function factoryLabel(e,a,c,d,b,h){const _=this;let j=0,_e;return et;function et(st){return e.enter(d),e.enter(b),e.consume(st),e.exit(b),e.enter(h),$}function $(st){return j>999||st===null||st===91||st===93&&!_e||st===94&&!j&&"_hiddenFootnoteSupport"in _.parser.constructs?c(st):st===93?(e.exit(h),e.enter(b),e.consume(st),e.exit(b),e.exit(d),a):markdownLineEnding(st)?(e.enter("lineEnding"),e.consume(st),e.exit("lineEnding"),$):(e.enter("chunkString",{contentType:"string"}),rt(st))}function rt(st){return st===null||st===91||st===93||markdownLineEnding(st)||j++>999?(e.exit("chunkString"),$(st)):(e.consume(st),_e||(_e=!markdownSpace(st)),st===92?nt:rt)}function nt(st){return st===91||st===92||st===93?(e.consume(st),j++,rt):rt(st)}}function factoryTitle(e,a,c,d,b,h){let _;return j;function j(nt){return nt===34||nt===39||nt===40?(e.enter(d),e.enter(b),e.consume(nt),e.exit(b),_=nt===40?41:nt,_e):c(nt)}function _e(nt){return nt===_?(e.enter(b),e.consume(nt),e.exit(b),e.exit(d),a):(e.enter(h),et(nt))}function et(nt){return nt===_?(e.exit(h),_e(_)):nt===null?c(nt):markdownLineEnding(nt)?(e.enter("lineEnding"),e.consume(nt),e.exit("lineEnding"),factorySpace(e,et,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),$(nt))}function $(nt){return nt===_||nt===null||markdownLineEnding(nt)?(e.exit("chunkString"),et(nt)):(e.consume(nt),nt===92?rt:$)}function rt(nt){return nt===_||nt===92?(e.consume(nt),$):$(nt)}}function factoryWhitespace(e,a){let c;return d;function d(b){return markdownLineEnding(b)?(e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),c=!0,d):markdownSpace(b)?factorySpace(e,d,c?"linePrefix":"lineSuffix")(b):a(b)}}const definition={name:"definition",tokenize:tokenizeDefinition},titleBefore={partial:!0,tokenize:tokenizeTitleBefore};function tokenizeDefinition(e,a,c){const d=this;let b;return h;function h(st){return e.enter("definition"),_(st)}function _(st){return factoryLabel.call(d,e,j,c,"definitionLabel","definitionLabelMarker","definitionLabelString")(st)}function j(st){return b=normalizeIdentifier(d.sliceSerialize(d.events[d.events.length-1][1]).slice(1,-1)),st===58?(e.enter("definitionMarker"),e.consume(st),e.exit("definitionMarker"),_e):c(st)}function _e(st){return markdownLineEndingOrSpace(st)?factoryWhitespace(e,et)(st):et(st)}function et(st){return factoryDestination(e,$,c,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(st)}function $(st){return e.attempt(titleBefore,rt,rt)(st)}function rt(st){return markdownSpace(st)?factorySpace(e,nt,"whitespace")(st):nt(st)}function nt(st){return st===null||markdownLineEnding(st)?(e.exit("definition"),d.parser.defined.push(b),a(st)):c(st)}}function tokenizeTitleBefore(e,a,c){return d;function d(j){return markdownLineEndingOrSpace(j)?factoryWhitespace(e,b)(j):c(j)}function b(j){return factoryTitle(e,h,c,"definitionTitle","definitionTitleMarker","definitionTitleString")(j)}function h(j){return markdownSpace(j)?factorySpace(e,_,"whitespace")(j):_(j)}function _(j){return j===null||markdownLineEnding(j)?a(j):c(j)}}const hardBreakEscape={name:"hardBreakEscape",tokenize:tokenizeHardBreakEscape};function tokenizeHardBreakEscape(e,a,c){return d;function d(h){return e.enter("hardBreakEscape"),e.consume(h),b}function b(h){return markdownLineEnding(h)?(e.exit("hardBreakEscape"),a(h)):c(h)}}const headingAtx={name:"headingAtx",resolve:resolveHeadingAtx,tokenize:tokenizeHeadingAtx};function resolveHeadingAtx(e,a){let c=e.length-2,d=3,b,h;return e[d][1].type==="whitespace"&&(d+=2),c-2>d&&e[c][1].type==="whitespace"&&(c-=2),e[c][1].type==="atxHeadingSequence"&&(d===c-1||c-4>d&&e[c-2][1].type==="whitespace")&&(c-=d+1===c?2:4),c>d&&(b={type:"atxHeadingText",start:e[d][1].start,end:e[c][1].end},h={type:"chunkText",start:e[d][1].start,end:e[c][1].end,contentType:"text"},splice(e,d,c-d+1,[["enter",b,a],["enter",h,a],["exit",h,a],["exit",b,a]])),e}function tokenizeHeadingAtx(e,a,c){let d=0;return b;function b($){return e.enter("atxHeading"),h($)}function h($){return e.enter("atxHeadingSequence"),_($)}function _($){return $===35&&d++<6?(e.consume($),_):$===null||markdownLineEndingOrSpace($)?(e.exit("atxHeadingSequence"),j($)):c($)}function j($){return $===35?(e.enter("atxHeadingSequence"),_e($)):$===null||markdownLineEnding($)?(e.exit("atxHeading"),a($)):markdownSpace($)?factorySpace(e,j,"whitespace")($):(e.enter("atxHeadingText"),et($))}function _e($){return $===35?(e.consume($),_e):(e.exit("atxHeadingSequence"),j($))}function et($){return $===null||$===35||markdownLineEndingOrSpace($)?(e.exit("atxHeadingText"),j($)):(e.consume($),et)}}const htmlBlockNames=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],htmlRawNames=["pre","script","style","textarea"],htmlFlow={concrete:!0,name:"htmlFlow",resolveTo:resolveToHtmlFlow,tokenize:tokenizeHtmlFlow},blankLineBefore={partial:!0,tokenize:tokenizeBlankLineBefore},nonLazyContinuationStart={partial:!0,tokenize:tokenizeNonLazyContinuationStart};function resolveToHtmlFlow(e){let a=e.length;for(;a--&&!(e[a][0]==="enter"&&e[a][1].type==="htmlFlow"););return a>1&&e[a-2][1].type==="linePrefix"&&(e[a][1].start=e[a-2][1].start,e[a+1][1].start=e[a-2][1].start,e.splice(a-2,2)),e}function tokenizeHtmlFlow(e,a,c){const d=this;let b,h,_,j,_e;return et;function et(yt){return $(yt)}function $(yt){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(yt),rt}function rt(yt){return yt===33?(e.consume(yt),nt):yt===47?(e.consume(yt),h=!0,ut):yt===63?(e.consume(yt),b=3,d.interrupt?a:ot):asciiAlpha(yt)?(e.consume(yt),_=String.fromCharCode(yt),wt):c(yt)}function nt(yt){return yt===45?(e.consume(yt),b=2,st):yt===91?(e.consume(yt),b=5,j=0,at):asciiAlpha(yt)?(e.consume(yt),b=4,d.interrupt?a:ot):c(yt)}function st(yt){return yt===45?(e.consume(yt),d.interrupt?a:ot):c(yt)}function at(yt){const Dt="CDATA[";return yt===Dt.charCodeAt(j++)?(e.consume(yt),j===Dt.length?d.interrupt?a:mt:at):c(yt)}function ut(yt){return asciiAlpha(yt)?(e.consume(yt),_=String.fromCharCode(yt),wt):c(yt)}function wt(yt){if(yt===null||yt===47||yt===62||markdownLineEndingOrSpace(yt)){const Dt=yt===47,Ht=_.toLowerCase();return!Dt&&!h&&htmlRawNames.includes(Ht)?(b=1,d.interrupt?a(yt):mt(yt)):htmlBlockNames.includes(_.toLowerCase())?(b=6,Dt?(e.consume(yt),pt):d.interrupt?a(yt):mt(yt)):(b=7,d.interrupt&&!d.parser.lazy[d.now().line]?c(yt):h?xt(yt):St(yt))}return yt===45||asciiAlphanumeric(yt)?(e.consume(yt),_+=String.fromCharCode(yt),wt):c(yt)}function pt(yt){return yt===62?(e.consume(yt),d.interrupt?a:mt):c(yt)}function xt(yt){return markdownSpace(yt)?(e.consume(yt),xt):Ft(yt)}function St(yt){return yt===47?(e.consume(yt),Ft):yt===58||yt===95||asciiAlpha(yt)?(e.consume(yt),Nt):markdownSpace(yt)?(e.consume(yt),St):Ft(yt)}function Nt(yt){return yt===45||yt===46||yt===58||yt===95||asciiAlphanumeric(yt)?(e.consume(yt),Nt):At(yt)}function At(yt){return yt===61?(e.consume(yt),Ct):markdownSpace(yt)?(e.consume(yt),At):St(yt)}function Ct(yt){return yt===null||yt===60||yt===61||yt===62||yt===96?c(yt):yt===34||yt===39?(e.consume(yt),_e=yt,Vt):markdownSpace(yt)?(e.consume(yt),Ct):Bt(yt)}function Vt(yt){return yt===_e?(e.consume(yt),_e=null,Ut):yt===null||markdownLineEnding(yt)?c(yt):(e.consume(yt),Vt)}function Bt(yt){return yt===null||yt===34||yt===39||yt===47||yt===60||yt===61||yt===62||yt===96||markdownLineEndingOrSpace(yt)?At(yt):(e.consume(yt),Bt)}function Ut(yt){return yt===47||yt===62||markdownSpace(yt)?St(yt):c(yt)}function Ft(yt){return yt===62?(e.consume(yt),Mt):c(yt)}function Mt(yt){return yt===null||markdownLineEnding(yt)?mt(yt):markdownSpace(yt)?(e.consume(yt),Mt):c(yt)}function mt(yt){return yt===45&&b===2?(e.consume(yt),ht):yt===60&&b===1?(e.consume(yt),dt):yt===62&&b===4?(e.consume(yt),vt):yt===63&&b===3?(e.consume(yt),ot):yt===93&&b===5?(e.consume(yt),gt):markdownLineEnding(yt)&&(b===6||b===7)?(e.exit("htmlFlowData"),e.check(blankLineBefore,ct,ft)(yt)):yt===null||markdownLineEnding(yt)?(e.exit("htmlFlowData"),ft(yt)):(e.consume(yt),mt)}function ft(yt){return e.check(nonLazyContinuationStart,tt,ct)(yt)}function tt(yt){return e.enter("lineEnding"),e.consume(yt),e.exit("lineEnding"),it}function it(yt){return yt===null||markdownLineEnding(yt)?ft(yt):(e.enter("htmlFlowData"),mt(yt))}function ht(yt){return yt===45?(e.consume(yt),ot):mt(yt)}function dt(yt){return yt===47?(e.consume(yt),_="",lt):mt(yt)}function lt(yt){if(yt===62){const Dt=_.toLowerCase();return htmlRawNames.includes(Dt)?(e.consume(yt),vt):mt(yt)}return asciiAlpha(yt)&&_.length<8?(e.consume(yt),_+=String.fromCharCode(yt),lt):mt(yt)}function gt(yt){return yt===93?(e.consume(yt),ot):mt(yt)}function ot(yt){return yt===62?(e.consume(yt),vt):yt===45&&b===2?(e.consume(yt),ot):mt(yt)}function vt(yt){return yt===null||markdownLineEnding(yt)?(e.exit("htmlFlowData"),ct(yt)):(e.consume(yt),vt)}function ct(yt){return e.exit("htmlFlow"),a(yt)}}function tokenizeNonLazyContinuationStart(e,a,c){const d=this;return b;function b(_){return markdownLineEnding(_)?(e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),h):c(_)}function h(_){return d.parser.lazy[d.now().line]?c(_):a(_)}}function tokenizeBlankLineBefore(e,a,c){return d;function d(b){return e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),e.attempt(blankLine,a,c)}}const htmlText={name:"htmlText",tokenize:tokenizeHtmlText};function tokenizeHtmlText(e,a,c){const d=this;let b,h,_;return j;function j(ot){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(ot),_e}function _e(ot){return ot===33?(e.consume(ot),et):ot===47?(e.consume(ot),At):ot===63?(e.consume(ot),St):asciiAlpha(ot)?(e.consume(ot),Bt):c(ot)}function et(ot){return ot===45?(e.consume(ot),$):ot===91?(e.consume(ot),h=0,at):asciiAlpha(ot)?(e.consume(ot),xt):c(ot)}function $(ot){return ot===45?(e.consume(ot),st):c(ot)}function rt(ot){return ot===null?c(ot):ot===45?(e.consume(ot),nt):markdownLineEnding(ot)?(_=rt,dt(ot)):(e.consume(ot),rt)}function nt(ot){return ot===45?(e.consume(ot),st):rt(ot)}function st(ot){return ot===62?ht(ot):ot===45?nt(ot):rt(ot)}function at(ot){const vt="CDATA[";return ot===vt.charCodeAt(h++)?(e.consume(ot),h===vt.length?ut:at):c(ot)}function ut(ot){return ot===null?c(ot):ot===93?(e.consume(ot),wt):markdownLineEnding(ot)?(_=ut,dt(ot)):(e.consume(ot),ut)}function wt(ot){return ot===93?(e.consume(ot),pt):ut(ot)}function pt(ot){return ot===62?ht(ot):ot===93?(e.consume(ot),pt):ut(ot)}function xt(ot){return ot===null||ot===62?ht(ot):markdownLineEnding(ot)?(_=xt,dt(ot)):(e.consume(ot),xt)}function St(ot){return ot===null?c(ot):ot===63?(e.consume(ot),Nt):markdownLineEnding(ot)?(_=St,dt(ot)):(e.consume(ot),St)}function Nt(ot){return ot===62?ht(ot):St(ot)}function At(ot){return asciiAlpha(ot)?(e.consume(ot),Ct):c(ot)}function Ct(ot){return ot===45||asciiAlphanumeric(ot)?(e.consume(ot),Ct):Vt(ot)}function Vt(ot){return markdownLineEnding(ot)?(_=Vt,dt(ot)):markdownSpace(ot)?(e.consume(ot),Vt):ht(ot)}function Bt(ot){return ot===45||asciiAlphanumeric(ot)?(e.consume(ot),Bt):ot===47||ot===62||markdownLineEndingOrSpace(ot)?Ut(ot):c(ot)}function Ut(ot){return ot===47?(e.consume(ot),ht):ot===58||ot===95||asciiAlpha(ot)?(e.consume(ot),Ft):markdownLineEnding(ot)?(_=Ut,dt(ot)):markdownSpace(ot)?(e.consume(ot),Ut):ht(ot)}function Ft(ot){return ot===45||ot===46||ot===58||ot===95||asciiAlphanumeric(ot)?(e.consume(ot),Ft):Mt(ot)}function Mt(ot){return ot===61?(e.consume(ot),mt):markdownLineEnding(ot)?(_=Mt,dt(ot)):markdownSpace(ot)?(e.consume(ot),Mt):Ut(ot)}function mt(ot){return ot===null||ot===60||ot===61||ot===62||ot===96?c(ot):ot===34||ot===39?(e.consume(ot),b=ot,ft):markdownLineEnding(ot)?(_=mt,dt(ot)):markdownSpace(ot)?(e.consume(ot),mt):(e.consume(ot),tt)}function ft(ot){return ot===b?(e.consume(ot),b=void 0,it):ot===null?c(ot):markdownLineEnding(ot)?(_=ft,dt(ot)):(e.consume(ot),ft)}function tt(ot){return ot===null||ot===34||ot===39||ot===60||ot===61||ot===96?c(ot):ot===47||ot===62||markdownLineEndingOrSpace(ot)?Ut(ot):(e.consume(ot),tt)}function it(ot){return ot===47||ot===62||markdownLineEndingOrSpace(ot)?Ut(ot):c(ot)}function ht(ot){return ot===62?(e.consume(ot),e.exit("htmlTextData"),e.exit("htmlText"),a):c(ot)}function dt(ot){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(ot),e.exit("lineEnding"),lt}function lt(ot){return markdownSpace(ot)?factorySpace(e,gt,"linePrefix",d.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ot):gt(ot)}function gt(ot){return e.enter("htmlTextData"),_(ot)}}const labelEnd={name:"labelEnd",resolveAll:resolveAllLabelEnd,resolveTo:resolveToLabelEnd,tokenize:tokenizeLabelEnd},resourceConstruct={tokenize:tokenizeResource},referenceFullConstruct={tokenize:tokenizeReferenceFull},referenceCollapsedConstruct={tokenize:tokenizeReferenceCollapsed};function resolveAllLabelEnd(e){let a=-1;const c=[];for(;++a<e.length;){const d=e[a][1];if(c.push(e[a]),d.type==="labelImage"||d.type==="labelLink"||d.type==="labelEnd"){const b=d.type==="labelImage"?4:2;d.type="data",a+=b}}return e.length!==c.length&&splice(e,0,e.length,c),e}function resolveToLabelEnd(e,a){let c=e.length,d=0,b,h,_,j;for(;c--;)if(b=e[c][1],h){if(b.type==="link"||b.type==="labelLink"&&b._inactive)break;e[c][0]==="enter"&&b.type==="labelLink"&&(b._inactive=!0)}else if(_){if(e[c][0]==="enter"&&(b.type==="labelImage"||b.type==="labelLink")&&!b._balanced&&(h=c,b.type!=="labelLink")){d=2;break}}else b.type==="labelEnd"&&(_=c);const _e={type:e[h][1].type==="labelLink"?"link":"image",start:{...e[h][1].start},end:{...e[e.length-1][1].end}},et={type:"label",start:{...e[h][1].start},end:{...e[_][1].end}},$={type:"labelText",start:{...e[h+d+2][1].end},end:{...e[_-2][1].start}};return j=[["enter",_e,a],["enter",et,a]],j=push(j,e.slice(h+1,h+d+3)),j=push(j,[["enter",$,a]]),j=push(j,resolveAll(a.parser.constructs.insideSpan.null,e.slice(h+d+4,_-3),a)),j=push(j,[["exit",$,a],e[_-2],e[_-1],["exit",et,a]]),j=push(j,e.slice(_+1)),j=push(j,[["exit",_e,a]]),splice(e,h,e.length,j),e}function tokenizeLabelEnd(e,a,c){const d=this;let b=d.events.length,h,_;for(;b--;)if((d.events[b][1].type==="labelImage"||d.events[b][1].type==="labelLink")&&!d.events[b][1]._balanced){h=d.events[b][1];break}return j;function j(nt){return h?h._inactive?rt(nt):(_=d.parser.defined.includes(normalizeIdentifier(d.sliceSerialize({start:h.end,end:d.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(nt),e.exit("labelMarker"),e.exit("labelEnd"),_e):c(nt)}function _e(nt){return nt===40?e.attempt(resourceConstruct,$,_?$:rt)(nt):nt===91?e.attempt(referenceFullConstruct,$,_?et:rt)(nt):_?$(nt):rt(nt)}function et(nt){return e.attempt(referenceCollapsedConstruct,$,rt)(nt)}function $(nt){return a(nt)}function rt(nt){return h._balanced=!0,c(nt)}}function tokenizeResource(e,a,c){return d;function d(rt){return e.enter("resource"),e.enter("resourceMarker"),e.consume(rt),e.exit("resourceMarker"),b}function b(rt){return markdownLineEndingOrSpace(rt)?factoryWhitespace(e,h)(rt):h(rt)}function h(rt){return rt===41?$(rt):factoryDestination(e,_,j,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(rt)}function _(rt){return markdownLineEndingOrSpace(rt)?factoryWhitespace(e,_e)(rt):$(rt)}function j(rt){return c(rt)}function _e(rt){return rt===34||rt===39||rt===40?factoryTitle(e,et,c,"resourceTitle","resourceTitleMarker","resourceTitleString")(rt):$(rt)}function et(rt){return markdownLineEndingOrSpace(rt)?factoryWhitespace(e,$)(rt):$(rt)}function $(rt){return rt===41?(e.enter("resourceMarker"),e.consume(rt),e.exit("resourceMarker"),e.exit("resource"),a):c(rt)}}function tokenizeReferenceFull(e,a,c){const d=this;return b;function b(j){return factoryLabel.call(d,e,h,_,"reference","referenceMarker","referenceString")(j)}function h(j){return d.parser.defined.includes(normalizeIdentifier(d.sliceSerialize(d.events[d.events.length-1][1]).slice(1,-1)))?a(j):c(j)}function _(j){return c(j)}}function tokenizeReferenceCollapsed(e,a,c){return d;function d(h){return e.enter("reference"),e.enter("referenceMarker"),e.consume(h),e.exit("referenceMarker"),b}function b(h){return h===93?(e.enter("referenceMarker"),e.consume(h),e.exit("referenceMarker"),e.exit("reference"),a):c(h)}}const labelStartImage={name:"labelStartImage",resolveAll:labelEnd.resolveAll,tokenize:tokenizeLabelStartImage};function tokenizeLabelStartImage(e,a,c){const d=this;return b;function b(j){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(j),e.exit("labelImageMarker"),h}function h(j){return j===91?(e.enter("labelMarker"),e.consume(j),e.exit("labelMarker"),e.exit("labelImage"),_):c(j)}function _(j){return j===94&&"_hiddenFootnoteSupport"in d.parser.constructs?c(j):a(j)}}const labelStartLink={name:"labelStartLink",resolveAll:labelEnd.resolveAll,tokenize:tokenizeLabelStartLink};function tokenizeLabelStartLink(e,a,c){const d=this;return b;function b(_){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(_),e.exit("labelMarker"),e.exit("labelLink"),h}function h(_){return _===94&&"_hiddenFootnoteSupport"in d.parser.constructs?c(_):a(_)}}const lineEnding={name:"lineEnding",tokenize:tokenizeLineEnding};function tokenizeLineEnding(e,a){return c;function c(d){return e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),factorySpace(e,a,"linePrefix")}}const thematicBreak$1={name:"thematicBreak",tokenize:tokenizeThematicBreak};function tokenizeThematicBreak(e,a,c){let d=0,b;return h;function h(et){return e.enter("thematicBreak"),_(et)}function _(et){return b=et,j(et)}function j(et){return et===b?(e.enter("thematicBreakSequence"),_e(et)):d>=3&&(et===null||markdownLineEnding(et))?(e.exit("thematicBreak"),a(et)):c(et)}function _e(et){return et===b?(e.consume(et),d++,_e):(e.exit("thematicBreakSequence"),markdownSpace(et)?factorySpace(e,j,"whitespace")(et):j(et))}}const list$1={continuation:{tokenize:tokenizeListContinuation},exit:tokenizeListEnd,name:"list",tokenize:tokenizeListStart},listItemPrefixWhitespaceConstruct={partial:!0,tokenize:tokenizeListItemPrefixWhitespace},indentConstruct={partial:!0,tokenize:tokenizeIndent};function tokenizeListStart(e,a,c){const d=this,b=d.events[d.events.length-1];let h=b&&b[1].type==="linePrefix"?b[2].sliceSerialize(b[1],!0).length:0,_=0;return j;function j(st){const at=d.containerState.type||(st===42||st===43||st===45?"listUnordered":"listOrdered");if(at==="listUnordered"?!d.containerState.marker||st===d.containerState.marker:asciiDigit(st)){if(d.containerState.type||(d.containerState.type=at,e.enter(at,{_container:!0})),at==="listUnordered")return e.enter("listItemPrefix"),st===42||st===45?e.check(thematicBreak$1,c,et)(st):et(st);if(!d.interrupt||st===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),_e(st)}return c(st)}function _e(st){return asciiDigit(st)&&++_<10?(e.consume(st),_e):(!d.interrupt||_<2)&&(d.containerState.marker?st===d.containerState.marker:st===41||st===46)?(e.exit("listItemValue"),et(st)):c(st)}function et(st){return e.enter("listItemMarker"),e.consume(st),e.exit("listItemMarker"),d.containerState.marker=d.containerState.marker||st,e.check(blankLine,d.interrupt?c:$,e.attempt(listItemPrefixWhitespaceConstruct,nt,rt))}function $(st){return d.containerState.initialBlankLine=!0,h++,nt(st)}function rt(st){return markdownSpace(st)?(e.enter("listItemPrefixWhitespace"),e.consume(st),e.exit("listItemPrefixWhitespace"),nt):c(st)}function nt(st){return d.containerState.size=h+d.sliceSerialize(e.exit("listItemPrefix"),!0).length,a(st)}}function tokenizeListContinuation(e,a,c){const d=this;return d.containerState._closeFlow=void 0,e.check(blankLine,b,h);function b(j){return d.containerState.furtherBlankLines=d.containerState.furtherBlankLines||d.containerState.initialBlankLine,factorySpace(e,a,"listItemIndent",d.containerState.size+1)(j)}function h(j){return d.containerState.furtherBlankLines||!markdownSpace(j)?(d.containerState.furtherBlankLines=void 0,d.containerState.initialBlankLine=void 0,_(j)):(d.containerState.furtherBlankLines=void 0,d.containerState.initialBlankLine=void 0,e.attempt(indentConstruct,a,_)(j))}function _(j){return d.containerState._closeFlow=!0,d.interrupt=void 0,factorySpace(e,e.attempt(list$1,a,c),"linePrefix",d.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(j)}}function tokenizeIndent(e,a,c){const d=this;return factorySpace(e,b,"listItemIndent",d.containerState.size+1);function b(h){const _=d.events[d.events.length-1];return _&&_[1].type==="listItemIndent"&&_[2].sliceSerialize(_[1],!0).length===d.containerState.size?a(h):c(h)}}function tokenizeListEnd(e){e.exit(this.containerState.type)}function tokenizeListItemPrefixWhitespace(e,a,c){const d=this;return factorySpace(e,b,"listItemPrefixWhitespace",d.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function b(h){const _=d.events[d.events.length-1];return!markdownSpace(h)&&_&&_[1].type==="listItemPrefixWhitespace"?a(h):c(h)}}const setextUnderline={name:"setextUnderline",resolveTo:resolveToSetextUnderline,tokenize:tokenizeSetextUnderline};function resolveToSetextUnderline(e,a){let c=e.length,d,b,h;for(;c--;)if(e[c][0]==="enter"){if(e[c][1].type==="content"){d=c;break}e[c][1].type==="paragraph"&&(b=c)}else e[c][1].type==="content"&&e.splice(c,1),!h&&e[c][1].type==="definition"&&(h=c);const _={type:"setextHeading",start:{...e[d][1].start},end:{...e[e.length-1][1].end}};return e[b][1].type="setextHeadingText",h?(e.splice(b,0,["enter",_,a]),e.splice(h+1,0,["exit",e[d][1],a]),e[d][1].end={...e[h][1].end}):e[d][1]=_,e.push(["exit",_,a]),e}function tokenizeSetextUnderline(e,a,c){const d=this;let b;return h;function h(et){let $=d.events.length,rt;for(;$--;)if(d.events[$][1].type!=="lineEnding"&&d.events[$][1].type!=="linePrefix"&&d.events[$][1].type!=="content"){rt=d.events[$][1].type==="paragraph";break}return!d.parser.lazy[d.now().line]&&(d.interrupt||rt)?(e.enter("setextHeadingLine"),b=et,_(et)):c(et)}function _(et){return e.enter("setextHeadingLineSequence"),j(et)}function j(et){return et===b?(e.consume(et),j):(e.exit("setextHeadingLineSequence"),markdownSpace(et)?factorySpace(e,_e,"lineSuffix")(et):_e(et))}function _e(et){return et===null||markdownLineEnding(et)?(e.exit("setextHeadingLine"),a(et)):c(et)}}const flow$1={tokenize:initializeFlow};function initializeFlow(e){const a=this,c=e.attempt(blankLine,d,e.attempt(this.parser.constructs.flowInitial,b,factorySpace(e,e.attempt(this.parser.constructs.flow,b,e.attempt(content,b)),"linePrefix")));return c;function d(h){if(h===null){e.consume(h);return}return e.enter("lineEndingBlank"),e.consume(h),e.exit("lineEndingBlank"),a.currentConstruct=void 0,c}function b(h){if(h===null){e.consume(h);return}return e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),a.currentConstruct=void 0,c}}const resolver={resolveAll:createResolver()},string$1=initializeFactory("string"),text$2=initializeFactory("text");function initializeFactory(e){return{resolveAll:createResolver(e==="text"?resolveAllLineSuffixes:void 0),tokenize:a};function a(c){const d=this,b=this.parser.constructs[e],h=c.attempt(b,_,j);return _;function _($){return et($)?h($):j($)}function j($){if($===null){c.consume($);return}return c.enter("data"),c.consume($),_e}function _e($){return et($)?(c.exit("data"),h($)):(c.consume($),_e)}function et($){if($===null)return!0;const rt=b[$];let nt=-1;if(rt)for(;++nt<rt.length;){const st=rt[nt];if(!st.previous||st.previous.call(d,d.previous))return!0}return!1}}}function createResolver(e){return a;function a(c,d){let b=-1,h;for(;++b<=c.length;)h===void 0?c[b]&&c[b][1].type==="data"&&(h=b,b++):(!c[b]||c[b][1].type!=="data")&&(b!==h+2&&(c[h][1].end=c[b-1][1].end,c.splice(h+2,b-h-2),b=h+2),h=void 0);return e?e(c,d):c}}function resolveAllLineSuffixes(e,a){let c=0;for(;++c<=e.length;)if((c===e.length||e[c][1].type==="lineEnding")&&e[c-1][1].type==="data"){const d=e[c-1][1],b=a.sliceStream(d);let h=b.length,_=-1,j=0,_e;for(;h--;){const et=b[h];if(typeof et=="string"){for(_=et.length;et.charCodeAt(_-1)===32;)j++,_--;if(_)break;_=-1}else if(et===-2)_e=!0,j++;else if(et!==-1){h++;break}}if(a._contentTypeTextTrailing&&c===e.length&&(j=0),j){const et={type:c===e.length||_e||j<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:h?_:d.start._bufferIndex+_,_index:d.start._index+h,line:d.end.line,column:d.end.column-j,offset:d.end.offset-j},end:{...d.end}};d.end={...et.start},d.start.offset===d.end.offset?Object.assign(d,et):(e.splice(c,0,["enter",et,a],["exit",et,a]),c+=2)}c++}return e}const document$1={42:list$1,43:list$1,45:list$1,48:list$1,49:list$1,50:list$1,51:list$1,52:list$1,53:list$1,54:list$1,55:list$1,56:list$1,57:list$1,62:blockQuote},contentInitial={91:definition},flowInitial={[-2]:codeIndented,[-1]:codeIndented,32:codeIndented},flow={35:headingAtx,42:thematicBreak$1,45:[setextUnderline,thematicBreak$1],60:htmlFlow,61:setextUnderline,95:thematicBreak$1,96:codeFenced,126:codeFenced},string={38:characterReference,92:characterEscape},text$1={[-5]:lineEnding,[-4]:lineEnding,[-3]:lineEnding,33:labelStartImage,38:characterReference,42:attention,60:[autolink,htmlText],91:labelStartLink,92:[hardBreakEscape,characterEscape],93:labelEnd,95:attention,96:codeText},insideSpan={null:[attention,resolver]},attentionMarkers={null:[42,95]},disable={null:[]},defaultConstructs=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers,contentInitial,disable,document:document$1,flow,flowInitial,insideSpan,string,text:text$1},Symbol.toStringTag,{value:"Module"}));function createTokenizer(e,a,c){let d={_bufferIndex:-1,_index:0,line:c&&c.line||1,column:c&&c.column||1,offset:c&&c.offset||0};const b={},h=[];let _=[],j=[];const _e={attempt:Vt(At),check:Vt(Ct),consume:xt,enter:St,exit:Nt,interrupt:Vt(Ct,{interrupt:!0})},et={code:null,containerState:{},defineSkip:ut,events:[],now:at,parser:e,previous:null,sliceSerialize:nt,sliceStream:st,write:rt};let $=a.tokenize.call(et,_e);return a.resolveAll&&h.push(a),et;function rt(Mt){return _=push(_,Mt),wt(),_[_.length-1]!==null?[]:(Bt(a,0),et.events=resolveAll(h,et.events,et),et.events)}function nt(Mt,mt){return serializeChunks(st(Mt),mt)}function st(Mt){return sliceChunks(_,Mt)}function at(){const{_bufferIndex:Mt,_index:mt,line:ft,column:tt,offset:it}=d;return{_bufferIndex:Mt,_index:mt,line:ft,column:tt,offset:it}}function ut(Mt){b[Mt.line]=Mt.column,Ft()}function wt(){let Mt;for(;d._index<_.length;){const mt=_[d._index];if(typeof mt=="string")for(Mt=d._index,d._bufferIndex<0&&(d._bufferIndex=0);d._index===Mt&&d._bufferIndex<mt.length;)pt(mt.charCodeAt(d._bufferIndex));else pt(mt)}}function pt(Mt){$=$(Mt)}function xt(Mt){markdownLineEnding(Mt)?(d.line++,d.column=1,d.offset+=Mt===-3?2:1,Ft()):Mt!==-1&&(d.column++,d.offset++),d._bufferIndex<0?d._index++:(d._bufferIndex++,d._bufferIndex===_[d._index].length&&(d._bufferIndex=-1,d._index++)),et.previous=Mt}function St(Mt,mt){const ft=mt||{};return ft.type=Mt,ft.start=at(),et.events.push(["enter",ft,et]),j.push(ft),ft}function Nt(Mt){const mt=j.pop();return mt.end=at(),et.events.push(["exit",mt,et]),mt}function At(Mt,mt){Bt(Mt,mt.from)}function Ct(Mt,mt){mt.restore()}function Vt(Mt,mt){return ft;function ft(tt,it,ht){let dt,lt,gt,ot;return Array.isArray(tt)?ct(tt):"tokenize"in tt?ct([tt]):vt(tt);function vt(qt){return _t;function _t(kt){const Lt=kt!==null&&qt[kt],Kt=kt!==null&&qt.null,$t=[...Array.isArray(Lt)?Lt:Lt?[Lt]:[],...Array.isArray(Kt)?Kt:Kt?[Kt]:[]];return ct($t)(kt)}}function ct(qt){return dt=qt,lt=0,qt.length===0?ht:yt(qt[lt])}function yt(qt){return _t;function _t(kt){return ot=Ut(),gt=qt,qt.partial||(et.currentConstruct=qt),qt.name&&et.parser.constructs.disable.null.includes(qt.name)?Ht():qt.tokenize.call(mt?Object.assign(Object.create(et),mt):et,_e,Dt,Ht)(kt)}}function Dt(qt){return Mt(gt,ot),it}function Ht(qt){return ot.restore(),++lt<dt.length?yt(dt[lt]):ht}}}function Bt(Mt,mt){Mt.resolveAll&&!h.includes(Mt)&&h.push(Mt),Mt.resolve&&splice(et.events,mt,et.events.length-mt,Mt.resolve(et.events.slice(mt),et)),Mt.resolveTo&&(et.events=Mt.resolveTo(et.events,et))}function Ut(){const Mt=at(),mt=et.previous,ft=et.currentConstruct,tt=et.events.length,it=Array.from(j);return{from:tt,restore:ht};function ht(){d=Mt,et.previous=mt,et.currentConstruct=ft,et.events.length=tt,j=it,Ft()}}function Ft(){d.line in b&&d.column<2&&(d.column=b[d.line],d.offset+=b[d.line]-1)}}function sliceChunks(e,a){const c=a.start._index,d=a.start._bufferIndex,b=a.end._index,h=a.end._bufferIndex;let _;if(c===b)_=[e[c].slice(d,h)];else{if(_=e.slice(c,b),d>-1){const j=_[0];typeof j=="string"?_[0]=j.slice(d):_.shift()}h>0&&_.push(e[b].slice(0,h))}return _}function serializeChunks(e,a){let c=-1;const d=[];let b;for(;++c<e.length;){const h=e[c];let _;if(typeof h=="string")_=h;else switch(h){case-5:{_="\r";break}case-4:{_=`
`;break}case-3:{_=`\r
`;break}case-2:{_=a?" ":"	";break}case-1:{if(!a&&b)continue;_=" ";break}default:_=String.fromCharCode(h)}b=h===-2,d.push(_)}return d.join("")}function parse(e){const d={constructs:combineExtensions([defaultConstructs,...(e||{}).extensions||[]]),content:b(content$1),defined:[],document:b(document$2),flow:b(flow$1),lazy:{},string:b(string$1),text:b(text$2)};return d;function b(h){return _;function _(j){return createTokenizer(d,h,j)}}}function postprocess(e){for(;!subtokenize(e););return e}const search=/[\0\t\n\r]/g;function preprocess(){let e=1,a="",c=!0,d;return b;function b(h,_,j){const _e=[];let et,$,rt,nt,st;for(h=a+(typeof h=="string"?h.toString():new TextDecoder(_||void 0).decode(h)),rt=0,a="",c&&(h.charCodeAt(0)===65279&&rt++,c=void 0);rt<h.length;){if(search.lastIndex=rt,et=search.exec(h),nt=et&&et.index!==void 0?et.index:h.length,st=h.charCodeAt(nt),!et){a=h.slice(rt);break}if(st===10&&rt===nt&&d)_e.push(-3),d=void 0;else switch(d&&(_e.push(-5),d=void 0),rt<nt&&(_e.push(h.slice(rt,nt)),e+=nt-rt),st){case 0:{_e.push(65533),e++;break}case 9:{for($=Math.ceil(e/4)*4,_e.push(-2);e++<$;)_e.push(-1);break}case 10:{_e.push(-4),e=1;break}default:d=!0,e=1}rt=nt+1}return j&&(d&&_e.push(-5),a&&_e.push(a),_e.push(null)),_e}}const characterEscapeOrReference=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function decodeString(e){return e.replace(characterEscapeOrReference,decode)}function decode(e,a,c){if(a)return a;if(c.charCodeAt(0)===35){const b=c.charCodeAt(1),h=b===120||b===88;return decodeNumericCharacterReference(c.slice(h?2:1),h?16:10)}return decodeNamedCharacterReference(c)||e}const own$2={}.hasOwnProperty;function fromMarkdown(e,a,c){return typeof a!="string"&&(c=a,a=void 0),compiler(c)(postprocess(parse(c).document().write(preprocess()(e,a,!0))))}function compiler(e){const a={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:h(sr),autolinkProtocol:Ut,autolinkEmail:Ut,atxHeading:h(fr),blockQuote:h(Kt),characterEscape:Ut,characterReference:Ut,codeFenced:h($t),codeFencedFenceInfo:_,codeFencedFenceMeta:_,codeIndented:h($t,_),codeText:h(It,_),codeTextData:Ut,data:Ut,codeFlowValue:Ut,definition:h(Xt),definitionDestinationString:_,definitionLabelString:_,definitionTitleString:_,emphasis:h(cr),hardBreakEscape:h(hr),hardBreakTrailing:h(hr),htmlFlow:h(yr,_),htmlFlowData:Ut,htmlText:h(yr,_),htmlTextData:Ut,image:h(Sr),label:_,link:h(sr),listItem:h(Gt),listItemValue:nt,listOrdered:h(Zt,rt),listUnordered:h(Zt),paragraph:h(nr),reference:yt,referenceString:_,resourceDestinationString:_,resourceTitleString:_,setextHeading:h(fr),strong:h(ur),thematicBreak:h(lr)},exit:{atxHeading:_e(),atxHeadingSequence:At,autolink:_e(),autolinkEmail:Lt,autolinkProtocol:kt,blockQuote:_e(),characterEscapeValue:Ft,characterReferenceMarkerHexadecimal:Ht,characterReferenceMarkerNumeric:Ht,characterReferenceValue:qt,characterReference:_t,codeFenced:_e(wt),codeFencedFence:ut,codeFencedFenceInfo:st,codeFencedFenceMeta:at,codeFlowValue:Ft,codeIndented:_e(pt),codeText:_e(it),codeTextData:Ft,data:Ft,definition:_e(),definitionDestinationString:Nt,definitionLabelString:xt,definitionTitleString:St,emphasis:_e(),hardBreakEscape:_e(mt),hardBreakTrailing:_e(mt),htmlFlow:_e(ft),htmlFlowData:Ft,htmlText:_e(tt),htmlTextData:Ft,image:_e(dt),label:gt,labelText:lt,lineEnding:Mt,link:_e(ht),listItem:_e(),listOrdered:_e(),listUnordered:_e(),paragraph:_e(),referenceString:Dt,resourceDestinationString:ot,resourceTitleString:vt,resource:ct,setextHeading:_e(Bt),setextHeadingLineSequence:Vt,setextHeadingText:Ct,strong:_e(),thematicBreak:_e()}};configure(a,(e||{}).mdastExtensions||[]);const c={};return d;function d(Qt){let tr={type:"root",children:[]};const gr={stack:[tr],tokenStack:[],config:a,enter:j,exit:et,buffer:_,resume:$,data:c},wr=[];let Tt=-1;for(;++Tt<Qt.length;)if(Qt[Tt][1].type==="listOrdered"||Qt[Tt][1].type==="listUnordered")if(Qt[Tt][0]==="enter")wr.push(Tt);else{const Et=wr.pop();Tt=b(Qt,Et,Tt)}for(Tt=-1;++Tt<Qt.length;){const Et=a[Qt[Tt][0]];own$2.call(Et,Qt[Tt][1].type)&&Et[Qt[Tt][1].type].call(Object.assign({sliceSerialize:Qt[Tt][2].sliceSerialize},gr),Qt[Tt][1])}if(gr.tokenStack.length>0){const Et=gr.tokenStack[gr.tokenStack.length-1];(Et[1]||defaultOnError).call(gr,void 0,Et[0])}for(tr.position={start:point$1(Qt.length>0?Qt[0][1].start:{line:1,column:1,offset:0}),end:point$1(Qt.length>0?Qt[Qt.length-2][1].end:{line:1,column:1,offset:0})},Tt=-1;++Tt<a.transforms.length;)tr=a.transforms[Tt](tr)||tr;return tr}function b(Qt,tr,gr){let wr=tr-1,Tt=-1,Et=!1,Rt,Ot,Wt,Jt;for(;++wr<=gr;){const er=Qt[wr];switch(er[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{er[0]==="enter"?Tt++:Tt--,Jt=void 0;break}case"lineEndingBlank":{er[0]==="enter"&&(Rt&&!Jt&&!Tt&&!Wt&&(Wt=wr),Jt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Jt=void 0}if(!Tt&&er[0]==="enter"&&er[1].type==="listItemPrefix"||Tt===-1&&er[0]==="exit"&&(er[1].type==="listUnordered"||er[1].type==="listOrdered")){if(Rt){let Er=wr;for(Ot=void 0;Er--;){const xr=Qt[Er];if(xr[1].type==="lineEnding"||xr[1].type==="lineEndingBlank"){if(xr[0]==="exit")continue;Ot&&(Qt[Ot][1].type="lineEndingBlank",Et=!0),xr[1].type="lineEnding",Ot=Er}else if(!(xr[1].type==="linePrefix"||xr[1].type==="blockQuotePrefix"||xr[1].type==="blockQuotePrefixWhitespace"||xr[1].type==="blockQuoteMarker"||xr[1].type==="listItemIndent"))break}Wt&&(!Ot||Wt<Ot)&&(Rt._spread=!0),Rt.end=Object.assign({},Ot?Qt[Ot][1].start:er[1].end),Qt.splice(Ot||wr,0,["exit",Rt,er[2]]),wr++,gr++}if(er[1].type==="listItemPrefix"){const Er={type:"listItem",_spread:!1,start:Object.assign({},er[1].start),end:void 0};Rt=Er,Qt.splice(wr,0,["enter",Er,er[2]]),wr++,gr++,Wt=void 0,Jt=!0}}}return Qt[tr][1]._spread=Et,gr}function h(Qt,tr){return gr;function gr(wr){j.call(this,Qt(wr),wr),tr&&tr.call(this,wr)}}function _(){this.stack.push({type:"fragment",children:[]})}function j(Qt,tr,gr){this.stack[this.stack.length-1].children.push(Qt),this.stack.push(Qt),this.tokenStack.push([tr,gr||void 0]),Qt.position={start:point$1(tr.start),end:void 0}}function _e(Qt){return tr;function tr(gr){Qt&&Qt.call(this,gr),et.call(this,gr)}}function et(Qt,tr){const gr=this.stack.pop(),wr=this.tokenStack.pop();if(wr)wr[0].type!==Qt.type&&(tr?tr.call(this,Qt,wr[0]):(wr[1]||defaultOnError).call(this,Qt,wr[0]));else throw new Error("Cannot close `"+Qt.type+"` ("+stringifyPosition({start:Qt.start,end:Qt.end})+"): its not open");gr.position.end=point$1(Qt.end)}function $(){return toString$1(this.stack.pop())}function rt(){this.data.expectingFirstListItemValue=!0}function nt(Qt){if(this.data.expectingFirstListItemValue){const tr=this.stack[this.stack.length-2];tr.start=Number.parseInt(this.sliceSerialize(Qt),10),this.data.expectingFirstListItemValue=void 0}}function st(){const Qt=this.resume(),tr=this.stack[this.stack.length-1];tr.lang=Qt}function at(){const Qt=this.resume(),tr=this.stack[this.stack.length-1];tr.meta=Qt}function ut(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function wt(){const Qt=this.resume(),tr=this.stack[this.stack.length-1];tr.value=Qt.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function pt(){const Qt=this.resume(),tr=this.stack[this.stack.length-1];tr.value=Qt.replace(/(\r?\n|\r)$/g,"")}function xt(Qt){const tr=this.resume(),gr=this.stack[this.stack.length-1];gr.label=tr,gr.identifier=normalizeIdentifier(this.sliceSerialize(Qt)).toLowerCase()}function St(){const Qt=this.resume(),tr=this.stack[this.stack.length-1];tr.title=Qt}function Nt(){const Qt=this.resume(),tr=this.stack[this.stack.length-1];tr.url=Qt}function At(Qt){const tr=this.stack[this.stack.length-1];if(!tr.depth){const gr=this.sliceSerialize(Qt).length;tr.depth=gr}}function Ct(){this.data.setextHeadingSlurpLineEnding=!0}function Vt(Qt){const tr=this.stack[this.stack.length-1];tr.depth=this.sliceSerialize(Qt).codePointAt(0)===61?1:2}function Bt(){this.data.setextHeadingSlurpLineEnding=void 0}function Ut(Qt){const gr=this.stack[this.stack.length-1].children;let wr=gr[gr.length-1];(!wr||wr.type!=="text")&&(wr=ir(),wr.position={start:point$1(Qt.start),end:void 0},gr.push(wr)),this.stack.push(wr)}function Ft(Qt){const tr=this.stack.pop();tr.value+=this.sliceSerialize(Qt),tr.position.end=point$1(Qt.end)}function Mt(Qt){const tr=this.stack[this.stack.length-1];if(this.data.atHardBreak){const gr=tr.children[tr.children.length-1];gr.position.end=point$1(Qt.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&a.canContainEols.includes(tr.type)&&(Ut.call(this,Qt),Ft.call(this,Qt))}function mt(){this.data.atHardBreak=!0}function ft(){const Qt=this.resume(),tr=this.stack[this.stack.length-1];tr.value=Qt}function tt(){const Qt=this.resume(),tr=this.stack[this.stack.length-1];tr.value=Qt}function it(){const Qt=this.resume(),tr=this.stack[this.stack.length-1];tr.value=Qt}function ht(){const Qt=this.stack[this.stack.length-1];if(this.data.inReference){const tr=this.data.referenceType||"shortcut";Qt.type+="Reference",Qt.referenceType=tr,delete Qt.url,delete Qt.title}else delete Qt.identifier,delete Qt.label;this.data.referenceType=void 0}function dt(){const Qt=this.stack[this.stack.length-1];if(this.data.inReference){const tr=this.data.referenceType||"shortcut";Qt.type+="Reference",Qt.referenceType=tr,delete Qt.url,delete Qt.title}else delete Qt.identifier,delete Qt.label;this.data.referenceType=void 0}function lt(Qt){const tr=this.sliceSerialize(Qt),gr=this.stack[this.stack.length-2];gr.label=decodeString(tr),gr.identifier=normalizeIdentifier(tr).toLowerCase()}function gt(){const Qt=this.stack[this.stack.length-1],tr=this.resume(),gr=this.stack[this.stack.length-1];if(this.data.inReference=!0,gr.type==="link"){const wr=Qt.children;gr.children=wr}else gr.alt=tr}function ot(){const Qt=this.resume(),tr=this.stack[this.stack.length-1];tr.url=Qt}function vt(){const Qt=this.resume(),tr=this.stack[this.stack.length-1];tr.title=Qt}function ct(){this.data.inReference=void 0}function yt(){this.data.referenceType="collapsed"}function Dt(Qt){const tr=this.resume(),gr=this.stack[this.stack.length-1];gr.label=tr,gr.identifier=normalizeIdentifier(this.sliceSerialize(Qt)).toLowerCase(),this.data.referenceType="full"}function Ht(Qt){this.data.characterReferenceType=Qt.type}function qt(Qt){const tr=this.sliceSerialize(Qt),gr=this.data.characterReferenceType;let wr;gr?(wr=decodeNumericCharacterReference(tr,gr==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):wr=decodeNamedCharacterReference(tr);const Tt=this.stack[this.stack.length-1];Tt.value+=wr}function _t(Qt){const tr=this.stack.pop();tr.position.end=point$1(Qt.end)}function kt(Qt){Ft.call(this,Qt);const tr=this.stack[this.stack.length-1];tr.url=this.sliceSerialize(Qt)}function Lt(Qt){Ft.call(this,Qt);const tr=this.stack[this.stack.length-1];tr.url="mailto:"+this.sliceSerialize(Qt)}function Kt(){return{type:"blockquote",children:[]}}function $t(){return{type:"code",lang:null,meta:null,value:""}}function It(){return{type:"inlineCode",value:""}}function Xt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function cr(){return{type:"emphasis",children:[]}}function fr(){return{type:"heading",depth:0,children:[]}}function hr(){return{type:"break"}}function yr(){return{type:"html",value:""}}function Sr(){return{type:"image",title:null,url:"",alt:null}}function sr(){return{type:"link",title:null,url:"",children:[]}}function Zt(Qt){return{type:"list",ordered:Qt.type==="listOrdered",start:null,spread:Qt._spread,children:[]}}function Gt(Qt){return{type:"listItem",spread:Qt._spread,checked:null,children:[]}}function nr(){return{type:"paragraph",children:[]}}function ur(){return{type:"strong",children:[]}}function ir(){return{type:"text",value:""}}function lr(){return{type:"thematicBreak"}}}function point$1(e){return{line:e.line,column:e.column,offset:e.offset}}function configure(e,a){let c=-1;for(;++c<a.length;){const d=a[c];Array.isArray(d)?configure(e,d):extension(e,d)}}function extension(e,a){let c;for(c in a)if(own$2.call(a,c))switch(c){case"canContainEols":{const d=a[c];d&&e[c].push(...d);break}case"transforms":{const d=a[c];d&&e[c].push(...d);break}case"enter":case"exit":{const d=a[c];d&&Object.assign(e[c],d);break}}}function defaultOnError(e,a){throw e?new Error("Cannot close `"+e.type+"` ("+stringifyPosition({start:e.start,end:e.end})+"): a different token (`"+a.type+"`, "+stringifyPosition({start:a.start,end:a.end})+") is open"):new Error("Cannot close document, a token (`"+a.type+"`, "+stringifyPosition({start:a.start,end:a.end})+") is still open")}function remarkParse(e){const a=this;a.parser=c;function c(d){return fromMarkdown(d,{...a.data("settings"),...e,extensions:a.data("micromarkExtensions")||[],mdastExtensions:a.data("fromMarkdownExtensions")||[]})}}function blockquote(e,a){const c={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(a),!0)};return e.patch(a,c),e.applyData(a,c)}function hardBreak(e,a){const c={type:"element",tagName:"br",properties:{},children:[]};return e.patch(a,c),[e.applyData(a,c),{type:"text",value:`
`}]}function code(e,a){const c=a.value?a.value+`
`:"",d={};a.lang&&(d.className=["language-"+a.lang]);let b={type:"element",tagName:"code",properties:d,children:[{type:"text",value:c}]};return a.meta&&(b.data={meta:a.meta}),e.patch(a,b),b=e.applyData(a,b),b={type:"element",tagName:"pre",properties:{},children:[b]},e.patch(a,b),b}function strikethrough(e,a){const c={type:"element",tagName:"del",properties:{},children:e.all(a)};return e.patch(a,c),e.applyData(a,c)}function emphasis(e,a){const c={type:"element",tagName:"em",properties:{},children:e.all(a)};return e.patch(a,c),e.applyData(a,c)}function footnoteReference(e,a){const c=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",d=String(a.identifier).toUpperCase(),b=normalizeUri(d.toLowerCase()),h=e.footnoteOrder.indexOf(d);let _,j=e.footnoteCounts.get(d);j===void 0?(j=0,e.footnoteOrder.push(d),_=e.footnoteOrder.length):_=h+1,j+=1,e.footnoteCounts.set(d,j);const _e={type:"element",tagName:"a",properties:{href:"#"+c+"fn-"+b,id:c+"fnref-"+b+(j>1?"-"+j:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(_)}]};e.patch(a,_e);const et={type:"element",tagName:"sup",properties:{},children:[_e]};return e.patch(a,et),e.applyData(a,et)}function heading(e,a){const c={type:"element",tagName:"h"+a.depth,properties:{},children:e.all(a)};return e.patch(a,c),e.applyData(a,c)}function html(e,a){if(e.options.allowDangerousHtml){const c={type:"raw",value:a.value};return e.patch(a,c),e.applyData(a,c)}}function revert(e,a){const c=a.referenceType;let d="]";if(c==="collapsed"?d+="[]":c==="full"&&(d+="["+(a.label||a.identifier)+"]"),a.type==="imageReference")return[{type:"text",value:"!["+a.alt+d}];const b=e.all(a),h=b[0];h&&h.type==="text"?h.value="["+h.value:b.unshift({type:"text",value:"["});const _=b[b.length-1];return _&&_.type==="text"?_.value+=d:b.push({type:"text",value:d}),b}function imageReference(e,a){const c=String(a.identifier).toUpperCase(),d=e.definitionById.get(c);if(!d)return revert(e,a);const b={src:normalizeUri(d.url||""),alt:a.alt};d.title!==null&&d.title!==void 0&&(b.title=d.title);const h={type:"element",tagName:"img",properties:b,children:[]};return e.patch(a,h),e.applyData(a,h)}function image(e,a){const c={src:normalizeUri(a.url)};a.alt!==null&&a.alt!==void 0&&(c.alt=a.alt),a.title!==null&&a.title!==void 0&&(c.title=a.title);const d={type:"element",tagName:"img",properties:c,children:[]};return e.patch(a,d),e.applyData(a,d)}function inlineCode(e,a){const c={type:"text",value:a.value.replace(/\r?\n|\r/g," ")};e.patch(a,c);const d={type:"element",tagName:"code",properties:{},children:[c]};return e.patch(a,d),e.applyData(a,d)}function linkReference(e,a){const c=String(a.identifier).toUpperCase(),d=e.definitionById.get(c);if(!d)return revert(e,a);const b={href:normalizeUri(d.url||"")};d.title!==null&&d.title!==void 0&&(b.title=d.title);const h={type:"element",tagName:"a",properties:b,children:e.all(a)};return e.patch(a,h),e.applyData(a,h)}function link(e,a){const c={href:normalizeUri(a.url)};a.title!==null&&a.title!==void 0&&(c.title=a.title);const d={type:"element",tagName:"a",properties:c,children:e.all(a)};return e.patch(a,d),e.applyData(a,d)}function listItem(e,a,c){const d=e.all(a),b=c?listLoose(c):listItemLoose(a),h={},_=[];if(typeof a.checked=="boolean"){const $=d[0];let rt;$&&$.type==="element"&&$.tagName==="p"?rt=$:(rt={type:"element",tagName:"p",properties:{},children:[]},d.unshift(rt)),rt.children.length>0&&rt.children.unshift({type:"text",value:" "}),rt.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:a.checked,disabled:!0},children:[]}),h.className=["task-list-item"]}let j=-1;for(;++j<d.length;){const $=d[j];(b||j!==0||$.type!=="element"||$.tagName!=="p")&&_.push({type:"text",value:`
`}),$.type==="element"&&$.tagName==="p"&&!b?_.push(...$.children):_.push($)}const _e=d[d.length-1];_e&&(b||_e.type!=="element"||_e.tagName!=="p")&&_.push({type:"text",value:`
`});const et={type:"element",tagName:"li",properties:h,children:_};return e.patch(a,et),e.applyData(a,et)}function listLoose(e){let a=!1;if(e.type==="list"){a=e.spread||!1;const c=e.children;let d=-1;for(;!a&&++d<c.length;)a=listItemLoose(c[d])}return a}function listItemLoose(e){const a=e.spread;return a??e.children.length>1}function list(e,a){const c={},d=e.all(a);let b=-1;for(typeof a.start=="number"&&a.start!==1&&(c.start=a.start);++b<d.length;){const _=d[b];if(_.type==="element"&&_.tagName==="li"&&_.properties&&Array.isArray(_.properties.className)&&_.properties.className.includes("task-list-item")){c.className=["contains-task-list"];break}}const h={type:"element",tagName:a.ordered?"ol":"ul",properties:c,children:e.wrap(d,!0)};return e.patch(a,h),e.applyData(a,h)}function paragraph(e,a){const c={type:"element",tagName:"p",properties:{},children:e.all(a)};return e.patch(a,c),e.applyData(a,c)}function root(e,a){const c={type:"root",children:e.wrap(e.all(a))};return e.patch(a,c),e.applyData(a,c)}function strong(e,a){const c={type:"element",tagName:"strong",properties:{},children:e.all(a)};return e.patch(a,c),e.applyData(a,c)}const pointEnd=point("end"),pointStart=point("start");function point(e){return a;function a(c){const d=c&&c.position&&c.position[e]||{};if(typeof d.line=="number"&&d.line>0&&typeof d.column=="number"&&d.column>0)return{line:d.line,column:d.column,offset:typeof d.offset=="number"&&d.offset>-1?d.offset:void 0}}}function position(e){const a=pointStart(e),c=pointEnd(e);if(a&&c)return{start:a,end:c}}function table(e,a){const c=e.all(a),d=c.shift(),b=[];if(d){const _={type:"element",tagName:"thead",properties:{},children:e.wrap([d],!0)};e.patch(a.children[0],_),b.push(_)}if(c.length>0){const _={type:"element",tagName:"tbody",properties:{},children:e.wrap(c,!0)},j=pointStart(a.children[1]),_e=pointEnd(a.children[a.children.length-1]);j&&_e&&(_.position={start:j,end:_e}),b.push(_)}const h={type:"element",tagName:"table",properties:{},children:e.wrap(b,!0)};return e.patch(a,h),e.applyData(a,h)}function tableRow(e,a,c){const d=c?c.children:void 0,h=(d?d.indexOf(a):1)===0?"th":"td",_=c&&c.type==="table"?c.align:void 0,j=_?_.length:a.children.length;let _e=-1;const et=[];for(;++_e<j;){const rt=a.children[_e],nt={},st=_?_[_e]:void 0;st&&(nt.align=st);let at={type:"element",tagName:h,properties:nt,children:[]};rt&&(at.children=e.all(rt),e.patch(rt,at),at=e.applyData(rt,at)),et.push(at)}const $={type:"element",tagName:"tr",properties:{},children:e.wrap(et,!0)};return e.patch(a,$),e.applyData(a,$)}function tableCell(e,a){const c={type:"element",tagName:"td",properties:{},children:e.all(a)};return e.patch(a,c),e.applyData(a,c)}const tab=9,space=32;function trimLines(e){const a=String(e),c=/\r?\n|\r/g;let d=c.exec(a),b=0;const h=[];for(;d;)h.push(trimLine(a.slice(b,d.index),b>0,!0),d[0]),b=d.index+d[0].length,d=c.exec(a);return h.push(trimLine(a.slice(b),b>0,!1)),h.join("")}function trimLine(e,a,c){let d=0,b=e.length;if(a){let h=e.codePointAt(d);for(;h===tab||h===space;)d++,h=e.codePointAt(d)}if(c){let h=e.codePointAt(b-1);for(;h===tab||h===space;)b--,h=e.codePointAt(b-1)}return b>d?e.slice(d,b):""}function text(e,a){const c={type:"text",value:trimLines(String(a.value))};return e.patch(a,c),e.applyData(a,c)}function thematicBreak(e,a){const c={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(a,c),e.applyData(a,c)}const handlers={blockquote,break:hardBreak,code,delete:strikethrough,emphasis,footnoteReference,heading,html,imageReference,image,inlineCode,linkReference,link,listItem,list,paragraph,root,strong,table,tableCell,tableRow,text,thematicBreak,toml:ignore,yaml:ignore,definition:ignore,footnoteDefinition:ignore};function ignore(){}const VOID=-1,PRIMITIVE=0,ARRAY=1,OBJECT=2,DATE=3,REGEXP=4,MAP=5,SET=6,ERROR=7,BIGINT=8,env=typeof self=="object"?self:globalThis,deserializer=(e,a)=>{const c=(b,h)=>(e.set(h,b),b),d=b=>{if(e.has(b))return e.get(b);const[h,_]=a[b];switch(h){case PRIMITIVE:case VOID:return c(_,b);case ARRAY:{const j=c([],b);for(const _e of _)j.push(d(_e));return j}case OBJECT:{const j=c({},b);for(const[_e,et]of _)j[d(_e)]=d(et);return j}case DATE:return c(new Date(_),b);case REGEXP:{const{source:j,flags:_e}=_;return c(new RegExp(j,_e),b)}case MAP:{const j=c(new Map,b);for(const[_e,et]of _)j.set(d(_e),d(et));return j}case SET:{const j=c(new Set,b);for(const _e of _)j.add(d(_e));return j}case ERROR:{const{name:j,message:_e}=_;return c(new env[j](_e),b)}case BIGINT:return c(BigInt(_),b);case"BigInt":return c(Object(BigInt(_)),b);case"ArrayBuffer":return c(new Uint8Array(_).buffer,_);case"DataView":{const{buffer:j}=new Uint8Array(_);return c(new DataView(j),_)}}return c(new env[h](_),b)};return d},deserialize=e=>deserializer(new Map,e)(0),EMPTY="",{toString}={},{keys}=Object,typeOf=e=>{const a=typeof e;if(a!=="object"||!e)return[PRIMITIVE,a];const c=toString.call(e).slice(8,-1);switch(c){case"Array":return[ARRAY,EMPTY];case"Object":return[OBJECT,EMPTY];case"Date":return[DATE,EMPTY];case"RegExp":return[REGEXP,EMPTY];case"Map":return[MAP,EMPTY];case"Set":return[SET,EMPTY];case"DataView":return[ARRAY,c]}return c.includes("Array")?[ARRAY,c]:c.includes("Error")?[ERROR,c]:[OBJECT,c]},shouldSkip=([e,a])=>e===PRIMITIVE&&(a==="function"||a==="symbol"),serializer=(e,a,c,d)=>{const b=(_,j)=>{const _e=d.push(_)-1;return c.set(j,_e),_e},h=_=>{if(c.has(_))return c.get(_);let[j,_e]=typeOf(_);switch(j){case PRIMITIVE:{let $=_;switch(_e){case"bigint":j=BIGINT,$=_.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+_e);$=null;break;case"undefined":return b([VOID],_)}return b([j,$],_)}case ARRAY:{if(_e){let nt=_;return _e==="DataView"?nt=new Uint8Array(_.buffer):_e==="ArrayBuffer"&&(nt=new Uint8Array(_)),b([_e,[...nt]],_)}const $=[],rt=b([j,$],_);for(const nt of _)$.push(h(nt));return rt}case OBJECT:{if(_e)switch(_e){case"BigInt":return b([_e,_.toString()],_);case"Boolean":case"Number":case"String":return b([_e,_.valueOf()],_)}if(a&&"toJSON"in _)return h(_.toJSON());const $=[],rt=b([j,$],_);for(const nt of keys(_))(e||!shouldSkip(typeOf(_[nt])))&&$.push([h(nt),h(_[nt])]);return rt}case DATE:return b([j,_.toISOString()],_);case REGEXP:{const{source:$,flags:rt}=_;return b([j,{source:$,flags:rt}],_)}case MAP:{const $=[],rt=b([j,$],_);for(const[nt,st]of _)(e||!(shouldSkip(typeOf(nt))||shouldSkip(typeOf(st))))&&$.push([h(nt),h(st)]);return rt}case SET:{const $=[],rt=b([j,$],_);for(const nt of _)(e||!shouldSkip(typeOf(nt)))&&$.push(h(nt));return rt}}const{message:et}=_;return b([j,{name:_e,message:et}],_)};return h},serialize=(e,{json:a,lossy:c}={})=>{const d=[];return serializer(!(a||c),!!a,new Map,d)(e),d},structuredClone$1=typeof structuredClone=="function"?(e,a)=>a&&("json"in a||"lossy"in a)?deserialize(serialize(e,a)):structuredClone(e):(e,a)=>deserialize(serialize(e,a));function defaultFootnoteBackContent(e,a){const c=[{type:"text",value:""}];return a>1&&c.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(a)}]}),c}function defaultFootnoteBackLabel(e,a){return"Back to reference "+(e+1)+(a>1?"-"+a:"")}function footer(e){const a=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",c=e.options.footnoteBackContent||defaultFootnoteBackContent,d=e.options.footnoteBackLabel||defaultFootnoteBackLabel,b=e.options.footnoteLabel||"Footnotes",h=e.options.footnoteLabelTagName||"h2",_=e.options.footnoteLabelProperties||{className:["sr-only"]},j=[];let _e=-1;for(;++_e<e.footnoteOrder.length;){const et=e.footnoteById.get(e.footnoteOrder[_e]);if(!et)continue;const $=e.all(et),rt=String(et.identifier).toUpperCase(),nt=normalizeUri(rt.toLowerCase());let st=0;const at=[],ut=e.footnoteCounts.get(rt);for(;ut!==void 0&&++st<=ut;){at.length>0&&at.push({type:"text",value:" "});let xt=typeof c=="string"?c:c(_e,st);typeof xt=="string"&&(xt={type:"text",value:xt}),at.push({type:"element",tagName:"a",properties:{href:"#"+a+"fnref-"+nt+(st>1?"-"+st:""),dataFootnoteBackref:"",ariaLabel:typeof d=="string"?d:d(_e,st),className:["data-footnote-backref"]},children:Array.isArray(xt)?xt:[xt]})}const wt=$[$.length-1];if(wt&&wt.type==="element"&&wt.tagName==="p"){const xt=wt.children[wt.children.length-1];xt&&xt.type==="text"?xt.value+=" ":wt.children.push({type:"text",value:" "}),wt.children.push(...at)}else $.push(...at);const pt={type:"element",tagName:"li",properties:{id:a+"fn-"+nt},children:e.wrap($,!0)};e.patch(et,pt),j.push(pt)}if(j.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:h,properties:{...structuredClone$1(_),id:"footnote-label"},children:[{type:"text",value:b}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(j,!0)},{type:"text",value:`
`}]}}const convert=function(e){if(e==null)return ok;if(typeof e=="function")return castFactory(e);if(typeof e=="object")return Array.isArray(e)?anyFactory(e):propertiesFactory(e);if(typeof e=="string")return typeFactory(e);throw new Error("Expected function, string, or object as test")};function anyFactory(e){const a=[];let c=-1;for(;++c<e.length;)a[c]=convert(e[c]);return castFactory(d);function d(...b){let h=-1;for(;++h<a.length;)if(a[h].apply(this,b))return!0;return!1}}function propertiesFactory(e){const a=e;return castFactory(c);function c(d){const b=d;let h;for(h in e)if(b[h]!==a[h])return!1;return!0}}function typeFactory(e){return castFactory(a);function a(c){return c&&c.type===e}}function castFactory(e){return a;function a(c,d,b){return!!(looksLikeANode(c)&&e.call(this,c,typeof d=="number"?d:void 0,b||void 0))}}function ok(){return!0}function looksLikeANode(e){return e!==null&&typeof e=="object"&&"type"in e}function color(e){return e}const empty=[],CONTINUE=!0,EXIT=!1,SKIP="skip";function visitParents(e,a,c,d){let b;typeof a=="function"&&typeof c!="function"?(d=c,c=a):b=a;const h=convert(b),_=d?-1:1;j(e,void 0,[])();function j(_e,et,$){const rt=_e&&typeof _e=="object"?_e:{};if(typeof rt.type=="string"){const st=typeof rt.tagName=="string"?rt.tagName:typeof rt.name=="string"?rt.name:void 0;Object.defineProperty(nt,"name",{value:"node ("+(_e.type+(st?"<"+st+">":""))+")"})}return nt;function nt(){let st=empty,at,ut,wt;if((!a||h(_e,et,$[$.length-1]||void 0))&&(st=toResult(c(_e,$)),st[0]===EXIT))return st;if("children"in _e&&_e.children){const pt=_e;if(pt.children&&st[0]!==SKIP)for(ut=(d?pt.children.length:-1)+_,wt=$.concat(pt);ut>-1&&ut<pt.children.length;){const xt=pt.children[ut];if(at=j(xt,ut,wt)(),at[0]===EXIT)return at;ut=typeof at[1]=="number"?at[1]:ut+_}}return st}}}function toResult(e){return Array.isArray(e)?e:typeof e=="number"?[CONTINUE,e]:e==null?empty:[e]}function visit$1(e,a,c,d){let b,h,_;typeof a=="function"&&typeof c!="function"?(h=void 0,_=a,b=c):(h=a,_=c,b=d),visitParents(e,h,j,b);function j(_e,et){const $=et[et.length-1],rt=$?$.children.indexOf(_e):void 0;return _(_e,rt,$)}}const own$1={}.hasOwnProperty,emptyOptions={};function createState(e,a){const c=a||emptyOptions,d=new Map,b=new Map,h=new Map,_={...handlers,...c.handlers},j={all:et,applyData,definitionById:d,footnoteById:b,footnoteCounts:h,footnoteOrder:[],handlers:_,one:_e,options:c,patch,wrap:wrap$1};return visit$1(e,function($){if($.type==="definition"||$.type==="footnoteDefinition"){const rt=$.type==="definition"?d:b,nt=String($.identifier).toUpperCase();rt.has(nt)||rt.set(nt,$)}}),j;function _e($,rt){const nt=$.type,st=j.handlers[nt];if(own$1.call(j.handlers,nt)&&st)return st(j,$,rt);if(j.options.passThrough&&j.options.passThrough.includes(nt)){if("children"in $){const{children:ut,...wt}=$,pt=structuredClone$1(wt);return pt.children=j.all($),pt}return structuredClone$1($)}return(j.options.unknownHandler||defaultUnknownHandler)(j,$,rt)}function et($){const rt=[];if("children"in $){const nt=$.children;let st=-1;for(;++st<nt.length;){const at=j.one(nt[st],$);if(at){if(st&&nt[st-1].type==="break"&&(!Array.isArray(at)&&at.type==="text"&&(at.value=trimMarkdownSpaceStart(at.value)),!Array.isArray(at)&&at.type==="element")){const ut=at.children[0];ut&&ut.type==="text"&&(ut.value=trimMarkdownSpaceStart(ut.value))}Array.isArray(at)?rt.push(...at):rt.push(at)}}}return rt}}function patch(e,a){e.position&&(a.position=position(e))}function applyData(e,a){let c=a;if(e&&e.data){const d=e.data.hName,b=e.data.hChildren,h=e.data.hProperties;if(typeof d=="string")if(c.type==="element")c.tagName=d;else{const _="children"in c?c.children:[c];c={type:"element",tagName:d,properties:{},children:_}}c.type==="element"&&h&&Object.assign(c.properties,structuredClone$1(h)),"children"in c&&c.children&&b!==null&&b!==void 0&&(c.children=b)}return c}function defaultUnknownHandler(e,a){const c=a.data||{},d="value"in a&&!(own$1.call(c,"hProperties")||own$1.call(c,"hChildren"))?{type:"text",value:a.value}:{type:"element",tagName:"div",properties:{},children:e.all(a)};return e.patch(a,d),e.applyData(a,d)}function wrap$1(e,a){const c=[];let d=-1;for(a&&c.push({type:"text",value:`
`});++d<e.length;)d&&c.push({type:"text",value:`
`}),c.push(e[d]);return a&&e.length>0&&c.push({type:"text",value:`
`}),c}function trimMarkdownSpaceStart(e){let a=0,c=e.charCodeAt(a);for(;c===9||c===32;)a++,c=e.charCodeAt(a);return e.slice(a)}function toHast(e,a){const c=createState(e,a),d=c.one(e,void 0),b=footer(c),h=Array.isArray(d)?{type:"root",children:d}:d||{type:"root",children:[]};return b&&h.children.push({type:"text",value:`
`},b),h}function remarkRehype(e,a){return e&&"run"in e?async function(c,d){const b=toHast(c,{file:d,...a});await e.run(b,d)}:function(c,d){return toHast(c,{file:d,...e||a})}}function bail(e){if(e)throw e}var hasOwn=Object.prototype.hasOwnProperty,toStr=Object.prototype.toString,defineProperty=Object.defineProperty,gOPD=Object.getOwnPropertyDescriptor,isArray=function e(a){return typeof Array.isArray=="function"?Array.isArray(a):toStr.call(a)==="[object Array]"},isPlainObject$2=function e(a){if(!a||toStr.call(a)!=="[object Object]")return!1;var c=hasOwn.call(a,"constructor"),d=a.constructor&&a.constructor.prototype&&hasOwn.call(a.constructor.prototype,"isPrototypeOf");if(a.constructor&&!c&&!d)return!1;var b;for(b in a);return typeof b>"u"||hasOwn.call(a,b)},setProperty=function e(a,c){defineProperty&&c.name==="__proto__"?defineProperty(a,c.name,{enumerable:!0,configurable:!0,value:c.newValue,writable:!0}):a[c.name]=c.newValue},getProperty=function e(a,c){if(c==="__proto__")if(hasOwn.call(a,c)){if(gOPD)return gOPD(a,c).value}else return;return a[c]},extend=function e(){var a,c,d,b,h,_,j=arguments[0],_e=1,et=arguments.length,$=!1;for(typeof j=="boolean"&&($=j,j=arguments[1]||{},_e=2),(j==null||typeof j!="object"&&typeof j!="function")&&(j={});_e<et;++_e)if(a=arguments[_e],a!=null)for(c in a)d=getProperty(j,c),b=getProperty(a,c),j!==b&&($&&b&&(isPlainObject$2(b)||(h=isArray(b)))?(h?(h=!1,_=d&&isArray(d)?d:[]):_=d&&isPlainObject$2(d)?d:{},setProperty(j,{name:c,newValue:e($,_,b)})):typeof b<"u"&&setProperty(j,{name:c,newValue:b}));return j};const extend$1=getDefaultExportFromCjs$1(extend);function isPlainObject$1(e){if(typeof e!="object"||e===null)return!1;const a=Object.getPrototypeOf(e);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function trough(){const e=[],a={run:c,use:d};return a;function c(...b){let h=-1;const _=b.pop();if(typeof _!="function")throw new TypeError("Expected function as last argument, not "+_);j(null,...b);function j(_e,...et){const $=e[++h];let rt=-1;if(_e){_(_e);return}for(;++rt<b.length;)(et[rt]===null||et[rt]===void 0)&&(et[rt]=b[rt]);b=et,$?wrap($,j)(...et):_(null,...et)}}function d(b){if(typeof b!="function")throw new TypeError("Expected `middelware` to be a function, not "+b);return e.push(b),a}}function wrap(e,a){let c;return d;function d(..._){const j=e.length>_.length;let _e;j&&_.push(b);try{_e=e.apply(this,_)}catch(et){const $=et;if(j&&c)throw $;return b($)}j||(_e&&_e.then&&typeof _e.then=="function"?_e.then(h,b):_e instanceof Error?b(_e):h(_e))}function b(_,...j){c||(c=!0,a(_,...j))}function h(_){b(null,_)}}const minpath={basename,dirname,extname,join,sep:"/"};function basename(e,a){if(a!==void 0&&typeof a!="string")throw new TypeError('"ext" argument must be a string');assertPath$1(e);let c=0,d=-1,b=e.length,h;if(a===void 0||a.length===0||a.length>e.length){for(;b--;)if(e.codePointAt(b)===47){if(h){c=b+1;break}}else d<0&&(h=!0,d=b+1);return d<0?"":e.slice(c,d)}if(a===e)return"";let _=-1,j=a.length-1;for(;b--;)if(e.codePointAt(b)===47){if(h){c=b+1;break}}else _<0&&(h=!0,_=b+1),j>-1&&(e.codePointAt(b)===a.codePointAt(j--)?j<0&&(d=b):(j=-1,d=_));return c===d?d=_:d<0&&(d=e.length),e.slice(c,d)}function dirname(e){if(assertPath$1(e),e.length===0)return".";let a=-1,c=e.length,d;for(;--c;)if(e.codePointAt(c)===47){if(d){a=c;break}}else d||(d=!0);return a<0?e.codePointAt(0)===47?"/":".":a===1&&e.codePointAt(0)===47?"//":e.slice(0,a)}function extname(e){assertPath$1(e);let a=e.length,c=-1,d=0,b=-1,h=0,_;for(;a--;){const j=e.codePointAt(a);if(j===47){if(_){d=a+1;break}continue}c<0&&(_=!0,c=a+1),j===46?b<0?b=a:h!==1&&(h=1):b>-1&&(h=-1)}return b<0||c<0||h===0||h===1&&b===c-1&&b===d+1?"":e.slice(b,c)}function join(...e){let a=-1,c;for(;++a<e.length;)assertPath$1(e[a]),e[a]&&(c=c===void 0?e[a]:c+"/"+e[a]);return c===void 0?".":normalize(c)}function normalize(e){assertPath$1(e);const a=e.codePointAt(0)===47;let c=normalizeString(e,!a);return c.length===0&&!a&&(c="."),c.length>0&&e.codePointAt(e.length-1)===47&&(c+="/"),a?"/"+c:c}function normalizeString(e,a){let c="",d=0,b=-1,h=0,_=-1,j,_e;for(;++_<=e.length;){if(_<e.length)j=e.codePointAt(_);else{if(j===47)break;j=47}if(j===47){if(!(b===_-1||h===1))if(b!==_-1&&h===2){if(c.length<2||d!==2||c.codePointAt(c.length-1)!==46||c.codePointAt(c.length-2)!==46){if(c.length>2){if(_e=c.lastIndexOf("/"),_e!==c.length-1){_e<0?(c="",d=0):(c=c.slice(0,_e),d=c.length-1-c.lastIndexOf("/")),b=_,h=0;continue}}else if(c.length>0){c="",d=0,b=_,h=0;continue}}a&&(c=c.length>0?c+"/..":"..",d=2)}else c.length>0?c+="/"+e.slice(b+1,_):c=e.slice(b+1,_),d=_-b-1;b=_,h=0}else j===46&&h>-1?h++:h=-1}return c}function assertPath$1(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const minproc={cwd};function cwd(){return"/"}function isUrl(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function urlToPath(e){if(typeof e=="string")e=new URL(e);else if(!isUrl(e)){const a=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw a.code="ERR_INVALID_ARG_TYPE",a}if(e.protocol!=="file:"){const a=new TypeError("The URL must be of scheme file");throw a.code="ERR_INVALID_URL_SCHEME",a}return getPathFromURLPosix(e)}function getPathFromURLPosix(e){if(e.hostname!==""){const d=new TypeError('File URL host must be "localhost" or empty on darwin');throw d.code="ERR_INVALID_FILE_URL_HOST",d}const a=e.pathname;let c=-1;for(;++c<a.length;)if(a.codePointAt(c)===37&&a.codePointAt(c+1)===50){const d=a.codePointAt(c+2);if(d===70||d===102){const b=new TypeError("File URL path must not include encoded / characters");throw b.code="ERR_INVALID_FILE_URL_PATH",b}}return decodeURIComponent(a)}const order$1=["history","path","basename","stem","extname","dirname"];class VFile{constructor(a){let c;a?isUrl(a)?c={path:a}:typeof a=="string"||isUint8Array$1(a)?c={value:a}:c=a:c={},this.cwd="cwd"in c?"":minproc.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let d=-1;for(;++d<order$1.length;){const h=order$1[d];h in c&&c[h]!==void 0&&c[h]!==null&&(this[h]=h==="history"?[...c[h]]:c[h])}let b;for(b in c)order$1.includes(b)||(this[b]=c[b])}get basename(){return typeof this.path=="string"?minpath.basename(this.path):void 0}set basename(a){assertNonEmpty(a,"basename"),assertPart(a,"basename"),this.path=minpath.join(this.dirname||"",a)}get dirname(){return typeof this.path=="string"?minpath.dirname(this.path):void 0}set dirname(a){assertPath(this.basename,"dirname"),this.path=minpath.join(a||"",this.basename)}get extname(){return typeof this.path=="string"?minpath.extname(this.path):void 0}set extname(a){if(assertPart(a,"extname"),assertPath(this.dirname,"extname"),a){if(a.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(a.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=minpath.join(this.dirname,this.stem+(a||""))}get path(){return this.history[this.history.length-1]}set path(a){isUrl(a)&&(a=urlToPath(a)),assertNonEmpty(a,"path"),this.path!==a&&this.history.push(a)}get stem(){return typeof this.path=="string"?minpath.basename(this.path,this.extname):void 0}set stem(a){assertNonEmpty(a,"stem"),assertPart(a,"stem"),this.path=minpath.join(this.dirname||"",a+(this.extname||""))}fail(a,c,d){const b=this.message(a,c,d);throw b.fatal=!0,b}info(a,c,d){const b=this.message(a,c,d);return b.fatal=void 0,b}message(a,c,d){const b=new VFileMessage(a,c,d);return this.path&&(b.name=this.path+":"+b.name,b.file=this.path),b.fatal=!1,this.messages.push(b),b}toString(a){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(a||void 0).decode(this.value)}}function assertPart(e,a){if(e&&e.includes(minpath.sep))throw new Error("`"+a+"` cannot be a path: did not expect `"+minpath.sep+"`")}function assertNonEmpty(e,a){if(!e)throw new Error("`"+a+"` cannot be empty")}function assertPath(e,a){if(!e)throw new Error("Setting `"+a+"` requires `path` to be set too")}function isUint8Array$1(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const CallableInstance=function(e){const d=this.constructor.prototype,b=d[e],h=function(){return b.apply(h,arguments)};return Object.setPrototypeOf(h,d),h},own={}.hasOwnProperty;class Processor extends CallableInstance{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=trough()}copy(){const a=new Processor;let c=-1;for(;++c<this.attachers.length;){const d=this.attachers[c];a.use(...d)}return a.data(extend$1(!0,{},this.namespace)),a}data(a,c){return typeof a=="string"?arguments.length===2?(assertUnfrozen("data",this.frozen),this.namespace[a]=c,this):own.call(this.namespace,a)&&this.namespace[a]||void 0:a?(assertUnfrozen("data",this.frozen),this.namespace=a,this):this.namespace}freeze(){if(this.frozen)return this;const a=this;for(;++this.freezeIndex<this.attachers.length;){const[c,...d]=this.attachers[this.freezeIndex];if(d[0]===!1)continue;d[0]===!0&&(d[0]=void 0);const b=c.call(a,...d);typeof b=="function"&&this.transformers.use(b)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(a){this.freeze();const c=vfile(a),d=this.parser||this.Parser;return assertParser("parse",d),d(String(c),c)}process(a,c){const d=this;return this.freeze(),assertParser("process",this.parser||this.Parser),assertCompiler("process",this.compiler||this.Compiler),c?b(void 0,c):new Promise(b);function b(h,_){const j=vfile(a),_e=d.parse(j);d.run(_e,j,function($,rt,nt){if($||!rt||!nt)return et($);const st=rt,at=d.stringify(st,nt);looksLikeAValue(at)?nt.value=at:nt.result=at,et($,nt)});function et($,rt){$||!rt?_($):h?h(rt):c(void 0,rt)}}}processSync(a){let c=!1,d;return this.freeze(),assertParser("processSync",this.parser||this.Parser),assertCompiler("processSync",this.compiler||this.Compiler),this.process(a,b),assertDone("processSync","process",c),d;function b(h,_){c=!0,bail(h),d=_}}run(a,c,d){assertNode(a),this.freeze();const b=this.transformers;return!d&&typeof c=="function"&&(d=c,c=void 0),d?h(void 0,d):new Promise(h);function h(_,j){const _e=vfile(c);b.run(a,_e,et);function et($,rt,nt){const st=rt||a;$?j($):_?_(st):d(void 0,st,nt)}}}runSync(a,c){let d=!1,b;return this.run(a,c,h),assertDone("runSync","run",d),b;function h(_,j){bail(_),b=j,d=!0}}stringify(a,c){this.freeze();const d=vfile(c),b=this.compiler||this.Compiler;return assertCompiler("stringify",b),assertNode(a),b(a,d)}use(a,...c){const d=this.attachers,b=this.namespace;if(assertUnfrozen("use",this.frozen),a!=null)if(typeof a=="function")_e(a,c);else if(typeof a=="object")Array.isArray(a)?j(a):_(a);else throw new TypeError("Expected usable value, not `"+a+"`");return this;function h(et){if(typeof et=="function")_e(et,[]);else if(typeof et=="object")if(Array.isArray(et)){const[$,...rt]=et;_e($,rt)}else _(et);else throw new TypeError("Expected usable value, not `"+et+"`")}function _(et){if(!("plugins"in et)&&!("settings"in et))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");j(et.plugins),et.settings&&(b.settings=extend$1(!0,b.settings,et.settings))}function j(et){let $=-1;if(et!=null)if(Array.isArray(et))for(;++$<et.length;){const rt=et[$];h(rt)}else throw new TypeError("Expected a list of plugins, not `"+et+"`")}function _e(et,$){let rt=-1,nt=-1;for(;++rt<d.length;)if(d[rt][0]===et){nt=rt;break}if(nt===-1)d.push([et,...$]);else if($.length>0){let[st,...at]=$;const ut=d[nt][1];isPlainObject$1(ut)&&isPlainObject$1(st)&&(st=extend$1(!0,ut,st)),d[nt]=[et,st,...at]}}}}const unified=new Processor().freeze();function assertParser(e,a){if(typeof a!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function assertCompiler(e,a){if(typeof a!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function assertUnfrozen(e,a){if(a)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function assertNode(e){if(!isPlainObject$1(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function assertDone(e,a,c){if(!c)throw new Error("`"+e+"` finished async. Use `"+a+"` instead")}function vfile(e){return looksLikeAVFile(e)?e:new VFile(e)}function looksLikeAVFile(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function looksLikeAValue(e){return typeof e=="string"||isUint8Array(e)}function isUint8Array(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}function visit(e,a,c,d){let b,h,_;typeof a=="function"&&typeof c!="function"?(h=void 0,_=a,b=c):(h=a,_=c,b=d),visitParents(e,h,j,b);function j(_e,et){const $=et[et.length-1],rt=$?$.children.indexOf(_e):void 0;return _(_e,rt,$)}}const changelog="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",emptyPlugins=[],emptyRemarkRehypeOptions={allowDangerousHtml:!0},safeProtocol=/^(https?|ircs?|mailto|xmpp)$/i,deprecations=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Markdown(e){const a=createProcessor(e),c=createFile(e);return post(a.runSync(a.parse(c),c),e)}function createProcessor(e){const a=e.rehypePlugins||emptyPlugins,c=e.remarkPlugins||emptyPlugins,d=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...emptyRemarkRehypeOptions}:emptyRemarkRehypeOptions;return unified().use(remarkParse).use(c).use(remarkRehype,d).use(a)}function createFile(e){const a=e.children||"",c=new VFile;return typeof a=="string"&&(c.value=a),c}function post(e,a){const c=a.allowedElements,d=a.allowElement,b=a.components,h=a.disallowedElements,_=a.skipHtml,j=a.unwrapDisallowed,_e=a.urlTransform||defaultUrlTransform;for(const $ of deprecations)Object.hasOwn(a,$.from)&&(""+$.from+($.to?"use `"+$.to+"` instead":"remove it")+changelog+$.id,void 0);return visit(e,et),toJsxRuntime(e,{Fragment:jsxRuntimeExports.Fragment,components:b,ignoreInvalidStyle:!0,jsx:jsxRuntimeExports.jsx,jsxs:jsxRuntimeExports.jsxs,passKeys:!0,passNode:!0});function et($,rt,nt){if($.type==="raw"&&nt&&typeof rt=="number")return _?nt.children.splice(rt,1):nt.children[rt]={type:"text",value:$.value},rt;if($.type==="element"){let st;for(st in urlAttributes)if(Object.hasOwn(urlAttributes,st)&&Object.hasOwn($.properties,st)){const at=$.properties[st],ut=urlAttributes[st];(ut===null||ut.includes($.tagName))&&($.properties[st]=_e(String(at||""),st,$))}}if($.type==="element"){let st=c?!c.includes($.tagName):h?h.includes($.tagName):!1;if(!st&&d&&typeof rt=="number"&&(st=!d($,rt,nt)),st&&nt&&typeof rt=="number")return j&&$.children?nt.children.splice(rt,1,...$.children):nt.children.splice(rt,1),rt}}}function defaultUrlTransform(e){const a=e.indexOf(":"),c=e.indexOf("?"),d=e.indexOf("#"),b=e.indexOf("/");return a===-1||b!==-1&&a>b||c!==-1&&a>c||d!==-1&&a>d||safeProtocol.test(e.slice(0,a))?e:""}const isHttpUrl=e=>/^https?:\/\//i.test(e),isLikelyBase64=e=>/^[A-Za-z0-9+/=]+$/.test(e)&&e.length%4===0;function ArtifactViewer({result:e,label:a,format:c}){const{t:d}=useTranslation(),b=rt=>typeof rt=="string"?rt:null,h=reactExports.useMemo(()=>{if(c)return c;const rt=b(e);return!rt||rt.trim().startsWith("{")||rt.trim().startsWith("[")?"json":rt.includes(",")&&rt.includes(`
`)&&rt.split(`
`).length>1?"csv":rt.includes("#")||rt.includes("**")||rt.includes("```")?"markdown":"text"},[e,c]),_=reactExports.useMemo(()=>{if(typeof e!="object"||e===null)return null;const rt=e;return typeof rt.data=="string"&&rt.data.length>0&&typeof rt.mimeType=="string"&&isLikelyBase64(rt.data)?{blob:typeof atob=="function"?Uint8Array.from(atob(rt.data),nt=>nt.charCodeAt(0)):new Uint8Array,mimeType:rt.mimeType,filename:rt.filename??`artifact-${Date.now()}`}:null},[e]),j=reactExports.useCallback(rt=>{var nt;(nt=navigator.clipboard)==null||nt.writeText(rt).catch(()=>{})},[]),_e=reactExports.useCallback(()=>{if(!_)return;const rt=new Blob([_.blob],{type:_.mimeType}),nt=URL.createObjectURL(rt),st=document.createElement("a");st.href=nt,st.download=_.filename,document.body.append(st),st.click(),st.remove(),URL.revokeObjectURL(nt)},[_]),et=rt=>{var st;const nt=b(rt);if(h==="csv"&&nt){const at=nt.trim().split(`
`).filter(pt=>pt.trim()),ut=((st=at[0])==null?void 0:st.split(",").map(pt=>pt.trim()))||[],wt=at.slice(1).map(pt=>pt.split(",").map(xt=>xt.trim()));return jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full border-collapse border border-slate-600 text-xs",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsx("tr",{className:"bg-slate-800",children:ut.map((pt,xt)=>jsxRuntimeExports.jsx("th",{className:"border border-slate-600 px-3 py-2 text-left font-semibold text-slate-200",children:pt},xt))})}),jsxRuntimeExports.jsx("tbody",{children:wt.map((pt,xt)=>jsxRuntimeExports.jsx("tr",{className:"hover:bg-slate-800/50",children:pt.map((St,Nt)=>jsxRuntimeExports.jsx("td",{className:"border border-slate-600 px-3 py-2 text-slate-300",children:St},Nt))},xt))})]})})}if(h==="json"){let at=rt;if(nt)try{at=JSON.parse(nt)}catch{}if(typeof at=="object"&&at!==null)return jsxRuntimeExports.jsx("pre",{className:"max-h-96 overflow-auto whitespace-pre-wrap break-words rounded-lg bg-slate-950/60 p-3 text-xs text-slate-200",children:JSON.stringify(at,null,2)})}if(h==="markdown"&&nt)return jsxRuntimeExports.jsx("div",{className:"prose prose-invert max-w-none rounded-lg bg-slate-950/60 p-4 text-sm text-slate-200 prose-headings:text-slate-100 prose-p:text-slate-200 prose-strong:text-slate-100 prose-code:text-emerald-300 prose-pre:bg-slate-900",children:jsxRuntimeExports.jsx(Markdown,{children:nt})});if(typeof rt=="string")return isHttpUrl(rt)?jsxRuntimeExports.jsxs("a",{href:rt,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 text-sky-300 hover:underline",children:[jsxRuntimeExports.jsx(Link2,{className:"h-3 w-3"}),rt]}):rt.includes(`
`)||rt.length>160?jsxRuntimeExports.jsx("pre",{className:"whitespace-pre-wrap break-words rounded-lg bg-slate-950/60 p-3 text-sm text-slate-100",children:rt}):jsxRuntimeExports.jsx("span",{className:"text-sm text-slate-100",children:rt});if(Array.isArray(rt))return jsxRuntimeExports.jsx("ul",{className:"list-disc space-y-1 pl-4 text-sm text-slate-200",children:rt.map((at,ut)=>jsxRuntimeExports.jsx("li",{children:et(at)},ut))});if(rt&&typeof rt=="object"){const at=b(rt.url),ut=b(rt.content);if(at&&isHttpUrl(at))return jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("a",{href:at,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 text-sky-300 hover:underline",children:[jsxRuntimeExports.jsx(Link2,{className:"h-3 w-3"}),at]}),ut&&jsxRuntimeExports.jsx("pre",{className:"whitespace-pre-wrap break-words rounded-lg bg-slate-950/60 p-3 text-xs text-slate-200",children:ut})]});if(ut)return jsxRuntimeExports.jsx("pre",{className:"whitespace-pre-wrap break-words rounded-lg bg-slate-950/60 p-3 text-xs text-slate-200",children:ut})}return jsxRuntimeExports.jsx("pre",{className:"max-h-64 overflow-auto whitespace-pre-wrap break-words rounded-lg bg-slate-950/60 p-3 text-xs text-slate-200",children:JSON.stringify(rt,null,2)})},$=b(e);return jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[a&&jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-[0.35em] text-slate-400",children:a}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[et(e),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-slate-400",children:[$&&jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>j($),className:"inline-flex items-center gap-1 rounded-full border border-white/10 px-2 py-1 hover:border-white/30",children:[jsxRuntimeExports.jsx(Clipboard,{className:"h-3 w-3"})," ",d("artifactViewer.actions.copy")]}),_&&jsxRuntimeExports.jsxs("button",{type:"button",onClick:_e,className:"inline-flex items-center gap-1 rounded-full border border-white/10 px-2 py-1 hover:border-white/30",children:[jsxRuntimeExports.jsx(Download,{className:"h-3 w-3"})," ",d("artifactViewer.actions.download")]})]})]})]})}class DataExport{exportJSON(a,c){try{const d=JSON.stringify(a,null,2),b=new Blob([d],{type:"application/json"});this.downloadFile(b,c)}catch(d){throw console.error("[DataExport] Failed to export JSON:",d),d}}exportCSV(a,c){try{if(!a||a.length===0)throw new Error("No data to export");const d=Object.keys(a[0]),b=[];b.push(d.map(j=>this.escapeCsvValue(j)).join(","));for(const j of a){const _e=d.map(et=>{const $=j[et];return this.escapeCsvValue($)});b.push(_e.join(","))}const h=b.join(`
`),_=new Blob([h],{type:"text/csv;charset=utf-8;"});this.downloadFile(_,c)}catch(d){throw console.error("[DataExport] Failed to export CSV:",d),d}}exportText(a,c){try{const d=new Blob([a],{type:"text/plain;charset=utf-8;"});this.downloadFile(d,c)}catch(d){throw console.error("[DataExport] Failed to export text:",d),d}}exportMarkdown(a,c){try{const d=new Blob([a],{type:"text/markdown;charset=utf-8;"});this.downloadFile(d,c)}catch(d){throw console.error("[DataExport] Failed to export markdown:",d),d}}formatSessionAsMarkdown(a){const c=[];c.push("# AgentOS Session Export"),c.push(""),a.sessionId&&c.push(`**Session ID:** ${a.sessionId}`),a.personaId&&c.push(`**Persona:** ${a.personaId}`),c.push(`**Export Date:** ${new Date().toISOString()}`),c.push(""),c.push("---"),c.push(""),c.push("## Conversation"),c.push("");for(const d of a.messages){const b=d.timestamp?new Date(d.timestamp).toLocaleString():"";c.push(`### ${d.role.toUpperCase()} ${b?`(${b})`:""}`),c.push(""),c.push(d.content),c.push("")}return a.telemetry&&a.telemetry.length>0&&(c.push("---"),c.push(""),c.push("## Telemetry Data"),c.push(""),c.push("```json"),c.push(JSON.stringify(a.telemetry,null,2)),c.push("```")),c.join(`
`)}async copyToClipboard(a){try{await navigator.clipboard.writeText(a)}catch(c){throw console.error("[DataExport] Failed to copy to clipboard:",c),c}}escapeCsvValue(a){if(a==null)return"";const c=String(a);return c.includes(",")||c.includes('"')||c.includes(`
`)||c.includes("\r")?`"${c.replace(/"/g,'""')}"`:c}downloadFile(a,c){const d=URL.createObjectURL(a),b=document.createElement("a");b.href=d,b.download=c,document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(d)}}const dataExport=new DataExport;function exportAllData(e,a,c){const d=new Date().toISOString().replace(/[:.]/g,"-"),b=c||`export-${d}`;switch(a){case"json":dataExport.exportJSON(e,`${b}.json`);break;case"csv":Array.isArray(e)?dataExport.exportCSV(e,`${b}.csv`):console.error("CSV export requires array data");break;case"markdown":dataExport.exportMarkdown(typeof e=="string"?e:String(e),`${b}.md`);break;case"text":dataExport.exportText(JSON.stringify(e,null,2),`${b}.txt`);break;default:console.error("Unknown export format:",a)}}const AGENTOS_SCHEMA_SQL=`
-- Conversations (GMI interactions)
CREATE TABLE IF NOT EXISTS conversations (
  id TEXT PRIMARY KEY,
  user_id TEXT NOT NULL,
  persona_id TEXT NOT NULL,
  created_at INTEGER NOT NULL,
  updated_at INTEGER NOT NULL,
  metadata TEXT DEFAULT '{}'
);

-- Conversation events (streaming chunks, tool calls, etc.)
CREATE TABLE IF NOT EXISTS conversation_events (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  conversation_id TEXT NOT NULL,
  event_type TEXT NOT NULL,
  event_data TEXT NOT NULL,
  timestamp INTEGER NOT NULL,
  FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE
);

-- Sessions (UI/UX grouping of conversations)
CREATE TABLE IF NOT EXISTS sessions (
  id TEXT PRIMARY KEY,
  user_id TEXT NOT NULL,
  display_name TEXT NOT NULL,
  target_type TEXT CHECK(target_type IN ('persona', 'agency')) NOT NULL,
  target_id TEXT NOT NULL,
  created_at INTEGER NOT NULL,
  updated_at INTEGER NOT NULL,
  metadata TEXT DEFAULT '{}'
);

-- Persona definitions (cached locally)
CREATE TABLE IF NOT EXISTS personas (
  id TEXT PRIMARY KEY,
  display_name TEXT NOT NULL,
  description TEXT,
  definition TEXT NOT NULL,
  created_at INTEGER NOT NULL,
  updated_at INTEGER NOT NULL
);

-- Telemetry (token usage, costs, performance)
CREATE TABLE IF NOT EXISTS telemetry (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  session_id TEXT,
  event_type TEXT NOT NULL,
  event_data TEXT NOT NULL,
  timestamp INTEGER NOT NULL
);

-- Workflows (cached definitions)
CREATE TABLE IF NOT EXISTS workflows (
  id TEXT PRIMARY KEY,
  name TEXT NOT NULL,
  definition TEXT NOT NULL,
  created_at INTEGER NOT NULL,
  updated_at INTEGER NOT NULL
);

-- Indexes for common queries
CREATE INDEX IF NOT EXISTS idx_conversations_user_id ON conversations(user_id);
CREATE INDEX IF NOT EXISTS idx_conversation_events_conversation_id ON conversation_events(conversation_id);
CREATE INDEX IF NOT EXISTS idx_conversation_events_timestamp ON conversation_events(timestamp);
CREATE INDEX IF NOT EXISTS idx_sessions_user_id ON sessions(user_id);
CREATE INDEX IF NOT EXISTS idx_sessions_updated_at ON sessions(updated_at DESC);
CREATE INDEX IF NOT EXISTS idx_telemetry_session_id ON telemetry(session_id);
CREATE INDEX IF NOT EXISTS idx_telemetry_timestamp ON telemetry(timestamp);
`;async function createAgentOSStorageAdapter(e="agentos-workbench-db"){const a=new IndexedDbAdapter({dbName:e,autoSave:!0,sqlJsConfig:{locateFile:d=>d.endsWith(".wasm")?"/sql-wasm.wasm":d}});await a.open();const c=AGENTOS_SCHEMA_SQL.split(";").filter(d=>d.trim());for(const d of c)d.trim()&&await a.run(d);return console.info("[AgentOSStorage] Schema initialized with IndexedDB adapter."),a}const DEFAULT_USER_ID="agentos-workbench-user",DEFAULT_DB_NAME="agentos-workbench-db",MAX_EVENTS_PER_SESSION=200;let adapterPromise=null;async function getAdapter(){return adapterPromise||(adapterPromise=createAgentOSStorageAdapter(DEFAULT_DB_NAME)),adapterPromise}function parseJson(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return}}function serialise(e){try{return JSON.stringify(e??{})}catch{return"{}"}}async function bootstrapStorage(){const e=await getAdapter(),a=await e.all(`SELECT id, display_name, target_type, target_id, metadata, created_at, updated_at
     FROM sessions
     WHERE user_id = ?
     ORDER BY updated_at DESC`,[DEFAULT_USER_ID]),c=await e.all(`SELECT conversation_id, id as event_id, event_type, event_data, timestamp
     FROM conversation_events
     ORDER BY timestamp DESC
     LIMIT 4000`),d=new Map;for(const j of c){const _e=String(j.conversation_id),et=parseJson(j.event_data)??{message:"Unknown payload"},$={id:j.event_id?String(j.event_id):crypto.randomUUID(),timestamp:typeof j.timestamp=="number"?j.timestamp:Number(j.timestamp??Date.now()),type:j.event_type??"log",payload:et},rt=d.get(_e)??[];rt.length<MAX_EVENTS_PER_SESSION&&(rt.push($),d.set(_e,rt))}const b=a.map(j=>{const _e=parseJson(j.metadata)??{},et=j.target_type??"persona",$=d.get(String(j.id))??[];return $.sort((rt,nt)=>nt.timestamp-rt.timestamp),{id:String(j.id),targetType:et,displayName:j.display_name??"Untitled session",personaId:et==="persona"?_e.personaId??j.target_id:void 0,agencyId:et==="agency"?_e.agencyId??j.target_id:void 0,status:"idle",events:$}}),_=(await e.all(`SELECT id, display_name, description, definition
     FROM personas
     ORDER BY updated_at DESC`)).map(j=>{const _e=parseJson(j.definition);return{id:String(j.id),displayName:j.display_name??String(j.id),description:j.description??(_e==null?void 0:_e.description),tags:_e==null?void 0:_e.tags,traits:_e==null?void 0:_e.traits,capabilities:_e==null?void 0:_e.capabilities,metadata:_e==null?void 0:_e.metadata,source:"local"}});return{sessions:b,personas:_}}async function persistSessionRow(e){const a=await getAdapter(),c=e.targetType==="agency"?e.agencyId??"agency":e.personaId??"persona",d=Date.now();await a.run(`INSERT INTO sessions (id, user_id, display_name, target_type, target_id, created_at, updated_at, metadata)
     VALUES (?, ?, ?, ?, ?, ?, ?, json(?))
     ON CONFLICT(id) DO UPDATE SET
       display_name = excluded.display_name,
       target_type = excluded.target_type,
       target_id = excluded.target_id,
       updated_at = excluded.updated_at,
       metadata = excluded.metadata`,[e.id,DEFAULT_USER_ID,e.displayName,e.targetType,c,d,d,serialise({status:e.status,personaId:e.personaId,agencyId:e.agencyId})])}async function persistSessionEventRow(e,a){var b;const c=await getAdapter(),d=a.timestamp??Date.now();if(await c.run(`INSERT INTO conversations (id, user_id, persona_id, created_at, updated_at, metadata)
     VALUES (?, ?, ?, ?, ?, json(?))
     ON CONFLICT(id) DO UPDATE SET
       updated_at = excluded.updated_at,
       metadata = excluded.metadata`,[e.id,DEFAULT_USER_ID,e.personaId??"agency",d,d,serialise({targetType:e.targetType,agencyId:e.agencyId,personaId:e.personaId})]),await c.run(`INSERT INTO conversation_events (conversation_id, event_type, event_data, timestamp)
     VALUES (?, ?, json(?), ?)`,[e.id,a.type??"log",serialise(a.payload),d]),a.type===AgentOSChunkType.FINAL_RESPONSE){const h=(b=a.payload)==null?void 0:b.usage;await c.run(`INSERT INTO telemetry (session_id, event_type, event_data, timestamp)
       VALUES (?, ?, json(?), ?)`,[e.id,"final_response",serialise({usage:h}),d])}}async function persistPersonaRow(e){const a=await getAdapter(),c=Date.now();await a.run(`INSERT INTO personas (id, display_name, description, definition, created_at, updated_at)
     VALUES (?, ?, ?, ?, ?, ?)
     ON CONFLICT(id) DO UPDATE SET
       display_name = excluded.display_name,
       description = excluded.description,
       definition = excluded.definition,
       updated_at = excluded.updated_at`,[e.id,e.displayName,e.description??null,serialise({description:e.description,tags:e.tags,traits:e.traits,capabilities:e.capabilities,metadata:e.metadata}),c,c])}async function deleteSessionRow(e){const a=await getAdapter();await a.run("DELETE FROM conversation_events WHERE conversation_id = ?",[e]),await a.run("DELETE FROM conversations WHERE id = ?",[e]),await a.run("DELETE FROM sessions WHERE id = ?",[e])}async function clearSessionEvents(e){const a=await getAdapter();await a.run("DELETE FROM conversation_events WHERE conversation_id = ?",[e]),await a.run("DELETE FROM telemetry WHERE session_id = ?",[e])}function SessionConcurrencyInfo({sessionStatus:e,className:a=""}){const[c,d]=reactExports.useState(!1),b=e==="streaming";return jsxRuntimeExports.jsxs("div",{className:`rounded-lg border border-slate-200 bg-slate-50 p-3 text-xs dark:border-white/10 dark:bg-slate-900/40 ${a}`,children:[jsxRuntimeExports.jsxs("button",{onClick:()=>d(!c),className:"flex w-full items-center justify-between text-left",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[b?jsxRuntimeExports.jsx(Lock,{className:"h-3.5 w-3.5 text-amber-500"}):jsxRuntimeExports.jsx(LockOpen,{className:"h-3.5 w-3.5 text-emerald-500"}),jsxRuntimeExports.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-200",children:b?"Single Action Mode":"Ready for Requests"})]}),jsxRuntimeExports.jsx(Info$1,{className:`h-3.5 w-3.5 text-slate-400 transition-transform ${c?"rotate-180":""}`})]}),c&&jsxRuntimeExports.jsxs("div",{className:"mt-3 space-y-3 border-t border-slate-200 pt-3 dark:border-white/10",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h4",{className:"mb-1.5 flex items-center gap-1.5 font-semibold text-slate-800 dark:text-slate-100",children:[jsxRuntimeExports.jsx(Lock,{className:"h-3 w-3"}),"Persona Sessions"]}),jsxRuntimeExports.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:["Persona sessions intentionally run ",jsxRuntimeExports.jsx("strong",{children:"one action at a time"}),". This keeps turn order predictable, avoids overlapping tool calls, and maintains a single conversational thread."]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h4",{className:"mb-1.5 flex items-center gap-1.5 font-semibold text-slate-800 dark:text-slate-100",children:[jsxRuntimeExports.jsx(LockOpen,{className:"h-3 w-3"}),"Agency Concurrency (Available Now)"]}),jsxRuntimeExports.jsxs("p",{className:"mb-2 text-slate-600 dark:text-slate-400",children:["Need parallel progress? Launch an ",jsxRuntimeExports.jsx("strong",{children:"Agency session"}),". Each seat gets its own stream and the workflow runtime coordinates concurrency safely. Perfect for research + review + writing teams."]}),jsxRuntimeExports.jsxs("ul",{className:"ml-4 list-disc space-y-1 text-slate-600 dark:text-slate-400",children:[jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Parallel seats:"})," Assign unique personas to each role and let them work simultaneously."]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Live coordination:"})," Agency updates show seat status, progress, and hand-offs in real time."]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Purpose-built for concurrency:"})," The workflow engine handles ordering, retries, and streaming."]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h4",{className:"mb-1.5 flex items-center gap-1.5 font-semibold text-slate-800 dark:text-slate-100",children:[jsxRuntimeExports.jsx(Zap,{className:"h-3 w-3"}),"Benefits"]}),jsxRuntimeExports.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsx(MessageSquare,{className:"mt-0.5 h-3 w-3 flex-shrink-0 text-sky-500"}),jsxRuntimeExports.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Persona conversations stay coherentno overlapping answers or tool calls."})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsx(Users,{className:"mt-0.5 h-3 w-3 flex-shrink-0 text-purple-500"}),jsxRuntimeExports.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Agency sessions deliver real concurrency with independent seat streams."})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"rounded border border-slate-200 bg-white p-2 dark:border-white/10 dark:bg-slate-950/60",children:[jsxRuntimeExports.jsx("p",{className:"text-[10px] uppercase tracking-[0.35em] text-slate-500 dark:text-slate-400",children:"Technical Details"}),jsxRuntimeExports.jsxs("p",{className:"mt-1 text-slate-600 dark:text-slate-400",children:["Persona sessions serialize turns via ",jsxRuntimeExports.jsx("code",{className:"rounded bg-slate-100 px-1 dark:bg-slate-800",children:"StreamingManager"}),". Agency sessions route through ",jsxRuntimeExports.jsx("code",{className:"rounded bg-slate-100 px-1 dark:bg-slate-800",children:"WorkflowRuntime"}),", which spins up multiple seats, each with its own ",jsxRuntimeExports.jsx("code",{className:"rounded bg-slate-100 px-1 dark:bg-slate-800",children:"conversationId"})," and shared ",jsxRuntimeExports.jsx("code",{className:"rounded bg-slate-100 px-1 dark:bg-slate-800",children:"agencyId"}),"."]})]})]})]})}const chunkAccent={[AgentOSChunkType.TEXT_DELTA]:"border-slate-300 bg-slate-100 text-slate-800 dark:border-white/10 dark:bg-slate-900 dark:text-slate-100",[AgentOSChunkType.FINAL_RESPONSE]:"border-emerald-400/40 bg-emerald-400/10 text-emerald-100 dark:text-emerald-100",[AgentOSChunkType.TOOL_CALL_REQUEST]:"border-amber-400/40 bg-amber-400/10 text-amber-100 dark:text-amber-100",[AgentOSChunkType.TOOL_RESULT_EMISSION]:"border-purple-400/40 bg-purple-400/10 text-purple-100 dark:text-purple-100",[AgentOSChunkType.ERROR]:"border-rose-500/40 bg-rose-500/10 text-rose-100 dark:text-rose-100",[AgentOSChunkType.AGENCY_UPDATE]:"border-sky-400/60 bg-sky-50 text-sky-900 dark:border-sky-400/40 dark:bg-sky-400/10 dark:text-sky-100",[AgentOSChunkType.WORKFLOW_UPDATE]:"border-indigo-400/60 bg-indigo-50 text-indigo-900 dark:border-indigo-400/40 dark:bg-indigo-400/10 dark:text-indigo-100"},seatStatusAccent={running:"bg-emerald-500/20 text-emerald-100",complete:"bg-emerald-600/20 text-emerald-100",awaiting_input:"bg-amber-500/20 text-amber-100",pending:"bg-slate-500/20 text-slate-200",errored:"bg-rose-500/20 text-rose-100"};function formatStatus$1(e){return e.replace(/_/g," ").replace(/\b\w/g,a=>a.toUpperCase())}function renderWorkflowUpdate(e){const a=e.workflow.tasks?Object.entries(e.workflow.tasks):[],c=e.workflow.metadata&&typeof e.workflow.metadata=="object"?e.workflow.metadata.goal:void 0,d=typeof c=="string"?c:void 0;return jsxRuntimeExports.jsxs("div",{className:"space-y-3 text-sm leading-relaxed",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-[0.35em] text-slate-500 dark:text-slate-400",children:"Workflow"}),jsxRuntimeExports.jsx("p",{className:"text-slate-900 dark:text-slate-100",children:e.workflow.definitionId})]}),jsxRuntimeExports.jsx("span",{className:"text-xs text-slate-600 dark:text-slate-300",children:formatStatus$1(e.workflow.status)})]}),jsxRuntimeExports.jsxs("dl",{className:"grid gap-2 text-xs text-slate-600 dark:text-slate-300 sm:grid-cols-2",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("dt",{className:"uppercase tracking-[0.35em] text-slate-500 dark:text-slate-400",children:"Workflow Id"}),jsxRuntimeExports.jsx("dd",{className:"truncate text-slate-900 dark:text-slate-100",children:e.workflow.workflowId})]}),d&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("dt",{className:"uppercase tracking-[0.35em] text-slate-500 dark:text-slate-400",children:"Goal"}),jsxRuntimeExports.jsx("dd",{className:"truncate text-slate-900 dark:text-slate-100",children:d})]})]}),a.length>0&&jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("p",{className:"text-[10px] uppercase tracking-[0.35em] text-slate-500 dark:text-slate-400",children:"Tasks"}),jsxRuntimeExports.jsx("ul",{className:"space-y-2",children:a.map(([b,h])=>jsxRuntimeExports.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-slate-200 bg-white px-3 py-2 text-xs text-slate-700 dark:border-white/10 dark:bg-slate-950/60 dark:text-slate-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(GitBranch,{className:"h-3 w-3 text-slate-500 dark:text-slate-400"}),jsxRuntimeExports.jsx("span",{children:b})]}),jsxRuntimeExports.jsx("span",{className:"text-slate-500 dark:text-slate-300",children:formatStatus$1(h.status)})]},b))})]})]})}function renderAgencyUpdate(e){const a=e.agency.seats??[],c=e.agency.metadata&&typeof e.agency.metadata.goal=="string"?e.agency.metadata.goal:null;return jsxRuntimeExports.jsxs("div",{className:"space-y-3 text-sm leading-relaxed",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 font-semibold text-sky-900 dark:text-slate-100",children:[jsxRuntimeExports.jsx(Users,{className:"h-4 w-4 text-sky-600 dark:text-sky-200"}),"Agency ",e.agency.agencyId]}),c&&jsxRuntimeExports.jsx("p",{className:"text-slate-700 dark:text-slate-200",children:c}),jsxRuntimeExports.jsxs("dl",{className:"grid gap-2 text-xs text-slate-600 dark:text-slate-200 sm:grid-cols-2",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("dt",{className:"uppercase tracking-[0.35em] text-slate-500 dark:text-slate-400",children:"Workflow"}),jsxRuntimeExports.jsx("dd",{className:"truncate text-slate-900 dark:text-slate-100",children:e.agency.workflowId})]}),e.agency.conversationId&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("dt",{className:"uppercase tracking-[0.35em] text-slate-500 dark:text-slate-400",children:"Conversation"}),jsxRuntimeExports.jsx("dd",{className:"truncate text-slate-900 dark:text-slate-100",children:e.agency.conversationId})]})]}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:a.length===0?jsxRuntimeExports.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-300",children:"No registered seats yet."}):a.map(d=>jsxRuntimeExports.jsxs("div",{className:"rounded-lg border border-sky-200 bg-sky-50/50 p-3 dark:border-white/10 dark:bg-slate-950/40",children:[jsxRuntimeExports.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.35em] text-sky-700 dark:text-slate-300",children:d.roleId}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-900 dark:text-slate-100",children:d.personaId}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:["GMI: ",d.gmiInstanceId]})]},d.roleId))})]})}function renderEventBody(e,a){if(e==="log")return jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3 text-sm text-slate-200",children:[jsxRuntimeExports.jsx(Users,{className:"mt-0.5 h-4 w-4"}),jsxRuntimeExports.jsx("p",{children:a.message})]});if(e===AgentOSChunkType.AGENCY_UPDATE)return renderAgencyUpdate(a);if(e===AgentOSChunkType.WORKFLOW_UPDATE)return renderWorkflowUpdate(a);if(e===AgentOSChunkType.TOOL_RESULT_EMISSION){const c=a;return jsxRuntimeExports.jsxs("div",{className:"space-y-3 text-sm text-slate-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-[0.35em] text-slate-400",children:"Tool result"}),jsxRuntimeExports.jsx("p",{className:"text-slate-100",children:c.toolName})]}),jsxRuntimeExports.jsx("span",{className:clsx("text-xs",c.isSuccess?"text-emerald-300":"text-rose-300"),children:c.isSuccess?"Success":"Failed"})]}),c.errorMessage&&jsxRuntimeExports.jsx("p",{className:"text-xs text-rose-300",children:c.errorMessage}),jsxRuntimeExports.jsx(ArtifactViewer,{result:c.toolResult})]})}if(e===AgentOSChunkType.SYSTEM_PROGRESS){const c=a;return jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-200",children:c.message}),c.progressPercentage!=null&&jsxRuntimeExports.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-slate-700",children:jsxRuntimeExports.jsx("div",{className:"h-full bg-gradient-to-r from-sky-500 to-sky-400 transition-all duration-300 ease-out",style:{width:`${Math.min(100,Math.max(0,c.progressPercentage))}%`}})})]})}if(e===AgentOSChunkType.ERROR){const c=a,d=c.message||"";let b=null;return/persona .* not found/i.test(d)?b="Persona not found. Pick a listed persona or switch session to a valid persona.":/access denied|requires tier/i.test(d)&&(b="Access denied. In development, enable AGENTOS_DEV_ALLOW_ALL=true and restart, or choose a free persona."),jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"mt-0.5 h-4 w-4"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold",children:c.message}),c.code&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-slate-300",children:["Code: ",c.code]}),b&&jsxRuntimeExports.jsx("p",{className:"text-xs text-amber-300",children:b})]})]})}return e===AgentOSChunkType.FINAL_RESPONSE||e===AgentOSChunkType.TEXT_DELTA?null:jsxRuntimeExports.jsx("pre",{className:"max-h-64 overflow-x-auto whitespace-pre-wrap break-words text-sm leading-relaxed",children:JSON.stringify(a,null,2)})}function StreamingText({text:e,isActive:a}){const[c,d]=reactExports.useState(e),[b,h]=reactExports.useState(a),_=reactExports.useRef(e),j=reactExports.useRef(null);return reactExports.useEffect(()=>()=>{j.current&&(cancelAnimationFrame(j.current),j.current=null)},[]),reactExports.useEffect(()=>{h(a)},[a]),reactExports.useEffect(()=>{j.current&&(cancelAnimationFrame(j.current),j.current=null);const _e=_.current,et=e;if(!a||et.length<=_e.length||!et.startsWith(_e)){_.current=et,d(et);return}const $=et.slice(_e.length);let rt=0;const nt=()=>{const st=Math.max(1,Math.ceil($.length/18));rt=Math.min($.length,rt+st);const at=_e+$.slice(0,rt);_.current=at,d(at),rt<$.length?j.current=requestAnimationFrame(nt):j.current=null};j.current=requestAnimationFrame(nt)},[e,a]),!c&&a?jsxRuntimeExports.jsxs("div",{className:"flex items-center text-sm text-slate-600 dark:text-slate-300",children:[jsxRuntimeExports.jsx("span",{className:"mr-2",children:"Thinking"}),jsxRuntimeExports.jsx("span",{className:"inline-block h-4 w-1 animate-pulse bg-sky-500"})]}):jsxRuntimeExports.jsxs("div",{className:"prose prose-sm max-w-none dark:prose-invert prose-headings:text-slate-900 dark:prose-headings:text-slate-100 prose-p:text-slate-800 dark:prose-p:text-slate-200 prose-li:text-slate-800 dark:prose-li:text-slate-200 prose-strong:text-slate-900 dark:prose-strong:text-slate-100 prose-code:text-slate-800 dark:prose-code:text-slate-200 prose-pre:bg-slate-100 prose-pre:text-slate-800 dark:prose-pre:bg-slate-950 dark:prose-pre:text-slate-100",children:[jsxRuntimeExports.jsx(Markdown,{children:c}),b&&jsxRuntimeExports.jsx("span",{className:"ml-0.5 inline-block h-4 w-1 animate-pulse bg-sky-500","aria-hidden":"true"})]})}function StreamProgress({updatedAt:e,lastPercent:a}){const[c,d]=reactExports.useState(typeof a=="number"?a:10),[b,h]=reactExports.useState(!1);reactExports.useEffect(()=>{typeof a=="number"&&d(j=>Math.max(j,Math.min(99,a)))},[a]),reactExports.useEffect(()=>{if(b)return;const j=setInterval(()=>{d(_e=>{const et=typeof a=="number"?Math.max(90,a):90,$=_e+Math.max(.5,(et-_e)*.08);return Math.min(et,$)})},150);return()=>clearInterval(j)},[a,b]),reactExports.useEffect(()=>{const j=setTimeout(()=>{},500);return()=>clearTimeout(j)},[e]),reactExports.useEffect(()=>{typeof a=="number"&&a>=100&&(h(!0),d(100))},[a]);const _=Math.round(Math.min(100,c));return jsxRuntimeExports.jsxs("div",{className:"mb-2",children:[jsxRuntimeExports.jsx("div",{className:"h-1.5 w-full overflow-hidden rounded bg-slate-700/30 dark:bg-slate-700/50",children:jsxRuntimeExports.jsx("div",{className:"h-1.5 rounded bg-sky-500 transition-[width] duration-200 ease-out",style:{width:`${_}%`}})}),jsxRuntimeExports.jsx("div",{className:"mt-1 text-[11px] text-slate-600 dark:text-slate-400",children:_<100?`Processing (${_}%)`:"Finalizing"})]})}function buildAggregatedRows(e){const a=[...e],c=[],d={};for(const b of a){const h=typeof b.type=="string"?b.type.toLowerCase():b.type,_=b.payload,j=_&&typeof _.type=="string"?_.type.toLowerCase():String(h);if(j.includes("final")&&j.includes("marker")){const _e=_==null?void 0:_.streamId;if(_e){const et=d[_e]||{kind:"assistant",streamId:_e,personaId:_.personaId,createdAt:b.timestamp,updatedAt:b.timestamp,text:"",isFinal:!0,logLines:[],progressItems:[]};et.updatedAt=b.timestamp,et.isFinal=!0,d[_e]=et}continue}if(h===AgentOSChunkType.TEXT_DELTA){const _e=b.payload,et=d[_e.streamId]||{kind:"assistant",streamId:_e.streamId,personaId:_e.personaId,createdAt:b.timestamp,updatedAt:b.timestamp,text:"",isFinal:!1,logLines:[],progressItems:[]};et.text+=_e.textDelta||"",et.updatedAt=b.timestamp,d[_e.streamId]=et;continue}if(h===AgentOSChunkType.FINAL_RESPONSE){const _e=b.payload,et=d[_e.streamId]||{kind:"assistant",streamId:_e.streamId,personaId:_e.personaId,createdAt:b.timestamp,updatedAt:b.timestamp,text:"",isFinal:!1,logLines:[],progressItems:[]},$=_e,rt=typeof $.content=="string"&&$.content.trim().length>0?$.content:typeof _e.finalResponseText=="string"?_e.finalResponseText:"",nt=rt.trim().toLowerCase()==="turn processing sequence complete.";et.text.trim().length===0&&rt.trim().length>0&&!nt&&(et.text=rt),et.updatedAt=b.timestamp,et.isFinal=!0,d[_e.streamId]=et;continue}if(h===AgentOSChunkType.TOOL_CALL_REQUEST||h===AgentOSChunkType.TOOL_RESULT_EMISSION||h===AgentOSChunkType.ERROR){const _e=b.payload,et=_e.streamId;if(et&&d[et]){const $=d[et],rt=new Date(b.timestamp).toLocaleTimeString();if(h===AgentOSChunkType.TOOL_CALL_REQUEST){const nt=_e;$.logLines.push(`[${rt}] tool_call: ${nt.toolCalls.map(st=>st.name).join(", ")}`)}else if(h===AgentOSChunkType.TOOL_RESULT_EMISSION){const nt=_e;$.logLines.push(`[${rt}] tool_result: ${nt.toolName} ${nt.isSuccess?"":""}`)}else if(h===AgentOSChunkType.ERROR){const nt=_e;$.logLines.push(`[${rt}] error: ${nt.message||"Unknown error"}`)}continue}}if(h===AgentOSChunkType.SYSTEM_PROGRESS){const _e=b.payload,et=_e.streamId;if(et){const $=d[et]||{kind:"assistant",streamId:et,personaId:_e.personaId,createdAt:b.timestamp,updatedAt:b.timestamp,text:"",isFinal:!1,logLines:[],progressItems:[]};$.updatedAt=b.timestamp,$.progressItems.push({stamp:new Date(b.timestamp).toLocaleTimeString(),payload:_e}),d[et]=$;continue}}h!==AgentOSChunkType.SYSTEM_PROGRESS&&c.push({kind:"event",id:b.id,timestamp:b.timestamp,type:h,payload:b.payload})}for(const b of Object.values(d))c.push(b);return c.sort((b,h)=>{const _=b.kind==="assistant"?b.updatedAt:b.timestamp;return(h.kind==="assistant"?h.updatedAt:h.timestamp)-_}),c}function SessionInspector(){var tt;const e=useSessionStore(it=>it.activeSessionId),a=useSessionStore(it=>it.sessions.find(ht=>ht.id===it.activeSessionId)),c=useSessionStore(it=>it.personas),d=useSessionStore(it=>it.agencies),b=useSessionStore(it=>it.agencySessions),h=useSessionStore(it=>it.removeSession),_=useSessionStore(it=>it.upsertSession),[j,_e]=reactExports.useState(!1),[et,$]=reactExports.useState(""),[rt,nt]=reactExports.useState(!1),[st,at]=reactExports.useState(!1),[ut,wt]=reactExports.useState(!1),pt=(a==null?void 0:a.targetType)==="agency",xt=pt&&(a!=null&&a.agencyId)?b[a.agencyId]??null:null,St=pt&&(a!=null&&a.agencyId)?d.find(it=>it.id===a.agencyId)??null:null,Nt=pt?((tt=xt==null?void 0:xt.seats)==null?void 0:tt.map(it=>{var ht,dt;return{roleId:it.roleId,personaId:it.personaId,gmiInstanceId:it.gmiInstanceId,status:typeof((ht=it.metadata)==null?void 0:ht.status)=="string"?it.metadata.status:void 0,notes:typeof((dt=it.metadata)==null?void 0:dt.notes)=="string"?it.metadata.notes:void 0}}))??(St==null?void 0:St.participants.map(it=>({roleId:it.roleId,personaId:it.personaId??"unassigned",gmiInstanceId:"pending",status:"pending",notes:it.notes})))??[]:[],At=pt&&a?a.events.find(it=>it.type===AgentOSChunkType.AGENCY_UPDATE):null,Ct=pt&&(xt!=null&&xt.metadata)&&typeof xt.metadata.goal=="string"?xt.metadata.goal:St==null?void 0:St.goal,Vt=(xt==null?void 0:xt.workflowId)??(St==null?void 0:St.workflowId),Bt=clsx("relative flex h-full flex-col overflow-hidden rounded-3xl border border-slate-200 dark:border-white/10",pt?"bg-gradient-to-b from-white via-slate-50 to-white text-slate-900 dark:from-slate-950 dark:via-slate-900 dark:text-slate-100":"bg-white text-slate-900 dark:bg-slate-900/50 dark:text-slate-100"),Ut=reactExports.useRef(null),Ft=reactExports.useCallback(it=>{const ht=useSessionStore.getState().sessions.find(dt=>dt.id===it);ht&&persistSessionRow(ht)},[]);reactExports.useEffect(()=>{const it=Ut.current;it&&requestAnimationFrame(()=>{it.scrollTo({top:it.scrollHeight,behavior:"smooth"})})},[a==null?void 0:a.id,a==null?void 0:a.events.length]);const Mt=()=>{if(!a)return;const it={id:a.id,targetType:a.targetType,displayName:a.displayName,personaId:a.personaId,agencyId:a.agencyId,events:[...a.events].reverse()},ht=new Blob([JSON.stringify(it,null,2)],{type:"application/json"}),dt=URL.createObjectURL(ht),lt=document.createElement("a");lt.href=dt,lt.download=`agentos-session-${a.id}.json`,document.body.appendChild(lt),lt.click(),lt.remove(),URL.revokeObjectURL(dt)},mt=()=>{if(!a)return;const it=[...a.events].reverse().filter(gt=>gt.type===AgentOSChunkType.AGENCY_UPDATE).map(gt=>({timestamp:gt.timestamp,...gt.payload})),ht=new Blob([JSON.stringify({sessionId:a.id,agencyUpdates:it},null,2)],{type:"application/json"}),dt=URL.createObjectURL(ht),lt=document.createElement("a");lt.href=dt,lt.download=`agentos-agency-updates-${a.id}.json`,document.body.appendChild(lt),lt.click(),lt.remove(),URL.revokeObjectURL(dt)},ft=()=>{if(!a)return;const it=[...a.events].reverse().filter(gt=>gt.type===AgentOSChunkType.WORKFLOW_UPDATE).map(gt=>({timestamp:gt.timestamp,...gt.payload})),ht=new Blob([JSON.stringify({sessionId:a.id,workflowUpdates:it},null,2)],{type:"application/json"}),dt=URL.createObjectURL(ht),lt=document.createElement("a");lt.href=dt,lt.download=`agentos-workflow-updates-${a.id}.json`,document.body.appendChild(lt),lt.click(),lt.remove(),URL.revokeObjectURL(dt)};return!e||!a?jsxRuntimeExports.jsxs("div",{className:"flex h-full flex-col overflow-hidden rounded-3xl border border-slate-200 bg-white dark:border-white/10 dark:bg-slate-900/50",children:[jsxRuntimeExports.jsxs("header",{className:"flex items-center justify-between border-b border-slate-200 px-6 py-4 dark:border-white/5",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-[0.25em] text-slate-500 dark:text-slate-400",children:"Session timeline"}),jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Output"})]}),jsxRuntimeExports.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400"})]}),jsxRuntimeExports.jsx("div",{className:"min-h-0 flex-1 overflow-y-auto px-6 py-6",children:jsxRuntimeExports.jsx("div",{className:"space-y-4",children:jsxRuntimeExports.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 text-sm text-slate-600 dark:border-white/10 dark:bg-slate-900/40 dark:text-slate-400",children:"Waiting for the first event. Use the left panel to compose a request."})})})]}):jsxRuntimeExports.jsxs("div",{className:Bt,children:[rt&&a&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",role:"dialog","aria-modal":"true",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-md rounded-2xl border border-slate-200 bg-white p-4 shadow-xl dark:border-white/10 dark:bg-slate-900",children:[jsxRuntimeExports.jsx("h3",{className:"mb-2 text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Rename session"}),jsxRuntimeExports.jsx("input",{autoFocus:!0,defaultValue:a.displayName,onChange:it=>$(it.target.value),className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm dark:border-white/10 dark:bg-slate-950"}),jsxRuntimeExports.jsxs("div",{className:"mt-3 flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>nt(!1),className:"rounded-full border border-slate-200 px-3 py-1 text-xs text-slate-600 hover:bg-slate-50 dark:border-white/10 dark:text-slate-300",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:()=>{const it=(et||a.displayName||"Untitled").trim();_({id:a.id,displayName:it}),Ft(a.id),nt(!1)},className:"rounded-full bg-sky-500 px-3 py-1 text-xs font-semibold text-white hover:bg-sky-600",children:"Save"})]})]})}),st&&a&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",role:"dialog","aria-modal":"true",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-md rounded-2xl border border-rose-200 bg-white p-4 shadow-xl dark:border-rose-900/40 dark:bg-slate-900",children:[jsxRuntimeExports.jsx("h3",{className:"mb-2 text-sm font-semibold text-rose-700 dark:text-rose-300",children:"Delete session?"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300",children:"This action cannot be undone."}),jsxRuntimeExports.jsxs("div",{className:"mt-3 flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>at(!1),className:"rounded-full border border-slate-200 px-3 py-1 text-xs text-slate-600 hover:bg-slate-50 dark:border-white/10 dark:text-slate-300",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:()=>{h(a.id),deleteSessionRow(a.id),at(!1)},className:"rounded-full bg-rose-600 px-3 py-1 text-xs font-semibold text-white hover:bg-rose-700",children:"Delete"})]})]})}),ut&&a&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",role:"dialog","aria-modal":"true",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-md rounded-2xl border border-slate-200 bg-white p-4 shadow-xl dark:border-white/10 dark:bg-slate-900",children:[jsxRuntimeExports.jsx("h3",{className:"mb-2 text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Clear history?"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300",children:"This will remove all events from this session."}),jsxRuntimeExports.jsxs("div",{className:"mt-3 flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>wt(!1),className:"rounded-full border border-slate-200 px-3 py-1 text-xs text-slate-600 hover:bg-slate-50 dark:border-white/10 dark:text-slate-300",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:()=>{_({id:a.id,events:[],status:"idle"}),clearSessionEvents(a.id),Ft(a.id),wt(!1)},className:"rounded-full bg-sky-500 px-3 py-1 text-xs font-semibold text-white hover:bg-sky-600",children:"Clear"})]})]})}),jsxRuntimeExports.jsxs("header",{className:"flex items-center justify-between border-b border-slate-200 px-6 py-4 dark:border-white/5",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-[0.25em] text-slate-500 dark:text-slate-400",children:"Session timeline"}),j?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{value:et,onChange:it=>$(it.target.value),className:"rounded border border-slate-200 bg-white px-2 py-1 text-sm dark:border-white/10 dark:bg-slate-900"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{const it=(et||"Untitled").trim();_({id:a.id,displayName:it}),Ft(a.id),_e(!1)},className:"rounded-full border border-slate-200 px-2 py-0.5 text-xs text-slate-600 hover:bg-slate-50 dark:border-white/10 dark:text-slate-300",children:"Save"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>_e(!1),className:"rounded-full border border-slate-200 px-2 py-0.5 text-xs text-slate-600 hover:bg-slate-50 dark:border-white/10 dark:text-slate-300",children:"Cancel"})]}):jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:a.displayName})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-3 text-xs text-slate-500 dark:text-slate-400",children:jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:jsxRuntimeExports.jsx("div",{className:"relative",children:jsxRuntimeExports.jsxs("select",{"aria-label":"Export",title:"Export options",className:"rounded-full border border-slate-200 bg-white px-3 py-1 text-[10px] uppercase tracking-[0.35em] text-slate-600 dark:border-white/10 dark:bg-slate-900 dark:text-slate-300",onChange:it=>{const ht=it.target.value;it.currentTarget.selectedIndex=0,ht==="session"&&Mt(),ht==="agency"&&mt(),ht==="workflow"&&ft(),ht==="all"&&a&&exportAllData(a,"json",`agentos-session-${a.id}`),ht==="rename"&&nt(!0),ht==="delete"&&at(!0),ht==="clear"&&wt(!0)},children:[jsxRuntimeExports.jsx("option",{value:"",children:"Export"}),jsxRuntimeExports.jsx("option",{value:"session",children:"Session"}),jsxRuntimeExports.jsx("option",{value:"agency",children:"Agency updates"}),jsxRuntimeExports.jsx("option",{value:"workflow",children:"Workflow trace"}),jsxRuntimeExports.jsx("option",{value:"all",children:"All data"}),jsxRuntimeExports.jsx("option",{value:"rename",children:"Rename session"}),jsxRuntimeExports.jsx("option",{value:"delete",children:"Delete session"}),jsxRuntimeExports.jsx("option",{value:"clear",children:"Clear history"})]})})})})]}),jsxRuntimeExports.jsx("div",{ref:Ut,className:"min-h-0 flex-1 overflow-y-auto px-6 py-6",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(SessionConcurrencyInfo,{sessionStatus:a.status}),pt&&jsxRuntimeExports.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-4 text-slate-900 shadow-lg dark:border-sky-500/40 dark:bg-slate-950/80 dark:text-slate-100",children:[jsxRuntimeExports.jsxs("header",{className:"mb-3 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-[10px] uppercase tracking-[0.4em] text-slate-500 dark:text-slate-400",children:"Agency overview"}),jsxRuntimeExports.jsx("h3",{className:"text-base font-semibold text-slate-900 dark:text-slate-100",children:(St==null?void 0:St.name)??a.displayName})]}),jsxRuntimeExports.jsxs("div",{className:"inline-flex items-center gap-2 text-xs text-slate-500 dark:text-slate-300",children:[jsxRuntimeExports.jsx(Sparkles,{className:"h-4 w-4 text-sky-500 dark:text-sky-400"}),xt?"Live telemetry":"Awaiting updates"]})]}),jsxRuntimeExports.jsxs("dl",{className:"grid gap-3 text-xs text-slate-600 dark:text-slate-300 md:grid-cols-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("dt",{className:"uppercase tracking-[0.35em] text-slate-500 dark:text-slate-400",children:"Agency"}),jsxRuntimeExports.jsx("dd",{className:"mt-1 font-semibold text-slate-900 dark:text-slate-100",children:a.agencyId??""})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("dt",{className:"uppercase tracking-[0.35em] text-slate-500 dark:text-slate-400",children:"Workflow"}),jsxRuntimeExports.jsx("dd",{className:"mt-1 font-semibold text-slate-900 dark:text-slate-100",children:Vt??"Not attached"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("dt",{className:"uppercase tracking-[0.35em] text-slate-500 dark:text-slate-400",children:"Last update"}),jsxRuntimeExports.jsx("dd",{className:"mt-1 font-semibold text-slate-900 dark:text-slate-100",children:At?new Date(At.timestamp).toLocaleTimeString():""})]})]}),Ct&&jsxRuntimeExports.jsx("p",{className:"mt-3 text-sm text-slate-700 dark:text-slate-200",children:Ct}),jsxRuntimeExports.jsx("div",{className:"mt-4 grid gap-3 lg:grid-cols-2",children:Nt.length===0?jsxRuntimeExports.jsx("p",{className:"rounded-xl border border-dashed border-slate-300 bg-slate-50 p-4 text-sm text-slate-600 dark:border-slate-600 dark:bg-slate-900/40 dark:text-slate-300",children:"Configure participants for this agency to see seat telemetry."}):Nt.map(it=>{var gt;const ht=((gt=c.find(ot=>ot.id===it.personaId))==null?void 0:gt.displayName)??it.personaId??"Unassigned",dt=(it.status??"pending").toLowerCase(),lt=seatStatusAccent[dt]??seatStatusAccent.pending;return jsxRuntimeExports.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-3 dark:border-white/10 dark:bg-white/5",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.4em] text-slate-500 dark:text-slate-300",children:it.roleId}),jsxRuntimeExports.jsx("span",{className:clsx("rounded-full px-2 py-0.5 text-[10px] uppercase",lt),children:dt.replace(/_/g," ")})]}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm font-semibold text-slate-900 dark:text-white",children:ht}),jsxRuntimeExports.jsx("p",{className:"text-[11px] text-slate-500 dark:text-slate-400",children:it.notes??(it.gmiInstanceId!=="pending"?it.gmiInstanceId:"Awaiting assignment")})]},`${it.roleId}-${it.gmiInstanceId}-${ht}`)})})]}),jsxRuntimeExports.jsxs("details",{className:clsx("rounded-xl border p-3 text-xs",pt?"border-white/10 bg-slate-900/60 text-slate-200":"border-slate-200 bg-white text-slate-600 dark:border-white/10 dark:bg-slate-900/60 dark:text-slate-300"),children:[jsxRuntimeExports.jsx("summary",{className:"cursor-pointer select-none",children:"Stream debug"}),jsxRuntimeExports.jsx("div",{className:"mt-2 grid grid-cols-1 gap-1",children:[...a.events].slice(0,10).map(it=>jsxRuntimeExports.jsxs("div",{className:"rounded border border-white/10 bg-slate-950/30 p-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"font-mono text-[11px] uppercase",children:String(it.type)}),jsxRuntimeExports.jsx("time",{className:"text-[11px]",children:new Date(it.timestamp).toLocaleTimeString()})]}),jsxRuntimeExports.jsx("pre",{className:"mt-1 max-h-40 overflow-auto whitespace-pre-wrap break-words text-[11px]",children:JSON.stringify(it.payload,null,2)})]},it.id))})]}),a.events.length===0?jsxRuntimeExports.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 text-sm text-slate-600 dark:border-white/10 dark:bg-slate-900/40 dark:text-slate-400",children:"Waiting for the first event. Use the composer to send a message or replay a transcript to populate the timeline."}):buildAggregatedRows(a.events).map(it=>{var lt;if(it.kind==="assistant"){const gt=!it.isFinal;return jsxRuntimeExports.jsxs("div",{className:clsx("rounded-2xl border px-5 py-4","border-slate-300 bg-slate-100 text-slate-800 dark:border-white/10 dark:bg-slate-900 dark:text-slate-100"),children:[jsxRuntimeExports.jsxs("header",{className:"mb-3 flex items-center justify-between text-xs text-slate-500 dark:text-slate-400",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold uppercase tracking-[0.35em]",children:`Agent: ${((lt=c.find(ot=>ot.id===it.personaId))==null?void 0:lt.displayName)||it.personaId||"Agent"}`}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[it.isFinal&&jsxRuntimeExports.jsx("span",{className:"inline-flex h-4 w-4 items-center justify-center rounded-full bg-emerald-500 text-[10px] font-bold text-white",children:""}),jsxRuntimeExports.jsx("time",{children:new Date(it.updatedAt).toLocaleTimeString()})]})]}),!it.isFinal&&jsxRuntimeExports.jsx(StreamProgress,{updatedAt:it.updatedAt,lastPercent:it.progressItems.length>0?it.progressItems[it.progressItems.length-1].payload.progressPercentage??void 0:void 0}),jsxRuntimeExports.jsx(StreamingText,{text:it.text,isActive:gt}),(it.logLines.length>0||it.progressItems.length>0)&&jsxRuntimeExports.jsxs("details",{className:"mt-3 rounded-lg border border-white/10 bg-slate-950/40 p-2 text-xs",children:[jsxRuntimeExports.jsxs("summary",{className:"cursor-pointer select-none text-xs text-slate-400 hover:text-slate-300",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Logs"}),jsxRuntimeExports.jsxs("span",{className:"ml-2 text-[10px]",children:["(",it.logLines.length+it.progressItems.length," entries)"]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-2 space-y-1",children:[it.progressItems.map((ot,vt)=>jsxRuntimeExports.jsxs("div",{className:"font-mono text-[11px] text-blue-400",children:["[",ot.stamp,"] ",ot.payload.message,ot.payload.progressPercentage!=null&&` (${ot.payload.progressPercentage}%)`]},`prog-${vt}`)),it.logLines.map((ot,vt)=>jsxRuntimeExports.jsx("div",{className:"font-mono text-[11px] text-slate-400",children:ot},vt))]})]})]},`assistant-${it.streamId}`)}if(it.type===AgentOSChunkType.TEXT_DELTA||it.type===AgentOSChunkType.FINAL_RESPONSE||it.type===AgentOSChunkType.SYSTEM_PROGRESS)return null;const ht=chunkAccent[it.type]??"border-slate-200 bg-slate-50 text-slate-700 dark:border-white/5 dark:bg-white/5 dark:text-slate-200",dt=it.type==="log"?"User":String(it.type).replace(/_/g," ");return jsxRuntimeExports.jsx(reactExports.Fragment,{children:jsxRuntimeExports.jsxs("div",{className:clsx("rounded-2xl border px-5 py-4",ht),children:[jsxRuntimeExports.jsxs("header",{className:"mb-3 flex items-center justify-between text-xs text-slate-500 dark:text-slate-400",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold uppercase tracking-[0.35em]",children:dt}),jsxRuntimeExports.jsx("time",{children:new Date(it.timestamp).toLocaleTimeString()})]}),renderEventBody(it.type,it.payload)]})},it.id)})]})})]})}var isCheckBoxInput=e=>e.type==="checkbox",isDateObject=e=>e instanceof Date,isNullOrUndefined=e=>e==null;const isObjectType=e=>typeof e=="object";var isObject=e=>!isNullOrUndefined(e)&&!Array.isArray(e)&&isObjectType(e)&&!isDateObject(e),getEventValue=e=>isObject(e)&&e.target?isCheckBoxInput(e.target)?e.target.checked:e.target.value:e,getNodeParentName=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,isNameInFieldArray=(e,a)=>e.has(getNodeParentName(a)),isPlainObject=e=>{const a=e.constructor&&e.constructor.prototype;return isObject(a)&&a.hasOwnProperty("isPrototypeOf")},isWeb=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function cloneObject(e){let a;const c=Array.isArray(e),d=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)a=new Date(e);else if(!(isWeb&&(e instanceof Blob||d))&&(c||isObject(e)))if(a=c?[]:Object.create(Object.getPrototypeOf(e)),!c&&!isPlainObject(e))a=e;else for(const b in e)e.hasOwnProperty(b)&&(a[b]=cloneObject(e[b]));else return e;return a}var isKey=e=>/^\w*$/.test(e),isUndefined=e=>e===void 0,compact=e=>Array.isArray(e)?e.filter(Boolean):[],stringToPath=e=>compact(e.replace(/["|']|\]/g,"").split(/\.|\[/)),get$1=(e,a,c)=>{if(!a||!isObject(e))return c;const d=(isKey(a)?[a]:stringToPath(a)).reduce((b,h)=>isNullOrUndefined(b)?b:b[h],e);return isUndefined(d)||d===e?isUndefined(e[a])?c:e[a]:d},isBoolean=e=>typeof e=="boolean",set=(e,a,c)=>{let d=-1;const b=isKey(a)?[a]:stringToPath(a),h=b.length,_=h-1;for(;++d<h;){const j=b[d];let _e=c;if(d!==_){const et=e[j];_e=isObject(et)||Array.isArray(et)?et:isNaN(+b[d+1])?{}:[]}if(j==="__proto__"||j==="constructor"||j==="prototype")return;e[j]=_e,e=e[j]}};const EVENTS={BLUR:"blur",FOCUS_OUT:"focusout"},VALIDATION_MODE={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},INPUT_VALIDATION_RULES={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},HookFormContext=React.createContext(null);HookFormContext.displayName="HookFormContext";var getProxyFormState=(e,a,c,d=!0)=>{const b={defaultValues:a._defaultValues};for(const h in e)Object.defineProperty(b,h,{get:()=>{const _=h;return a._proxyFormState[_]!==VALIDATION_MODE.all&&(a._proxyFormState[_]=!d||VALIDATION_MODE.all),e[_]}});return b};const useIsomorphicLayoutEffect=typeof window<"u"?React.useLayoutEffect:React.useEffect;var isString$1=e=>typeof e=="string",generateWatchOutput=(e,a,c,d,b)=>isString$1(e)?(d&&a.watch.add(e),get$1(c,e,b)):Array.isArray(e)?e.map(h=>(d&&a.watch.add(h),get$1(c,h))):(d&&(a.watchAll=!0),c),isPrimitive=e=>isNullOrUndefined(e)||!isObjectType(e);function deepEqual(e,a,c=new WeakSet){if(isPrimitive(e)||isPrimitive(a))return e===a;if(isDateObject(e)&&isDateObject(a))return e.getTime()===a.getTime();const d=Object.keys(e),b=Object.keys(a);if(d.length!==b.length)return!1;if(c.has(e)||c.has(a))return!0;c.add(e),c.add(a);for(const h of d){const _=e[h];if(!b.includes(h))return!1;if(h!=="ref"){const j=a[h];if(isDateObject(_)&&isDateObject(j)||isObject(_)&&isObject(j)||Array.isArray(_)&&Array.isArray(j)?!deepEqual(_,j,c):_!==j)return!1}}return!0}var appendErrors=(e,a,c,d,b)=>a?{...c[e],types:{...c[e]&&c[e].types?c[e].types:{},[d]:b||!0}}:{},convertToArrayPayload=e=>Array.isArray(e)?e:[e],createSubject=()=>{let e=[];return{get observers(){return e},next:b=>{for(const h of e)h.next&&h.next(b)},subscribe:b=>(e.push(b),{unsubscribe:()=>{e=e.filter(h=>h!==b)}}),unsubscribe:()=>{e=[]}}};function extractFormValues(e,a){const c={};for(const d in e)if(e.hasOwnProperty(d)){const b=e[d],h=a[d];if(b&&isObject(b)&&h){const _=extractFormValues(b,h);isObject(_)&&(c[d]=_)}else e[d]&&(c[d]=h)}return c}var isEmptyObject=e=>isObject(e)&&!Object.keys(e).length,isFileInput=e=>e.type==="file",isFunction=e=>typeof e=="function",isHTMLElement=e=>{if(!isWeb)return!1;const a=e?e.ownerDocument:0;return e instanceof(a&&a.defaultView?a.defaultView.HTMLElement:HTMLElement)},isMultipleSelect=e=>e.type==="select-multiple",isRadioInput=e=>e.type==="radio",isRadioOrCheckbox=e=>isRadioInput(e)||isCheckBoxInput(e),live=e=>isHTMLElement(e)&&e.isConnected;function baseGet(e,a){const c=a.slice(0,-1).length;let d=0;for(;d<c;)e=isUndefined(e)?d++:e[a[d++]];return e}function isEmptyArray(e){for(const a in e)if(e.hasOwnProperty(a)&&!isUndefined(e[a]))return!1;return!0}function unset(e,a){const c=Array.isArray(a)?a:isKey(a)?[a]:stringToPath(a),d=c.length===1?e:baseGet(e,c),b=c.length-1,h=c[b];return d&&delete d[h],b!==0&&(isObject(d)&&isEmptyObject(d)||Array.isArray(d)&&isEmptyArray(d))&&unset(e,c.slice(0,-1)),e}var objectHasFunction=e=>{for(const a in e)if(isFunction(e[a]))return!0;return!1};function isTraversable(e){return Array.isArray(e)||isObject(e)&&!objectHasFunction(e)}function markFieldsDirty(e,a={}){for(const c in e)isTraversable(e[c])?(a[c]=Array.isArray(e[c])?[]:{},markFieldsDirty(e[c],a[c])):isUndefined(e[c])||(a[c]=!0);return a}function getDirtyFields(e,a,c){c||(c=markFieldsDirty(a));for(const d in e)isTraversable(e[d])?isUndefined(a)||isPrimitive(c[d])?c[d]=markFieldsDirty(e[d],Array.isArray(e[d])?[]:{}):getDirtyFields(e[d],isNullOrUndefined(a)?{}:a[d],c[d]):c[d]=!deepEqual(e[d],a[d]);return c}const defaultResult={value:!1,isValid:!1},validResult={value:!0,isValid:!0};var getCheckboxValue=e=>{if(Array.isArray(e)){if(e.length>1){const a=e.filter(c=>c&&c.checked&&!c.disabled).map(c=>c.value);return{value:a,isValid:!!a.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!isUndefined(e[0].attributes.value)?isUndefined(e[0].value)||e[0].value===""?validResult:{value:e[0].value,isValid:!0}:validResult:defaultResult}return defaultResult},getFieldValueAs=(e,{valueAsNumber:a,valueAsDate:c,setValueAs:d})=>isUndefined(e)?e:a?e===""?NaN:e&&+e:c&&isString$1(e)?new Date(e):d?d(e):e;const defaultReturn={isValid:!1,value:null};var getRadioValue=e=>Array.isArray(e)?e.reduce((a,c)=>c&&c.checked&&!c.disabled?{isValid:!0,value:c.value}:a,defaultReturn):defaultReturn;function getFieldValue(e){const a=e.ref;return isFileInput(a)?a.files:isRadioInput(a)?getRadioValue(e.refs).value:isMultipleSelect(a)?[...a.selectedOptions].map(({value:c})=>c):isCheckBoxInput(a)?getCheckboxValue(e.refs).value:getFieldValueAs(isUndefined(a.value)?e.ref.value:a.value,e)}var getResolverOptions=(e,a,c,d)=>{const b={};for(const h of e){const _=get$1(a,h);_&&set(b,h,_._f)}return{criteriaMode:c,names:[...e],fields:b,shouldUseNativeValidation:d}},isRegex=e=>e instanceof RegExp,getRuleValue=e=>isUndefined(e)?e:isRegex(e)?e.source:isObject(e)?isRegex(e.value)?e.value.source:e.value:e,getValidationModes=e=>({isOnSubmit:!e||e===VALIDATION_MODE.onSubmit,isOnBlur:e===VALIDATION_MODE.onBlur,isOnChange:e===VALIDATION_MODE.onChange,isOnAll:e===VALIDATION_MODE.all,isOnTouch:e===VALIDATION_MODE.onTouched});const ASYNC_FUNCTION="AsyncFunction";var hasPromiseValidation=e=>!!e&&!!e.validate&&!!(isFunction(e.validate)&&e.validate.constructor.name===ASYNC_FUNCTION||isObject(e.validate)&&Object.values(e.validate).find(a=>a.constructor.name===ASYNC_FUNCTION)),hasValidation=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),isWatched=(e,a,c)=>!c&&(a.watchAll||a.watch.has(e)||[...a.watch].some(d=>e.startsWith(d)&&/^\.\w+/.test(e.slice(d.length))));const iterateFieldsByAction=(e,a,c,d)=>{for(const b of c||Object.keys(e)){const h=get$1(e,b);if(h){const{_f:_,...j}=h;if(_){if(_.refs&&_.refs[0]&&a(_.refs[0],b)&&!d)return!0;if(_.ref&&a(_.ref,_.name)&&!d)return!0;if(iterateFieldsByAction(j,a))break}else if(isObject(j)&&iterateFieldsByAction(j,a))break}}};function schemaErrorLookup(e,a,c){const d=get$1(e,c);if(d||isKey(c))return{error:d,name:c};const b=c.split(".");for(;b.length;){const h=b.join("."),_=get$1(a,h),j=get$1(e,h);if(_&&!Array.isArray(_)&&c!==h)return{name:c};if(j&&j.type)return{name:h,error:j};if(j&&j.root&&j.root.type)return{name:`${h}.root`,error:j.root};b.pop()}return{name:c}}var shouldRenderFormState=(e,a,c,d)=>{c(e);const{name:b,...h}=e;return isEmptyObject(h)||Object.keys(h).length>=Object.keys(a).length||Object.keys(h).find(_=>a[_]===(!d||VALIDATION_MODE.all))},shouldSubscribeByName=(e,a,c)=>!e||!a||e===a||convertToArrayPayload(e).some(d=>d&&(c?d===a:d.startsWith(a)||a.startsWith(d))),skipValidation=(e,a,c,d,b)=>b.isOnAll?!1:!c&&b.isOnTouch?!(a||e):(c?d.isOnBlur:b.isOnBlur)?!e:(c?d.isOnChange:b.isOnChange)?e:!0,unsetEmptyArray=(e,a)=>!compact(get$1(e,a)).length&&unset(e,a),updateFieldArrayRootError=(e,a,c)=>{const d=convertToArrayPayload(get$1(e,c));return set(d,"root",a[c]),set(e,c,d),e};function getValidateError(e,a,c="validate"){if(isString$1(e)||Array.isArray(e)&&e.every(isString$1)||isBoolean(e)&&!e)return{type:c,message:isString$1(e)?e:"",ref:a}}var getValueAndMessage=e=>isObject(e)&&!isRegex(e)?e:{value:e,message:""},validateField=async(e,a,c,d,b,h)=>{const{ref:_,refs:j,required:_e,maxLength:et,minLength:$,min:rt,max:nt,pattern:st,validate:at,name:ut,valueAsNumber:wt,mount:pt}=e._f,xt=get$1(c,ut);if(!pt||a.has(ut))return{};const St=j?j[0]:_,Nt=mt=>{b&&St.reportValidity&&(St.setCustomValidity(isBoolean(mt)?"":mt||""),St.reportValidity())},At={},Ct=isRadioInput(_),Vt=isCheckBoxInput(_),Bt=Ct||Vt,Ut=(wt||isFileInput(_))&&isUndefined(_.value)&&isUndefined(xt)||isHTMLElement(_)&&_.value===""||xt===""||Array.isArray(xt)&&!xt.length,Ft=appendErrors.bind(null,ut,d,At),Mt=(mt,ft,tt,it=INPUT_VALIDATION_RULES.maxLength,ht=INPUT_VALIDATION_RULES.minLength)=>{const dt=mt?ft:tt;At[ut]={type:mt?it:ht,message:dt,ref:_,...Ft(mt?it:ht,dt)}};if(h?!Array.isArray(xt)||!xt.length:_e&&(!Bt&&(Ut||isNullOrUndefined(xt))||isBoolean(xt)&&!xt||Vt&&!getCheckboxValue(j).isValid||Ct&&!getRadioValue(j).isValid)){const{value:mt,message:ft}=isString$1(_e)?{value:!!_e,message:_e}:getValueAndMessage(_e);if(mt&&(At[ut]={type:INPUT_VALIDATION_RULES.required,message:ft,ref:St,...Ft(INPUT_VALIDATION_RULES.required,ft)},!d))return Nt(ft),At}if(!Ut&&(!isNullOrUndefined(rt)||!isNullOrUndefined(nt))){let mt,ft;const tt=getValueAndMessage(nt),it=getValueAndMessage(rt);if(!isNullOrUndefined(xt)&&!isNaN(xt)){const ht=_.valueAsNumber||xt&&+xt;isNullOrUndefined(tt.value)||(mt=ht>tt.value),isNullOrUndefined(it.value)||(ft=ht<it.value)}else{const ht=_.valueAsDate||new Date(xt),dt=ot=>new Date(new Date().toDateString()+" "+ot),lt=_.type=="time",gt=_.type=="week";isString$1(tt.value)&&xt&&(mt=lt?dt(xt)>dt(tt.value):gt?xt>tt.value:ht>new Date(tt.value)),isString$1(it.value)&&xt&&(ft=lt?dt(xt)<dt(it.value):gt?xt<it.value:ht<new Date(it.value))}if((mt||ft)&&(Mt(!!mt,tt.message,it.message,INPUT_VALIDATION_RULES.max,INPUT_VALIDATION_RULES.min),!d))return Nt(At[ut].message),At}if((et||$)&&!Ut&&(isString$1(xt)||h&&Array.isArray(xt))){const mt=getValueAndMessage(et),ft=getValueAndMessage($),tt=!isNullOrUndefined(mt.value)&&xt.length>+mt.value,it=!isNullOrUndefined(ft.value)&&xt.length<+ft.value;if((tt||it)&&(Mt(tt,mt.message,ft.message),!d))return Nt(At[ut].message),At}if(st&&!Ut&&isString$1(xt)){const{value:mt,message:ft}=getValueAndMessage(st);if(isRegex(mt)&&!xt.match(mt)&&(At[ut]={type:INPUT_VALIDATION_RULES.pattern,message:ft,ref:_,...Ft(INPUT_VALIDATION_RULES.pattern,ft)},!d))return Nt(ft),At}if(at){if(isFunction(at)){const mt=await at(xt,c),ft=getValidateError(mt,St);if(ft&&(At[ut]={...ft,...Ft(INPUT_VALIDATION_RULES.validate,ft.message)},!d))return Nt(ft.message),At}else if(isObject(at)){let mt={};for(const ft in at){if(!isEmptyObject(mt)&&!d)break;const tt=getValidateError(await at[ft](xt,c),St,ft);tt&&(mt={...tt,...Ft(ft,tt.message)},Nt(tt.message),d&&(At[ut]=mt))}if(!isEmptyObject(mt)&&(At[ut]={ref:St,...mt},!d))return At}}return Nt(!0),At};const defaultOptions={mode:VALIDATION_MODE.onSubmit,reValidateMode:VALIDATION_MODE.onChange,shouldFocusError:!0};function createFormControl(e={}){let a={...defaultOptions,...e},c={submitCount:0,isDirty:!1,isReady:!1,isLoading:isFunction(a.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:a.errors||{},disabled:a.disabled||!1},d={},b=isObject(a.defaultValues)||isObject(a.values)?cloneObject(a.defaultValues||a.values)||{}:{},h=a.shouldUnregister?{}:cloneObject(b),_={action:!1,mount:!1,watch:!1},j={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},_e,et=0;const $={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let rt={...$};const nt={array:createSubject(),state:createSubject()},st=a.criteriaMode===VALIDATION_MODE.all,at=Zt=>Gt=>{clearTimeout(et),et=setTimeout(Zt,Gt)},ut=async Zt=>{if(!a.disabled&&($.isValid||rt.isValid||Zt)){const Gt=a.resolver?isEmptyObject((await Vt()).errors):await Ut(d,!0);Gt!==c.isValid&&nt.state.next({isValid:Gt})}},wt=(Zt,Gt)=>{!a.disabled&&($.isValidating||$.validatingFields||rt.isValidating||rt.validatingFields)&&((Zt||Array.from(j.mount)).forEach(nr=>{nr&&(Gt?set(c.validatingFields,nr,Gt):unset(c.validatingFields,nr))}),nt.state.next({validatingFields:c.validatingFields,isValidating:!isEmptyObject(c.validatingFields)}))},pt=(Zt,Gt=[],nr,ur,ir=!0,lr=!0)=>{if(ur&&nr&&!a.disabled){if(_.action=!0,lr&&Array.isArray(get$1(d,Zt))){const Qt=nr(get$1(d,Zt),ur.argA,ur.argB);ir&&set(d,Zt,Qt)}if(lr&&Array.isArray(get$1(c.errors,Zt))){const Qt=nr(get$1(c.errors,Zt),ur.argA,ur.argB);ir&&set(c.errors,Zt,Qt),unsetEmptyArray(c.errors,Zt)}if(($.touchedFields||rt.touchedFields)&&lr&&Array.isArray(get$1(c.touchedFields,Zt))){const Qt=nr(get$1(c.touchedFields,Zt),ur.argA,ur.argB);ir&&set(c.touchedFields,Zt,Qt)}($.dirtyFields||rt.dirtyFields)&&(c.dirtyFields=getDirtyFields(b,h)),nt.state.next({name:Zt,isDirty:Mt(Zt,Gt),dirtyFields:c.dirtyFields,errors:c.errors,isValid:c.isValid})}else set(h,Zt,Gt)},xt=(Zt,Gt)=>{set(c.errors,Zt,Gt),nt.state.next({errors:c.errors})},St=Zt=>{c.errors=Zt,nt.state.next({errors:c.errors,isValid:!1})},Nt=(Zt,Gt,nr,ur)=>{const ir=get$1(d,Zt);if(ir){const lr=get$1(h,Zt,isUndefined(nr)?get$1(b,Zt):nr);isUndefined(lr)||ur&&ur.defaultChecked||Gt?set(h,Zt,Gt?lr:getFieldValue(ir._f)):tt(Zt,lr),_.mount&&ut()}},At=(Zt,Gt,nr,ur,ir)=>{let lr=!1,Qt=!1;const tr={name:Zt};if(!a.disabled){if(!nr||ur){($.isDirty||rt.isDirty)&&(Qt=c.isDirty,c.isDirty=tr.isDirty=Mt(),lr=Qt!==tr.isDirty);const gr=deepEqual(get$1(b,Zt),Gt);Qt=!!get$1(c.dirtyFields,Zt),gr?unset(c.dirtyFields,Zt):set(c.dirtyFields,Zt,!0),tr.dirtyFields=c.dirtyFields,lr=lr||($.dirtyFields||rt.dirtyFields)&&Qt!==!gr}if(nr){const gr=get$1(c.touchedFields,Zt);gr||(set(c.touchedFields,Zt,nr),tr.touchedFields=c.touchedFields,lr=lr||($.touchedFields||rt.touchedFields)&&gr!==nr)}lr&&ir&&nt.state.next(tr)}return lr?tr:{}},Ct=(Zt,Gt,nr,ur)=>{const ir=get$1(c.errors,Zt),lr=($.isValid||rt.isValid)&&isBoolean(Gt)&&c.isValid!==Gt;if(a.delayError&&nr?(_e=at(()=>xt(Zt,nr)),_e(a.delayError)):(clearTimeout(et),_e=null,nr?set(c.errors,Zt,nr):unset(c.errors,Zt)),(nr?!deepEqual(ir,nr):ir)||!isEmptyObject(ur)||lr){const Qt={...ur,...lr&&isBoolean(Gt)?{isValid:Gt}:{},errors:c.errors,name:Zt};c={...c,...Qt},nt.state.next(Qt)}},Vt=async Zt=>{wt(Zt,!0);const Gt=await a.resolver(h,a.context,getResolverOptions(Zt||j.mount,d,a.criteriaMode,a.shouldUseNativeValidation));return wt(Zt),Gt},Bt=async Zt=>{const{errors:Gt}=await Vt(Zt);if(Zt)for(const nr of Zt){const ur=get$1(Gt,nr);ur?set(c.errors,nr,ur):unset(c.errors,nr)}else c.errors=Gt;return Gt},Ut=async(Zt,Gt,nr={valid:!0})=>{for(const ur in Zt){const ir=Zt[ur];if(ir){const{_f:lr,...Qt}=ir;if(lr){const tr=j.array.has(lr.name),gr=ir._f&&hasPromiseValidation(ir._f);gr&&$.validatingFields&&wt([lr.name],!0);const wr=await validateField(ir,j.disabled,h,st,a.shouldUseNativeValidation&&!Gt,tr);if(gr&&$.validatingFields&&wt([lr.name]),wr[lr.name]&&(nr.valid=!1,Gt))break;!Gt&&(get$1(wr,lr.name)?tr?updateFieldArrayRootError(c.errors,wr,lr.name):set(c.errors,lr.name,wr[lr.name]):unset(c.errors,lr.name))}!isEmptyObject(Qt)&&await Ut(Qt,Gt,nr)}}return nr.valid},Ft=()=>{for(const Zt of j.unMount){const Gt=get$1(d,Zt);Gt&&(Gt._f.refs?Gt._f.refs.every(nr=>!live(nr)):!live(Gt._f.ref))&&_t(Zt)}j.unMount=new Set},Mt=(Zt,Gt)=>!a.disabled&&(Zt&&Gt&&set(h,Zt,Gt),!deepEqual(ot(),b)),mt=(Zt,Gt,nr)=>generateWatchOutput(Zt,j,{..._.mount?h:isUndefined(Gt)?b:isString$1(Zt)?{[Zt]:Gt}:Gt},nr,Gt),ft=Zt=>compact(get$1(_.mount?h:b,Zt,a.shouldUnregister?get$1(b,Zt,[]):[])),tt=(Zt,Gt,nr={})=>{const ur=get$1(d,Zt);let ir=Gt;if(ur){const lr=ur._f;lr&&(!lr.disabled&&set(h,Zt,getFieldValueAs(Gt,lr)),ir=isHTMLElement(lr.ref)&&isNullOrUndefined(Gt)?"":Gt,isMultipleSelect(lr.ref)?[...lr.ref.options].forEach(Qt=>Qt.selected=ir.includes(Qt.value)):lr.refs?isCheckBoxInput(lr.ref)?lr.refs.forEach(Qt=>{(!Qt.defaultChecked||!Qt.disabled)&&(Array.isArray(ir)?Qt.checked=!!ir.find(tr=>tr===Qt.value):Qt.checked=ir===Qt.value||!!ir)}):lr.refs.forEach(Qt=>Qt.checked=Qt.value===ir):isFileInput(lr.ref)?lr.ref.value="":(lr.ref.value=ir,lr.ref.type||nt.state.next({name:Zt,values:cloneObject(h)})))}(nr.shouldDirty||nr.shouldTouch)&&At(Zt,ir,nr.shouldTouch,nr.shouldDirty,!0),nr.shouldValidate&&gt(Zt)},it=(Zt,Gt,nr)=>{for(const ur in Gt){if(!Gt.hasOwnProperty(ur))return;const ir=Gt[ur],lr=Zt+"."+ur,Qt=get$1(d,lr);(j.array.has(Zt)||isObject(ir)||Qt&&!Qt._f)&&!isDateObject(ir)?it(lr,ir,nr):tt(lr,ir,nr)}},ht=(Zt,Gt,nr={})=>{const ur=get$1(d,Zt),ir=j.array.has(Zt),lr=cloneObject(Gt);set(h,Zt,lr),ir?(nt.array.next({name:Zt,values:cloneObject(h)}),($.isDirty||$.dirtyFields||rt.isDirty||rt.dirtyFields)&&nr.shouldDirty&&nt.state.next({name:Zt,dirtyFields:getDirtyFields(b,h),isDirty:Mt(Zt,lr)})):ur&&!ur._f&&!isNullOrUndefined(lr)?it(Zt,lr,nr):tt(Zt,lr,nr),isWatched(Zt,j)&&nt.state.next({...c,name:Zt}),nt.state.next({name:_.mount?Zt:void 0,values:cloneObject(h)})},dt=async Zt=>{_.mount=!0;const Gt=Zt.target;let nr=Gt.name,ur=!0;const ir=get$1(d,nr),lr=gr=>{ur=Number.isNaN(gr)||isDateObject(gr)&&isNaN(gr.getTime())||deepEqual(gr,get$1(h,nr,gr))},Qt=getValidationModes(a.mode),tr=getValidationModes(a.reValidateMode);if(ir){let gr,wr;const Tt=Gt.type?getFieldValue(ir._f):getEventValue(Zt),Et=Zt.type===EVENTS.BLUR||Zt.type===EVENTS.FOCUS_OUT,Rt=!hasValidation(ir._f)&&!a.resolver&&!get$1(c.errors,nr)&&!ir._f.deps||skipValidation(Et,get$1(c.touchedFields,nr),c.isSubmitted,tr,Qt),Ot=isWatched(nr,j,Et);set(h,nr,Tt),Et?(!Gt||!Gt.readOnly)&&(ir._f.onBlur&&ir._f.onBlur(Zt),_e&&_e(0)):ir._f.onChange&&ir._f.onChange(Zt);const Wt=At(nr,Tt,Et),Jt=!isEmptyObject(Wt)||Ot;if(!Et&&nt.state.next({name:nr,type:Zt.type,values:cloneObject(h)}),Rt)return($.isValid||rt.isValid)&&(a.mode==="onBlur"?Et&&ut():Et||ut()),Jt&&nt.state.next({name:nr,...Ot?{}:Wt});if(!Et&&Ot&&nt.state.next({...c}),a.resolver){const{errors:er}=await Vt([nr]);if(lr(Tt),ur){const Er=schemaErrorLookup(c.errors,d,nr),xr=schemaErrorLookup(er,d,Er.name||nr);gr=xr.error,nr=xr.name,wr=isEmptyObject(er)}}else wt([nr],!0),gr=(await validateField(ir,j.disabled,h,st,a.shouldUseNativeValidation))[nr],wt([nr]),lr(Tt),ur&&(gr?wr=!1:($.isValid||rt.isValid)&&(wr=await Ut(d,!0)));ur&&(ir._f.deps&&(!Array.isArray(ir._f.deps)||ir._f.deps.length>0)&&gt(ir._f.deps),Ct(nr,wr,gr,Wt))}},lt=(Zt,Gt)=>{if(get$1(c.errors,Gt)&&Zt.focus)return Zt.focus(),1},gt=async(Zt,Gt={})=>{let nr,ur;const ir=convertToArrayPayload(Zt);if(a.resolver){const lr=await Bt(isUndefined(Zt)?Zt:ir);nr=isEmptyObject(lr),ur=Zt?!ir.some(Qt=>get$1(lr,Qt)):nr}else Zt?(ur=(await Promise.all(ir.map(async lr=>{const Qt=get$1(d,lr);return await Ut(Qt&&Qt._f?{[lr]:Qt}:Qt)}))).every(Boolean),!(!ur&&!c.isValid)&&ut()):ur=nr=await Ut(d);return nt.state.next({...!isString$1(Zt)||($.isValid||rt.isValid)&&nr!==c.isValid?{}:{name:Zt},...a.resolver||!Zt?{isValid:nr}:{},errors:c.errors}),Gt.shouldFocus&&!ur&&iterateFieldsByAction(d,lt,Zt?ir:j.mount),ur},ot=(Zt,Gt)=>{let nr={..._.mount?h:b};return Gt&&(nr=extractFormValues(Gt.dirtyFields?c.dirtyFields:c.touchedFields,nr)),isUndefined(Zt)?nr:isString$1(Zt)?get$1(nr,Zt):Zt.map(ur=>get$1(nr,ur))},vt=(Zt,Gt)=>({invalid:!!get$1((Gt||c).errors,Zt),isDirty:!!get$1((Gt||c).dirtyFields,Zt),error:get$1((Gt||c).errors,Zt),isValidating:!!get$1(c.validatingFields,Zt),isTouched:!!get$1((Gt||c).touchedFields,Zt)}),ct=Zt=>{Zt&&convertToArrayPayload(Zt).forEach(Gt=>unset(c.errors,Gt)),nt.state.next({errors:Zt?c.errors:{}})},yt=(Zt,Gt,nr)=>{const ur=(get$1(d,Zt,{_f:{}})._f||{}).ref,ir=get$1(c.errors,Zt)||{},{ref:lr,message:Qt,type:tr,...gr}=ir;set(c.errors,Zt,{...gr,...Gt,ref:ur}),nt.state.next({name:Zt,errors:c.errors,isValid:!1}),nr&&nr.shouldFocus&&ur&&ur.focus&&ur.focus()},Dt=(Zt,Gt)=>isFunction(Zt)?nt.state.subscribe({next:nr=>"values"in nr&&Zt(mt(void 0,Gt),nr)}):mt(Zt,Gt,!0),Ht=Zt=>nt.state.subscribe({next:Gt=>{shouldSubscribeByName(Zt.name,Gt.name,Zt.exact)&&shouldRenderFormState(Gt,Zt.formState||$,yr,Zt.reRenderRoot)&&Zt.callback({values:{...h},...c,...Gt,defaultValues:b})}}).unsubscribe,qt=Zt=>(_.mount=!0,rt={...rt,...Zt.formState},Ht({...Zt,formState:rt})),_t=(Zt,Gt={})=>{for(const nr of Zt?convertToArrayPayload(Zt):j.mount)j.mount.delete(nr),j.array.delete(nr),Gt.keepValue||(unset(d,nr),unset(h,nr)),!Gt.keepError&&unset(c.errors,nr),!Gt.keepDirty&&unset(c.dirtyFields,nr),!Gt.keepTouched&&unset(c.touchedFields,nr),!Gt.keepIsValidating&&unset(c.validatingFields,nr),!a.shouldUnregister&&!Gt.keepDefaultValue&&unset(b,nr);nt.state.next({values:cloneObject(h)}),nt.state.next({...c,...Gt.keepDirty?{isDirty:Mt()}:{}}),!Gt.keepIsValid&&ut()},kt=({disabled:Zt,name:Gt})=>{(isBoolean(Zt)&&_.mount||Zt||j.disabled.has(Gt))&&(Zt?j.disabled.add(Gt):j.disabled.delete(Gt))},Lt=(Zt,Gt={})=>{let nr=get$1(d,Zt);const ur=isBoolean(Gt.disabled)||isBoolean(a.disabled);return set(d,Zt,{...nr||{},_f:{...nr&&nr._f?nr._f:{ref:{name:Zt}},name:Zt,mount:!0,...Gt}}),j.mount.add(Zt),nr?kt({disabled:isBoolean(Gt.disabled)?Gt.disabled:a.disabled,name:Zt}):Nt(Zt,!0,Gt.value),{...ur?{disabled:Gt.disabled||a.disabled}:{},...a.progressive?{required:!!Gt.required,min:getRuleValue(Gt.min),max:getRuleValue(Gt.max),minLength:getRuleValue(Gt.minLength),maxLength:getRuleValue(Gt.maxLength),pattern:getRuleValue(Gt.pattern)}:{},name:Zt,onChange:dt,onBlur:dt,ref:ir=>{if(ir){Lt(Zt,Gt),nr=get$1(d,Zt);const lr=isUndefined(ir.value)&&ir.querySelectorAll&&ir.querySelectorAll("input,select,textarea")[0]||ir,Qt=isRadioOrCheckbox(lr),tr=nr._f.refs||[];if(Qt?tr.find(gr=>gr===lr):lr===nr._f.ref)return;set(d,Zt,{_f:{...nr._f,...Qt?{refs:[...tr.filter(live),lr,...Array.isArray(get$1(b,Zt))?[{}]:[]],ref:{type:lr.type,name:Zt}}:{ref:lr}}}),Nt(Zt,!1,void 0,lr)}else nr=get$1(d,Zt,{}),nr._f&&(nr._f.mount=!1),(a.shouldUnregister||Gt.shouldUnregister)&&!(isNameInFieldArray(j.array,Zt)&&_.action)&&j.unMount.add(Zt)}}},Kt=()=>a.shouldFocusError&&iterateFieldsByAction(d,lt,j.mount),$t=Zt=>{isBoolean(Zt)&&(nt.state.next({disabled:Zt}),iterateFieldsByAction(d,(Gt,nr)=>{const ur=get$1(d,nr);ur&&(Gt.disabled=ur._f.disabled||Zt,Array.isArray(ur._f.refs)&&ur._f.refs.forEach(ir=>{ir.disabled=ur._f.disabled||Zt}))},0,!1))},It=(Zt,Gt)=>async nr=>{let ur;nr&&(nr.preventDefault&&nr.preventDefault(),nr.persist&&nr.persist());let ir=cloneObject(h);if(nt.state.next({isSubmitting:!0}),a.resolver){const{errors:lr,values:Qt}=await Vt();c.errors=lr,ir=cloneObject(Qt)}else await Ut(d);if(j.disabled.size)for(const lr of j.disabled)unset(ir,lr);if(unset(c.errors,"root"),isEmptyObject(c.errors)){nt.state.next({errors:{}});try{await Zt(ir,nr)}catch(lr){ur=lr}}else Gt&&await Gt({...c.errors},nr),Kt(),setTimeout(Kt);if(nt.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:isEmptyObject(c.errors)&&!ur,submitCount:c.submitCount+1,errors:c.errors}),ur)throw ur},Xt=(Zt,Gt={})=>{get$1(d,Zt)&&(isUndefined(Gt.defaultValue)?ht(Zt,cloneObject(get$1(b,Zt))):(ht(Zt,Gt.defaultValue),set(b,Zt,cloneObject(Gt.defaultValue))),Gt.keepTouched||unset(c.touchedFields,Zt),Gt.keepDirty||(unset(c.dirtyFields,Zt),c.isDirty=Gt.defaultValue?Mt(Zt,cloneObject(get$1(b,Zt))):Mt()),Gt.keepError||(unset(c.errors,Zt),$.isValid&&ut()),nt.state.next({...c}))},cr=(Zt,Gt={})=>{const nr=Zt?cloneObject(Zt):b,ur=cloneObject(nr),ir=isEmptyObject(Zt),lr=ir?b:ur;if(Gt.keepDefaultValues||(b=nr),!Gt.keepValues){if(Gt.keepDirtyValues){const Qt=new Set([...j.mount,...Object.keys(getDirtyFields(b,h))]);for(const tr of Array.from(Qt))get$1(c.dirtyFields,tr)?set(lr,tr,get$1(h,tr)):ht(tr,get$1(lr,tr))}else{if(isWeb&&isUndefined(Zt))for(const Qt of j.mount){const tr=get$1(d,Qt);if(tr&&tr._f){const gr=Array.isArray(tr._f.refs)?tr._f.refs[0]:tr._f.ref;if(isHTMLElement(gr)){const wr=gr.closest("form");if(wr){wr.reset();break}}}}if(Gt.keepFieldsRef)for(const Qt of j.mount)ht(Qt,get$1(lr,Qt));else d={}}h=a.shouldUnregister?Gt.keepDefaultValues?cloneObject(b):{}:cloneObject(lr),nt.array.next({values:{...lr}}),nt.state.next({values:{...lr}})}j={mount:Gt.keepDirtyValues?j.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},_.mount=!$.isValid||!!Gt.keepIsValid||!!Gt.keepDirtyValues,_.watch=!!a.shouldUnregister,nt.state.next({submitCount:Gt.keepSubmitCount?c.submitCount:0,isDirty:ir?!1:Gt.keepDirty?c.isDirty:!!(Gt.keepDefaultValues&&!deepEqual(Zt,b)),isSubmitted:Gt.keepIsSubmitted?c.isSubmitted:!1,dirtyFields:ir?{}:Gt.keepDirtyValues?Gt.keepDefaultValues&&h?getDirtyFields(b,h):c.dirtyFields:Gt.keepDefaultValues&&Zt?getDirtyFields(b,Zt):Gt.keepDirty?c.dirtyFields:{},touchedFields:Gt.keepTouched?c.touchedFields:{},errors:Gt.keepErrors?c.errors:{},isSubmitSuccessful:Gt.keepIsSubmitSuccessful?c.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:b})},fr=(Zt,Gt)=>cr(isFunction(Zt)?Zt(h):Zt,Gt),hr=(Zt,Gt={})=>{const nr=get$1(d,Zt),ur=nr&&nr._f;if(ur){const ir=ur.refs?ur.refs[0]:ur.ref;ir.focus&&(ir.focus(),Gt.shouldSelect&&isFunction(ir.select)&&ir.select())}},yr=Zt=>{c={...c,...Zt}},sr={control:{register:Lt,unregister:_t,getFieldState:vt,handleSubmit:It,setError:yt,_subscribe:Ht,_runSchema:Vt,_focusError:Kt,_getWatch:mt,_getDirty:Mt,_setValid:ut,_setFieldArray:pt,_setDisabledField:kt,_setErrors:St,_getFieldArray:ft,_reset:cr,_resetDefaultValues:()=>isFunction(a.defaultValues)&&a.defaultValues().then(Zt=>{fr(Zt,a.resetOptions),nt.state.next({isLoading:!1})}),_removeUnmounted:Ft,_disableForm:$t,_subjects:nt,_proxyFormState:$,get _fields(){return d},get _formValues(){return h},get _state(){return _},set _state(Zt){_=Zt},get _defaultValues(){return b},get _names(){return j},set _names(Zt){j=Zt},get _formState(){return c},get _options(){return a},set _options(Zt){a={...a,...Zt}}},subscribe:qt,trigger:gt,register:Lt,handleSubmit:It,watch:Dt,setValue:ht,getValues:ot,reset:fr,resetField:Xt,clearErrors:ct,unregister:_t,setError:yt,setFocus:hr,getFieldState:vt};return{...sr,formControl:sr}}function useForm(e={}){const a=React.useRef(void 0),c=React.useRef(void 0),[d,b]=React.useState({isDirty:!1,isValidating:!1,isLoading:isFunction(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:isFunction(e.defaultValues)?void 0:e.defaultValues});if(!a.current)if(e.formControl)a.current={...e.formControl,formState:d},e.defaultValues&&!isFunction(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:_,...j}=createFormControl(e);a.current={...j,formState:d}}const h=a.current.control;return h._options=e,useIsomorphicLayoutEffect(()=>{const _=h._subscribe({formState:h._proxyFormState,callback:()=>b({...h._formState}),reRenderRoot:!0});return b(j=>({...j,isReady:!0})),h._formState.isReady=!0,_},[h]),React.useEffect(()=>h._disableForm(e.disabled),[h,e.disabled]),React.useEffect(()=>{e.mode&&(h._options.mode=e.mode),e.reValidateMode&&(h._options.reValidateMode=e.reValidateMode)},[h,e.mode,e.reValidateMode]),React.useEffect(()=>{e.errors&&(h._setErrors(e.errors),h._focusError())},[h,e.errors]),React.useEffect(()=>{e.shouldUnregister&&h._subjects.state.next({values:h._getWatch()})},[h,e.shouldUnregister]),React.useEffect(()=>{if(h._proxyFormState.isDirty){const _=h._getDirty();_!==d.isDirty&&h._subjects.state.next({isDirty:_})}},[h,d.isDirty]),React.useEffect(()=>{e.values&&!deepEqual(e.values,c.current)?(h._reset(e.values,{keepFieldsRef:!0,...h._options.resetOptions}),c.current=e.values,b(_=>({..._}))):h._resetDefaultValues()},[h,e.values]),React.useEffect(()=>{h._state.mount||(h._setValid(),h._state.mount=!0),h._state.watch&&(h._state.watch=!1,h._subjects.state.next({...h._formState})),h._removeUnmounted()}),a.current.formState=getProxyFormState(d,h),a.current}const s=(e,a,c)=>{if(e&&"reportValidity"in e){const d=get$1(c,a);e.setCustomValidity(d&&d.message||""),e.reportValidity()}},o=(e,a)=>{for(const c in a.fields){const d=a.fields[c];d&&d.ref&&"reportValidity"in d.ref?s(d.ref,c,e):d.refs&&d.refs.forEach(b=>s(b,c,e))}},r=(e,a)=>{a.shouldUseNativeValidation&&o(e,a);const c={};for(const d in e){const b=get$1(a.fields,d),h=Object.assign(e[d]||{},{ref:b&&b.ref});if(i(a.names||Object.keys(e),d)){const _=Object.assign({},get$1(c,d));set(_,"root",h),set(c,d,_)}else set(c,d,h)}return c},i=(e,a)=>e.some(c=>c.startsWith(a+"."));var n=function(e,a){for(var c={};e.length;){var d=e[0],b=d.code,h=d.message,_=d.path.join(".");if(!c[_])if("unionErrors"in d){var j=d.unionErrors[0].errors[0];c[_]={message:j.message,type:j.code}}else c[_]={message:h,type:b};if("unionErrors"in d&&d.unionErrors.forEach(function($){return $.errors.forEach(function(rt){return e.push(rt)})}),a){var _e=c[_].types,et=_e&&_e[d.code];c[_]=appendErrors(_,a,c,b,et?[].concat(et,d.message):d.message)}e.shift()}return c},t=function(e,a,c){return c===void 0&&(c={}),function(d,b,h){try{return Promise.resolve(function(_,j){try{var _e=Promise.resolve(e[c.mode==="sync"?"parse":"parseAsync"](d,a)).then(function(et){return h.shouldUseNativeValidation&&o({},h),{errors:{},values:c.raw?d:et}})}catch(et){return j(et)}return _e&&_e.then?_e.then(void 0,j):_e}(0,function(_){if(function(j){return Array.isArray(j==null?void 0:j.errors)}(_))return{values:{},errors:r(n(_.errors,!h.shouldUseNativeValidation&&h.criteriaMode==="all"),h)};throw _}))}catch(_){return Promise.reject(_)}}},util;(function(e){e.assertEqual=b=>{};function a(b){}e.assertIs=a;function c(b){throw new Error}e.assertNever=c,e.arrayToEnum=b=>{const h={};for(const _ of b)h[_]=_;return h},e.getValidEnumValues=b=>{const h=e.objectKeys(b).filter(j=>typeof b[b[j]]!="number"),_={};for(const j of h)_[j]=b[j];return e.objectValues(_)},e.objectValues=b=>e.objectKeys(b).map(function(h){return b[h]}),e.objectKeys=typeof Object.keys=="function"?b=>Object.keys(b):b=>{const h=[];for(const _ in b)Object.prototype.hasOwnProperty.call(b,_)&&h.push(_);return h},e.find=(b,h)=>{for(const _ of b)if(h(_))return _},e.isInteger=typeof Number.isInteger=="function"?b=>Number.isInteger(b):b=>typeof b=="number"&&Number.isFinite(b)&&Math.floor(b)===b;function d(b,h=" | "){return b.map(_=>typeof _=="string"?`'${_}'`:_).join(h)}e.joinValues=d,e.jsonStringifyReplacer=(b,h)=>typeof h=="bigint"?h.toString():h})(util||(util={}));var objectUtil;(function(e){e.mergeShapes=(a,c)=>({...a,...c})})(objectUtil||(objectUtil={}));const ZodParsedType=util.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=e=>{switch(typeof e){case"undefined":return ZodParsedType.undefined;case"string":return ZodParsedType.string;case"number":return Number.isNaN(e)?ZodParsedType.nan:ZodParsedType.number;case"boolean":return ZodParsedType.boolean;case"function":return ZodParsedType.function;case"bigint":return ZodParsedType.bigint;case"symbol":return ZodParsedType.symbol;case"object":return Array.isArray(e)?ZodParsedType.array:e===null?ZodParsedType.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ZodParsedType.promise:typeof Map<"u"&&e instanceof Map?ZodParsedType.map:typeof Set<"u"&&e instanceof Set?ZodParsedType.set:typeof Date<"u"&&e instanceof Date?ZodParsedType.date:ZodParsedType.object;default:return ZodParsedType.unknown}},ZodIssueCode=util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ZodError extends Error{get errors(){return this.issues}constructor(a){super(),this.issues=[],this.addIssue=d=>{this.issues=[...this.issues,d]},this.addIssues=(d=[])=>{this.issues=[...this.issues,...d]};const c=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,c):this.__proto__=c,this.name="ZodError",this.issues=a}format(a){const c=a||function(h){return h.message},d={_errors:[]},b=h=>{for(const _ of h.issues)if(_.code==="invalid_union")_.unionErrors.map(b);else if(_.code==="invalid_return_type")b(_.returnTypeError);else if(_.code==="invalid_arguments")b(_.argumentsError);else if(_.path.length===0)d._errors.push(c(_));else{let j=d,_e=0;for(;_e<_.path.length;){const et=_.path[_e];_e===_.path.length-1?(j[et]=j[et]||{_errors:[]},j[et]._errors.push(c(_))):j[et]=j[et]||{_errors:[]},j=j[et],_e++}}};return b(this),d}static assert(a){if(!(a instanceof ZodError))throw new Error(`Not a ZodError: ${a}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,util.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(a=c=>c.message){const c={},d=[];for(const b of this.issues)if(b.path.length>0){const h=b.path[0];c[h]=c[h]||[],c[h].push(a(b))}else d.push(a(b));return{formErrors:d,fieldErrors:c}}get formErrors(){return this.flatten()}}ZodError.create=e=>new ZodError(e);const errorMap=(e,a)=>{let c;switch(e.code){case ZodIssueCode.invalid_type:e.received===ZodParsedType.undefined?c="Required":c=`Expected ${e.expected}, received ${e.received}`;break;case ZodIssueCode.invalid_literal:c=`Invalid literal value, expected ${JSON.stringify(e.expected,util.jsonStringifyReplacer)}`;break;case ZodIssueCode.unrecognized_keys:c=`Unrecognized key(s) in object: ${util.joinValues(e.keys,", ")}`;break;case ZodIssueCode.invalid_union:c="Invalid input";break;case ZodIssueCode.invalid_union_discriminator:c=`Invalid discriminator value. Expected ${util.joinValues(e.options)}`;break;case ZodIssueCode.invalid_enum_value:c=`Invalid enum value. Expected ${util.joinValues(e.options)}, received '${e.received}'`;break;case ZodIssueCode.invalid_arguments:c="Invalid function arguments";break;case ZodIssueCode.invalid_return_type:c="Invalid function return type";break;case ZodIssueCode.invalid_date:c="Invalid date";break;case ZodIssueCode.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(c=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(c=`${c} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?c=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?c=`Invalid input: must end with "${e.validation.endsWith}"`:util.assertNever(e.validation):e.validation!=="regex"?c=`Invalid ${e.validation}`:c="Invalid";break;case ZodIssueCode.too_small:e.type==="array"?c=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?c=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?c=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?c=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?c=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:c="Invalid input";break;case ZodIssueCode.too_big:e.type==="array"?c=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?c=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?c=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?c=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?c=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:c="Invalid input";break;case ZodIssueCode.custom:c="Invalid input";break;case ZodIssueCode.invalid_intersection_types:c="Intersection results could not be merged";break;case ZodIssueCode.not_multiple_of:c=`Number must be a multiple of ${e.multipleOf}`;break;case ZodIssueCode.not_finite:c="Number must be finite";break;default:c=a.defaultError,util.assertNever(e)}return{message:c}};let overrideErrorMap=errorMap;function getErrorMap(){return overrideErrorMap}const makeIssue=e=>{const{data:a,path:c,errorMaps:d,issueData:b}=e,h=[...c,...b.path||[]],_={...b,path:h};if(b.message!==void 0)return{...b,path:h,message:b.message};let j="";const _e=d.filter(et=>!!et).slice().reverse();for(const et of _e)j=et(_,{data:a,defaultError:j}).message;return{...b,path:h,message:j}};function addIssueToContext(e,a){const c=getErrorMap(),d=makeIssue({issueData:a,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,c,c===errorMap?void 0:errorMap].filter(b=>!!b)});e.common.issues.push(d)}class ParseStatus{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(a,c){const d=[];for(const b of c){if(b.status==="aborted")return INVALID;b.status==="dirty"&&a.dirty(),d.push(b.value)}return{status:a.value,value:d}}static async mergeObjectAsync(a,c){const d=[];for(const b of c){const h=await b.key,_=await b.value;d.push({key:h,value:_})}return ParseStatus.mergeObjectSync(a,d)}static mergeObjectSync(a,c){const d={};for(const b of c){const{key:h,value:_}=b;if(h.status==="aborted"||_.status==="aborted")return INVALID;h.status==="dirty"&&a.dirty(),_.status==="dirty"&&a.dirty(),h.value!=="__proto__"&&(typeof _.value<"u"||b.alwaysSet)&&(d[h.value]=_.value)}return{status:a.value,value:d}}}const INVALID=Object.freeze({status:"aborted"}),DIRTY=e=>({status:"dirty",value:e}),OK=e=>({status:"valid",value:e}),isAborted=e=>e.status==="aborted",isDirty=e=>e.status==="dirty",isValid=e=>e.status==="valid",isAsync=e=>typeof Promise<"u"&&e instanceof Promise;var errorUtil;(function(e){e.errToObj=a=>typeof a=="string"?{message:a}:a||{},e.toString=a=>typeof a=="string"?a:a==null?void 0:a.message})(errorUtil||(errorUtil={}));class ParseInputLazyPath{constructor(a,c,d,b){this._cachedPath=[],this.parent=a,this.data=c,this._path=d,this._key=b}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const handleResult=(e,a)=>{if(isValid(a))return{success:!0,data:a.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const c=new ZodError(e.common.issues);return this._error=c,this._error}}};function processCreateParams(e){if(!e)return{};const{errorMap:a,invalid_type_error:c,required_error:d,description:b}=e;if(a&&(c||d))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return a?{errorMap:a,description:b}:{errorMap:(_,j)=>{const{message:_e}=e;return _.code==="invalid_enum_value"?{message:_e??j.defaultError}:typeof j.data>"u"?{message:_e??d??j.defaultError}:_.code!=="invalid_type"?{message:j.defaultError}:{message:_e??c??j.defaultError}},description:b}}class ZodType{get description(){return this._def.description}_getType(a){return getParsedType(a.data)}_getOrReturnCtx(a,c){return c||{common:a.parent.common,data:a.data,parsedType:getParsedType(a.data),schemaErrorMap:this._def.errorMap,path:a.path,parent:a.parent}}_processInputParams(a){return{status:new ParseStatus,ctx:{common:a.parent.common,data:a.data,parsedType:getParsedType(a.data),schemaErrorMap:this._def.errorMap,path:a.path,parent:a.parent}}}_parseSync(a){const c=this._parse(a);if(isAsync(c))throw new Error("Synchronous parse encountered promise.");return c}_parseAsync(a){const c=this._parse(a);return Promise.resolve(c)}parse(a,c){const d=this.safeParse(a,c);if(d.success)return d.data;throw d.error}safeParse(a,c){const d={common:{issues:[],async:(c==null?void 0:c.async)??!1,contextualErrorMap:c==null?void 0:c.errorMap},path:(c==null?void 0:c.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:getParsedType(a)},b=this._parseSync({data:a,path:d.path,parent:d});return handleResult(d,b)}"~validate"(a){var d,b;const c={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:getParsedType(a)};if(!this["~standard"].async)try{const h=this._parseSync({data:a,path:[],parent:c});return isValid(h)?{value:h.value}:{issues:c.common.issues}}catch(h){(b=(d=h==null?void 0:h.message)==null?void 0:d.toLowerCase())!=null&&b.includes("encountered")&&(this["~standard"].async=!0),c.common={issues:[],async:!0}}return this._parseAsync({data:a,path:[],parent:c}).then(h=>isValid(h)?{value:h.value}:{issues:c.common.issues})}async parseAsync(a,c){const d=await this.safeParseAsync(a,c);if(d.success)return d.data;throw d.error}async safeParseAsync(a,c){const d={common:{issues:[],contextualErrorMap:c==null?void 0:c.errorMap,async:!0},path:(c==null?void 0:c.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:getParsedType(a)},b=this._parse({data:a,path:d.path,parent:d}),h=await(isAsync(b)?b:Promise.resolve(b));return handleResult(d,h)}refine(a,c){const d=b=>typeof c=="string"||typeof c>"u"?{message:c}:typeof c=="function"?c(b):c;return this._refinement((b,h)=>{const _=a(b),j=()=>h.addIssue({code:ZodIssueCode.custom,...d(b)});return typeof Promise<"u"&&_ instanceof Promise?_.then(_e=>_e?!0:(j(),!1)):_?!0:(j(),!1)})}refinement(a,c){return this._refinement((d,b)=>a(d)?!0:(b.addIssue(typeof c=="function"?c(d,b):c),!1))}_refinement(a){return new ZodEffects({schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"refinement",refinement:a}})}superRefine(a){return this._refinement(a)}constructor(a){this.spa=this.safeParseAsync,this._def=a,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:c=>this["~validate"](c)}}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this)}promise(){return ZodPromise.create(this,this._def)}or(a){return ZodUnion.create([this,a],this._def)}and(a){return ZodIntersection.create(this,a,this._def)}transform(a){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"transform",transform:a}})}default(a){const c=typeof a=="function"?a:()=>a;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:c,typeName:ZodFirstPartyTypeKind.ZodDefault})}brand(){return new ZodBranded({typeName:ZodFirstPartyTypeKind.ZodBranded,type:this,...processCreateParams(this._def)})}catch(a){const c=typeof a=="function"?a:()=>a;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:c,typeName:ZodFirstPartyTypeKind.ZodCatch})}describe(a){const c=this.constructor;return new c({...this._def,description:a})}pipe(a){return ZodPipeline.create(this,a)}readonly(){return ZodReadonly.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cuidRegex=/^c[^\s-]{8,}$/i,cuid2Regex=/^[0-9a-z]+$/,ulidRegex=/^[0-9A-HJKMNP-TV-Z]{26}$/i,uuidRegex=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,nanoidRegex=/^[a-z0-9_-]{21}$/i,jwtRegex=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,durationRegex=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,emailRegex=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_emojiRegex="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let emojiRegex;const ipv4Regex=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4CidrRegex=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6Regex=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ipv6CidrRegex=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64Regex=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64urlRegex=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,dateRegexSource="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dateRegex=new RegExp(`^${dateRegexSource}$`);function timeRegexSource(e){let a="[0-5]\\d";e.precision?a=`${a}\\.\\d{${e.precision}}`:e.precision==null&&(a=`${a}(\\.\\d+)?`);const c=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${a})${c}`}function timeRegex(e){return new RegExp(`^${timeRegexSource(e)}$`)}function datetimeRegex(e){let a=`${dateRegexSource}T${timeRegexSource(e)}`;const c=[];return c.push(e.local?"Z?":"Z"),e.offset&&c.push("([+-]\\d{2}:?\\d{2})"),a=`${a}(${c.join("|")})`,new RegExp(`^${a}$`)}function isValidIP(e,a){return!!((a==="v4"||!a)&&ipv4Regex.test(e)||(a==="v6"||!a)&&ipv6Regex.test(e))}function isValidJWT(e,a){if(!jwtRegex.test(e))return!1;try{const[c]=e.split(".");if(!c)return!1;const d=c.replace(/-/g,"+").replace(/_/g,"/").padEnd(c.length+(4-c.length%4)%4,"="),b=JSON.parse(atob(d));return!(typeof b!="object"||b===null||"typ"in b&&(b==null?void 0:b.typ)!=="JWT"||!b.alg||a&&b.alg!==a)}catch{return!1}}function isValidCidr(e,a){return!!((a==="v4"||!a)&&ipv4CidrRegex.test(e)||(a==="v6"||!a)&&ipv6CidrRegex.test(e))}class ZodString extends ZodType{_parse(a){if(this._def.coerce&&(a.data=String(a.data)),this._getType(a)!==ZodParsedType.string){const h=this._getOrReturnCtx(a);return addIssueToContext(h,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.string,received:h.parsedType}),INVALID}const d=new ParseStatus;let b;for(const h of this._def.checks)if(h.kind==="min")a.data.length<h.value&&(b=this._getOrReturnCtx(a,b),addIssueToContext(b,{code:ZodIssueCode.too_small,minimum:h.value,type:"string",inclusive:!0,exact:!1,message:h.message}),d.dirty());else if(h.kind==="max")a.data.length>h.value&&(b=this._getOrReturnCtx(a,b),addIssueToContext(b,{code:ZodIssueCode.too_big,maximum:h.value,type:"string",inclusive:!0,exact:!1,message:h.message}),d.dirty());else if(h.kind==="length"){const _=a.data.length>h.value,j=a.data.length<h.value;(_||j)&&(b=this._getOrReturnCtx(a,b),_?addIssueToContext(b,{code:ZodIssueCode.too_big,maximum:h.value,type:"string",inclusive:!0,exact:!0,message:h.message}):j&&addIssueToContext(b,{code:ZodIssueCode.too_small,minimum:h.value,type:"string",inclusive:!0,exact:!0,message:h.message}),d.dirty())}else if(h.kind==="email")emailRegex.test(a.data)||(b=this._getOrReturnCtx(a,b),addIssueToContext(b,{validation:"email",code:ZodIssueCode.invalid_string,message:h.message}),d.dirty());else if(h.kind==="emoji")emojiRegex||(emojiRegex=new RegExp(_emojiRegex,"u")),emojiRegex.test(a.data)||(b=this._getOrReturnCtx(a,b),addIssueToContext(b,{validation:"emoji",code:ZodIssueCode.invalid_string,message:h.message}),d.dirty());else if(h.kind==="uuid")uuidRegex.test(a.data)||(b=this._getOrReturnCtx(a,b),addIssueToContext(b,{validation:"uuid",code:ZodIssueCode.invalid_string,message:h.message}),d.dirty());else if(h.kind==="nanoid")nanoidRegex.test(a.data)||(b=this._getOrReturnCtx(a,b),addIssueToContext(b,{validation:"nanoid",code:ZodIssueCode.invalid_string,message:h.message}),d.dirty());else if(h.kind==="cuid")cuidRegex.test(a.data)||(b=this._getOrReturnCtx(a,b),addIssueToContext(b,{validation:"cuid",code:ZodIssueCode.invalid_string,message:h.message}),d.dirty());else if(h.kind==="cuid2")cuid2Regex.test(a.data)||(b=this._getOrReturnCtx(a,b),addIssueToContext(b,{validation:"cuid2",code:ZodIssueCode.invalid_string,message:h.message}),d.dirty());else if(h.kind==="ulid")ulidRegex.test(a.data)||(b=this._getOrReturnCtx(a,b),addIssueToContext(b,{validation:"ulid",code:ZodIssueCode.invalid_string,message:h.message}),d.dirty());else if(h.kind==="url")try{new URL(a.data)}catch{b=this._getOrReturnCtx(a,b),addIssueToContext(b,{validation:"url",code:ZodIssueCode.invalid_string,message:h.message}),d.dirty()}else h.kind==="regex"?(h.regex.lastIndex=0,h.regex.test(a.data)||(b=this._getOrReturnCtx(a,b),addIssueToContext(b,{validation:"regex",code:ZodIssueCode.invalid_string,message:h.message}),d.dirty())):h.kind==="trim"?a.data=a.data.trim():h.kind==="includes"?a.data.includes(h.value,h.position)||(b=this._getOrReturnCtx(a,b),addIssueToContext(b,{code:ZodIssueCode.invalid_string,validation:{includes:h.value,position:h.position},message:h.message}),d.dirty()):h.kind==="toLowerCase"?a.data=a.data.toLowerCase():h.kind==="toUpperCase"?a.data=a.data.toUpperCase():h.kind==="startsWith"?a.data.startsWith(h.value)||(b=this._getOrReturnCtx(a,b),addIssueToContext(b,{code:ZodIssueCode.invalid_string,validation:{startsWith:h.value},message:h.message}),d.dirty()):h.kind==="endsWith"?a.data.endsWith(h.value)||(b=this._getOrReturnCtx(a,b),addIssueToContext(b,{code:ZodIssueCode.invalid_string,validation:{endsWith:h.value},message:h.message}),d.dirty()):h.kind==="datetime"?datetimeRegex(h).test(a.data)||(b=this._getOrReturnCtx(a,b),addIssueToContext(b,{code:ZodIssueCode.invalid_string,validation:"datetime",message:h.message}),d.dirty()):h.kind==="date"?dateRegex.test(a.data)||(b=this._getOrReturnCtx(a,b),addIssueToContext(b,{code:ZodIssueCode.invalid_string,validation:"date",message:h.message}),d.dirty()):h.kind==="time"?timeRegex(h).test(a.data)||(b=this._getOrReturnCtx(a,b),addIssueToContext(b,{code:ZodIssueCode.invalid_string,validation:"time",message:h.message}),d.dirty()):h.kind==="duration"?durationRegex.test(a.data)||(b=this._getOrReturnCtx(a,b),addIssueToContext(b,{validation:"duration",code:ZodIssueCode.invalid_string,message:h.message}),d.dirty()):h.kind==="ip"?isValidIP(a.data,h.version)||(b=this._getOrReturnCtx(a,b),addIssueToContext(b,{validation:"ip",code:ZodIssueCode.invalid_string,message:h.message}),d.dirty()):h.kind==="jwt"?isValidJWT(a.data,h.alg)||(b=this._getOrReturnCtx(a,b),addIssueToContext(b,{validation:"jwt",code:ZodIssueCode.invalid_string,message:h.message}),d.dirty()):h.kind==="cidr"?isValidCidr(a.data,h.version)||(b=this._getOrReturnCtx(a,b),addIssueToContext(b,{validation:"cidr",code:ZodIssueCode.invalid_string,message:h.message}),d.dirty()):h.kind==="base64"?base64Regex.test(a.data)||(b=this._getOrReturnCtx(a,b),addIssueToContext(b,{validation:"base64",code:ZodIssueCode.invalid_string,message:h.message}),d.dirty()):h.kind==="base64url"?base64urlRegex.test(a.data)||(b=this._getOrReturnCtx(a,b),addIssueToContext(b,{validation:"base64url",code:ZodIssueCode.invalid_string,message:h.message}),d.dirty()):util.assertNever(h);return{status:d.value,value:a.data}}_regex(a,c,d){return this.refinement(b=>a.test(b),{validation:c,code:ZodIssueCode.invalid_string,...errorUtil.errToObj(d)})}_addCheck(a){return new ZodString({...this._def,checks:[...this._def.checks,a]})}email(a){return this._addCheck({kind:"email",...errorUtil.errToObj(a)})}url(a){return this._addCheck({kind:"url",...errorUtil.errToObj(a)})}emoji(a){return this._addCheck({kind:"emoji",...errorUtil.errToObj(a)})}uuid(a){return this._addCheck({kind:"uuid",...errorUtil.errToObj(a)})}nanoid(a){return this._addCheck({kind:"nanoid",...errorUtil.errToObj(a)})}cuid(a){return this._addCheck({kind:"cuid",...errorUtil.errToObj(a)})}cuid2(a){return this._addCheck({kind:"cuid2",...errorUtil.errToObj(a)})}ulid(a){return this._addCheck({kind:"ulid",...errorUtil.errToObj(a)})}base64(a){return this._addCheck({kind:"base64",...errorUtil.errToObj(a)})}base64url(a){return this._addCheck({kind:"base64url",...errorUtil.errToObj(a)})}jwt(a){return this._addCheck({kind:"jwt",...errorUtil.errToObj(a)})}ip(a){return this._addCheck({kind:"ip",...errorUtil.errToObj(a)})}cidr(a){return this._addCheck({kind:"cidr",...errorUtil.errToObj(a)})}datetime(a){return typeof a=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:a}):this._addCheck({kind:"datetime",precision:typeof(a==null?void 0:a.precision)>"u"?null:a==null?void 0:a.precision,offset:(a==null?void 0:a.offset)??!1,local:(a==null?void 0:a.local)??!1,...errorUtil.errToObj(a==null?void 0:a.message)})}date(a){return this._addCheck({kind:"date",message:a})}time(a){return typeof a=="string"?this._addCheck({kind:"time",precision:null,message:a}):this._addCheck({kind:"time",precision:typeof(a==null?void 0:a.precision)>"u"?null:a==null?void 0:a.precision,...errorUtil.errToObj(a==null?void 0:a.message)})}duration(a){return this._addCheck({kind:"duration",...errorUtil.errToObj(a)})}regex(a,c){return this._addCheck({kind:"regex",regex:a,...errorUtil.errToObj(c)})}includes(a,c){return this._addCheck({kind:"includes",value:a,position:c==null?void 0:c.position,...errorUtil.errToObj(c==null?void 0:c.message)})}startsWith(a,c){return this._addCheck({kind:"startsWith",value:a,...errorUtil.errToObj(c)})}endsWith(a,c){return this._addCheck({kind:"endsWith",value:a,...errorUtil.errToObj(c)})}min(a,c){return this._addCheck({kind:"min",value:a,...errorUtil.errToObj(c)})}max(a,c){return this._addCheck({kind:"max",value:a,...errorUtil.errToObj(c)})}length(a,c){return this._addCheck({kind:"length",value:a,...errorUtil.errToObj(c)})}nonempty(a){return this.min(1,errorUtil.errToObj(a))}trim(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(a=>a.kind==="datetime")}get isDate(){return!!this._def.checks.find(a=>a.kind==="date")}get isTime(){return!!this._def.checks.find(a=>a.kind==="time")}get isDuration(){return!!this._def.checks.find(a=>a.kind==="duration")}get isEmail(){return!!this._def.checks.find(a=>a.kind==="email")}get isURL(){return!!this._def.checks.find(a=>a.kind==="url")}get isEmoji(){return!!this._def.checks.find(a=>a.kind==="emoji")}get isUUID(){return!!this._def.checks.find(a=>a.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(a=>a.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(a=>a.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(a=>a.kind==="cuid2")}get isULID(){return!!this._def.checks.find(a=>a.kind==="ulid")}get isIP(){return!!this._def.checks.find(a=>a.kind==="ip")}get isCIDR(){return!!this._def.checks.find(a=>a.kind==="cidr")}get isBase64(){return!!this._def.checks.find(a=>a.kind==="base64")}get isBase64url(){return!!this._def.checks.find(a=>a.kind==="base64url")}get minLength(){let a=null;for(const c of this._def.checks)c.kind==="min"&&(a===null||c.value>a)&&(a=c.value);return a}get maxLength(){let a=null;for(const c of this._def.checks)c.kind==="max"&&(a===null||c.value<a)&&(a=c.value);return a}}ZodString.create=e=>new ZodString({checks:[],typeName:ZodFirstPartyTypeKind.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...processCreateParams(e)});function floatSafeRemainder(e,a){const c=(e.toString().split(".")[1]||"").length,d=(a.toString().split(".")[1]||"").length,b=c>d?c:d,h=Number.parseInt(e.toFixed(b).replace(".","")),_=Number.parseInt(a.toFixed(b).replace(".",""));return h%_/10**b}class ZodNumber extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(a){if(this._def.coerce&&(a.data=Number(a.data)),this._getType(a)!==ZodParsedType.number){const h=this._getOrReturnCtx(a);return addIssueToContext(h,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.number,received:h.parsedType}),INVALID}let d;const b=new ParseStatus;for(const h of this._def.checks)h.kind==="int"?util.isInteger(a.data)||(d=this._getOrReturnCtx(a,d),addIssueToContext(d,{code:ZodIssueCode.invalid_type,expected:"integer",received:"float",message:h.message}),b.dirty()):h.kind==="min"?(h.inclusive?a.data<h.value:a.data<=h.value)&&(d=this._getOrReturnCtx(a,d),addIssueToContext(d,{code:ZodIssueCode.too_small,minimum:h.value,type:"number",inclusive:h.inclusive,exact:!1,message:h.message}),b.dirty()):h.kind==="max"?(h.inclusive?a.data>h.value:a.data>=h.value)&&(d=this._getOrReturnCtx(a,d),addIssueToContext(d,{code:ZodIssueCode.too_big,maximum:h.value,type:"number",inclusive:h.inclusive,exact:!1,message:h.message}),b.dirty()):h.kind==="multipleOf"?floatSafeRemainder(a.data,h.value)!==0&&(d=this._getOrReturnCtx(a,d),addIssueToContext(d,{code:ZodIssueCode.not_multiple_of,multipleOf:h.value,message:h.message}),b.dirty()):h.kind==="finite"?Number.isFinite(a.data)||(d=this._getOrReturnCtx(a,d),addIssueToContext(d,{code:ZodIssueCode.not_finite,message:h.message}),b.dirty()):util.assertNever(h);return{status:b.value,value:a.data}}gte(a,c){return this.setLimit("min",a,!0,errorUtil.toString(c))}gt(a,c){return this.setLimit("min",a,!1,errorUtil.toString(c))}lte(a,c){return this.setLimit("max",a,!0,errorUtil.toString(c))}lt(a,c){return this.setLimit("max",a,!1,errorUtil.toString(c))}setLimit(a,c,d,b){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:a,value:c,inclusive:d,message:errorUtil.toString(b)}]})}_addCheck(a){return new ZodNumber({...this._def,checks:[...this._def.checks,a]})}int(a){return this._addCheck({kind:"int",message:errorUtil.toString(a)})}positive(a){return this._addCheck({kind:"min",value:0,inclusive:!1,message:errorUtil.toString(a)})}negative(a){return this._addCheck({kind:"max",value:0,inclusive:!1,message:errorUtil.toString(a)})}nonpositive(a){return this._addCheck({kind:"max",value:0,inclusive:!0,message:errorUtil.toString(a)})}nonnegative(a){return this._addCheck({kind:"min",value:0,inclusive:!0,message:errorUtil.toString(a)})}multipleOf(a,c){return this._addCheck({kind:"multipleOf",value:a,message:errorUtil.toString(c)})}finite(a){return this._addCheck({kind:"finite",message:errorUtil.toString(a)})}safe(a){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:errorUtil.toString(a)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:errorUtil.toString(a)})}get minValue(){let a=null;for(const c of this._def.checks)c.kind==="min"&&(a===null||c.value>a)&&(a=c.value);return a}get maxValue(){let a=null;for(const c of this._def.checks)c.kind==="max"&&(a===null||c.value<a)&&(a=c.value);return a}get isInt(){return!!this._def.checks.find(a=>a.kind==="int"||a.kind==="multipleOf"&&util.isInteger(a.value))}get isFinite(){let a=null,c=null;for(const d of this._def.checks){if(d.kind==="finite"||d.kind==="int"||d.kind==="multipleOf")return!0;d.kind==="min"?(c===null||d.value>c)&&(c=d.value):d.kind==="max"&&(a===null||d.value<a)&&(a=d.value)}return Number.isFinite(c)&&Number.isFinite(a)}}ZodNumber.create=e=>new ZodNumber({checks:[],typeName:ZodFirstPartyTypeKind.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...processCreateParams(e)});class ZodBigInt extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(a){if(this._def.coerce)try{a.data=BigInt(a.data)}catch{return this._getInvalidInput(a)}if(this._getType(a)!==ZodParsedType.bigint)return this._getInvalidInput(a);let d;const b=new ParseStatus;for(const h of this._def.checks)h.kind==="min"?(h.inclusive?a.data<h.value:a.data<=h.value)&&(d=this._getOrReturnCtx(a,d),addIssueToContext(d,{code:ZodIssueCode.too_small,type:"bigint",minimum:h.value,inclusive:h.inclusive,message:h.message}),b.dirty()):h.kind==="max"?(h.inclusive?a.data>h.value:a.data>=h.value)&&(d=this._getOrReturnCtx(a,d),addIssueToContext(d,{code:ZodIssueCode.too_big,type:"bigint",maximum:h.value,inclusive:h.inclusive,message:h.message}),b.dirty()):h.kind==="multipleOf"?a.data%h.value!==BigInt(0)&&(d=this._getOrReturnCtx(a,d),addIssueToContext(d,{code:ZodIssueCode.not_multiple_of,multipleOf:h.value,message:h.message}),b.dirty()):util.assertNever(h);return{status:b.value,value:a.data}}_getInvalidInput(a){const c=this._getOrReturnCtx(a);return addIssueToContext(c,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.bigint,received:c.parsedType}),INVALID}gte(a,c){return this.setLimit("min",a,!0,errorUtil.toString(c))}gt(a,c){return this.setLimit("min",a,!1,errorUtil.toString(c))}lte(a,c){return this.setLimit("max",a,!0,errorUtil.toString(c))}lt(a,c){return this.setLimit("max",a,!1,errorUtil.toString(c))}setLimit(a,c,d,b){return new ZodBigInt({...this._def,checks:[...this._def.checks,{kind:a,value:c,inclusive:d,message:errorUtil.toString(b)}]})}_addCheck(a){return new ZodBigInt({...this._def,checks:[...this._def.checks,a]})}positive(a){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:errorUtil.toString(a)})}negative(a){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:errorUtil.toString(a)})}nonpositive(a){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:errorUtil.toString(a)})}nonnegative(a){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:errorUtil.toString(a)})}multipleOf(a,c){return this._addCheck({kind:"multipleOf",value:a,message:errorUtil.toString(c)})}get minValue(){let a=null;for(const c of this._def.checks)c.kind==="min"&&(a===null||c.value>a)&&(a=c.value);return a}get maxValue(){let a=null;for(const c of this._def.checks)c.kind==="max"&&(a===null||c.value<a)&&(a=c.value);return a}}ZodBigInt.create=e=>new ZodBigInt({checks:[],typeName:ZodFirstPartyTypeKind.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...processCreateParams(e)});class ZodBoolean extends ZodType{_parse(a){if(this._def.coerce&&(a.data=!!a.data),this._getType(a)!==ZodParsedType.boolean){const d=this._getOrReturnCtx(a);return addIssueToContext(d,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.boolean,received:d.parsedType}),INVALID}return OK(a.data)}}ZodBoolean.create=e=>new ZodBoolean({typeName:ZodFirstPartyTypeKind.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...processCreateParams(e)});class ZodDate extends ZodType{_parse(a){if(this._def.coerce&&(a.data=new Date(a.data)),this._getType(a)!==ZodParsedType.date){const h=this._getOrReturnCtx(a);return addIssueToContext(h,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.date,received:h.parsedType}),INVALID}if(Number.isNaN(a.data.getTime())){const h=this._getOrReturnCtx(a);return addIssueToContext(h,{code:ZodIssueCode.invalid_date}),INVALID}const d=new ParseStatus;let b;for(const h of this._def.checks)h.kind==="min"?a.data.getTime()<h.value&&(b=this._getOrReturnCtx(a,b),addIssueToContext(b,{code:ZodIssueCode.too_small,message:h.message,inclusive:!0,exact:!1,minimum:h.value,type:"date"}),d.dirty()):h.kind==="max"?a.data.getTime()>h.value&&(b=this._getOrReturnCtx(a,b),addIssueToContext(b,{code:ZodIssueCode.too_big,message:h.message,inclusive:!0,exact:!1,maximum:h.value,type:"date"}),d.dirty()):util.assertNever(h);return{status:d.value,value:new Date(a.data.getTime())}}_addCheck(a){return new ZodDate({...this._def,checks:[...this._def.checks,a]})}min(a,c){return this._addCheck({kind:"min",value:a.getTime(),message:errorUtil.toString(c)})}max(a,c){return this._addCheck({kind:"max",value:a.getTime(),message:errorUtil.toString(c)})}get minDate(){let a=null;for(const c of this._def.checks)c.kind==="min"&&(a===null||c.value>a)&&(a=c.value);return a!=null?new Date(a):null}get maxDate(){let a=null;for(const c of this._def.checks)c.kind==="max"&&(a===null||c.value<a)&&(a=c.value);return a!=null?new Date(a):null}}ZodDate.create=e=>new ZodDate({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:ZodFirstPartyTypeKind.ZodDate,...processCreateParams(e)});class ZodSymbol extends ZodType{_parse(a){if(this._getType(a)!==ZodParsedType.symbol){const d=this._getOrReturnCtx(a);return addIssueToContext(d,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.symbol,received:d.parsedType}),INVALID}return OK(a.data)}}ZodSymbol.create=e=>new ZodSymbol({typeName:ZodFirstPartyTypeKind.ZodSymbol,...processCreateParams(e)});class ZodUndefined extends ZodType{_parse(a){if(this._getType(a)!==ZodParsedType.undefined){const d=this._getOrReturnCtx(a);return addIssueToContext(d,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.undefined,received:d.parsedType}),INVALID}return OK(a.data)}}ZodUndefined.create=e=>new ZodUndefined({typeName:ZodFirstPartyTypeKind.ZodUndefined,...processCreateParams(e)});class ZodNull extends ZodType{_parse(a){if(this._getType(a)!==ZodParsedType.null){const d=this._getOrReturnCtx(a);return addIssueToContext(d,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.null,received:d.parsedType}),INVALID}return OK(a.data)}}ZodNull.create=e=>new ZodNull({typeName:ZodFirstPartyTypeKind.ZodNull,...processCreateParams(e)});class ZodAny extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(a){return OK(a.data)}}ZodAny.create=e=>new ZodAny({typeName:ZodFirstPartyTypeKind.ZodAny,...processCreateParams(e)});class ZodUnknown extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(a){return OK(a.data)}}ZodUnknown.create=e=>new ZodUnknown({typeName:ZodFirstPartyTypeKind.ZodUnknown,...processCreateParams(e)});class ZodNever extends ZodType{_parse(a){const c=this._getOrReturnCtx(a);return addIssueToContext(c,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.never,received:c.parsedType}),INVALID}}ZodNever.create=e=>new ZodNever({typeName:ZodFirstPartyTypeKind.ZodNever,...processCreateParams(e)});class ZodVoid extends ZodType{_parse(a){if(this._getType(a)!==ZodParsedType.undefined){const d=this._getOrReturnCtx(a);return addIssueToContext(d,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.void,received:d.parsedType}),INVALID}return OK(a.data)}}ZodVoid.create=e=>new ZodVoid({typeName:ZodFirstPartyTypeKind.ZodVoid,...processCreateParams(e)});class ZodArray extends ZodType{_parse(a){const{ctx:c,status:d}=this._processInputParams(a),b=this._def;if(c.parsedType!==ZodParsedType.array)return addIssueToContext(c,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:c.parsedType}),INVALID;if(b.exactLength!==null){const _=c.data.length>b.exactLength.value,j=c.data.length<b.exactLength.value;(_||j)&&(addIssueToContext(c,{code:_?ZodIssueCode.too_big:ZodIssueCode.too_small,minimum:j?b.exactLength.value:void 0,maximum:_?b.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:b.exactLength.message}),d.dirty())}if(b.minLength!==null&&c.data.length<b.minLength.value&&(addIssueToContext(c,{code:ZodIssueCode.too_small,minimum:b.minLength.value,type:"array",inclusive:!0,exact:!1,message:b.minLength.message}),d.dirty()),b.maxLength!==null&&c.data.length>b.maxLength.value&&(addIssueToContext(c,{code:ZodIssueCode.too_big,maximum:b.maxLength.value,type:"array",inclusive:!0,exact:!1,message:b.maxLength.message}),d.dirty()),c.common.async)return Promise.all([...c.data].map((_,j)=>b.type._parseAsync(new ParseInputLazyPath(c,_,c.path,j)))).then(_=>ParseStatus.mergeArray(d,_));const h=[...c.data].map((_,j)=>b.type._parseSync(new ParseInputLazyPath(c,_,c.path,j)));return ParseStatus.mergeArray(d,h)}get element(){return this._def.type}min(a,c){return new ZodArray({...this._def,minLength:{value:a,message:errorUtil.toString(c)}})}max(a,c){return new ZodArray({...this._def,maxLength:{value:a,message:errorUtil.toString(c)}})}length(a,c){return new ZodArray({...this._def,exactLength:{value:a,message:errorUtil.toString(c)}})}nonempty(a){return this.min(1,a)}}ZodArray.create=(e,a)=>new ZodArray({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ZodFirstPartyTypeKind.ZodArray,...processCreateParams(a)});function deepPartialify(e){if(e instanceof ZodObject){const a={};for(const c in e.shape){const d=e.shape[c];a[c]=ZodOptional.create(deepPartialify(d))}return new ZodObject({...e._def,shape:()=>a})}else return e instanceof ZodArray?new ZodArray({...e._def,type:deepPartialify(e.element)}):e instanceof ZodOptional?ZodOptional.create(deepPartialify(e.unwrap())):e instanceof ZodNullable?ZodNullable.create(deepPartialify(e.unwrap())):e instanceof ZodTuple?ZodTuple.create(e.items.map(a=>deepPartialify(a))):e}class ZodObject extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const a=this._def.shape(),c=util.objectKeys(a);return this._cached={shape:a,keys:c},this._cached}_parse(a){if(this._getType(a)!==ZodParsedType.object){const et=this._getOrReturnCtx(a);return addIssueToContext(et,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:et.parsedType}),INVALID}const{status:d,ctx:b}=this._processInputParams(a),{shape:h,keys:_}=this._getCached(),j=[];if(!(this._def.catchall instanceof ZodNever&&this._def.unknownKeys==="strip"))for(const et in b.data)_.includes(et)||j.push(et);const _e=[];for(const et of _){const $=h[et],rt=b.data[et];_e.push({key:{status:"valid",value:et},value:$._parse(new ParseInputLazyPath(b,rt,b.path,et)),alwaysSet:et in b.data})}if(this._def.catchall instanceof ZodNever){const et=this._def.unknownKeys;if(et==="passthrough")for(const $ of j)_e.push({key:{status:"valid",value:$},value:{status:"valid",value:b.data[$]}});else if(et==="strict")j.length>0&&(addIssueToContext(b,{code:ZodIssueCode.unrecognized_keys,keys:j}),d.dirty());else if(et!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const et=this._def.catchall;for(const $ of j){const rt=b.data[$];_e.push({key:{status:"valid",value:$},value:et._parse(new ParseInputLazyPath(b,rt,b.path,$)),alwaysSet:$ in b.data})}}return b.common.async?Promise.resolve().then(async()=>{const et=[];for(const $ of _e){const rt=await $.key,nt=await $.value;et.push({key:rt,value:nt,alwaysSet:$.alwaysSet})}return et}).then(et=>ParseStatus.mergeObjectSync(d,et)):ParseStatus.mergeObjectSync(d,_e)}get shape(){return this._def.shape()}strict(a){return errorUtil.errToObj,new ZodObject({...this._def,unknownKeys:"strict",...a!==void 0?{errorMap:(c,d)=>{var h,_;const b=((_=(h=this._def).errorMap)==null?void 0:_.call(h,c,d).message)??d.defaultError;return c.code==="unrecognized_keys"?{message:errorUtil.errToObj(a).message??b}:{message:b}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend(a){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),...a})})}merge(a){return new ZodObject({unknownKeys:a._def.unknownKeys,catchall:a._def.catchall,shape:()=>({...this._def.shape(),...a._def.shape()}),typeName:ZodFirstPartyTypeKind.ZodObject})}setKey(a,c){return this.augment({[a]:c})}catchall(a){return new ZodObject({...this._def,catchall:a})}pick(a){const c={};for(const d of util.objectKeys(a))a[d]&&this.shape[d]&&(c[d]=this.shape[d]);return new ZodObject({...this._def,shape:()=>c})}omit(a){const c={};for(const d of util.objectKeys(this.shape))a[d]||(c[d]=this.shape[d]);return new ZodObject({...this._def,shape:()=>c})}deepPartial(){return deepPartialify(this)}partial(a){const c={};for(const d of util.objectKeys(this.shape)){const b=this.shape[d];a&&!a[d]?c[d]=b:c[d]=b.optional()}return new ZodObject({...this._def,shape:()=>c})}required(a){const c={};for(const d of util.objectKeys(this.shape))if(a&&!a[d])c[d]=this.shape[d];else{let h=this.shape[d];for(;h instanceof ZodOptional;)h=h._def.innerType;c[d]=h}return new ZodObject({...this._def,shape:()=>c})}keyof(){return createZodEnum(util.objectKeys(this.shape))}}ZodObject.create=(e,a)=>new ZodObject({shape:()=>e,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(a)});ZodObject.strictCreate=(e,a)=>new ZodObject({shape:()=>e,unknownKeys:"strict",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(a)});ZodObject.lazycreate=(e,a)=>new ZodObject({shape:e,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(a)});class ZodUnion extends ZodType{_parse(a){const{ctx:c}=this._processInputParams(a),d=this._def.options;function b(h){for(const j of h)if(j.result.status==="valid")return j.result;for(const j of h)if(j.result.status==="dirty")return c.common.issues.push(...j.ctx.common.issues),j.result;const _=h.map(j=>new ZodError(j.ctx.common.issues));return addIssueToContext(c,{code:ZodIssueCode.invalid_union,unionErrors:_}),INVALID}if(c.common.async)return Promise.all(d.map(async h=>{const _={...c,common:{...c.common,issues:[]},parent:null};return{result:await h._parseAsync({data:c.data,path:c.path,parent:_}),ctx:_}})).then(b);{let h;const _=[];for(const _e of d){const et={...c,common:{...c.common,issues:[]},parent:null},$=_e._parseSync({data:c.data,path:c.path,parent:et});if($.status==="valid")return $;$.status==="dirty"&&!h&&(h={result:$,ctx:et}),et.common.issues.length&&_.push(et.common.issues)}if(h)return c.common.issues.push(...h.ctx.common.issues),h.result;const j=_.map(_e=>new ZodError(_e));return addIssueToContext(c,{code:ZodIssueCode.invalid_union,unionErrors:j}),INVALID}}get options(){return this._def.options}}ZodUnion.create=(e,a)=>new ZodUnion({options:e,typeName:ZodFirstPartyTypeKind.ZodUnion,...processCreateParams(a)});function mergeValues(e,a){const c=getParsedType(e),d=getParsedType(a);if(e===a)return{valid:!0,data:e};if(c===ZodParsedType.object&&d===ZodParsedType.object){const b=util.objectKeys(a),h=util.objectKeys(e).filter(j=>b.indexOf(j)!==-1),_={...e,...a};for(const j of h){const _e=mergeValues(e[j],a[j]);if(!_e.valid)return{valid:!1};_[j]=_e.data}return{valid:!0,data:_}}else if(c===ZodParsedType.array&&d===ZodParsedType.array){if(e.length!==a.length)return{valid:!1};const b=[];for(let h=0;h<e.length;h++){const _=e[h],j=a[h],_e=mergeValues(_,j);if(!_e.valid)return{valid:!1};b.push(_e.data)}return{valid:!0,data:b}}else return c===ZodParsedType.date&&d===ZodParsedType.date&&+e==+a?{valid:!0,data:e}:{valid:!1}}class ZodIntersection extends ZodType{_parse(a){const{status:c,ctx:d}=this._processInputParams(a),b=(h,_)=>{if(isAborted(h)||isAborted(_))return INVALID;const j=mergeValues(h.value,_.value);return j.valid?((isDirty(h)||isDirty(_))&&c.dirty(),{status:c.value,value:j.data}):(addIssueToContext(d,{code:ZodIssueCode.invalid_intersection_types}),INVALID)};return d.common.async?Promise.all([this._def.left._parseAsync({data:d.data,path:d.path,parent:d}),this._def.right._parseAsync({data:d.data,path:d.path,parent:d})]).then(([h,_])=>b(h,_)):b(this._def.left._parseSync({data:d.data,path:d.path,parent:d}),this._def.right._parseSync({data:d.data,path:d.path,parent:d}))}}ZodIntersection.create=(e,a,c)=>new ZodIntersection({left:e,right:a,typeName:ZodFirstPartyTypeKind.ZodIntersection,...processCreateParams(c)});class ZodTuple extends ZodType{_parse(a){const{status:c,ctx:d}=this._processInputParams(a);if(d.parsedType!==ZodParsedType.array)return addIssueToContext(d,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:d.parsedType}),INVALID;if(d.data.length<this._def.items.length)return addIssueToContext(d,{code:ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),INVALID;!this._def.rest&&d.data.length>this._def.items.length&&(addIssueToContext(d,{code:ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),c.dirty());const h=[...d.data].map((_,j)=>{const _e=this._def.items[j]||this._def.rest;return _e?_e._parse(new ParseInputLazyPath(d,_,d.path,j)):null}).filter(_=>!!_);return d.common.async?Promise.all(h).then(_=>ParseStatus.mergeArray(c,_)):ParseStatus.mergeArray(c,h)}get items(){return this._def.items}rest(a){return new ZodTuple({...this._def,rest:a})}}ZodTuple.create=(e,a)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:e,typeName:ZodFirstPartyTypeKind.ZodTuple,rest:null,...processCreateParams(a)})};class ZodMap extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(a){const{status:c,ctx:d}=this._processInputParams(a);if(d.parsedType!==ZodParsedType.map)return addIssueToContext(d,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.map,received:d.parsedType}),INVALID;const b=this._def.keyType,h=this._def.valueType,_=[...d.data.entries()].map(([j,_e],et)=>({key:b._parse(new ParseInputLazyPath(d,j,d.path,[et,"key"])),value:h._parse(new ParseInputLazyPath(d,_e,d.path,[et,"value"]))}));if(d.common.async){const j=new Map;return Promise.resolve().then(async()=>{for(const _e of _){const et=await _e.key,$=await _e.value;if(et.status==="aborted"||$.status==="aborted")return INVALID;(et.status==="dirty"||$.status==="dirty")&&c.dirty(),j.set(et.value,$.value)}return{status:c.value,value:j}})}else{const j=new Map;for(const _e of _){const et=_e.key,$=_e.value;if(et.status==="aborted"||$.status==="aborted")return INVALID;(et.status==="dirty"||$.status==="dirty")&&c.dirty(),j.set(et.value,$.value)}return{status:c.value,value:j}}}}ZodMap.create=(e,a,c)=>new ZodMap({valueType:a,keyType:e,typeName:ZodFirstPartyTypeKind.ZodMap,...processCreateParams(c)});class ZodSet extends ZodType{_parse(a){const{status:c,ctx:d}=this._processInputParams(a);if(d.parsedType!==ZodParsedType.set)return addIssueToContext(d,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.set,received:d.parsedType}),INVALID;const b=this._def;b.minSize!==null&&d.data.size<b.minSize.value&&(addIssueToContext(d,{code:ZodIssueCode.too_small,minimum:b.minSize.value,type:"set",inclusive:!0,exact:!1,message:b.minSize.message}),c.dirty()),b.maxSize!==null&&d.data.size>b.maxSize.value&&(addIssueToContext(d,{code:ZodIssueCode.too_big,maximum:b.maxSize.value,type:"set",inclusive:!0,exact:!1,message:b.maxSize.message}),c.dirty());const h=this._def.valueType;function _(_e){const et=new Set;for(const $ of _e){if($.status==="aborted")return INVALID;$.status==="dirty"&&c.dirty(),et.add($.value)}return{status:c.value,value:et}}const j=[...d.data.values()].map((_e,et)=>h._parse(new ParseInputLazyPath(d,_e,d.path,et)));return d.common.async?Promise.all(j).then(_e=>_(_e)):_(j)}min(a,c){return new ZodSet({...this._def,minSize:{value:a,message:errorUtil.toString(c)}})}max(a,c){return new ZodSet({...this._def,maxSize:{value:a,message:errorUtil.toString(c)}})}size(a,c){return this.min(a,c).max(a,c)}nonempty(a){return this.min(1,a)}}ZodSet.create=(e,a)=>new ZodSet({valueType:e,minSize:null,maxSize:null,typeName:ZodFirstPartyTypeKind.ZodSet,...processCreateParams(a)});class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse(a){const{ctx:c}=this._processInputParams(a);return this._def.getter()._parse({data:c.data,path:c.path,parent:c})}}ZodLazy.create=(e,a)=>new ZodLazy({getter:e,typeName:ZodFirstPartyTypeKind.ZodLazy,...processCreateParams(a)});class ZodLiteral extends ZodType{_parse(a){if(a.data!==this._def.value){const c=this._getOrReturnCtx(a);return addIssueToContext(c,{received:c.data,code:ZodIssueCode.invalid_literal,expected:this._def.value}),INVALID}return{status:"valid",value:a.data}}get value(){return this._def.value}}ZodLiteral.create=(e,a)=>new ZodLiteral({value:e,typeName:ZodFirstPartyTypeKind.ZodLiteral,...processCreateParams(a)});function createZodEnum(e,a){return new ZodEnum({values:e,typeName:ZodFirstPartyTypeKind.ZodEnum,...processCreateParams(a)})}class ZodEnum extends ZodType{_parse(a){if(typeof a.data!="string"){const c=this._getOrReturnCtx(a),d=this._def.values;return addIssueToContext(c,{expected:util.joinValues(d),received:c.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(a.data)){const c=this._getOrReturnCtx(a),d=this._def.values;return addIssueToContext(c,{received:c.data,code:ZodIssueCode.invalid_enum_value,options:d}),INVALID}return OK(a.data)}get options(){return this._def.values}get enum(){const a={};for(const c of this._def.values)a[c]=c;return a}get Values(){const a={};for(const c of this._def.values)a[c]=c;return a}get Enum(){const a={};for(const c of this._def.values)a[c]=c;return a}extract(a,c=this._def){return ZodEnum.create(a,{...this._def,...c})}exclude(a,c=this._def){return ZodEnum.create(this.options.filter(d=>!a.includes(d)),{...this._def,...c})}}ZodEnum.create=createZodEnum;class ZodNativeEnum extends ZodType{_parse(a){const c=util.getValidEnumValues(this._def.values),d=this._getOrReturnCtx(a);if(d.parsedType!==ZodParsedType.string&&d.parsedType!==ZodParsedType.number){const b=util.objectValues(c);return addIssueToContext(d,{expected:util.joinValues(b),received:d.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(this._cache||(this._cache=new Set(util.getValidEnumValues(this._def.values))),!this._cache.has(a.data)){const b=util.objectValues(c);return addIssueToContext(d,{received:d.data,code:ZodIssueCode.invalid_enum_value,options:b}),INVALID}return OK(a.data)}get enum(){return this._def.values}}ZodNativeEnum.create=(e,a)=>new ZodNativeEnum({values:e,typeName:ZodFirstPartyTypeKind.ZodNativeEnum,...processCreateParams(a)});class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse(a){const{ctx:c}=this._processInputParams(a);if(c.parsedType!==ZodParsedType.promise&&c.common.async===!1)return addIssueToContext(c,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.promise,received:c.parsedType}),INVALID;const d=c.parsedType===ZodParsedType.promise?c.data:Promise.resolve(c.data);return OK(d.then(b=>this._def.type.parseAsync(b,{path:c.path,errorMap:c.common.contextualErrorMap})))}}ZodPromise.create=(e,a)=>new ZodPromise({type:e,typeName:ZodFirstPartyTypeKind.ZodPromise,...processCreateParams(a)});class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ZodFirstPartyTypeKind.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(a){const{status:c,ctx:d}=this._processInputParams(a),b=this._def.effect||null,h={addIssue:_=>{addIssueToContext(d,_),_.fatal?c.abort():c.dirty()},get path(){return d.path}};if(h.addIssue=h.addIssue.bind(h),b.type==="preprocess"){const _=b.transform(d.data,h);if(d.common.async)return Promise.resolve(_).then(async j=>{if(c.value==="aborted")return INVALID;const _e=await this._def.schema._parseAsync({data:j,path:d.path,parent:d});return _e.status==="aborted"?INVALID:_e.status==="dirty"||c.value==="dirty"?DIRTY(_e.value):_e});{if(c.value==="aborted")return INVALID;const j=this._def.schema._parseSync({data:_,path:d.path,parent:d});return j.status==="aborted"?INVALID:j.status==="dirty"||c.value==="dirty"?DIRTY(j.value):j}}if(b.type==="refinement"){const _=j=>{const _e=b.refinement(j,h);if(d.common.async)return Promise.resolve(_e);if(_e instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return j};if(d.common.async===!1){const j=this._def.schema._parseSync({data:d.data,path:d.path,parent:d});return j.status==="aborted"?INVALID:(j.status==="dirty"&&c.dirty(),_(j.value),{status:c.value,value:j.value})}else return this._def.schema._parseAsync({data:d.data,path:d.path,parent:d}).then(j=>j.status==="aborted"?INVALID:(j.status==="dirty"&&c.dirty(),_(j.value).then(()=>({status:c.value,value:j.value}))))}if(b.type==="transform")if(d.common.async===!1){const _=this._def.schema._parseSync({data:d.data,path:d.path,parent:d});if(!isValid(_))return INVALID;const j=b.transform(_.value,h);if(j instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:c.value,value:j}}else return this._def.schema._parseAsync({data:d.data,path:d.path,parent:d}).then(_=>isValid(_)?Promise.resolve(b.transform(_.value,h)).then(j=>({status:c.value,value:j})):INVALID);util.assertNever(b)}}ZodEffects.create=(e,a,c)=>new ZodEffects({schema:e,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:a,...processCreateParams(c)});ZodEffects.createWithPreprocess=(e,a,c)=>new ZodEffects({schema:a,effect:{type:"preprocess",transform:e},typeName:ZodFirstPartyTypeKind.ZodEffects,...processCreateParams(c)});class ZodOptional extends ZodType{_parse(a){return this._getType(a)===ZodParsedType.undefined?OK(void 0):this._def.innerType._parse(a)}unwrap(){return this._def.innerType}}ZodOptional.create=(e,a)=>new ZodOptional({innerType:e,typeName:ZodFirstPartyTypeKind.ZodOptional,...processCreateParams(a)});class ZodNullable extends ZodType{_parse(a){return this._getType(a)===ZodParsedType.null?OK(null):this._def.innerType._parse(a)}unwrap(){return this._def.innerType}}ZodNullable.create=(e,a)=>new ZodNullable({innerType:e,typeName:ZodFirstPartyTypeKind.ZodNullable,...processCreateParams(a)});class ZodDefault extends ZodType{_parse(a){const{ctx:c}=this._processInputParams(a);let d=c.data;return c.parsedType===ZodParsedType.undefined&&(d=this._def.defaultValue()),this._def.innerType._parse({data:d,path:c.path,parent:c})}removeDefault(){return this._def.innerType}}ZodDefault.create=(e,a)=>new ZodDefault({innerType:e,typeName:ZodFirstPartyTypeKind.ZodDefault,defaultValue:typeof a.default=="function"?a.default:()=>a.default,...processCreateParams(a)});class ZodCatch extends ZodType{_parse(a){const{ctx:c}=this._processInputParams(a),d={...c,common:{...c.common,issues:[]}},b=this._def.innerType._parse({data:d.data,path:d.path,parent:{...d}});return isAsync(b)?b.then(h=>({status:"valid",value:h.status==="valid"?h.value:this._def.catchValue({get error(){return new ZodError(d.common.issues)},input:d.data})})):{status:"valid",value:b.status==="valid"?b.value:this._def.catchValue({get error(){return new ZodError(d.common.issues)},input:d.data})}}removeCatch(){return this._def.innerType}}ZodCatch.create=(e,a)=>new ZodCatch({innerType:e,typeName:ZodFirstPartyTypeKind.ZodCatch,catchValue:typeof a.catch=="function"?a.catch:()=>a.catch,...processCreateParams(a)});class ZodNaN extends ZodType{_parse(a){if(this._getType(a)!==ZodParsedType.nan){const d=this._getOrReturnCtx(a);return addIssueToContext(d,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.nan,received:d.parsedType}),INVALID}return{status:"valid",value:a.data}}}ZodNaN.create=e=>new ZodNaN({typeName:ZodFirstPartyTypeKind.ZodNaN,...processCreateParams(e)});class ZodBranded extends ZodType{_parse(a){const{ctx:c}=this._processInputParams(a),d=c.data;return this._def.type._parse({data:d,path:c.path,parent:c})}unwrap(){return this._def.type}}class ZodPipeline extends ZodType{_parse(a){const{status:c,ctx:d}=this._processInputParams(a);if(d.common.async)return(async()=>{const h=await this._def.in._parseAsync({data:d.data,path:d.path,parent:d});return h.status==="aborted"?INVALID:h.status==="dirty"?(c.dirty(),DIRTY(h.value)):this._def.out._parseAsync({data:h.value,path:d.path,parent:d})})();{const b=this._def.in._parseSync({data:d.data,path:d.path,parent:d});return b.status==="aborted"?INVALID:b.status==="dirty"?(c.dirty(),{status:"dirty",value:b.value}):this._def.out._parseSync({data:b.value,path:d.path,parent:d})}}static create(a,c){return new ZodPipeline({in:a,out:c,typeName:ZodFirstPartyTypeKind.ZodPipeline})}}class ZodReadonly extends ZodType{_parse(a){const c=this._def.innerType._parse(a),d=b=>(isValid(b)&&(b.value=Object.freeze(b.value)),b);return isAsync(c)?c.then(b=>d(b)):d(c)}unwrap(){return this._def.innerType}}ZodReadonly.create=(e,a)=>new ZodReadonly({innerType:e,typeName:ZodFirstPartyTypeKind.ZodReadonly,...processCreateParams(a)});var ZodFirstPartyTypeKind;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ZodFirstPartyTypeKind||(ZodFirstPartyTypeKind={}));const stringType=ZodString.create;ZodNever.create;ZodArray.create;const objectType=ZodObject.create;ZodUnion.create;ZodIntersection.create;ZodTuple.create;ZodEnum.create;ZodPromise.create;ZodOptional.create;ZodNullable.create;const EXAMPLE_PROMPTS=["Calculate fibonacci(20) and explain the time complexity","Write a function that reverses a string without using .reverse()","Explain the difference between const, let, and var in JavaScript","Sort these numbers ascending: 42, 7, 93, 15, 8, 61, 3","Find all prime numbers between 1 and 100","Convert 'hello world' to title case, camelCase, and snake_case","Explain how HTTP cookies work in 3 paragraphs","Calculate the area and perimeter of a rectangle: width=12, height=7","List 5 ways to optimize a slow SQL query","Convert 1024 bytes to KB, MB, and GB","Explain what happens when you type 'google.com' in a browser","Write a regex that matches valid email addresses","Compare merge sort vs quick sort: time complexity, space, stability","Generate a random UUID v4 and explain its format","Explain the CAP theorem with database examples","Calculate compound interest: $10,000 at 5% annual for 10 years","List the 7 layers of the OSI model with examples","Convert RGB(255, 87, 51) to hexadecimal color code","Explain how JWT authentication works with diagrams",'Parse this JSON and extract all email values: {"users":[{"email":"a@b.c"},{"email":"x@y.z"}]}',"Calculate how many seconds in 30 days","Explain the difference between TCP and UDP","Generate 5 strong password examples (12+ chars, mixed case, numbers, symbols)","Compare REST vs GraphQL vs gRPC in a table","Calculate the factorial of 12","Explain how DNS resolution works step-by-step","Convert timestamp 1699392000 (unix seconds) to human-readable date","List all HTTP status codes in the 4xx range with meanings","Explain how git merge differs from git rebase","Calculate average of [15, 23, 8, 42, 31, 19]"],AGENCY_EXAMPLE_PROMPTS=["[Intel Lead] Scan GitHub changelog for Prisma 6 breaking changes, [Migration Engineer] draft upgrade checklist, [Writer] format customer-ready advisory, [QA] create regression test list","[Research Coordinator] Summarize three latest AI safety papers, [Data Modeler] extract comparable metrics into table, [Debate Lead] highlight disagreements, [Comms] craft executive briefing","[Market Analyst] Gather ARR + headcount for top 5 SaaS observability vendors, [Finance] model 12-month runway scenarios, [Strategist] outline 3 positioning bets, [Writer] deliver board memo","[SRE Captain] Parse attached incident log JSON for repeating signatures, [Debugger] map chain of failure, [Playbook Author] propose mitigation tasks per team, [Communicator] draft status email","[Growth Researcher] Audit landing page copy for accessibility, [Experiment Lead] propose 3 multivariate tests, [Localization] adapt hero copy for ES/FR/JP, [Designer] supply updated style tokens","[Threat Hunter] Review MITRE ATT&CK techniques relevant to new CVE, [Detection Engineer] draft Sigma rule, [Blue Team Lead] prepare response checklist, [Advocate] craft customer advisory","[Product Trio] [PM] outline jobs-to-be-done for shared workspace, [Designer] produce layout wireframe in ASCII grid, [Engineer] note integration points, [Doc Lead] compose changelog entry","[Compliance Analyst] Match SOC2 control IDs to evidence list, [Auditor] flag gaps + owners, [Automation Lead] suggest scripts/webhooks to auto-collect evidence, [Writer] output meeting agenda","[Data Squad] [Collector] ingest provided CSV + clean missing data, [Statistician] compute variance + outliers, [Forecaster] fit ARIMA baseline, [Storyteller] narrate insight summary paragraph","[AI Lab] [Prompt Engineer] craft rubric for evaluating travel itineraries, [Researcher] pull comparison data for Rome/Berlin/Tokyo, [Itinerary Planner] assemble 3-day plans, [Critic] rate each vs rubric"];class AgentOSClient{constructor(){Kr(this,"baseUrl");const a=typeof window<"u"&&window.location&&window.location.port==="5175"?"http://localhost:3001":typeof window<"u"?window.location.origin:"http://localhost:3001";this.baseUrl=a}async sendMessage(a,c,d,b=!0,h=!1){const _=await fetch(`${this.baseUrl}/api/agentos/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:"agentos-workbench-user",personaId:a,input:c,conversationId:d||`session_${Date.now()}`,includeTools:b,includeGuardrails:h})});if(!_.ok)throw new Error("Failed to send message");return _}async streamMessage(a,c,d,b,h,_,j){var _e;try{const et=new URLSearchParams({userId:"agentos-workbench-user",mode:a,conversationId:d||`session_${Date.now()}`,messages:JSON.stringify([{role:"user",content:c}])});j!=null&&j.model&&et.set("model",j.model),j!=null&&j.workflowRequest&&et.set("workflowRequest",JSON.stringify(j.workflowRequest)),j!=null&&j.agencyRequest&&et.set("agencyRequest",JSON.stringify(j.agencyRequest));const $=`${this.baseUrl}/api/agentos/stream?${et.toString()}`,rt=await fetch($,{method:"GET",headers:{Accept:"text/event-stream"}});if(!rt.ok)throw new Error("Failed to start stream");const nt=(_e=rt.body)==null?void 0:_e.getReader(),st=new TextDecoder;if(!nt)throw new Error("No response body");let at="",ut=!1;for(;!ut;){const{done:wt,value:pt}=await nt.read();if(wt){ut=!0;break}at+=st.decode(pt,{stream:!0});const xt=at.split(`
`);at=xt.pop()||"";for(const St of xt)if(St.startsWith("data: ")){const Nt=St.slice(6);if(Nt&&Nt!=="{}")try{const At=JSON.parse(Nt);b==null||b(At)}catch(At){console.error("Failed to parse SSE chunk:",At)}}else if(St.startsWith("event: done")){h==null||h();return}else if(St.startsWith("event: error")){const Nt=xt.find(At=>At.startsWith("data: "));if(Nt)try{const At=JSON.parse(Nt.slice(6));_==null||_(new Error(At.message||"Stream error"))}catch{_==null||_(new Error("Stream error"))}return}}}catch(et){throw _==null||_(et),et}}async listPersonas(a){const c=new URLSearchParams,d=(a==null?void 0:a.userId)??"agentos-workbench-user";c.set("userId",d);const b=a==null?void 0:a.filters;if(b!=null&&b.capability){const j=Array.isArray(b.capability)?b.capability:[b.capability];for(const _e of j)c.append("capability",_e)}if(b!=null&&b.tier){const j=Array.isArray(b.tier)?b.tier:[b.tier];for(const _e of j)c.append("tier",_e)}b!=null&&b.search&&c.set("search",b.search);const h=await fetch(`${this.baseUrl}/api/agentos/personas?${c.toString()}`,{signal:a==null?void 0:a.signal});if(!h.ok)throw new Error("Failed to fetch personas");const _=await h.json();return Array.isArray(_)?_:_.personas||[]}async listWorkflows(){const a=await fetch(`${this.baseUrl}/api/agentos/workflows/definitions`);if(!a.ok)throw new Error("Failed to fetch workflows");const c=await a.json();return Array.isArray(c)?c:c.definitions||[]}async listWorkflowDefinitions(){return this.listWorkflows()}async executeAgency(a,c){const d=await fetch(`${this.baseUrl}/api/agentos/agency/execute`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({agencyId:a,input:c,userId:"agentos-workbench-user"})});if(!d.ok)throw new Error("Failed to execute agency");return d}async getExtensions(){const a=await fetch(`${this.baseUrl}/api/agentos/extensions`);if(!a.ok)throw new Error("Failed to fetch extensions");const c=await a.json();return Array.isArray(c)?c:[]}async getAvailableTools(){const a=await fetch(`${this.baseUrl}/api/agentos/extensions/tools`);if(!a.ok)throw new Error("Failed to fetch available tools");const c=await a.json();return Array.isArray(c)?c:[]}async installExtension(a){if(!(await fetch(`${this.baseUrl}/api/agentos/extensions/install`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({package:a})})).ok)throw new Error("Failed to install extension")}async executeTool(a,c){const d=await fetch(`${this.baseUrl}/api/agentos/tools/execute`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({toolId:a,input:c,userId:"agentos-workbench-user"})});if(!d.ok)throw new Error("Failed to execute tool");return d.json()}async startAgencyWorkflow(a){const c=await fetch(`${this.baseUrl}/api/agentos/agency/workflow/start`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({workflowId:"research-and-report",input:a,userId:"agentos-workbench-user"})});if(!c.ok)throw new Error("Failed to start agency workflow");return c.json()}async getLlmStatus(){const a=await fetch(`${this.baseUrl}/api/system/llm-status`);if(!a.ok)throw new Error("Failed to fetch LLM status");return a.json()}async getAvailableModels(){const a=await fetch(`${this.baseUrl}/api/agentos/models`);if(!a.ok)throw new Error("Failed to fetch models");const c=await a.json();return Array.isArray(c==null?void 0:c.models)?c.models:[]}openAgentOSStream(a,c){const d=new AbortController;return this.streamMessage(a.personaId,a.messages[a.messages.length-1].content,a.sessionId,c.onChunk,c.onDone,c.onError,{model:a.model,workflowRequest:a.workflowRequest,agencyRequest:a.agencyRequest}),()=>{d.abort()}}async getGuardrails(){const a=await fetch(`${this.baseUrl}/api/agentos/guardrails`);if(!a.ok)throw new Error("Failed to fetch guardrails");const c=await a.json();return Array.isArray(c)?c:[]}}const agentosClient=new AgentOSClient;agentosClient.sendMessage.bind(agentosClient);agentosClient.streamMessage.bind(agentosClient);const openAgentOSStream=agentosClient.openAgentOSStream.bind(agentosClient),listPersonas=agentosClient.listPersonas.bind(agentosClient);agentosClient.listWorkflows.bind(agentosClient);const listWorkflowDefinitions=agentosClient.listWorkflowDefinitions.bind(agentosClient);agentosClient.executeAgency.bind(agentosClient);agentosClient.getExtensions.bind(agentosClient);agentosClient.getAvailableTools.bind(agentosClient);agentosClient.installExtension.bind(agentosClient);agentosClient.executeTool.bind(agentosClient);agentosClient.startAgencyWorkflow.bind(agentosClient);agentosClient.getLlmStatus.bind(agentosClient);const getAvailableModels=agentosClient.getAvailableModels.bind(agentosClient);async function listAgencyExecutions(e,a){const c=typeof window<"u"?window.location.origin:"http://localhost:3333",d=new URLSearchParams({userId:e});d.set("limit",String(a));const b=await fetch(`${c}/api/agentos/agency/executions?${d}`);if(!b.ok)throw new Error(`Failed to fetch agency executions: ${b.statusText}`);return(await b.json()).executions??[]}async function getAgencyExecution(e){const a=typeof window<"u"?window.location.origin:"http://localhost:3333",c=await fetch(`${a}/api/agentos/agency/executions/${e}`);if(!c.ok){if(c.status===404)return null;throw new Error(`Failed to fetch agency execution: ${c.statusText}`)}return await c.json()}function useWorkflowDefinitions(){return useQuery({queryKey:["agentos","workflow-definitions"],queryFn:async()=>listWorkflowDefinitions(),staleTime:5*60*1e3,retry:1})}const trimTrailingSlash=e=>e.replace(/\/+$/,""),ensureLeadingSlash=e=>e.startsWith("/")?e:`/${e}`,RAW_BASE_URL="/api/agentos",RAW_STREAM_PATH="/agentos/stream",RAW_WORKFLOW_DEFINITIONS_PATH="/workflows/definitions",RAW_PERSONAS_PATH="/personas",agentOSConfig={baseUrl:trimTrailingSlash(RAW_BASE_URL),streamPath:ensureLeadingSlash(RAW_STREAM_PATH),workflowDefinitionsPath:ensureLeadingSlash(RAW_WORKFLOW_DEFINITIONS_PATH),personasPath:ensureLeadingSlash(RAW_PERSONAS_PATH),withCredentials:"true".toLowerCase()==="true"},createRequestSchema=e=>objectType({input:stringType().min(1,e("requestComposer.validation.inputRequired")),workflowId:stringType().optional()});function RequestComposer({onSubmit:e,disabled:a=!1}){const{t:c}=useTranslation(),[d,b]=reactExports.useState(!1),[h,_]=reactExports.useState(!1),j=useSessionStore(xt=>xt.sessions),_e=useSessionStore(xt=>xt.activeSessionId),{data:et=[]}=useWorkflowDefinitions(),$=j.find(xt=>xt.id===_e)??null,rt=c("requestComposer.defaults.samplePrompt"),nt=reactExports.useMemo(()=>{const St=[...($==null?void 0:$.targetType)==="agency"?AGENCY_EXAMPLE_PROMPTS:EXAMPLE_PROMPTS];for(let At=St.length-1;At>0;At--){const Ct=Math.floor(Math.random()*(At+1));[St[At],St[Ct]]=[St[Ct],St[At]]}const Nt=Math.random()<.5?3:4;return St.slice(0,Nt)},[$==null?void 0:$.targetType]),st=reactExports.useMemo(()=>createRequestSchema(c),[c]),at=useForm({resolver:t(st),defaultValues:{input:nt[0]||rt||"Hi"}}),{errors:ut}=at.formState;reactExports.useEffect(()=>{d&&$&&$.status!=="streaming"&&b(!1)},[$,d]);const wt=xt=>{if(!$){console.error("No active session selected");return}b(!0),e(xt),at.setValue("input","");const St=$.targetType==="agency"?AGENCY_EXAMPLE_PROMPTS:EXAMPLE_PROMPTS,Nt=St[Math.floor(Math.random()*St.length)];setTimeout(()=>at.setValue("input",Nt),100)},pt=at.handleSubmit(wt);return jsxRuntimeExports.jsxs("div",{className:"flex h-full flex-col gap-3 card-panel--strong p-4 transition-theme","data-tour":"composer",children:[jsxRuntimeExports.jsxs("header",{children:[jsxRuntimeExports.jsx("p",{className:"text-[10px] uppercase tracking-[0.25em] theme-text-muted",children:c("requestComposer.header.title")}),jsxRuntimeExports.jsx("h2",{className:"text-sm font-semibold theme-text-primary",children:c("requestComposer.header.subtitle")})]}),jsxRuntimeExports.jsx("form",{onSubmit:pt,className:"flex flex-1 flex-col gap-3 transition-theme","aria-busy":d,"aria-live":"polite",children:jsxRuntimeExports.jsxs("fieldset",{disabled:d||a,className:"flex flex-1 flex-col gap-3",children:[d&&$&&jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-2 rounded-lg theme-bg-warning p-2 text-xs",children:[jsxRuntimeExports.jsx(Lock,{className:"mt-0.5 h-3 w-3 flex-shrink-0 theme-text-secondary"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold theme-text-primary",children:"Single Action Mode Active"}),jsxRuntimeExports.jsx("p",{className:"mt-0.5 text-[10px] opacity-80",children:"Persona sessions intentionally process one request at a time. Launch an Agency session when you need concurrent seats or parallel workflows."})]})]}),$&&jsxRuntimeExports.jsxs("div",{className:"rounded-lg border theme-border theme-bg-secondary-soft p-2 text-xs theme-text-secondary",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-[10px] uppercase tracking-wider theme-text-muted",children:$.targetType==="agency"?"Agency Session":"Persona Session"}),jsxRuntimeExports.jsx("p",{className:"font-medium theme-text-primary",children:$.displayName})]}),$.targetType==="agency"&&jsxRuntimeExports.jsx(Users,{className:"h-3.5 w-3.5 theme-accent"})]}),$.targetType==="agency"&&et.length>0&&jsxRuntimeExports.jsxs("label",{className:"mt-2 block space-y-1",children:[jsxRuntimeExports.jsx("span",{className:"text-[10px] theme-text-muted",children:"Workflow (optional)"}),jsxRuntimeExports.jsxs("select",{...at.register("workflowId"),className:"w-full rounded-md border theme-border bg-[color:var(--color-background-secondary)] px-2 py-1 text-xs theme-text-primary focus:border-transparent focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent",children:[jsxRuntimeExports.jsx("option",{value:"",children:"No workflow"}),et.map(xt=>jsxRuntimeExports.jsx("option",{value:xt.id,children:xt.displayName},xt.id))]})]})]}),jsxRuntimeExports.jsxs("label",{className:"flex flex-1 flex-col space-y-1.5 text-xs theme-text-secondary",children:[c("requestComposer.form.userInput.label"),nt.length>0&&jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-1 text-[10px] leading-tight",children:nt.map((xt,St)=>jsxRuntimeExports.jsx("button",{type:"button",className:"rounded-full border theme-border bg-[color:var(--color-background-secondary)] px-2 py-0.5 text-[10px] transition hover:opacity-95 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent",onClick:()=>at.setValue("input",xt),children:xt},St))}),jsxRuntimeExports.jsx("textarea",{rows:6,...at.register("input"),onKeyDown:xt=>{d||xt.key==="Enter"&&!xt.shiftKey&&(xt.preventDefault(),at.handleSubmit(wt)())},className:"flex-1 min-h-24 rounded-lg border theme-border bg-[color:var(--color-background-secondary)] px-3 py-2 text-sm theme-text-primary placeholder:text-[color:var(--color-text-muted)] focus:border-transparent focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-1 focus-visible:ring-offset-[color:var(--color-background-primary)] transition-colors"}),ut.input&&jsxRuntimeExports.jsx("p",{className:"text-xs text-[color:var(--error)]",children:ut.input.message})]}),jsxRuntimeExports.jsxs("div",{className:"mt-auto flex flex-col gap-2 text-[10px] theme-text-secondary",children:[jsxRuntimeExports.jsxs("button",{type:"submit",className:"inline-flex items-center justify-center gap-2 rounded-full px-4 py-2 text-xs font-semibold theme-bg-accent theme-text-on-accent shadow-md transition hover:-translate-y-0.5 hover:opacity-95 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-60",disabled:d,children:[jsxRuntimeExports.jsx(Play,{className:"h-3.5 w-3.5"}),c(d?"requestComposer.actions.streaming":"requestComposer.actions.submit")]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>_(!h),className:"flex items-start gap-1.5 text-[10px] theme-text-muted transition-colors hover:theme-text-primary",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mt-0.5 h-2.5 w-2.5 theme-accent"}),jsxRuntimeExports.jsx("span",{children:c("requestComposer.footer.localNotice")}),h?jsxRuntimeExports.jsx(ChevronUp,{className:"mt-0.5 h-2.5 w-2.5"}):jsxRuntimeExports.jsx(ChevronDown,{className:"mt-0.5 h-2.5 w-2.5"})]}),h&&jsxRuntimeExports.jsxs("div",{className:"ml-4 rounded-lg border theme-border theme-bg-secondary-soft p-2 text-[10px]",children:[jsxRuntimeExports.jsx("p",{className:"mb-1 font-semibold theme-text-primary",children:"Connection Status"}),jsxRuntimeExports.jsx("p",{className:"mb-1",children:c("requestComposer.footer.localNoticeDetails")}),jsxRuntimeExports.jsxs("div",{className:"mt-1 space-y-0.5 font-mono theme-text-secondary",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"theme-text-muted",children:"API:"})," ",jsxRuntimeExports.jsxs("span",{className:"theme-text-primary",children:[agentOSConfig.baseUrl,agentOSConfig.streamPath]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"theme-text-muted",children:"Store:"})," ",jsxRuntimeExports.jsx("span",{className:"theme-text-primary",children:"IndexedDB"})]})]}),jsxRuntimeExports.jsxs("p",{className:"mt-1 text-[color:var(--warning)]",children:[" If requests fail, check ",jsxRuntimeExports.jsx("code",{className:"px-1 py-0.5 rounded bg-[color:var(--color-background-secondary)] theme-text-primary",children:"AGENTOS_ENABLED=true"})]})]})]})]})]})})]})}const MARKDOWN_EXAMPLES=[`[Mathematician] Calculate fibonacci(30) and analyze time complexity
[Teacher] Explain the result to a beginner`,`[Researcher] List top 5 TypeScript 5.6 features with code examples
[Analyst] Identify breaking changes
[Writer] Create migration guide in markdown`,`[Architect] Design schema for multi-tenant SaaS: users, orgs, roles, permissions
[Security] Identify authorization risks and propose solutions
[Developer] Write SQL DDL with proper indexes
[QA] Create test data and validation queries`,`[Monitor] Analyze these error logs: {"errors": [{"type": "timeout", "count": 45}, {"type": "5xx", "count": 12}]}
[Debugger] Identify root causes and suggest fixes
[Optimizer] Propose caching strategy to reduce failures
[Writer] Create incident report in markdown with action items`,`[DataAnalyst] Parse CSV: "name,score\\nAlice,92\\nBob,87\\nCarol,95"
[Statistician] Calculate mean, median, std deviation
[Visualizer] Create ASCII bar chart of results
[Reporter] Write summary with insights in markdown`];function AgencyComposer({onSubmit:e,disabled:a=!1,isSubmitting:c=!1}){const[d,b]=reactExports.useState("markdown"),[h,_]=reactExports.useState("Multi-agent coordination"),[j,_e]=reactExports.useState([]),[et,$]=reactExports.useState(MARKDOWN_EXAMPLES[0]),[rt,nt]=reactExports.useState(0),[st,at]=reactExports.useState("markdown"),ut=useSessionStore(Vt=>Vt.personas),wt=reactExports.useMemo(()=>ut.filter(Vt=>Vt.source==="remote"),[ut]),pt=()=>{const Vt=j.length+1,Bt=wt[j.length%wt.length]||ut[0];_e([...j,{id:crypto.randomUUID(),roleId:`agent_${Vt}`,personaId:(Bt==null?void 0:Bt.id)||"v_researcher",instruction:"",priority:Vt}])},xt=(Vt,Bt,Ut)=>{_e(j.map(Ft=>Ft.id===Vt?{...Ft,[Bt]:Ut}:Ft))},St=Vt=>{_e(j.filter(Bt=>Bt.id!==Vt))},Nt=()=>{const Vt=(rt+1)%MARKDOWN_EXAMPLES.length;nt(Vt),$(MARKDOWN_EXAMPLES[Vt])},At=a||c,Ct=Vt=>{var Bt;if(Vt.preventDefault(),d==="markdown"){const Ut=et.split(`
`).filter(Mt=>Mt.trim()),Ft=[];for(const Mt of Ut){const mt=Mt.match(/^\[([^\]]+)\]\s*(.+)$/);if(mt){const ft=mt[1].trim().toLowerCase().replace(/\s+/g,"_"),tt=mt[2].trim(),it=((Bt=wt[Ft.length%wt.length])==null?void 0:Bt.id)||"v_researcher";Ft.push({id:crypto.randomUUID(),roleId:ft,personaId:it,instruction:tt,priority:Ft.length+1})}}e({goal:h,roles:Ft,format:"markdown",markdownInput:et,outputFormat:st})}else e({goal:h,roles:j,format:"structured",outputFormat:st})};return jsxRuntimeExports.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-5 dark:border-white/10 dark:bg-slate-900/60",children:[jsxRuntimeExports.jsxs("header",{className:"mb-4 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-[10px] uppercase tracking-[0.4em] text-slate-500",children:"Agency Composer"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Multi-GMI Coordination"})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>b(d==="structured"?"markdown":"structured"),disabled:At,className:"inline-flex items-center gap-1 rounded-full border border-slate-200 px-3 py-1 text-xs text-slate-600 hover:bg-slate-50 dark:border-white/10 dark:text-slate-300 disabled:opacity-50",children:[d==="structured"?jsxRuntimeExports.jsx(Code,{className:"h-3 w-3"}):jsxRuntimeExports.jsx(Hash,{className:"h-3 w-3"}),d==="structured"?"Switch to Markdown":"Switch to Structured"]})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:Ct,className:"space-y-4","aria-busy":c,children:[jsxRuntimeExports.jsxs("label",{className:"block space-y-1",children:[jsxRuntimeExports.jsx("span",{className:"text-xs uppercase tracking-[0.35em] text-slate-500 dark:text-slate-400",children:"Agency Goal"}),jsxRuntimeExports.jsx("input",{value:h,onChange:Vt=>_(Vt.target.value),disabled:At,className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 focus:border-sky-500 focus:outline-none dark:border-white/10 dark:bg-slate-950/80 dark:text-slate-100 disabled:opacity-60",placeholder:"Coordinate parallel analysis and synthesis"})]}),d==="markdown"?jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-xs uppercase tracking-[0.35em] text-slate-500 dark:text-slate-400",children:"Agent Delegation (Markdown)"}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:Nt,disabled:At,className:"inline-flex items-center gap-1 rounded-full border border-amber-200 bg-amber-50 px-2 py-1 text-[9px] font-semibold uppercase tracking-wider text-amber-700 hover:bg-amber-100 disabled:cursor-not-allowed disabled:opacity-50 dark:border-amber-500/30 dark:bg-amber-500/10 dark:text-amber-200",children:[jsxRuntimeExports.jsx(Sparkles,{className:"h-3 w-3"}),"Next Example (",rt+1,"/",MARKDOWN_EXAMPLES.length,")"]})]}),jsxRuntimeExports.jsx("textarea",{value:et,onChange:Vt=>$(Vt.target.value),rows:8,disabled:At,className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 font-mono text-sm text-slate-900 focus:border-sky-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-50 dark:border-white/10 dark:bg-slate-950/80 dark:text-slate-100",placeholder:`[Researcher] List sorting algorithms with O(n)
[Coder] Implement quicksort in TypeScript
[Tester] Write test cases`}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-500",children:["Use ",jsxRuntimeExports.jsx("code",{className:"rounded bg-slate-100 px-1 dark:bg-slate-800",children:"[RoleName] task description"})," format. Each line creates a separate GMI agent."]})]}):jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("span",{className:"text-xs uppercase tracking-[0.35em] text-slate-500 dark:text-slate-400",children:["Agent Roles (",j.length,")"]}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:pt,disabled:At,className:"inline-flex items-center gap-1 rounded-full border border-dashed border-slate-300 px-3 py-1 text-xs text-slate-600 hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50 dark:border-white/20 dark:text-slate-300",children:[jsxRuntimeExports.jsx(Plus,{className:"h-3 w-3"}),"Add Role"]})]}),j.length===0?jsxRuntimeExports.jsx("div",{className:"rounded-lg border border-dashed border-slate-300 bg-slate-50 p-4 text-center text-xs text-slate-500 dark:border-white/10 dark:bg-slate-950/40 dark:text-slate-500",children:"Add agent roles to coordinate parallel execution"}):jsxRuntimeExports.jsx("div",{className:"space-y-2",children:j.map((Vt,Bt)=>jsxRuntimeExports.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3 dark:border-white/10 dark:bg-slate-950/50",children:[jsxRuntimeExports.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("span",{className:"text-xs font-semibold uppercase tracking-wider text-slate-600 dark:text-slate-400",children:["Agent ",Bt+1]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>St(Vt.id),disabled:At,className:"rounded-full border border-slate-200 p-1 text-slate-600 hover:bg-slate-100 disabled:cursor-not-allowed disabled:opacity-50 dark:border-white/10 dark:text-slate-400",children:jsxRuntimeExports.jsx(Trash2,{className:"h-3 w-3"})})]}),jsxRuntimeExports.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[jsxRuntimeExports.jsx("input",{value:Vt.roleId,onChange:Ut=>xt(Vt.id,"roleId",Ut.target.value),placeholder:"researcher",disabled:At,className:"rounded border border-slate-200 bg-white px-2 py-1 text-xs disabled:cursor-not-allowed disabled:opacity-50 dark:border-white/10 dark:bg-slate-950/80 dark:text-slate-100"}),jsxRuntimeExports.jsx("select",{value:Vt.personaId,onChange:Ut=>xt(Vt.id,"personaId",Ut.target.value),disabled:At,className:"rounded border border-slate-200 bg-white px-2 py-1 text-xs disabled:cursor-not-allowed disabled:opacity-50 dark:border-white/10 dark:bg-slate-950/80 dark:text-slate-100",children:ut.map(Ut=>jsxRuntimeExports.jsx("option",{value:Ut.id,children:Ut.displayName},Ut.id))})]}),jsxRuntimeExports.jsx("textarea",{value:Vt.instruction,onChange:Ut=>xt(Vt.id,"instruction",Ut.target.value),rows:2,placeholder:"Specific task for this agent...",disabled:At,className:"mt-2 w-full rounded border border-slate-200 bg-white px-2 py-1 text-xs disabled:cursor-not-allowed disabled:opacity-50 dark:border-white/10 dark:bg-slate-950/80 dark:text-slate-100"})]},Vt.id))})]}),jsxRuntimeExports.jsxs("label",{className:"block space-y-1",children:[jsxRuntimeExports.jsx("span",{className:"text-xs uppercase tracking-[0.35em] text-slate-500 dark:text-slate-400",children:"Output Format"}),jsxRuntimeExports.jsxs("select",{value:st,onChange:Vt=>at(Vt.target.value),disabled:At,className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 focus:border-sky-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-50 dark:border-white/10 dark:bg-slate-950/80 dark:text-slate-100",children:[jsxRuntimeExports.jsx("option",{value:"markdown",children:"Markdown (default)"}),jsxRuntimeExports.jsx("option",{value:"json",children:"JSON"}),jsxRuntimeExports.jsx("option",{value:"csv",children:"CSV"}),jsxRuntimeExports.jsx("option",{value:"text",children:"Plain Text"})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500",children:"Requested format for consolidated agency output. Agents will format their responses accordingly."})]}),jsxRuntimeExports.jsxs("button",{type:"submit",disabled:At||(d==="markdown"?!et.trim():j.length===0),className:"inline-flex w-full items-center justify-center gap-2 rounded-full bg-emerald-500 px-4 py-2 text-sm font-semibold text-white transition hover:-translate-y-0.5 disabled:cursor-not-allowed disabled:opacity-50",children:[jsxRuntimeExports.jsx(Users,{className:"h-4 w-4"}),c?"Coordinating":"Start Agency Workflow"]}),c&&jsxRuntimeExports.jsx("p",{className:"text-center text-xs text-slate-500 dark:text-slate-400",children:"Coordinating seats and streaming updates"})]})]})}const STEPS$1=[{key:"basics",label:"Basics"},{key:"participants",label:"Seats"},{key:"review",label:"Review"}];function slugify$2(e){return e.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")}function AgencyWizard({open:e,onClose:a}){var Ut,Ft,Mt;const c=useSessionStore(mt=>mt.personas),d=useSessionStore(mt=>mt.addAgency),h=((Ut=reactExports.useMemo(()=>c.filter(mt=>mt.source==="remote"),[c])[0])==null?void 0:Ut.id)??((Ft=c[0])==null?void 0:Ft.id)??"",[_,j]=reactExports.useState("basics"),[_e,et]=reactExports.useState("New Agency"),[$,rt]=reactExports.useState(""),[nt,st]=reactExports.useState(""),[at,ut]=reactExports.useState([{roleId:"lead",personaId:h}]),{data:wt=[],isLoading:pt}=useWorkflowDefinitions();reactExports.useEffect(()=>{!nt&&wt.length>0&&st(wt[0].id)},[wt,nt]),reactExports.useEffect(()=>{var tt,it,ht;if(!e)return;const mt=wt.find(dt=>dt.id===nt);!(mt!=null&&mt.roles)||mt.roles.length===0||!(at.length===1&&((tt=at[0])==null?void 0:tt.roleId)==="lead"&&(!((it=at[0])!=null&&it.personaId)||((ht=at[0])==null?void 0:ht.personaId)===h))||ut(mt.roles.map((dt,lt)=>({roleId:dt.roleId||`seat-${lt+1}`,personaId:dt.personaId??h,notes:dt.description})))},[e,wt,nt,at,h]),reactExports.useEffect(()=>{h&&ut(mt=>mt.map(ft=>ft.personaId?ft:{...ft,personaId:h}))},[h]);const xt=STEPS$1.findIndex(mt=>mt.key===_),St=xt===STEPS$1.length-1,Nt=()=>{St?Vt():j(STEPS$1[xt+1].key)},At=()=>{xt>0&&j(STEPS$1[xt-1].key)},Ct=()=>{var mt;j("basics"),et("New Agency"),rt(""),st(((mt=wt[0])==null?void 0:mt.id)??""),ut([{roleId:"lead",personaId:h}])},Vt=()=>{if(!_e.trim()){alert("Agency name is required");return}const mt=at.filter(it=>it.roleId.trim().length>0).map((it,ht)=>({roleId:slugify$2(it.roleId)||`seat-${ht+1}`,personaId:it.personaId||h,notes:it.notes}));if(mt.length===0){alert("Add at least one participant");return}const ft=slugify$2(_e)||`agency-${crypto.randomUUID().slice(0,8)}`,tt=new Date().toISOString();d({id:ft,name:_e.trim(),goal:$.trim()||void 0,workflowId:nt||void 0,participants:mt,metadata:{createdViaWizard:!0},createdAt:tt,updatedAt:tt}),a(),Ct()};if(!e)return null;const Bt=c.length>0;return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-4xl rounded-2xl border border-slate-200 bg-white shadow-2xl dark:border-white/10 dark:bg-slate-900",children:[jsxRuntimeExports.jsxs("header",{className:"flex items-center justify-between border-b border-slate-200 px-6 py-4 dark:border-white/10",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-[0.35em] text-slate-500 dark:text-slate-400",children:"Agency Wizard"}),jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Launch a multi-seat collective"})]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{Ct(),a()},className:"rounded-full p-1 transition hover:bg-slate-100 dark:hover:bg-slate-800","aria-label":"Close agency wizard",children:jsxRuntimeExports.jsx(X,{className:"h-5 w-5 text-slate-500"})})]}),jsxRuntimeExports.jsx("div",{className:"border-b border-slate-200 px-6 py-3 dark:border-white/10",children:jsxRuntimeExports.jsx("ol",{className:"flex items-center gap-3 text-xs font-semibold uppercase tracking-[0.35em] text-slate-500 dark:text-slate-400",children:STEPS$1.map((mt,ft)=>jsxRuntimeExports.jsx("li",{className:`inline-flex items-center gap-2 rounded-full border px-3 py-1 ${ft===xt?"border-sky-500 bg-sky-500/10 text-sky-700 dark:border-sky-400 dark:text-sky-200":ft<xt?"border-emerald-500/40 bg-emerald-500/10 text-emerald-700 dark:border-emerald-400 dark:text-emerald-200":"border-slate-200 text-slate-500 dark:border-white/10"}`,children:mt.label},mt.key))})}),jsxRuntimeExports.jsxs("section",{className:"px-6 py-6",children:[_==="basics"&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-200",children:["Agency name",jsxRuntimeExports.jsx("input",{value:_e,onChange:mt=>et(mt.target.value),className:"mt-1 w-full rounded-xl border border-slate-200 bg-white px-4 py-2 text-base dark:border-white/10 dark:bg-slate-900"})]}),jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-200",children:["Mission / Goal",jsxRuntimeExports.jsx("textarea",{value:$,onChange:mt=>rt(mt.target.value),rows:3,className:"mt-1 w-full rounded-xl border border-slate-200 bg-white px-4 py-2 text-base dark:border-white/10 dark:bg-slate-900",placeholder:"Define what this agency should accomplish in parallel"})]}),jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-200",children:["Workflow blueprint",jsxRuntimeExports.jsxs("div",{className:"mt-1 flex items-center gap-3",children:[jsxRuntimeExports.jsx(Workflow,{className:"h-4 w-4 text-sky-500"}),pt?jsxRuntimeExports.jsx("span",{className:"text-xs text-slate-500",children:"Loading workflows..."}):wt.length===0?jsxRuntimeExports.jsx("span",{className:"text-xs text-slate-500",children:"No workflows available. Add definitions via backend."}):jsxRuntimeExports.jsx("select",{value:nt,onChange:mt=>st(mt.target.value),className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm dark:border-white/10 dark:bg-slate-900",children:wt.map(mt=>jsxRuntimeExports.jsx("option",{value:mt.id,children:mt.displayName},mt.id))})]})]})]}),_==="participants"&&jsxRuntimeExports.jsx("div",{className:"space-y-4",children:Bt?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-[0.35em] text-slate-500 dark:text-slate-400",children:"Seats"}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:at.map((mt,ft)=>jsxRuntimeExports.jsxs("div",{className:"rounded-2xl border border-slate-200 p-4 dark:border-white/10",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Users,{className:"h-4 w-4 text-sky-500"}),jsxRuntimeExports.jsx("input",{value:mt.roleId,onChange:tt=>ut(it=>it.map((ht,dt)=>dt===ft?{...ht,roleId:tt.target.value}:ht)),placeholder:"Role id (e.g. researcher)",className:"rounded-lg border border-slate-200 px-3 py-1 text-sm dark:border-white/10 dark:bg-slate-950"})]}),at.length>1&&jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>ut(tt=>tt.filter((it,ht)=>ht!==ft)),className:"rounded-full p-1 text-slate-500 transition hover:bg-rose-50 hover:text-rose-600 dark:hover:bg-rose-500/10","aria-label":"Remove seat",children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})]}),jsxRuntimeExports.jsxs("div",{className:"mt-3 grid gap-2 sm:grid-cols-2",children:[jsxRuntimeExports.jsxs("label",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:["Persona",jsxRuntimeExports.jsx("select",{value:mt.personaId,onChange:tt=>ut(it=>it.map((ht,dt)=>dt===ft?{...ht,personaId:tt.target.value}:ht)),className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm dark:border-white/10 dark:bg-slate-900",children:c.map(tt=>jsxRuntimeExports.jsx("option",{value:tt.id,children:tt.displayName},tt.id))})]}),jsxRuntimeExports.jsxs("label",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:["Notes",jsxRuntimeExports.jsx("input",{value:mt.notes??"",onChange:tt=>ut(it=>it.map((ht,dt)=>dt===ft?{...ht,notes:tt.target.value}:ht)),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm dark:border-white/10 dark:bg-slate-900",placeholder:"Seat instructions"})]})]})]},`${mt.roleId}-${ft}`))}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>ut(mt=>[...mt,{roleId:`seat-${mt.length+1}`,personaId:h}]),className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-3 py-1 text-xs font-semibold text-slate-600 transition hover:bg-slate-50 dark:border-white/10 dark:text-slate-200 dark:hover:bg-slate-900",children:[jsxRuntimeExports.jsx(Plus,{className:"h-3.5 w-3.5"}),"Add seat"]})]}):jsxRuntimeExports.jsx("p",{className:"rounded-lg border border-amber-200 bg-amber-50 p-4 text-sm text-amber-800 dark:border-amber-500/30 dark:bg-amber-500/10 dark:text-amber-100",children:"Add at least one persona before configuring an agency. Use the Personas tab to seed GMIs."})}),_==="review"&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"rounded-2xl border border-slate-200 p-4 dark:border-white/10",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Summary"}),jsxRuntimeExports.jsxs("dl",{className:"mt-3 grid gap-3 text-sm text-slate-600 dark:text-slate-300 sm:grid-cols-2",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("dt",{className:"text-xs uppercase tracking-[0.35em] text-slate-500",children:"Name"}),jsxRuntimeExports.jsx("dd",{className:"text-slate-900 dark:text-slate-100",children:_e||"Untitled agency"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("dt",{className:"text-xs uppercase tracking-[0.35em] text-slate-500",children:"Workflow"}),jsxRuntimeExports.jsx("dd",{children:((Mt=wt.find(mt=>mt.id===nt))==null?void 0:Mt.displayName)??""})]}),jsxRuntimeExports.jsxs("div",{className:"sm:col-span-2",children:[jsxRuntimeExports.jsx("dt",{className:"text-xs uppercase tracking-[0.35em] text-slate-500",children:"Goal"}),jsxRuntimeExports.jsx("dd",{children:$||"No goal provided"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"rounded-2xl border border-slate-200 p-4 dark:border-white/10",children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-[0.35em] text-slate-500 dark:text-slate-400",children:"Participants"}),jsxRuntimeExports.jsx("ul",{className:"mt-3 space-y-2",children:at.map((mt,ft)=>{const tt=c.find(it=>it.id===mt.personaId);return jsxRuntimeExports.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700 dark:border-white/10 dark:bg-slate-900/60 dark:text-slate-200",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold uppercase tracking-[0.25em]",children:mt.roleId}),jsxRuntimeExports.jsx("p",{className:"text-xs text-slate-500",children:mt.notes||"No instructions"})]}),jsxRuntimeExports.jsx("span",{children:(tt==null?void 0:tt.displayName)??mt.personaId??"Unassigned"})]},`${mt.roleId}-${ft}`)})})]})]})]}),jsxRuntimeExports.jsxs("footer",{className:"flex items-center justify-between border-t border-slate-200 px-6 py-4 dark:border-white/10",children:[jsxRuntimeExports.jsxs("button",{type:"button",onClick:At,disabled:xt===0,className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-4 py-1.5 text-xs font-semibold text-slate-600 disabled:opacity-60 dark:border-white/10 dark:text-slate-200",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"h-3.5 w-3.5"}),"Back"]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:Nt,className:"inline-flex items-center gap-2 rounded-full bg-sky-500 px-5 py-2 text-xs font-semibold uppercase tracking-[0.35em] text-white hover:bg-sky-400",children:St?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(CircleCheck,{className:"h-4 w-4"}),"Launch"]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["Next",jsxRuntimeExports.jsx(ArrowRight,{className:"h-3.5 w-3.5"})]})})]})]})})}function Card({className:e,children:a,...c}){return jsxRuntimeExports.jsx("div",{className:`rounded-xl border border-slate-200 bg-white dark:border-white/10 dark:bg-slate-900 ${e??""}`,...c,children:a})}const variantClasses={primary:"bg-sky-600 text-white",secondary:"bg-slate-200 text-slate-700 dark:bg-slate-800 dark:text-slate-200",outline:"border border-slate-300 bg-transparent text-slate-700 dark:border-white/10 dark:text-slate-200",success:"bg-emerald-600 text-white",warning:"bg-amber-500 text-white",destructive:"bg-red-600 text-white"},sizeClasses={xs:"px-1.5 py-0.5 text-[10px] rounded",sm:"px-2 py-0.5 text-xs rounded"};function Badge({className:e,variant:a="secondary",size:c="sm",title:d,children:b}){return jsxRuntimeExports.jsx("span",{className:`${variantClasses[a]} ${sizeClasses[c]} ${e??""}`,title:d,children:b})}const AgencyHistoryView=({userId:e})=>{const[a,c]=reactExports.useState([]),[d,b]=reactExports.useState(!0),[h,_]=reactExports.useState(null),[j,_e]=reactExports.useState(new Map);reactExports.useEffect(()=>{et()},[e]);const et=async()=>{try{b(!0);const at=await listAgencyExecutions(e,20);c(at)}catch(at){console.error("Failed to load agency executions:",at)}finally{b(!1)}},$=async at=>{if(h===at){_(null);return}if(_(at),!j.has(at))try{const ut=await getAgencyExecution(at);ut&&_e(new Map(j.set(at,ut)))}catch(ut){console.error(`Failed to load details for agency ${at}:`,ut)}},rt=at=>{switch(at){case"completed":return"success";case"failed":return"destructive";case"running":return"primary";default:return"secondary"}},nt=at=>{if(!at)return"N/A";const ut=Math.floor(at/1e3);if(ut<60)return`${ut}s`;const wt=Math.floor(ut/60),pt=ut%60;return`${wt}m ${pt}s`},st=at=>at?`$${at.toFixed(4)}`:"$0.00";return d?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-32",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4 animate-spin text-primary"}),jsxRuntimeExports.jsx("span",{className:"text-xs theme-text-muted",children:"Loading history..."})]})}):a.length===0?jsxRuntimeExports.jsxs(Card,{className:"p-6 text-center",children:[jsxRuntimeExports.jsx(History,{className:"w-8 h-8 mx-auto mb-3 text-muted-foreground"}),jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold mb-1 theme-text-primary",children:"No Executions"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Agency executions will appear here once you start a multi-agent workflow."})]}):jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(History,{className:"w-4 h-4 text-primary"}),jsxRuntimeExports.jsx("h2",{className:"text-sm font-bold theme-text-primary",children:"Execution History"})]}),jsxRuntimeExports.jsxs(Badge,{variant:"secondary",size:"xs",children:[a.length," total"]})]}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:a.map(at=>{var xt;const ut=h===at.agency_id,wt=j.get(at.agency_id),pt=at.emergent_metadata?JSON.parse(at.emergent_metadata):null;return jsxRuntimeExports.jsx(Card,{className:"overflow-hidden",children:jsxRuntimeExports.jsxs("div",{className:"p-3 cursor-pointer hover:bg-accent/5 transition-colors",onClick:()=>$(at.agency_id),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 mb-1.5",children:[ut?jsxRuntimeExports.jsx(ChevronDown,{className:"w-3 h-3 flex-shrink-0"}):jsxRuntimeExports.jsx(ChevronRight,{className:"w-3 h-3 flex-shrink-0"}),jsxRuntimeExports.jsx("h3",{className:"font-semibold text-sm truncate theme-text-primary",children:at.goal}),jsxRuntimeExports.jsx(Badge,{variant:rt(at.status),size:"xs",children:jsxRuntimeExports.jsx("span",{className:"capitalize",children:at.status})}),pt&&jsxRuntimeExports.jsxs(Badge,{variant:"primary",size:"xs",children:[jsxRuntimeExports.jsx(Zap,{className:"w-2.5 h-2.5 mr-1"}),"Emergent"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 text-[10px] theme-text-secondary",children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-2.5 h-2.5"}),jsxRuntimeExports.jsx("span",{children:nt(at.duration_ms)})]}),jsxRuntimeExports.jsxs("span",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx(DollarSign,{className:"w-2.5 h-2.5"}),jsxRuntimeExports.jsx("span",{children:st(at.total_cost_usd)})]}),jsxRuntimeExports.jsxs("span",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx(Users,{className:"w-2.5 h-2.5"}),jsxRuntimeExports.jsxs("span",{children:[(wt==null?void 0:wt.seats.length)??"..."," seats"]})]}),pt&&jsxRuntimeExports.jsxs("span",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx(Brain,{className:"w-2.5 h-2.5"}),jsxRuntimeExports.jsxs("span",{children:[((xt=pt.tasksDecomposed)==null?void 0:xt.length)??0," tasks"]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"text-[10px] theme-text-muted whitespace-nowrap ml-2",children:new Date(at.started_at).toLocaleTimeString()})]}),ut&&wt&&jsxRuntimeExports.jsxs("div",{className:"mt-3 pt-3 border-t theme-border space-y-3",onClick:St=>St.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-xs mb-1.5 theme-text-secondary uppercase tracking-wider",children:"Agent Seats"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 gap-2",children:wt.seats.map(St=>jsxRuntimeExports.jsxs("div",{className:"p-2 border rounded-md space-y-1 bg-secondary/20",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-xs theme-text-primary",children:St.role_id}),jsxRuntimeExports.jsx(Badge,{variant:rt(St.status),size:"xs",children:St.status})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between text-[10px] theme-text-muted",children:[jsxRuntimeExports.jsxs("span",{children:["Persona: ",St.persona_id]}),St.usage_cost_usd&&jsxRuntimeExports.jsx("span",{children:st(St.usage_cost_usd)})]}),St.output&&jsxRuntimeExports.jsxs("div",{className:"text-[10px] bg-secondary p-1.5 rounded max-h-16 overflow-y-auto theme-text-secondary font-mono",children:[St.output.substring(0,150),St.output.length>150&&"..."]}),St.error&&jsxRuntimeExports.jsx("div",{className:"text-[10px] text-destructive bg-destructive/10 p-1.5 rounded",children:St.error})]},St.id))})]}),pt&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h4",{className:"font-medium text-xs mb-1.5 flex items-center space-x-1 theme-text-secondary uppercase tracking-wider",children:[jsxRuntimeExports.jsx(Zap,{className:"w-3 h-3 text-primary"}),jsxRuntimeExports.jsx("span",{children:"Emergent Analysis"})]}),jsxRuntimeExports.jsx("div",{className:"space-y-2 text-[10px] theme-text-secondary",children:pt.tasksDecomposed&&pt.tasksDecomposed.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"font-medium mb-1",children:"Tasks:"}),jsxRuntimeExports.jsx("ul",{className:"list-disc list-inside space-y-0.5 pl-1",children:pt.tasksDecomposed.map(St=>jsxRuntimeExports.jsx("li",{children:St.description},St.taskId))})]})})]}),at.consolidated_output&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-xs mb-1.5 theme-text-secondary uppercase tracking-wider",children:"Output"}),jsxRuntimeExports.jsx("div",{className:"text-[10px] bg-secondary p-2 rounded max-h-32 overflow-y-auto whitespace-pre-wrap theme-text-primary font-mono",children:at.consolidated_output})]})]})]})},at.agency_id)})})]})};function slugify$1(e){return e.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"").slice(0,64)}function AgencyManager(){var dt;const e=useSessionStore(lt=>lt.agencies),a=useSessionStore(lt=>lt.personas),c=useSessionStore(lt=>lt.agencySessions),d=useSessionStore(lt=>lt.activeAgencyId),b=useSessionStore(lt=>lt.addAgency),h=useSessionStore(lt=>lt.removeAgency),_=useSessionStore(lt=>lt.setActiveAgency),j="workbench-user",[_e,et]=reactExports.useState(!1),[$,rt]=reactExports.useState(!1),nt=()=>{const lt="New Agency",gt=e.filter(ot=>ot.name.startsWith(lt));return gt.length===0?lt:`${lt} ${gt.length+1}`},[st,at]=reactExports.useState(nt()),[ut,wt]=reactExports.useState(""),[pt,xt]=reactExports.useState(""),St=reactExports.useMemo(()=>a.filter(lt=>lt.source==="remote"),[a]),[Nt,At]=reactExports.useState([{roleId:"lead",personaId:((dt=St[0])==null?void 0:dt.id)??""}]),{data:Ct=[],isLoading:Vt,refetch:Bt,error:Ut}=useWorkflowDefinitions(),Ft=reactExports.useMemo(()=>Ct.find(lt=>lt.id===pt)??null,[Ct,pt]);reactExports.useEffect(()=>{!pt&&Ct.length>0&&xt(Ct[0].id)},[Ct,pt]),reactExports.useEffect(()=>{var ot,vt,ct,yt;if(!Ft)return;const lt=((ot=St[0])==null?void 0:ot.id)??"";Nt.length<=1&&((vt=Nt[0])==null?void 0:vt.roleId)==="lead"&&(!((ct=Nt[0])!=null&&ct.personaId)||((yt=Nt[0])==null?void 0:yt.personaId)===lt)&&Ft.roles&&Ft.roles.length>0&&At(Ft.roles.map(Dt=>({roleId:Dt.roleId,personaId:Dt.personaId??""}))),!ut&&Ft.description&&wt(Ft.description)},[ut,Nt,a,Ft]),reactExports.useEffect(()=>{const lt=()=>et(!0);return window.addEventListener("agentos:open-agency-wizard",lt),()=>window.removeEventListener("agentos:open-agency-wizard",lt)},[]);const Mt=(lt,gt,ot)=>{At(vt=>{const ct=[...vt];return ct[lt]={...ct[lt],[gt]:ot},ct})},mt=lt=>{At(gt=>gt.filter((ot,vt)=>vt!==lt))},ft=()=>{At(lt=>{var gt;return[...lt,{roleId:"",personaId:((gt=St[0])==null?void 0:gt.id)??""}]})},tt=lt=>Ft?{...lt,workflowDefinitionId:Ft.id,workflowDisplayName:Ft.displayName}:lt,it=lt=>{var ct,yt;if(lt.preventDefault(),!st.trim())return;const gt=slugify$1(st)||`agency-${crypto.randomUUID().slice(0,8)}`,ot=new Date().toISOString(),vt=Nt.filter(Dt=>Dt.roleId.trim().length>0).map((Dt,Ht)=>({roleId:slugify$1(Dt.roleId)||`seat-${Ht+1}`,personaId:Dt.personaId||void 0}));b({id:gt,name:st.trim(),goal:ut.trim()||void 0,workflowId:pt.trim()||void 0,participants:vt,metadata:tt(ut?{goal:ut}:void 0),createdAt:ot,updatedAt:ot}),_(gt),at(""),wt(""),xt(((ct=Ct[0])==null?void 0:ct.id)??""),At([{roleId:"lead",personaId:((yt=a[0])==null?void 0:yt.id)??""}])},ht=(Ft==null?void 0:Ft.roles)??[];return jsxRuntimeExports.jsxs("div",{className:"flex h-full flex-col gap-3 overflow-hidden",children:[jsxRuntimeExports.jsxs("section",{className:"flex-1 flex flex-col rounded-xl border theme-border theme-bg-secondary-soft p-3 overflow-y-auto transition-theme","data-tour":"agency-manager",children:[jsxRuntimeExports.jsxs("header",{className:"mb-3 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-[10px] uppercase tracking-[0.4em] theme-text-muted",children:"Agency manager"}),jsxRuntimeExports.jsx("h3",{className:"text-base font-semibold theme-text-primary",children:"Coordinate collectives"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5",children:[jsxRuntimeExports.jsx("div",{className:"rounded-full border theme-border px-2 py-0.5 text-[10px] theme-text-secondary",children:e.length}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>rt(!$),className:"inline-flex items-center gap-1 rounded-full border theme-border px-2 py-0.5 text-[10px] font-semibold theme-text-secondary transition hover:bg-slate-50 dark:hover:bg-slate-900",children:[jsxRuntimeExports.jsx(History,{className:"h-3 w-3 text-purple-500"}),"History"]}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>et(!0),className:"inline-flex items-center gap-1 rounded-full border theme-border px-2 py-0.5 text-[10px] font-semibold theme-text-secondary transition hover:bg-slate-50 dark:hover:bg-slate-900",children:[jsxRuntimeExports.jsx(Sparkles,{className:"h-3 w-3 text-sky-500"}),"Wizard"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("div",{className:"space-y-2",children:e.length===0?jsxRuntimeExports.jsx("p",{className:"rounded-xl border border-dashed border-slate-300 bg-white p-3 text-xs text-slate-600 dark:border-white/10 dark:bg-slate-950/40 dark:text-slate-400",children:"Create an agency to assign personas into workflow roles and watch seats update in real time."}):e.map(lt=>{const gt=c[lt.id],ot=(gt==null?void 0:gt.seats)??lt.participants.map(vt=>({roleId:vt.roleId,personaId:vt.personaId??"unassigned",gmiInstanceId:"pending",metadata:vt.personaId?{requestedPersonaId:vt.personaId}:void 0}));return jsxRuntimeExports.jsxs("div",{role:"button",tabIndex:0,onClick:()=>_(lt.id),onKeyDown:vt=>{(vt.key==="Enter"||vt.key===" ")&&(vt.preventDefault(),_(lt.id))},className:`w-full rounded-xl border px-3 py-2 text-left transition focus:outline-none focus:ring-2 focus:ring-sky-500 ${d===lt.id?"border-sky-500 bg-sky-50 dark:bg-sky-900/20":"theme-border theme-bg-secondary hover:opacity-95"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between text-[10px] theme-text-secondary",children:[jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1.5 font-semibold uppercase tracking-[0.3em] text-sky-700 dark:text-sky-300",children:[jsxRuntimeExports.jsx(Users,{className:"h-2.5 w-2.5"})," ",lt.name]}),gt?jsxRuntimeExports.jsx("span",{className:"text-[9px] uppercase tracking-[0.3em] text-emerald-700 dark:text-emerald-300",children:"Live"}):null]}),lt.goal&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-xs theme-text-primary line-clamp-2",children:lt.goal}),jsxRuntimeExports.jsx("div",{className:"mt-2 space-y-1.5",children:ot.length===0?jsxRuntimeExports.jsx("p",{className:"text-[10px] theme-text-muted",children:"No seats configured."}):ot.map(vt=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between rounded-lg border theme-border theme-bg-primary px-2 py-1 text-[10px] theme-text-secondary",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold uppercase tracking-[0.35em] theme-text-muted",children:vt.roleId}),jsxRuntimeExports.jsx("span",{className:"theme-text-primary truncate max-w-[100px]",children:vt.personaId})]},vt.roleId))}),jsxRuntimeExports.jsxs("div",{className:"mt-2 flex items-center justify-between text-[9px] uppercase tracking-[0.3em] theme-text-muted",children:[jsxRuntimeExports.jsx("span",{children:lt.workflowId??"No workflow"}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:vt=>{vt.stopPropagation(),window.confirm(`Remove agency "${lt.name}"?`)&&h(lt.id)},className:"inline-flex items-center gap-0.5 text-rose-700 transition hover:text-rose-500 dark:text-rose-300 dark:hover:text-rose-200",children:[jsxRuntimeExports.jsx(Trash2,{className:"h-2.5 w-2.5"})," Remove"]})]})]},lt.id)})}),jsxRuntimeExports.jsxs("form",{onSubmit:it,className:"space-y-2 rounded-xl border theme-border theme-bg-secondary p-3 text-xs theme-text-secondary",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("p",{className:"text-[10px] uppercase tracking-[0.35em] theme-text-muted",children:"New agency"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 text-[10px] theme-text-muted",children:[Ut&&jsxRuntimeExports.jsx("span",{className:"text-rose-300",children:"Fetch failed."}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>Bt(),className:"inline-flex items-center gap-0.5 rounded-full border theme-border px-1.5 py-0.5 text-[9px] uppercase tracking-[0.35em] transition hover:opacity-95",children:[jsxRuntimeExports.jsx(RefreshCcw,{className:"h-2.5 w-2.5"})," Refresh"]})]})]}),jsxRuntimeExports.jsxs("label",{className:"space-y-0.5 block",children:[jsxRuntimeExports.jsx("span",{className:"text-[10px] theme-text-muted",children:"Agency name"}),jsxRuntimeExports.jsx("input",{value:st,onChange:lt=>at(lt.target.value),className:"w-full rounded-md border theme-border theme-bg-primary px-2 py-1.5 text-xs theme-text-primary focus:border-sky-500 focus:outline-none",placeholder:"Mission Automation Crew"})]}),jsxRuntimeExports.jsxs("label",{className:"space-y-0.5 block",children:[jsxRuntimeExports.jsx("span",{className:"text-[10px] theme-text-muted",children:"Shared goal"}),jsxRuntimeExports.jsx("textarea",{value:ut,onChange:lt=>wt(lt.target.value),rows:2,className:"w-full rounded-md border theme-border theme-bg-primary px-2 py-1.5 text-xs theme-text-primary focus:border-sky-500 focus:outline-none",placeholder:"Coordinate the release-readiness workflow..."})]}),jsxRuntimeExports.jsxs("label",{className:"space-y-0.5 block",children:[jsxRuntimeExports.jsx("span",{className:"text-[10px] theme-text-muted",children:"Workflow definition"}),jsxRuntimeExports.jsxs("select",{value:pt,onChange:lt=>xt(lt.target.value),className:"w-full rounded-md border theme-border theme-bg-primary px-2 py-1.5 text-xs theme-text-primary focus:border-sky-500 focus:outline-none",children:[jsxRuntimeExports.jsx("option",{value:"",children:Vt?"Loading...":"Unassigned"}),Ct.map(lt=>jsxRuntimeExports.jsx("option",{value:lt.id,children:lt.displayName},lt.id))]})]}),ht.length>0&&jsxRuntimeExports.jsxs("div",{className:"rounded-lg border theme-border theme-bg-primary p-2 text-[10px] theme-text-muted",children:[jsxRuntimeExports.jsx("p",{className:"mb-1 font-semibold uppercase tracking-[0.35em]",children:"Workflow roles"}),jsxRuntimeExports.jsx("ul",{className:"space-y-0.5",children:ht.map(lt=>jsxRuntimeExports.jsxs("li",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{children:lt.displayName||lt.roleId}),lt.personaId&&jsxRuntimeExports.jsxs("span",{className:"text-slate-500",children:["Persona: ",lt.personaId]})]},lt.roleId))})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1.5",children:[jsxRuntimeExports.jsx("p",{className:"text-[10px] uppercase tracking-[0.35em] theme-text-muted",children:"Seat assignments"}),Nt.map((lt,gt)=>jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1 rounded-lg border theme-border theme-bg-primary p-2 sm:flex-row sm:items-center",children:[jsxRuntimeExports.jsx("input",{value:lt.roleId,onChange:ot=>Mt(gt,"roleId",ot.target.value),className:"flex-1 rounded border theme-border theme-bg-secondary px-2 py-1 text-xs theme-text-primary focus:border-sky-500 focus:outline-none",placeholder:"planner"}),jsxRuntimeExports.jsxs("select",{value:lt.personaId,onChange:ot=>Mt(gt,"personaId",ot.target.value),className:"flex-1 rounded border theme-border theme-bg-secondary px-2 py-1 text-xs theme-text-primary focus:border-sky-500 focus:outline-none",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Unassigned"}),a.map(ot=>jsxRuntimeExports.jsx("option",{value:ot.id,children:ot.displayName},ot.id))]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>mt(gt),className:"self-start rounded-full border theme-border p-1 text-slate-500 transition hover:bg-slate-50 dark:hover:text-rose-300",title:"Remove seat",children:jsxRuntimeExports.jsx(Trash2,{className:"h-2.5 w-2.5"})})]},gt)),jsxRuntimeExports.jsxs("button",{type:"button",onClick:ft,className:"inline-flex items-center gap-1 rounded-full border border-dashed border-slate-300 px-2 py-1 text-[10px] font-semibold uppercase tracking-[0.35em] theme-text-muted transition hover:opacity-95",children:[jsxRuntimeExports.jsx(Plus,{className:"h-2.5 w-2.5"})," Add seat"]})]}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"mt-2 inline-flex w-full items-center justify-center gap-1.5 rounded-full theme-bg-success px-3 py-1.5 text-xs font-semibold text-white transition hover:-translate-y-0.5",children:[jsxRuntimeExports.jsx(Users,{className:"h-3.5 w-3.5"})," Launch agency"]})]})]})]}),$&&jsxRuntimeExports.jsx("section",{className:"rounded-xl border theme-border theme-bg-secondary-soft p-3",children:jsxRuntimeExports.jsx(AgencyHistoryView,{userId:j})}),jsxRuntimeExports.jsx(AgencyWizard,{open:_e,onClose:()=>et(!1)})]})}const STEPS=[{key:"basics",label:"Basics",icon:FileText},{key:"config",label:"Config",icon:Settings2},{key:"guardrails",label:"Guardrails",icon:Shield},{key:"extensions",label:"Extensions",icon:Plug}];function PersonaWizard({open:e,onClose:a}){const c=useSessionStore(at=>at.addPersona),d=useSessionStore(at=>at.personas),[b,h]=reactExports.useState("basics"),_=()=>{const at="New Persona",ut=d.filter(wt=>(wt.displayName??"").startsWith(at));return ut.length===0?at:`${at} ${ut.length+1}`},[j,_e]=reactExports.useState({displayName:_(),description:"",tags:[],traits:[],capabilities:[],guardrails:[],extensions:[],metadata:{}}),et=STEPS.findIndex(at=>at.key===b),$=et===STEPS.length-1,rt=()=>{$?st():h(STEPS[et+1].key)},nt=()=>{et>0&&h(STEPS[et-1].key)},st=()=>{var wt,pt;if(!((wt=j.displayName)!=null&&wt.trim())){alert("Display name is required");return}const ut={id:j.displayName.toLowerCase().replace(/[^a-z0-9]+/g,"-")||`persona-${Date.now()}`,displayName:j.displayName.trim(),description:(pt=j.description)==null?void 0:pt.trim(),tags:j.tags||[],traits:j.traits||[],capabilities:j.capabilities||[],metadata:{...j.metadata,baseSystemPrompt:j.baseSystemPrompt,modelPreference:j.modelPreference,guardrails:j.guardrails,extensions:j.extensions,costSavingStrategy:j.costSavingStrategy,maxTokens:j.maxTokens},source:"local"};c(ut),persistPersonaRow(ut),a(),_e({displayName:_(),description:"",tags:[],traits:[],capabilities:[],guardrails:[],extensions:[],metadata:{}}),h("basics")};return e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-3xl rounded-2xl border border-slate-200 bg-white shadow-xl dark:border-white/10 dark:bg-slate-900",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-6 py-4 dark:border-white/10",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Create New Persona"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Define AI agent personality, config, guardrails, and extensions"})]}),jsxRuntimeExports.jsx("button",{onClick:a,className:"rounded-full p-1 hover:bg-slate-100 dark:hover:bg-slate-800",children:jsxRuntimeExports.jsx(X,{className:"h-5 w-5 text-slate-500"})})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center border-b border-slate-200 px-6 py-3 dark:border-white/10",children:STEPS.map((at,ut)=>{const wt=at.icon,pt=at.key===b,xt=ut<et;return jsxRuntimeExports.jsxs("div",{className:"flex flex-1 items-center",children:[jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>h(at.key),className:`flex items-center gap-2 rounded-full border px-3 py-1 text-xs transition ${pt?"border-sky-500 bg-sky-50 text-sky-700 dark:bg-sky-950 dark:text-sky-300":xt?"border-emerald-500 bg-emerald-50 text-emerald-700 dark:bg-emerald-950 dark:text-emerald-300":"border-slate-200 bg-white text-slate-500 dark:border-white/10 dark:bg-slate-950 dark:text-slate-400"}`,children:[xt?jsxRuntimeExports.jsx(Check,{className:"h-3 w-3"}):jsxRuntimeExports.jsx(wt,{className:"h-3 w-3"}),at.label]}),ut<STEPS.length-1&&jsxRuntimeExports.jsx("div",{className:"mx-2 h-px flex-1 bg-slate-200 dark:bg-white/10"})]},at.key)})}),jsxRuntimeExports.jsxs("div",{className:"p-6",children:[b==="basics"&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("label",{className:"block",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Display Name *"}),jsxRuntimeExports.jsx("input",{value:j.displayName||"",onChange:at=>_e(ut=>({...ut,displayName:at.target.value})),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm dark:border-white/10 dark:bg-slate-950",placeholder:"Research Assistant"})]}),jsxRuntimeExports.jsxs("label",{className:"block",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Description"}),jsxRuntimeExports.jsx("textarea",{value:j.description||"",onChange:at=>_e(ut=>({...ut,description:at.target.value})),rows:3,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm dark:border-white/10 dark:bg-slate-950",placeholder:"Expert at gathering information and synthesizing findings..."})]}),jsxRuntimeExports.jsxs("label",{className:"block",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Tags (comma-separated)"}),jsxRuntimeExports.jsx("input",{value:(j.tags||[]).join(", "),onChange:at=>_e(ut=>({...ut,tags:at.target.value.split(",").map(wt=>wt.trim()).filter(Boolean)})),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm dark:border-white/10 dark:bg-slate-950",placeholder:"research, analysis, web-search"})]}),jsxRuntimeExports.jsxs("label",{className:"block",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Traits (comma-separated)"}),jsxRuntimeExports.jsx("input",{value:(j.traits||[]).join(", "),onChange:at=>_e(ut=>({...ut,traits:at.target.value.split(",").map(wt=>wt.trim()).filter(Boolean)})),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm dark:border-white/10 dark:bg-slate-950",placeholder:"analytical, thorough, curious"})]})]}),b==="config"&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("label",{className:"block",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Base System Prompt"}),jsxRuntimeExports.jsx("textarea",{value:j.baseSystemPrompt||"",onChange:at=>_e(ut=>({...ut,baseSystemPrompt:at.target.value})),rows:6,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm font-mono dark:border-white/10 dark:bg-slate-950",placeholder:"You are a helpful research assistant specialized in..."}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Core instructions for the LLM (optionalAgentOS provides defaults)"})]}),jsxRuntimeExports.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[jsxRuntimeExports.jsxs("label",{className:"block",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Model Preference"}),jsxRuntimeExports.jsxs("select",{value:j.modelPreference||"",onChange:at=>_e(ut=>({...ut,modelPreference:at.target.value})),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm dark:border-white/10 dark:bg-slate-950",children:[jsxRuntimeExports.jsx("option",{value:"",children:"System default"}),jsxRuntimeExports.jsx("option",{value:"gpt-4o",children:"gpt-4o (powerful)"}),jsxRuntimeExports.jsx("option",{value:"gpt-4o-mini",children:"gpt-4o-mini (fast, cheap)"}),jsxRuntimeExports.jsx("option",{value:"claude-3-5-sonnet",children:"Claude 3.5 Sonnet"}),jsxRuntimeExports.jsx("option",{value:"openai/gpt-4o",children:"OpenRouter: GPT-4o"})]})]}),jsxRuntimeExports.jsxs("label",{className:"block",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Cost Strategy"}),jsxRuntimeExports.jsxs("select",{value:j.costSavingStrategy||"",onChange:at=>_e(ut=>({...ut,costSavingStrategy:at.target.value})),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm dark:border-white/10 dark:bg-slate-950",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Default"}),jsxRuntimeExports.jsx("option",{value:"prefer_free",children:"Prefer free models"}),jsxRuntimeExports.jsx("option",{value:"balance_quality_cost",children:"Balance quality/cost"}),jsxRuntimeExports.jsx("option",{value:"quality_first",children:"Quality first"})]})]})]}),jsxRuntimeExports.jsxs("label",{className:"block",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Max Tokens"}),jsxRuntimeExports.jsx("input",{type:"number",value:j.maxTokens||"",onChange:at=>_e(ut=>({...ut,maxTokens:parseInt(at.target.value)||void 0})),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm dark:border-white/10 dark:bg-slate-950",placeholder:"8192"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Maximum context window (optional)"})]})]}),b==="guardrails"&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Attach guardrails to enforce safety, privacy, and compliance policies for this persona."}),jsxRuntimeExports.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4 dark:border-white/10 dark:bg-slate-950/40",children:[jsxRuntimeExports.jsx("p",{className:"mb-2 text-xs font-medium uppercase tracking-wider text-slate-500",children:"Available Guardrails"}),[{id:"pii-protection",name:"PII Protection",desc:"Redact SSN, email, phone"},{id:"cost-ceiling",name:"Cost Ceiling",desc:"Limit response cost"},{id:"sensitive-topic",name:"Sensitive Topics",desc:"Block harmful content"}].map(at=>{var wt;const ut=(wt=j.guardrails)==null?void 0:wt.some(pt=>pt.id===at.id);return jsxRuntimeExports.jsxs("label",{className:"flex items-start gap-3 rounded-lg p-2 hover:bg-slate-100 dark:hover:bg-slate-900",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:ut,onChange:pt=>{pt.target.checked?_e(xt=>({...xt,guardrails:[...xt.guardrails||[],{id:at.id,type:`@framersai/guardrail-${at.id}`,displayName:at.name,enabled:!0,config:{}}]})):_e(xt=>({...xt,guardrails:(xt.guardrails||[]).filter(St=>St.id!==at.id)}))},className:"mt-0.5"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:at.name}),jsxRuntimeExports.jsx("p",{className:"text-xs text-slate-500",children:at.desc})]})]},at.id)})]}),j.guardrails&&j.guardrails.length>0&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-slate-500",children:[j.guardrails.length," guardrail(s) selected"]})]}),b==="extensions"&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Select which extensions (tools, integrations) this persona can use."}),jsxRuntimeExports.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4 dark:border-white/10 dark:bg-slate-950/40",children:[jsxRuntimeExports.jsx("p",{className:"mb-2 text-xs font-medium uppercase tracking-wider text-slate-500",children:"Available Extensions"}),[{id:"@framersai/ext-web-search",name:"Web Search",desc:"Search the web, fact-check, research"},{id:"@framersai/ext-telegram",name:"Telegram Bot",desc:"Send messages, manage groups"},{id:"@framersai/ext-code-executor",name:"Code Executor",desc:"Run Python, JS in sandbox"}].map(at=>{var wt;const ut=(wt=j.extensions)==null?void 0:wt.includes(at.id);return jsxRuntimeExports.jsxs("label",{className:"flex items-start gap-3 rounded-lg p-2 hover:bg-slate-100 dark:hover:bg-slate-900",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:ut,onChange:pt=>{pt.target.checked?_e(xt=>({...xt,extensions:[...xt.extensions||[],at.id]})):_e(xt=>({...xt,extensions:(xt.extensions||[]).filter(St=>St!==at.id)}))},className:"mt-0.5"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:at.name}),jsxRuntimeExports.jsx("p",{className:"text-xs text-slate-500",children:at.desc}),jsxRuntimeExports.jsx("p",{className:"text-[10px] font-mono text-slate-400",children:at.id})]})]},at.id)})]}),j.extensions&&j.extensions.length>0&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-slate-500",children:[j.extensions.length," extension(s) selected"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between border-t border-slate-200 px-6 py-4 dark:border-white/10",children:[jsxRuntimeExports.jsxs("button",{onClick:nt,disabled:et===0,className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-sm text-slate-600 hover:bg-slate-50 disabled:opacity-30 dark:border-white/10 dark:text-slate-300",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"h-4 w-4"}),"Back"]}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-slate-500",children:["Step ",et+1," of ",STEPS.length]}),jsxRuntimeExports.jsx("button",{onClick:rt,className:"inline-flex items-center gap-2 rounded-full bg-sky-500 px-4 py-2 text-sm font-semibold text-white hover:bg-sky-600",children:$?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Check,{className:"h-4 w-4"}),"Create Persona"]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["Next",jsxRuntimeExports.jsx(ArrowRight,{className:"h-4 w-4"})]})})]})]})}):null}function PersonaEditor({persona:e,onClose:a}){var _,j,_e,et,$,rt;const c=useSessionStore(nt=>nt.updatePersona),[d,b]=reactExports.useState({displayName:e.displayName,description:e.description||"",tags:(e.tags||[]).join(", "),traits:(e.traits||[]).join(", "),capabilities:(e.capabilities||[]).join(", "),baseSystemPrompt:((_=e.metadata)==null?void 0:_.baseSystemPrompt)||"",modelPreference:((j=e.metadata)==null?void 0:j.modelPreference)||"",costSavingStrategy:((_e=e.metadata)==null?void 0:_e.costSavingStrategy)||"",maxTokens:typeof((et=e.metadata)==null?void 0:et.maxTokens)=="number"?e.metadata.maxTokens:"",guardrails:(($=e.metadata)==null?void 0:$.guardrails)||[],extensions:((rt=e.metadata)==null?void 0:rt.extensions)||[]}),h=()=>{c(e.id,{displayName:d.displayName.trim(),description:d.description.trim()||void 0,tags:d.tags.split(",").map(nt=>nt.trim()).filter(Boolean),traits:d.traits.split(",").map(nt=>nt.trim()).filter(Boolean),capabilities:d.capabilities.split(",").map(nt=>nt.trim()).filter(Boolean),metadata:{...e.metadata,baseSystemPrompt:d.baseSystemPrompt.trim()||void 0,modelPreference:d.modelPreference.trim()||void 0,costSavingStrategy:d.costSavingStrategy.trim()||void 0,maxTokens:d.maxTokens||void 0,guardrails:d.guardrails,extensions:d.extensions}}),a()};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto rounded-2xl border border-slate-200 bg-white shadow-xl dark:border-white/10 dark:bg-slate-900",children:[jsxRuntimeExports.jsxs("div",{className:"sticky top-0 flex items-center justify-between border-b border-slate-200 bg-white px-6 py-4 dark:border-white/10 dark:bg-slate-900",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Edit Persona"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:e.id})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("button",{onClick:h,className:"inline-flex items-center gap-2 rounded-full bg-sky-500 px-4 py-2 text-sm font-semibold text-white hover:bg-sky-600",children:[jsxRuntimeExports.jsx(Save,{className:"h-4 w-4"}),"Save"]}),jsxRuntimeExports.jsx("button",{onClick:a,className:"rounded-full p-2 hover:bg-slate-100 dark:hover:bg-slate-800",children:jsxRuntimeExports.jsx(X,{className:"h-5 w-5 text-slate-500"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-6",children:[jsxRuntimeExports.jsxs("section",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold text-slate-900 dark:text-slate-100",children:[jsxRuntimeExports.jsx(User,{className:"h-4 w-4"}),"Basic Information"]}),jsxRuntimeExports.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[jsxRuntimeExports.jsxs("label",{className:"block",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Display Name"}),jsxRuntimeExports.jsx("input",{value:d.displayName,onChange:nt=>b(st=>({...st,displayName:nt.target.value})),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm dark:border-white/10 dark:bg-slate-950"})]}),jsxRuntimeExports.jsxs("label",{className:"block",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Source"}),jsxRuntimeExports.jsx("div",{className:"rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-500 dark:border-white/10 dark:bg-slate-950/50",children:e.source==="remote"?"Remote (server-managed)":"Local (browser storage)"})]})]}),jsxRuntimeExports.jsxs("label",{className:"block",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Description"}),jsxRuntimeExports.jsx("textarea",{value:d.description,onChange:nt=>b(st=>({...st,description:nt.target.value})),rows:3,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm dark:border-white/10 dark:bg-slate-950",placeholder:"What this persona does and when to use it..."})]}),jsxRuntimeExports.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[jsxRuntimeExports.jsxs("label",{className:"block",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Tags"}),jsxRuntimeExports.jsx("input",{value:d.tags,onChange:nt=>b(st=>({...st,tags:nt.target.value})),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm dark:border-white/10 dark:bg-slate-950",placeholder:"research, analysis"})]}),jsxRuntimeExports.jsxs("label",{className:"block",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Traits"}),jsxRuntimeExports.jsx("input",{value:d.traits,onChange:nt=>b(st=>({...st,traits:nt.target.value})),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm dark:border-white/10 dark:bg-slate-950",placeholder:"analytical, thorough"})]}),jsxRuntimeExports.jsxs("label",{className:"block",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Capabilities"}),jsxRuntimeExports.jsx("input",{value:d.capabilities,onChange:nt=>b(st=>({...st,capabilities:nt.target.value})),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm dark:border-white/10 dark:bg-slate-950",placeholder:"web-search, analysis"})]})]})]}),jsxRuntimeExports.jsxs("section",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold text-slate-900 dark:text-slate-100",children:[jsxRuntimeExports.jsx(Settings2,{className:"h-4 w-4"}),"Configuration"]}),jsxRuntimeExports.jsxs("label",{className:"block",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Base System Prompt"}),jsxRuntimeExports.jsx("textarea",{value:d.baseSystemPrompt,onChange:nt=>b(st=>({...st,baseSystemPrompt:nt.target.value})),rows:4,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm font-mono dark:border-white/10 dark:bg-slate-950",placeholder:"You are a helpful research assistant..."})]}),jsxRuntimeExports.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[jsxRuntimeExports.jsxs("label",{className:"block",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Model Preference"}),jsxRuntimeExports.jsx("input",{value:d.modelPreference,onChange:nt=>b(st=>({...st,modelPreference:nt.target.value})),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm dark:border-white/10 dark:bg-slate-950",placeholder:"gpt-4o-mini"})]}),jsxRuntimeExports.jsxs("label",{className:"block",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Cost Strategy"}),jsxRuntimeExports.jsxs("select",{value:d.costSavingStrategy,onChange:nt=>b(st=>({...st,costSavingStrategy:nt.target.value})),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm dark:border-white/10 dark:bg-slate-950",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Default"}),jsxRuntimeExports.jsx("option",{value:"prefer_free",children:"Prefer free"}),jsxRuntimeExports.jsx("option",{value:"balance_quality_cost",children:"Balance quality/cost"}),jsxRuntimeExports.jsx("option",{value:"quality_first",children:"Quality first"})]})]}),jsxRuntimeExports.jsxs("label",{className:"block",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Max Tokens"}),jsxRuntimeExports.jsx("input",{type:"number",value:d.maxTokens,onChange:nt=>{const st=Number(nt.target.value);b(at=>({...at,maxTokens:Number.isNaN(st)||nt.target.value===""?"":st}))},className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm dark:border-white/10 dark:bg-slate-950",placeholder:"8192"})]})]})]}),jsxRuntimeExports.jsxs("section",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold text-slate-900 dark:text-slate-100",children:[jsxRuntimeExports.jsx(Shield,{className:"h-4 w-4"}),"Guardrails (",d.guardrails.length,")"]}),d.guardrails.length===0?jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-500",children:"No guardrails configured"}):jsxRuntimeExports.jsx("div",{className:"space-y-2",children:d.guardrails.map((nt,st)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-200 bg-slate-50 p-3 dark:border-white/10 dark:bg-slate-950/40",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:nt.displayName}),jsxRuntimeExports.jsx("p",{className:"text-xs text-slate-500",children:nt.description})]}),jsxRuntimeExports.jsx("button",{onClick:()=>b(at=>({...at,guardrails:at.guardrails.filter((ut,wt)=>wt!==st)})),className:"text-rose-600 hover:text-rose-700",children:jsxRuntimeExports.jsx(X,{className:"h-4 w-4"})})]},st))})]}),jsxRuntimeExports.jsxs("section",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold text-slate-900 dark:text-slate-100",children:[jsxRuntimeExports.jsx(Plug,{className:"h-4 w-4"}),"Extensions (",d.extensions.length,")"]}),d.extensions.length===0?jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-500",children:"No extensions configured"}):jsxRuntimeExports.jsx("div",{className:"space-y-2",children:d.extensions.map((nt,st)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-200 bg-slate-50 p-3 dark:border-white/10 dark:bg-slate-950/40",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:nt}),jsxRuntimeExports.jsx("a",{href:`https://npmjs.com/package/${nt}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-sky-600 hover:text-sky-700 dark:text-sky-400",children:"View on npm "})]}),jsxRuntimeExports.jsx("button",{onClick:()=>b(at=>({...at,extensions:at.extensions.filter((ut,wt)=>wt!==st)})),className:"text-rose-600 hover:text-rose-700",children:jsxRuntimeExports.jsx(X,{className:"h-4 w-4"})})]},st))})]})]})]})})}function slugify(e){return e.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"").slice(0,64)}function toList(e){return e.split(",").map(a=>a.trim()).filter(Boolean)}const defaultDraft={displayName:"",description:"",tags:"",traits:""};function PersonaCatalog(){var Ct,Vt;const e=useSessionStore(Bt=>Bt.personas),a=useSessionStore(Bt=>Bt.personaFilters),c=useSessionStore(Bt=>Bt.setPersonaFilters),d=useSessionStore(Bt=>Bt.addPersona),b=useSessionStore(Bt=>Bt.removePersona),[h,_]=reactExports.useState(defaultDraft),[j,_e]=reactExports.useState(!1),[et,$]=reactExports.useState(null),[rt,nt]=reactExports.useState(null);reactExports.useEffect(()=>{const Bt=()=>_e(!0);return window.addEventListener("agentos:open-persona-wizard",Bt),()=>window.removeEventListener("agentos:open-persona-wizard",Bt)},[]);const st=reactExports.useMemo(()=>{const Bt=new Set;return e.forEach(Ut=>{var Ft;(Ft=Ut.capabilities)==null||Ft.forEach(Mt=>Bt.add(Mt))}),a.capabilities.forEach(Ut=>Bt.add(Ut)),Array.from(Bt).sort((Ut,Ft)=>Ut.localeCompare(Ft))},[e,a.capabilities]),at=Bt=>{c({search:Bt.target.value})},ut=Bt=>{const Ut=a.capabilities.includes(Bt)?a.capabilities.filter(Ft=>Ft!==Bt):[...a.capabilities,Bt];c({capabilities:Ut})},wt=()=>{c({search:"",capabilities:[]})},pt=a.search.trim().length>0||a.capabilities.length>0,xt=e.length,St=((Ct=e[0])==null?void 0:Ct.id)??null,Nt=e.slice(0,6),At=Bt=>{if(Bt.preventDefault(),!h.displayName.trim())return;const Ft={id:slugify(h.displayName)||`persona-${crypto.randomUUID().slice(0,8)}`,displayName:h.displayName.trim(),description:h.description.trim(),tags:toList(h.tags),traits:toList(h.traits)};d(Ft),persistPersonaRow(Ft),_(defaultDraft)};return jsxRuntimeExports.jsxs("section",{className:"flex h-full flex-col overflow-hidden rounded-xl border theme-border theme-bg-secondary-soft p-3 transition-colors duration-300",children:[jsxRuntimeExports.jsxs("header",{className:"mb-3 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-[10px] uppercase tracking-[0.4em] theme-text-muted",children:"Persona catalog"}),jsxRuntimeExports.jsx("h3",{className:"text-base font-semibold theme-text-primary",children:"Define new AI characters"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5",children:[jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>_e(!0),className:"inline-flex items-center gap-1 rounded-full border border-sky-500 bg-sky-50 px-2.5 py-0.5 text-xs font-semibold text-sky-600 hover:bg-sky-100 dark:border-sky-400 dark:bg-sky-950 dark:text-sky-300",children:[jsxRuntimeExports.jsx(WandSparkles,{className:"h-3 w-3"}),"Wizard"]}),jsxRuntimeExports.jsx("div",{className:"rounded-full border border-slate-300 bg-white/70 px-2.5 py-0.5 text-xs text-slate-600 dark:border-slate-700/40 dark:bg-slate-900/80 dark:text-slate-300",children:`${xt} personas`})]})]}),jsxRuntimeExports.jsx(PersonaWizard,{open:j,onClose:()=>_e(!1)}),rt&&jsxRuntimeExports.jsx(PersonaEditor,{persona:rt,onClose:()=>nt(null)}),et&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",role:"dialog","aria-modal":"true",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-md rounded-2xl border border-rose-200 bg-white p-4 shadow-xl dark:border-rose-900/40 dark:bg-slate-900",children:[jsxRuntimeExports.jsx("h3",{className:"mb-2 text-sm font-semibold text-rose-700 dark:text-rose-300",children:"Delete persona?"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-slate-700 dark:text-slate-300",children:["This will permanently delete ",(Vt=e.find(Bt=>Bt.id===et))==null?void 0:Vt.displayName," from your local storage. This action cannot be undone."]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>$(null),className:"rounded-full border border-slate-200 px-3 py-1 text-xs text-slate-600 hover:bg-slate-50 dark:border-white/10 dark:text-slate-300",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:()=>{et&&b(et),$(null)},className:"rounded-full bg-rose-600 px-3 py-1 text-xs font-semibold text-white hover:bg-rose-700",children:"Delete"})]})]})}),jsxRuntimeExports.jsx("div",{className:"mb-3 rounded-xl border border-slate-200 bg-slate-50 p-2.5 text-xs text-slate-600 dark:border-white/10 dark:bg-slate-900/40 dark:text-slate-400",children:"This catalog merges server-provided personas (remote, read-only) with ones you create locally (saved in your browser). Deleting removes only local personas. Remote personas refresh from the server."}),jsxRuntimeExports.jsxs("div",{className:"mb-3 space-y-2 flex-shrink-0",children:[jsxRuntimeExports.jsxs("label",{className:"flex flex-col gap-1 text-[10px] uppercase tracking-[0.35em] text-slate-500 dark:text-slate-400",children:["Search personas",jsxRuntimeExports.jsx("input",{value:a.search,onChange:at,placeholder:"Design lead, operations, QA",className:"w-full rounded-lg border border-slate-200 bg-white px-2 py-1.5 text-xs normal-case tracking-normal text-slate-700 shadow-sm transition focus:border-sky-500 focus:outline-none dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100"})]}),st.length>0&&jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-1 text-[10px]",children:[st.slice(0,8).map(Bt=>{const Ut=a.capabilities.includes(Bt),Ft=Bt.replace("capability:","").replace(/_/g," ");return jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>ut(Bt),className:clsx("rounded px-1.5 py-0.5 font-semibold uppercase tracking-wider transition",Ut?"bg-sky-500 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200 dark:bg-slate-800 dark:text-slate-300 dark:hover:bg-slate-700"),children:Ft},Bt)}),st.length>8&&jsxRuntimeExports.jsxs("span",{className:"text-slate-500",children:["+",st.length-8]}),pt&&jsxRuntimeExports.jsx("button",{type:"button",onClick:wt,className:"rounded bg-rose-100 px-1.5 py-0.5 font-semibold uppercase text-rose-700 hover:bg-rose-200 dark:bg-rose-900/40 dark:text-rose-300",children:"Clear"})]})]}),jsxRuntimeExports.jsxs("div",{className:"min-h-0 flex-1 overflow-y-auto space-y-3",children:[jsxRuntimeExports.jsx("ul",{className:"grid grid-cols-1 gap-2 text-sm text-slate-700 lg:grid-cols-2 dark:text-slate-200",children:Nt.map(Bt=>jsxRuntimeExports.jsxs("li",{className:"flex flex-col rounded-xl border border-slate-200 bg-white p-2.5 dark:border-white/5 dark:bg-slate-950/50",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100",children:Bt.displayName}),Bt.description&&jsxRuntimeExports.jsx("p",{className:"mt-0.5 text-xs text-slate-600 dark:text-slate-400 line-clamp-2",children:Bt.description})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[Bt.source==="local"&&jsxRuntimeExports.jsx("button",{onClick:()=>nt(Bt),className:"rounded-md p-1 text-slate-600 hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-800",title:"Edit persona",children:jsxRuntimeExports.jsx(PenLine,{className:"h-3 w-3"})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{Bt.id===St||Bt.source==="remote"||$(Bt.id)},className:"inline-flex h-5 w-5 items-center justify-center rounded-full border border-slate-200 text-slate-600 transition hover:bg-slate-50 disabled:opacity-30 dark:border-white/10 dark:text-slate-400 dark:hover:text-rose-300",title:Bt.source==="remote"?"Remote personas are server-managed":"Remove persona",disabled:Bt.id===St||Bt.source==="remote",children:jsxRuntimeExports.jsx(Trash2,{className:"h-3 w-3"})})]})]}),Bt.tags&&Bt.tags.length>0&&jsxRuntimeExports.jsxs("div",{className:"mt-1.5 flex flex-wrap gap-1",children:[Bt.tags.slice(0,5).map(Ut=>jsxRuntimeExports.jsx("span",{className:"rounded bg-slate-100 px-1 py-0.5 text-[9px] font-medium uppercase tracking-wider text-slate-600 dark:bg-slate-800 dark:text-slate-400",children:Ut},Ut)),Bt.tags.length>5&&jsxRuntimeExports.jsxs("span",{className:"text-[9px] text-slate-500",children:["+",Bt.tags.length-5]})]}),Bt.capabilities&&Bt.capabilities.length>0&&jsxRuntimeExports.jsxs("div",{className:"mt-1 flex flex-wrap gap-1",children:[Bt.capabilities.slice(0,4).map(Ut=>jsxRuntimeExports.jsx("span",{className:"rounded bg-sky-100 px-1 py-0.5 text-[9px] font-medium uppercase tracking-wider text-sky-700 dark:bg-sky-900/40 dark:text-sky-300",children:Ut.replace("capability:","")},Ut)),Bt.capabilities.length>4&&jsxRuntimeExports.jsxs("span",{className:"text-[9px] text-slate-500",children:["+",Bt.capabilities.length-4]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-1.5 flex items-center gap-1",children:[jsxRuntimeExports.jsx("span",{className:`rounded px-1.5 py-0.5 text-[9px] font-semibold uppercase tracking-wider ${Bt.source==="remote"?"bg-sky-50 text-sky-700 dark:bg-sky-500/10 dark:text-sky-200":"bg-emerald-50 text-emerald-700 dark:bg-emerald-500/10 dark:text-emerald-200"}`,children:Bt.source==="remote"?"Remote":"Local"}),Bt.id==="nerf_generalist"&&jsxRuntimeExports.jsx("span",{className:"rounded bg-amber-50 px-1.5 py-0.5 text-[9px] font-semibold uppercase text-amber-700 dark:bg-amber-500/10 dark:text-amber-200",title:"Offline-first",children:"Nerf"}),Bt.id==="v_researcher"&&jsxRuntimeExports.jsx("span",{className:"rounded bg-fuchsia-50 px-1.5 py-0.5 text-[9px] font-semibold uppercase text-fuchsia-700 dark:bg-fuchsia-500/10 dark:text-fuchsia-200",title:"Full-powered",children:"V"})]})]},Bt.id))}),e.length>Nt.length&&jsxRuntimeExports.jsxs("div",{className:"rounded-xl border border-dashed border-slate-300 px-3 py-2 text-center text-xs text-slate-500 dark:border-white/10",children:[e.length-Nt.length," more personas in store"]}),jsxRuntimeExports.jsxs("form",{onSubmit:At,className:"space-y-2 rounded-xl border border-slate-200 bg-white p-3 text-xs text-slate-700 dark:border-white/10 dark:bg-slate-950/50 dark:text-slate-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("p",{className:"uppercase tracking-[0.35em] text-slate-500 dark:text-slate-500",children:"Quick add (basic)"}),jsxRuntimeExports.jsx(Sparkles,{className:"h-3 w-3 text-slate-400"})]}),jsxRuntimeExports.jsx("p",{className:"text-[10px] text-slate-500",children:"For full config (system prompt, guardrails, extensions), use the Wizard above."}),jsxRuntimeExports.jsxs("label",{className:"space-y-0.5 block",children:[jsxRuntimeExports.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Display name"}),jsxRuntimeExports.jsx("input",{value:h.displayName,onChange:Bt=>_(Ut=>({...Ut,displayName:Bt.target.value})),className:"w-full rounded-lg border border-slate-200 bg-white px-2 py-1.5 text-xs text-slate-900 focus:border-sky-500 focus:outline-none dark:border-white/10 dark:bg-slate-950/80 dark:text-slate-100",placeholder:"Aurora QA Specialist"})]}),jsxRuntimeExports.jsxs("label",{className:"space-y-0.5 block",children:[jsxRuntimeExports.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Purpose / description"}),jsxRuntimeExports.jsx("textarea",{value:h.description,onChange:Bt=>_(Ut=>({...Ut,description:Bt.target.value})),rows:2,className:"w-full rounded-lg border border-slate-200 bg-white px-2 py-1.5 text-xs text-slate-900 focus:border-sky-500 focus:outline-none dark:border-white/10 dark:bg-slate-950/80 dark:text-slate-100",placeholder:"Monitors telemetry and flags regressions before launches."})]}),jsxRuntimeExports.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[jsxRuntimeExports.jsxs("label",{className:"space-y-0.5",children:[jsxRuntimeExports.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Tags"}),jsxRuntimeExports.jsx("input",{value:h.tags,onChange:Bt=>_(Ut=>({...Ut,tags:Bt.target.value})),className:"w-full rounded-lg border border-slate-200 bg-white px-2 py-1.5 text-xs text-slate-900 focus:border-sky-500 focus:outline-none dark:border-white/10 dark:bg-slate-950/80 dark:text-slate-100",placeholder:"ops, qa"})]}),jsxRuntimeExports.jsxs("label",{className:"space-y-0.5",children:[jsxRuntimeExports.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Traits"}),jsxRuntimeExports.jsx("input",{value:h.traits,onChange:Bt=>_(Ut=>({...Ut,traits:Bt.target.value})),className:"w-full rounded-lg border border-slate-200 bg-white px-2 py-1.5 text-xs text-slate-900 focus:border-sky-500 focus:outline-none dark:border-white/10 dark:bg-slate-950/80 dark:text-slate-100",placeholder:"meticulous, proactive"})]})]}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"inline-flex w-full items-center justify-center gap-1.5 rounded-full bg-sky-500 px-3 py-1.5 text-xs font-semibold text-white transition hover:-translate-y-0.5",children:[jsxRuntimeExports.jsx(CirclePlus,{className:"h-3.5 w-3.5"})," Add persona"]})]})]})]})}const statusToColor={running:"bg-emerald-500/10 text-emerald-200 border-emerald-500/40",completed:"bg-emerald-500/10 text-emerald-200 border-emerald-500/40",pending:"bg-amber-500/10 text-amber-200 border-amber-500/40",awaiting_input:"bg-blue-500/10 text-blue-200 border-blue-500/40",errored:"bg-rose-500/10 text-rose-200 border-rose-500/40",cancelled:"bg-slate-500/10 text-slate-200 border-slate-500/30"},statusFilters=["all","running","awaiting_input","pending","completed","errored","cancelled"];function formatStatus(e){return e.replace(/_/g," ").replace(/\b\w/g,a=>a.toUpperCase())}function resolveDefinition(e,a){return e.find(c=>c.id===a)??null}function WorkflowOverview(){const[e,a]=reactExports.useState("all"),[c,d]=reactExports.useState(null),b=useSessionStore(at=>at.workflowSnapshots),h=useSessionStore(at=>at.removeWorkflowSnapshot),_=useSessionStore(at=>at.clearWorkflowSnapshots),{data:j=[]}=useWorkflowDefinitions(),_e=reactExports.useMemo(()=>Object.values(b),[b]),et=reactExports.useMemo(()=>e==="all"?_e:_e.filter(at=>at.status.toLowerCase()===e),[e,_e]),$=reactExports.useMemo(()=>c?_e.find(at=>at.workflowId===c)??null:null,[c,_e]),rt=$?resolveDefinition(j,$.definitionId):null,nt=$?Object.entries($.tasks??{}):[],st=()=>{_e.length!==0&&window.confirm("Clear all stored workflow telemetry?")&&(_(),d(null))};return _e.length===0?jsxRuntimeExports.jsxs("section",{className:"rounded-xl border border-slate-200 bg-white p-3 dark:border-white/10 dark:bg-slate-900/60",children:[jsxRuntimeExports.jsx("p",{className:"text-[10px] uppercase tracking-[0.35em] text-slate-500 dark:text-slate-400",children:"Workflow overview"}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-xs text-slate-600 dark:text-slate-400",children:"No workflow updates yet. Launch an automation to populate this panel."})]}):jsxRuntimeExports.jsxs("section",{className:"flex h-full flex-col overflow-hidden rounded-xl border border-slate-200 bg-white p-3 dark:border-white/10 dark:bg-slate-900/60",children:[jsxRuntimeExports.jsxs("header",{className:"mb-3 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-[10px] uppercase tracking-[0.4em] text-slate-500 dark:text-slate-500",children:"Workflow overview"}),jsxRuntimeExports.jsx("h3",{className:"text-base font-semibold text-slate-900 dark:text-slate-100",children:"Active automations"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5",children:[jsxRuntimeExports.jsxs("div",{className:"rounded-full border border-slate-200 px-2.5 py-0.5 text-xs text-slate-600 dark:border-white/10 dark:text-slate-400",children:[_e.length," tracked"]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:st,disabled:_e.length===0,className:"rounded-full border border-slate-200 px-2.5 py-0.5 text-xs text-slate-600 transition disabled:opacity-40 dark:border-white/10 dark:text-slate-300",children:"Clear history"})]})]}),jsxRuntimeExports.jsx("div",{className:"mb-3 flex flex-wrap gap-1.5 text-xs text-slate-600 dark:text-slate-300",children:statusFilters.map(at=>jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>a(at),className:clsx("inline-flex items-center gap-1.5 rounded-full border px-2.5 py-0.5 text-[10px] uppercase tracking-[0.2em]",e===at?"border-sky-500 bg-sky-50 text-sky-700 dark:border-sky-500/60 dark:bg-sky-500/10 dark:text-sky-200":"border-slate-200 bg-white text-slate-600 hover:bg-slate-50 dark:border-white/10 dark:bg-slate-950/60 dark:text-slate-400 dark:hover:border-white/30"),children:at.replace(/_/g," ")},at))}),jsxRuntimeExports.jsx("div",{className:"min-h-0 flex-1 overflow-y-auto space-y-2",children:et.map(at=>{const ut=resolveDefinition(j,at.definitionId),wt=statusToColor[at.status.toLowerCase()]??"bg-slate-500/10 text-slate-200 border-slate-500/30",pt=at.tasks?Object.entries(at.tasks):[],xt=at.metadata&&typeof at.metadata=="object"?at.metadata.goal:void 0,St=typeof xt=="string"?xt:void 0;return jsxRuntimeExports.jsxs("article",{className:"cursor-pointer rounded-xl border border-slate-200 bg-white p-3 transition hover:bg-slate-50 dark:border-white/10 dark:bg-slate-950/60 dark:hover:border-white/20",onClick:()=>d(at.workflowId),children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100",children:(ut==null?void 0:ut.displayName)??at.definitionId}),jsxRuntimeExports.jsxs("p",{className:"text-[10px] text-slate-500 dark:text-slate-500",children:["#",at.workflowId]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5",children:[jsxRuntimeExports.jsxs("span",{className:clsx("inline-flex items-center gap-1.5 rounded-full border px-2 py-0.5 text-[9px] font-semibold uppercase tracking-[0.2em]",wt),children:[jsxRuntimeExports.jsx(Activity,{className:"h-2.5 w-2.5"}),formatStatus(at.status)]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:Nt=>{Nt.stopPropagation(),h(at.workflowId),c===at.workflowId&&d(null)},className:"rounded-full border border-slate-200 px-2 py-0.5 text-[9px] text-slate-500 hover:bg-slate-50 dark:border-white/10 dark:text-slate-400 dark:hover:border-white/30",children:"Archive"})]})]}),jsxRuntimeExports.jsxs("dl",{className:"mt-2 grid gap-2 text-xs text-slate-600 dark:text-slate-300 sm:grid-cols-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5",children:[jsxRuntimeExports.jsx(Clock,{className:"h-2.5 w-2.5 text-slate-500"}),jsxRuntimeExports.jsxs("span",{className:"text-[10px]",children:["Updated ",new Date(at.updatedAt).toLocaleTimeString()]})]}),St?jsxRuntimeExports.jsxs("div",{className:"truncate text-[10px] text-slate-700 dark:text-slate-200",children:["Goal: ",St]}):null]}),ut!=null&&ut.description?jsxRuntimeExports.jsx("p",{className:"mt-2 text-xs text-slate-600 dark:text-slate-400 line-clamp-2",children:ut.description}):null,pt.length>0?jsxRuntimeExports.jsxs("div",{className:"mt-2 space-y-1.5",children:[jsxRuntimeExports.jsx("p",{className:"text-[9px] uppercase tracking-[0.35em] text-slate-500 dark:text-slate-500",children:"Tasks"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-1.5",children:[pt.slice(0,3).map(([Nt,At])=>{var Vt,Bt;const Ct=((Bt=(Vt=ut==null?void 0:ut.tasks)==null?void 0:Vt.find(Ut=>Ut.id===Nt))==null?void 0:Bt.name)??Nt;return jsxRuntimeExports.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-slate-200 bg-white px-2 py-1 text-[10px] text-slate-700 dark:border-white/10 dark:bg-slate-950/70 dark:text-slate-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5",children:[jsxRuntimeExports.jsx(GitBranch,{className:"h-2.5 w-2.5 text-slate-500"}),jsxRuntimeExports.jsx("span",{children:Ct})]}),jsxRuntimeExports.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:formatStatus(At.status)})]},Nt)}),pt.length>3&&jsxRuntimeExports.jsxs("li",{className:"text-[9px] text-slate-500 pl-1",children:["+",pt.length-3," more tasks"]})]})]}):null]},at.workflowId)})}),$?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-40 flex justify-end bg-slate-950/60 backdrop-blur",children:jsxRuntimeExports.jsxs("aside",{className:"h-full w-full max-w-xl overflow-y-auto border-l border-slate-200 bg-white p-6 shadow-2xl dark:border-white/10 dark:bg-slate-950",children:[jsxRuntimeExports.jsxs("header",{className:"mb-6 flex items-start justify-between gap-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-[0.35em] text-slate-500 dark:text-slate-500",children:"Workflow detail"}),jsxRuntimeExports.jsx("h4",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:(rt==null?void 0:rt.displayName)??$.definitionId}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-500",children:["Instance #",$.workflowId]})]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>d(null),className:"rounded-full border border-slate-200 px-3 py-1 text-xs uppercase tracking-[0.3em] text-slate-600 hover:bg-slate-50 dark:border-white/10 dark:text-slate-400 dark:hover:border-white/30",children:"Close"})]}),jsxRuntimeExports.jsxs("section",{className:"space-y-4 text-sm text-slate-700 dark:text-slate-200",children:[jsxRuntimeExports.jsxs("dl",{className:"grid gap-3 text-xs text-slate-600 dark:text-slate-300 sm:grid-cols-2",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("dt",{className:"uppercase tracking-[0.35em] text-slate-500 dark:text-slate-500",children:"Status"}),jsxRuntimeExports.jsx("dd",{className:"text-slate-700 dark:text-slate-200",children:formatStatus($.status)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("dt",{className:"uppercase tracking-[0.35em] text-slate-500 dark:text-slate-500",children:"Updated"}),jsxRuntimeExports.jsx("dd",{children:new Date($.updatedAt).toLocaleString()})]}),$.createdAt?jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("dt",{className:"uppercase tracking-[0.35em] text-slate-500 dark:text-slate-500",children:"Created"}),jsxRuntimeExports.jsx("dd",{children:new Date($.createdAt).toLocaleString()})]}):null,$.conversationId?jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("dt",{className:"uppercase tracking-[0.35em] text-slate-500 dark:text-slate-500",children:"Conversation"}),jsxRuntimeExports.jsx("dd",{children:$.conversationId})]}):null]}),rt!=null&&rt.description?jsxRuntimeExports.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:rt.description}):null,(()=>{const at=$.metadata&&typeof $.metadata=="object"?$.metadata.goal:void 0;return typeof at!="string"?null:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-slate-500 dark:text-slate-500",children:"Goal"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-200",children:at})]})})(),$.metadata?jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-slate-500 dark:text-slate-500",children:"Metadata"}),jsxRuntimeExports.jsx("pre",{className:"max-h-64 overflow-auto whitespace-pre-wrap break-words rounded-lg border border-slate-200 bg-slate-50 p-3 text-xs text-slate-700 dark:border-white/10 dark:bg-slate-950/60 dark:text-slate-200",children:JSON.stringify($.metadata,null,2)})]}):null,nt.length>0?jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-[0.35em] text-slate-500",children:"Tasks"}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:nt.map(([at,ut])=>{var pt,xt;const wt=((xt=(pt=rt==null?void 0:rt.tasks)==null?void 0:pt.find(St=>St.id===at))==null?void 0:xt.name)??at;return jsxRuntimeExports.jsxs("article",{className:"space-y-2 rounded-lg border border-slate-200 bg-white p-3 dark:border-white/10 dark:bg-slate-950/60",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-700 dark:text-slate-300",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(GitBranch,{className:"h-3 w-3 text-slate-500"}),jsxRuntimeExports.jsx("span",{className:"font-semibold text-slate-900 dark:text-slate-100",children:wt})]}),jsxRuntimeExports.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:formatStatus(ut.status)})]}),ut.assignedRoleId?jsxRuntimeExports.jsxs("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:["Role: ",ut.assignedRoleId]}):null,ut.output!==void 0?jsxRuntimeExports.jsx(ArtifactViewer,{label:"Output",result:ut.output}):null,ut.error?jsxRuntimeExports.jsxs("div",{className:"rounded-lg border border-rose-200 bg-rose-50 p-3 text-xs text-rose-700 dark:border-rose-500/30 dark:bg-rose-500/5 dark:text-rose-200",children:[jsxRuntimeExports.jsx("p",{className:"font-semibold",children:ut.error.message}),ut.error.code?jsxRuntimeExports.jsxs("p",{children:["Code: ",ut.error.code]}):null,ut.error.details?jsxRuntimeExports.jsx("pre",{className:"mt-2 max-h-40 overflow-auto whitespace-pre-wrap break-words text-[11px] text-rose-700 dark:text-rose-100",children:JSON.stringify(ut.error.details,null,2)}):null]}):null]},at)})})]}):null]})]})}):null]})}function TourOverlay({open:e,steps:a,onClose:c,onDontShowAgain:d,onRemindLater:b}){const[h,_]=reactExports.useState(0),[j,_e]=reactExports.useState(null),et=reactExports.useRef(null),$=reactExports.useRef(null),[rt,nt]=reactExports.useState(240),st=a[h],at=()=>{if(!e)return;const St=document.querySelector(st.selector);if(!St){_e(null);return}const Nt=St.getBoundingClientRect();Nt.top>=0&&Nt.bottom<=window.innerHeight&&Nt.left>=0&&Nt.right<=window.innerWidth?_e(Nt):(St.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),setTimeout(()=>{const Ct=St.getBoundingClientRect();_e(Ct)},250))};reactExports.useEffect(()=>{if(!e)return;at();const St=()=>at();return window.addEventListener("resize",St),window.addEventListener("scroll",St,!0),()=>{window.removeEventListener("resize",St),window.removeEventListener("scroll",St,!0)}},[e,h,st==null?void 0:st.selector]),reactExports.useEffect(()=>{if(e&&$.current){const St=$.current.getBoundingClientRect().height;nt(Math.max(180,Math.min(320,St)))}},[e,j,h]),reactExports.useEffect(()=>{e||_(0)},[e]);const ut=reactExports.useMemo(()=>{const St=window.innerWidth,Nt=window.innerHeight,At=`M0,0 H${St} V${Nt} H0 Z`;if(!j)return At;const Ct=8,Vt=Math.max(0,j.x-Ct),Bt=Math.max(0,j.y-Ct),Ut=Math.min(St,j.width+Ct*2),Ft=Math.min(Nt,j.height+Ct*2),Mt=st.radius??12,mt=`M${Vt+Mt},${Bt} H${Vt+Ut-Mt} A${Mt},${Mt} 0 0 1 ${Vt+Ut},${Bt+Mt} V${Bt+Ft-Mt} A${Mt},${Mt} 0 0 1 ${Vt+Ut-Mt},${Bt+Ft} H${Vt+Mt} A${Mt},${Mt} 0 0 1 ${Vt},${Bt+Ft-Mt} V${Bt+Mt} A${Mt},${Mt} 0 0 1 ${Vt+Mt},${Bt} Z`;return`${At} ${mt}`},[j,st==null?void 0:st.radius]);if(!e)return null;const wt=h===0,pt=h===a.length-1,xt=j?(()=>{const At=j.y+j.height+12,Vt=At+rt<=window.innerHeight-16?At:Math.max(16,j.y-rt-12),Bt=Math.min(Math.max(16,j.x),window.innerWidth-320-16);return{position:"fixed",top:Vt,left:Bt,width:320,maxHeight:rt,overflowY:"auto"}})():{position:"fixed",top:24,right:24,width:320,maxHeight:320,overflowY:"auto"};return jsxRuntimeExports.jsxs("div",{ref:et,className:"pointer-events-none fixed inset-0 z-[60]",children:[jsxRuntimeExports.jsxs("svg",{className:"pointer-events-none absolute inset-0 h-full w-full",children:[jsxRuntimeExports.jsx("defs",{children:jsxRuntimeExports.jsxs("mask",{id:"tour-mask",children:[jsxRuntimeExports.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"white"}),jsxRuntimeExports.jsx("path",{d:ut,fill:"black",fillRule:"evenodd"})]})}),jsxRuntimeExports.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"black",opacity:"0.5",mask:"url(#tour-mask)"})]}),jsxRuntimeExports.jsxs("div",{style:xt,ref:$,className:"pointer-events-auto rounded-3xl border border-slate-200 bg-white p-6 shadow-xl transition dark:border-white/10 dark:bg-slate-900",children:[jsxRuntimeExports.jsxs("header",{className:"mb-3 flex items-center justify-between",children:[jsxRuntimeExports.jsx("h3",{className:"text-base font-semibold text-slate-900 dark:text-slate-100",children:st.title}),jsxRuntimeExports.jsx("button",{type:"button",onClick:c,className:"rounded-full border border-slate-200 px-2 py-0.5 text-xs text-slate-600 hover:bg-slate-50 dark:border-white/10 dark:text-slate-300",children:"Close"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:st.body}),jsxRuntimeExports.jsxs("footer",{className:"mt-3 flex items-center justify-between text-xs",children:[jsxRuntimeExports.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["Step ",h+1," / ",a.length]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>_(Math.max(0,h-1)),disabled:wt,className:"rounded-full border border-slate-200 px-3 py-1 text-slate-600 disabled:opacity-50 hover:bg-slate-50 dark:border-white/10 dark:text-slate-300",children:"Back"}),b&&jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{b==null||b(),c()},className:"rounded-full border border-slate-200 px-3 py-1 text-slate-600 hover:bg-slate-50 dark:border-white/10 dark:text-slate-300",children:"Remind me later"}),d&&jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{d==null||d(),c()},className:"rounded-full border border-rose-300 px-3 py-1 text-rose-700 hover:bg-rose-50 dark:border-rose-500/40 dark:text-rose-300",children:"Dont show again"}),pt?jsxRuntimeExports.jsx("button",{type:"button",onClick:c,className:"rounded-full bg-emerald-500 px-3 py-1 font-semibold text-white",children:"Done"}):jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>_(Math.min(a.length-1,h+1)),className:"rounded-full bg-sky-500 px-3 py-1 font-semibold text-white",children:"Next"})]})]})]})]})}const getSystemTheme=()=>typeof window>"u"||window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",applyTheme=e=>{const a=document.documentElement;a.classList.remove("light","dark"),a.classList.add(e);const c=document.querySelector('meta[name="theme-color"]');c&&c.setAttribute("content",e==="dark"?"#1a1a1a":"#ffffff")},applyAppearance=e=>{const a=document.documentElement;a.classList.remove("appearance-default","appearance-compact","appearance-contrast"),a.classList.add(`appearance-${e}`)},applyPalette=e=>{const a=document.documentElement;a.classList.remove("palette-default","palette-sakura","palette-sunset","palette-twilight","palette-aurora","palette-warm","palette-terminus-amber","palette-terminus-green","palette-terminus-white"),a.classList.add(`palette-${e}`)},useThemeStore=create$1()(persist(e=>({theme:"system",actualTheme:getSystemTheme(),appearance:"default",palette:"default",setTheme:a=>{const c=a==="system"?getSystemTheme():a;applyTheme(c),e({theme:a,actualTheme:c})},setAppearance:a=>{applyAppearance(a),e({appearance:a})},setPalette:a=>{applyPalette(a),e({palette:a})}}),{name:"agentos-theme-preference",onRehydrateStorage:()=>e=>{if(e){const a=e.theme==="system"?getSystemTheme():e.theme;applyTheme(a),e.actualTheme=a,applyAppearance(e.appearance??"default"),applyPalette(e.palette??"default")}}}));if(typeof window<"u"){const e=window.matchMedia("(prefers-color-scheme: dark)"),a=()=>{if(useThemeStore.getState().theme==="system"){const d=getSystemTheme();applyTheme(d),useThemeStore.setState({actualTheme:d})}};typeof e.addEventListener=="function"?e.addEventListener("change",a):e.addListener(a)}function ThemePanel(){const{theme:e,setTheme:a,actualTheme:c,appearance:d,setAppearance:b,palette:h,setPalette:_}=useThemeStore(),[j,_e]=reactExports.useState(!0),et=[{key:"light",label:"Light"},{key:"dark",label:"Dark"},{key:"system",label:"System"}],$=[{key:"default",label:"Default",hint:"Balanced spacing and borders"},{key:"compact",label:"Compact",hint:"Tighter spacing for dense views"},{key:"contrast",label:"High contrast",hint:"Stronger borders and text"}],rt=[{key:"default",label:"Default"},{key:"sakura",label:"Sakura Sunset"},{key:"twilight",label:"Twilight Neo"},{key:"aurora",label:"Aurora Daybreak"},{key:"warm",label:"Warm Embrace"},{key:"terminus-amber",label:"Terminus (Amber)"},{key:"terminus-green",label:"Terminus (Green)"},{key:"terminus-white",label:"Terminus (White)"},{key:"sunset",label:"Sunset (legacy)"}];return jsxRuntimeExports.jsxs("section",{className:"card-panel--strong p-3 transition-theme",children:[jsxRuntimeExports.jsxs("header",{className:"mb-2 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-[10px] uppercase tracking-[0.35em] theme-text-muted",children:"Theme"}),jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold theme-text-primary",children:"Display preferences"})]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>_e(nt=>!nt),className:"rounded-full border theme-border bg-[color:var(--color-background-secondary)] px-2.5 py-0.5 text-[10px] theme-text-secondary transition hover:opacity-95 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent",children:j?"Hide":"Show"})]}),j&&jsxRuntimeExports.jsxs("div",{className:"space-y-3 text-xs",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"mb-1.5 text-[10px] uppercase tracking-[0.35em] theme-text-muted",children:"Mode"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-1.5",children:et.map(nt=>jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>a(nt.key),className:`rounded-full border px-2.5 py-1 text-[10px] transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent ${e===nt.key?"theme-bg-accent theme-text-on-accent border-transparent shadow-sm":"theme-text-secondary theme-bg-secondary theme-border hover:opacity-95"}`,children:nt.label},nt.key))}),jsxRuntimeExports.jsxs("p",{className:"mt-1 text-[10px] theme-text-muted",children:["Active: ",c]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"mb-1.5 text-[10px] uppercase tracking-[0.35em] theme-text-muted",children:"Appearance"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-1.5",children:$.map(nt=>jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>b(nt.key),title:nt.hint,className:`rounded-full border px-2.5 py-1 text-[10px] transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent ${d===nt.key?"theme-bg-accent theme-text-on-accent border-transparent shadow-sm":"theme-text-secondary theme-bg-secondary theme-border hover:opacity-95"}`,children:nt.label},nt.key))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"mb-1.5 text-[10px] uppercase tracking-[0.35em] theme-text-muted",children:"Style"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-1.5",children:rt.map(nt=>jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>_(nt.key),className:`rounded-full border px-2.5 py-1 text-[10px] transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent ${h===nt.key?"theme-bg-accent theme-text-on-accent border-transparent shadow-sm":"theme-text-secondary theme-bg-secondary theme-border hover:opacity-95"}`,children:nt.label},nt.key))}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-[10px] theme-text-muted",children:"Changes accent colors to match landing page themes."})]})]})]})}function AboutPanel(){return jsxRuntimeExports.jsxs("section",{className:"rounded-3xl border border-slate-200 bg-white p-5 dark:border-white/10 dark:bg-slate-900/60",children:[jsxRuntimeExports.jsxs("header",{className:"mb-3",children:[jsxRuntimeExports.jsx("p",{className:"text-[10px] uppercase tracking-[0.35em] text-slate-500 dark:text-slate-400",children:"About"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"AgentOS Client"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4 text-sm text-slate-700 dark:text-slate-200",children:[jsxRuntimeExports.jsx("p",{children:"AgentOS orchestrates personas, tools, memory, and workflows for AI agencies. This client is a developer workbench for composing requests, managing agencies, and inspecting real-time outputs."}),jsxRuntimeExports.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-3 dark:border-white/10 dark:bg-slate-900/40",children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-[0.35em] text-slate-500 dark:text-slate-400",children:"Default assistants"}),jsxRuntimeExports.jsxs("ul",{className:"mt-2 list-disc pl-5",children:[jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Nerf"}),": offline-first, smallest models, no internet/tools."]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"V"}),": full-powered researcher, tools enabled, any model family."]})]})]}),jsxRuntimeExports.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-3 dark:border-white/10 dark:bg-slate-900/40",children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-[0.35em] text-slate-500 dark:text-slate-400",children:"Data & Privacy"}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-sm",children:"Your data is stored locally in your browser using IndexedDB. Use Export/Import to move data between machines. Clear storage from Settings  Data."})]}),jsxRuntimeExports.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[jsxRuntimeExports.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-3 dark:border-white/10 dark:bg-slate-900/40",children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-[0.35em] text-slate-500 dark:text-slate-400",children:"Project"}),jsxRuntimeExports.jsxs("ul",{className:"mt-2 space-y-1 text-sm",children:[jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{href:"https://agentos.sh",target:"_blank",rel:"noreferrer",className:"text-sky-600 hover:underline dark:text-sky-300",children:"agentos.sh"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{href:"https://frame.dev",target:"_blank",rel:"noreferrer",className:"text-sky-600 hover:underline dark:text-sky-300",children:"frame.dev"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{href:"https://vca.chat",target:"_blank",rel:"noreferrer",className:"text-sky-600 hover:underline dark:text-sky-300",children:"vca.chat  AgentOS Marketplace"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{href:"https://github.com/framersai/agentos",target:"_blank",rel:"noreferrer",className:"text-sky-600 hover:underline dark:text-sky-300",children:"github.com/framersai/agentos"})})]}),jsxRuntimeExports.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[jsxRuntimeExports.jsx("a",{href:"https://github.com/framersai/agentos",target:"_blank",rel:"noreferrer",children:jsxRuntimeExports.jsx("img",{alt:"GitHub stars",src:"https://img.shields.io/github/stars/framersai/agentos?style=social"})}),jsxRuntimeExports.jsx("a",{href:"https://github.com/framersai/agentos/fork",target:"_blank",rel:"noreferrer",children:jsxRuntimeExports.jsx("img",{alt:"GitHub forks",src:"https://img.shields.io/github/forks/framersai/agentos?style=social"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-3 dark:border-white/10 dark:bg-slate-900/40",children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-[0.35em] text-slate-500 dark:text-slate-400",children:"Packages"}),jsxRuntimeExports.jsxs("ul",{className:"mt-2 space-y-1 text-sm",children:[jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{href:"https://www.npmjs.com/package/@framers/agentos",target:"_blank",rel:"noreferrer",className:"text-sky-600 hover:underline dark:text-sky-300",children:"@framers/agentos"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{href:"https://www.npmjs.com/package/@framers/sql-storage-adapter",target:"_blank",rel:"noreferrer",className:"text-sky-600 hover:underline dark:text-sky-300",children:"@framers/sql-storage-adapter"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-3 dark:border-white/10 dark:bg-slate-900/40",children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-[0.35em] text-slate-500 dark:text-slate-400",children:"Team"}),jsxRuntimeExports.jsxs("p",{className:"mt-2 text-sm",children:["Contact: ",jsxRuntimeExports.jsx("a",{href:"mailto:team@frame.dev",className:"text-sky-600 hover:underline dark:text-sky-300",children:"team@frame.dev"})]})]})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Logos and names are property of their respective owners. Links open in a new tab."})]})]})}async function fetchUserSettings(){const e=await fetch("/api/user/settings",{credentials:"include"});if(!e.ok)throw new Error("Failed to fetch settings");return(await e.json()).settings}async function updateUserSettings(e){if(!(await fetch("/api/user/settings",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)})).ok)throw new Error("Failed to update settings")}const CATEGORY_COLORS={safety:"#ef4444",privacy:"#10b981",budget:"#f59e0b",compliance:"#3b82f6",quality:"#8b5cf6",custom:"#6b7280"};function GuardrailManager({personaId:e,guardrails:a,onToggle:c,onRemove:d,onConfigure:b}){const[h,_]=reactExports.useState(!1),[j,_e]=reactExports.useState([]),[et,$]=reactExports.useState(!1);return reactExports.useEffect(()=>{if(!h)return;let rt=!1;return(async()=>{try{$(!0);const nt=await agentosClient.getGuardrails();rt||_e(nt)}catch{rt||_e([])}finally{rt||$(!1)}})(),()=>{rt=!0}},[h]),jsxRuntimeExports.jsxs("section",{className:"rounded-3xl border border-slate-200 bg-white p-5 dark:border-white/10 dark:bg-slate-900/60",children:[jsxRuntimeExports.jsxs("header",{className:"mb-4 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-slate-500 dark:text-slate-400",children:"Guardrails"}),jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100",children:e?`Active for ${e}`:"Safety & Policy"})]}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>_(!0),className:"inline-flex items-center gap-1 rounded-full border border-sky-500 px-3 py-1 text-xs text-sky-600 hover:bg-sky-50 dark:border-sky-400 dark:text-sky-300 dark:hover:bg-sky-950",children:[jsxRuntimeExports.jsx(Plus,{className:"h-3 w-3"}),"Add"]})]}),a.length===0?jsxRuntimeExports.jsx("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-4 text-center text-xs text-slate-500 dark:border-white/10 dark:bg-slate-950/40 dark:text-slate-400",children:"No guardrails configured. Click Add to install from the registry."}):jsxRuntimeExports.jsx("div",{className:"space-y-2",children:a.map(rt=>{var nt,st,at;return jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 rounded-xl border border-slate-200 bg-slate-50 p-3 dark:border-white/10 dark:bg-slate-950/40",children:[jsxRuntimeExports.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full",style:{backgroundColor:CATEGORY_COLORS[((nt=rt.uiMetadata)==null?void 0:nt.category)??"custom"]+"20"},children:jsxRuntimeExports.jsx(Shield,{className:"h-4 w-4",style:{color:CATEGORY_COLORS[((st=rt.uiMetadata)==null?void 0:st.category)??"custom"]}})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:rt.displayName}),rt.description&&jsxRuntimeExports.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:rt.description}),((at=rt.uiMetadata)==null?void 0:at.category)&&jsxRuntimeExports.jsx("span",{className:"mt-1 inline-block rounded-full bg-slate-200 px-2 py-0.5 text-[10px] uppercase tracking-wider text-slate-600 dark:bg-slate-800 dark:text-slate-400",children:rt.uiMetadata.category})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>c(rt.id,!rt.enabled),className:`rounded-md p-1 transition ${rt.enabled?"bg-emerald-500/20 text-emerald-600 hover:bg-emerald-500/30 dark:bg-emerald-500/20 dark:text-emerald-400":"bg-slate-200 text-slate-500 hover:bg-slate-300 dark:bg-slate-800 dark:text-slate-400"}`,title:rt.enabled?"Enabled":"Disabled",children:jsxRuntimeExports.jsx(Power,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>b(rt.id),className:"rounded-md p-1 text-slate-600 hover:bg-slate-200 dark:text-slate-400 dark:hover:bg-slate-800",title:"Configure",children:jsxRuntimeExports.jsx(Settings2,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>d(rt.id),className:"rounded-md p-1 text-rose-600 hover:bg-rose-100 dark:text-rose-400 dark:hover:bg-rose-950",title:"Remove",children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})]})]},rt.id)})}),h&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-2xl rounded-2xl border border-slate-200 bg-white p-6 shadow-xl dark:border-white/10 dark:bg-slate-900",children:[jsxRuntimeExports.jsx("h3",{className:"mb-4 text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Add Guardrail"}),jsxRuntimeExports.jsx("p",{className:"mb-4 text-sm text-slate-600 dark:text-slate-400",children:"Browse curated and community guardrails."}),jsxRuntimeExports.jsx("div",{className:"space-y-2 max-h-80 overflow-auto",children:et?jsxRuntimeExports.jsx("p",{className:"text-xs text-slate-500",children:"Loading"}):j.length===0?jsxRuntimeExports.jsx("p",{className:"text-xs text-slate-500",children:"No guardrails found."}):j.map(rt=>jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between rounded-lg border border-slate-200 p-3 dark:border-white/10",children:[jsxRuntimeExports.jsxs("div",{className:"pr-3",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:[rt.displayName,rt.verified?jsxRuntimeExports.jsx("span",{className:"ml-2 rounded bg-emerald-600/20 px-1.5 py-0.5 text-[10px] text-emerald-300",children:"verified"}):null]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:rt.description}),rt.category&&jsxRuntimeExports.jsx("span",{className:"mt-1 inline-block rounded-full bg-slate-200 px-2 py-0.5 text-[10px] uppercase tracking-wider text-slate-600 dark:bg-slate-800 dark:text-slate-400",children:rt.category})]}),jsxRuntimeExports.jsx("button",{type:"button",className:"rounded-full border border-sky-500 px-3 py-1 text-xs text-sky-600 hover:bg-sky-50 dark:border-sky-400 dark:text-sky-300 dark:hover:bg-sky-950",onClick:()=>{},children:"Add"})]},rt.id))}),jsxRuntimeExports.jsx("div",{className:"mt-6 flex justify-end gap-2",children:jsxRuntimeExports.jsx("button",{onClick:()=>_(!1),className:"rounded-full border border-slate-200 px-4 py-2 text-sm text-slate-600 hover:bg-slate-50 dark:border-white/10 dark:text-slate-300",children:"Close"})})]})})]})}function StorageDashboard(){const[e,a]=reactExports.useState(null),[c,d]=reactExports.useState(null),[b,h]=reactExports.useState([]),[_,j]=reactExports.useState(!1),[_e,et]=reactExports.useState(new Set),[$,rt]=reactExports.useState("IndexedDB (Custom)"),[nt,st]=reactExports.useState(null),[at,ut]=reactExports.useState(!0);reactExports.useEffect(()=>{pt(),wt()},[]);const wt=()=>{st({adapter:"IndexedDB Adapter",engine:"sql.js (SQLite WASM)",capabilities:["Transactions","Persistence","JSON Support","Prepared Statements"],persistence:"Browser-native IndexedDB (stores SQLite database file as blob)",performance:"Fast reads (in-memory SQL), moderate writes (~10-50ms per batch)",limitations:["Single-threaded (no concurrent writes)","Browser-only (not available in Node.js)","Storage quotas vary by browser (typically 50MB-1GB+)","WASM overhead (~500KB bundle size)"],recommendations:["Use for offline-first web apps and PWAs","Export backups periodically for data portability","Monitor storage quota usage","Consider PostgreSQL adapter for multi-user cloud deployments"]})};reactExports.useEffect(()=>{c&&xt(c)},[c]);const pt=async()=>{try{typeof window<"u"&&window.indexedDB&&rt("IndexedDB (Browser Native)");const Ft=await new Promise((mt,ft)=>{const tt=indexedDB.open("agentosClientDB",1);tt.onsuccess=()=>mt(tt.result),tt.onerror=()=>ft(tt.error)}),Mt=[];for(let mt=0;mt<Ft.objectStoreNames.length;mt++)Mt.push(Ft.objectStoreNames[mt]);a({name:Ft.name,version:Ft.version,stores:Mt}),Mt.length>0&&!c&&d(Mt[0]),Ft.close()}catch(Ft){console.error("Failed to load DB info:",Ft)}},xt=async Ft=>{j(!0);try{const Mt=await new Promise((ht,dt)=>{const lt=indexedDB.open("agentosClientDB",1);lt.onsuccess=()=>ht(lt.result),lt.onerror=()=>dt(lt.error)}),mt=[],it=Mt.transaction(Ft,"readonly").objectStore(Ft).openCursor();await new Promise((ht,dt)=>{it.onsuccess=lt=>{const gt=lt.target.result;if(gt){const ot=gt.value,vt=typeof ot=="string"?ot:JSON.stringify(ot);mt.push({key:String(gt.key),value:ot,size:new Blob([vt]).size}),gt.continue()}else ht()},it.onerror=()=>dt(it.error)}),Mt.close(),h(mt)}catch(Mt){console.error("Failed to load records:",Mt)}finally{j(!1)}},St=Ft=>{et(Mt=>{const mt=new Set(Mt);return mt.has(Ft)?mt.delete(Ft):mt.add(Ft),mt})},Nt=async()=>{try{const Ft=await new Promise((ht,dt)=>{const lt=indexedDB.open("agentosClientDB",1);lt.onsuccess=()=>ht(lt.result),lt.onerror=()=>dt(lt.error)}),Mt={},mt=Array.from(Ft.objectStoreNames);for(const ht of mt){const gt=Ft.transaction(ht,"readonly").objectStore(ht).openCursor();Mt[ht]={},await new Promise(ot=>{gt.onsuccess=vt=>{const ct=vt.target.result;ct?(Mt[ht][String(ct.key)]=ct.value,ct.continue()):ot()}})}Ft.close();const ft=new Blob([JSON.stringify(Mt,null,2)],{type:"application/json"}),tt=URL.createObjectURL(ft),it=document.createElement("a");it.href=tt,it.download=`agentos-storage-export-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(it),it.click(),document.body.removeChild(it),URL.revokeObjectURL(tt)}catch(Ft){console.error("Export failed:",Ft),alert("Failed to export data. Check console for details.")}},At=()=>{const Ft=document.createElement("input");Ft.type="file",Ft.accept="application/json",Ft.onchange=async Mt=>{var ft;const mt=(ft=Mt.target.files)==null?void 0:ft[0];if(mt)try{const tt=await mt.text(),it=JSON.parse(tt),ht=await new Promise((dt,lt)=>{const gt=indexedDB.open("agentosClientDB",1);gt.onsuccess=()=>dt(gt.result),gt.onerror=()=>lt(gt.error)});for(const[dt,lt]of Object.entries(it)){if(!ht.objectStoreNames.contains(dt))continue;const ot=ht.transaction(dt,"readwrite").objectStore(dt);for(const[vt,ct]of Object.entries(lt))await new Promise((yt,Dt)=>{const Ht=ot.put(ct,vt);Ht.onsuccess=()=>yt(),Ht.onerror=()=>Dt(Ht.error)})}ht.close(),await xt(c||(e==null?void 0:e.stores[0])||""),alert("Data imported successfully!")}catch(tt){console.error("Import failed:",tt),alert("Failed to import data. Check console for details.")}},Ft.click()},Ct=async()=>{if(confirm("Are you sure you want to clear all storage data? This cannot be undone."))try{await idbStorage.clearAll(),h([]),alert("Storage cleared successfully!")}catch(Ft){console.error("Clear failed:",Ft),alert("Failed to clear storage. Check console for details.")}},Vt=Ft=>{if(typeof Ft=="string")try{const Mt=JSON.parse(Ft);return JSON.stringify(Mt,null,2)}catch{return Ft}return JSON.stringify(Ft,null,2)},Bt=Ft=>Ft<1024?`${Ft} B`:Ft<1024*1024?`${(Ft/1024).toFixed(2)} KB`:`${(Ft/(1024*1024)).toFixed(2)} MB`,Ut=b.reduce((Ft,Mt)=>Ft+Mt.size,0);return jsxRuntimeExports.jsxs("section",{className:"rounded-3xl border border-slate-200 bg-white p-5 dark:border-white/10 dark:bg-slate-900/60",children:[jsxRuntimeExports.jsxs("header",{className:"mb-4 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-[10px] uppercase tracking-[0.4em] text-slate-500 dark:text-slate-500",children:"Storage Dashboard"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Database Management"})]}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:pt,className:"rounded-full border border-slate-200 px-3 py-1.5 text-xs text-slate-600 hover:bg-slate-50 dark:border-white/10 dark:text-slate-300",children:[jsxRuntimeExports.jsx(RefreshCw,{className:"mr-1 inline h-3 w-3"}),"Refresh"]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[nt&&at&&jsxRuntimeExports.jsxs("div",{className:"rounded-2xl border border-sky-200 bg-gradient-to-br from-sky-50 to-blue-50 p-4 dark:border-sky-500/30 dark:from-sky-950/40 dark:to-blue-950/40",children:[jsxRuntimeExports.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Info$1,{className:"h-4 w-4 text-sky-600 dark:text-sky-400"}),jsxRuntimeExports.jsx("h4",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Storage Adapter Insights"})]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>ut(!1),className:"text-xs text-slate-500 hover:text-slate-700 dark:text-slate-400",children:"Hide"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3 text-xs",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[jsxRuntimeExports.jsx(HardDrive,{className:"h-3.5 w-3.5 text-sky-500"}),jsxRuntimeExports.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-200",children:"Adapter:"}),jsxRuntimeExports.jsx("span",{className:"text-slate-600 dark:text-slate-300",children:nt.adapter})]}),jsxRuntimeExports.jsxs("div",{className:"ml-5 text-slate-600 dark:text-slate-400",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Engine:"})," ",nt.engine]}),jsxRuntimeExports.jsxs("div",{className:"ml-5 mt-1 text-slate-600 dark:text-slate-400",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Persistence:"})," ",nt.persistence]}),jsxRuntimeExports.jsxs("div",{className:"ml-5 mt-1 text-xs text-sky-600 dark:text-sky-400",children:[" ",jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Key Value:"})," Automatic persistence (data survives page refresh). sql.js adapter requires manual save."]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[jsxRuntimeExports.jsx(CircleCheck,{className:"h-3.5 w-3.5 text-emerald-500"}),jsxRuntimeExports.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-200",children:"Capabilities:"})]}),jsxRuntimeExports.jsx("div",{className:"ml-5 flex flex-wrap gap-1.5",children:nt.capabilities.map(Ft=>jsxRuntimeExports.jsx("span",{className:"rounded-full bg-emerald-100 px-2 py-0.5 text-[10px] font-medium text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300",children:Ft},Ft))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Zap,{className:"h-3.5 w-3.5 text-amber-500"}),jsxRuntimeExports.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-200",children:"Performance:"})]}),jsxRuntimeExports.jsx("div",{className:"ml-5 text-slate-600 dark:text-slate-400",children:nt.performance})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"h-3.5 w-3.5 text-amber-500"}),jsxRuntimeExports.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-200",children:"Limitations:"})]}),jsxRuntimeExports.jsx("ul",{className:"ml-5 list-disc space-y-0.5 text-slate-600 dark:text-slate-400",children:nt.limitations.map((Ft,Mt)=>jsxRuntimeExports.jsx("li",{children:Ft},Mt))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Info$1,{className:"h-3.5 w-3.5 text-blue-500"}),jsxRuntimeExports.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-200",children:"Recommendations:"})]}),jsxRuntimeExports.jsx("ul",{className:"ml-5 list-disc space-y-0.5 text-slate-600 dark:text-slate-400",children:nt.recommendations.map((Ft,Mt)=>jsxRuntimeExports.jsx("li",{children:Ft},Mt))})]})]})]}),!at&&jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>ut(!0),className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-xs text-slate-600 hover:bg-slate-50 dark:border-white/10 dark:bg-slate-950/80 dark:text-slate-300",children:[jsxRuntimeExports.jsx(Info$1,{className:"mr-1 inline h-3 w-3"}),"Show Storage Insights"]}),jsxRuntimeExports.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-4 dark:border-white/10 dark:bg-slate-950/50",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[jsxRuntimeExports.jsx(Database,{className:"h-4 w-4 text-sky-500"}),jsxRuntimeExports.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-200",children:"Current Adapter:"}),jsxRuntimeExports.jsx("span",{className:"text-slate-600 dark:text-slate-300",children:$})]}),e&&jsxRuntimeExports.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-xs text-slate-600 dark:text-slate-400",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Database:"})," ",e.name]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Version:"})," ",e.version]}),jsxRuntimeExports.jsxs("div",{className:"col-span-2",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Stores:"})," ",e.stores.join(", ")]})]})]}),e&&e.stores.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"mb-2 block text-xs uppercase tracking-[0.35em] text-slate-500 dark:text-slate-400",children:"Object Store"}),jsxRuntimeExports.jsx("select",{value:c||"",onChange:Ft=>d(Ft.target.value),className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 focus:border-sky-500 focus:outline-none dark:border-white/10 dark:bg-slate-950/80 dark:text-slate-100",children:e.stores.map(Ft=>jsxRuntimeExports.jsx("option",{value:Ft,children:Ft},Ft))})]}),c&&jsxRuntimeExports.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white dark:border-white/10 dark:bg-slate-950/50",children:[jsxRuntimeExports.jsx("div",{className:"border-b border-slate-200 p-3 dark:border-white/10",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("span",{className:"text-xs font-semibold uppercase tracking-[0.35em] text-slate-500 dark:text-slate-400",children:["Records (",b.length,")"]}),Ut>0&&jsxRuntimeExports.jsxs("span",{className:"text-xs text-slate-600 dark:text-slate-400",children:["Total: ",Bt(Ut)]})]})}),jsxRuntimeExports.jsx("div",{className:"max-h-96 space-y-2 overflow-y-auto p-3",children:_?jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-500",children:"Loading records..."}):b.length===0?jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-500",children:"No records found"}):b.map(Ft=>{const Mt=_e.has(Ft.key),mt=Vt(Ft.value),ft=mt.length>100?mt.substring(0,100)+"...":mt;return jsxRuntimeExports.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3 dark:border-white/10 dark:bg-slate-900/60",children:jsxRuntimeExports.jsx("div",{className:"flex items-start justify-between",children:jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>St(Ft.key),className:"text-slate-600 hover:text-sky-500 dark:text-slate-400",children:Mt?jsxRuntimeExports.jsx(EyeOff,{className:"h-4 w-4"}):jsxRuntimeExports.jsx(Eye,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("span",{className:"font-mono text-xs font-semibold text-slate-700 dark:text-slate-200",children:Ft.key}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-500",children:["(",Bt(Ft.size),")"]})]}),Mt?jsxRuntimeExports.jsx("pre",{className:"mt-2 max-h-64 overflow-auto rounded bg-slate-900 p-2 text-xs text-slate-100",children:mt}):jsxRuntimeExports.jsx("pre",{className:"mt-1 text-xs text-slate-600 dark:text-slate-400",children:ft})]})})},Ft.key)})})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2",children:[jsxRuntimeExports.jsxs("button",{type:"button",onClick:Nt,className:"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-white px-4 py-2 text-xs font-semibold text-slate-700 transition hover:bg-slate-50 dark:border-white/10 dark:bg-slate-950/80 dark:text-slate-200",children:[jsxRuntimeExports.jsx(Download,{className:"h-3 w-3"}),"Export All"]}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:At,className:"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-white px-4 py-2 text-xs font-semibold text-slate-700 transition hover:bg-slate-50 dark:border-white/10 dark:bg-slate-950/80 dark:text-slate-200",children:[jsxRuntimeExports.jsx(Upload,{className:"h-3 w-3"}),"Import"]}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:Ct,className:"inline-flex items-center gap-2 rounded-full border border-rose-300 bg-white px-4 py-2 text-xs font-semibold text-rose-700 transition hover:bg-rose-50 dark:border-rose-500/40 dark:text-rose-300",children:[jsxRuntimeExports.jsx(Trash2,{className:"h-3 w-3"}),"Clear All"]})]})]})]})}function SettingsPanel(){const[e,a]=reactExports.useState(!0),[c,d]=reactExports.useState(!1),[b,h]=reactExports.useState({provider:"openai",openaiKey:"",openaiModel:"",anthropicKey:"",anthropicModel:"",rpm:""}),[_,j]=reactExports.useState({}),[_e,et]=reactExports.useState([{id:"guardrail-pii",type:"@framersai/guardrail-keyword",displayName:"PII Protection",description:"Redacts SSN, email, phone from output (evaluates final chunk only for performance)",enabled:!1,config:{},priority:10,uiMetadata:{category:"privacy",icon:"shield-check",color:"#10b981"}}]);reactExports.useEffect(()=>{(async()=>{try{const rt=await fetchUserSettings();j({openai:rt.providers.openai.apiKey.masked,anthropic:rt.providers.anthropic.apiKey.masked}),h(nt=>({...nt,openaiModel:rt.providers.openai.model.value||"",anthropicModel:rt.providers.anthropic.model.value||"",rpm:rt.limits.rpm?String(rt.limits.rpm):""}))}finally{a(!1)}})()},[]);const $=async()=>{d(!0);try{const rt={};(b.openaiKey||b.openaiModel)&&(rt.openai={},b.openaiKey&&(rt.openai.apiKey=b.openaiKey),b.openaiModel&&(rt.openai.model=b.openaiModel)),(b.anthropicKey||b.anthropicModel)&&(rt.anthropic={},b.anthropicKey&&(rt.anthropic.apiKey=b.anthropicKey),b.anthropicModel&&(rt.anthropic.model=b.anthropicModel));const nt={};b.rpm&&(nt.rpm=Number(b.rpm)),await updateUserSettings({providers:rt,limits:nt});const st=await fetchUserSettings();j({openai:st.providers.openai.apiKey.masked,anthropic:st.providers.anthropic.apiKey.masked}),h(at=>({...at,openaiKey:"",anthropicKey:""}))}finally{d(!1)}};return jsxRuntimeExports.jsxs("section",{className:"rounded-xl border theme-border theme-bg-secondary-soft p-3 transition-theme",children:[jsxRuntimeExports.jsxs("header",{className:"mb-2 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-[10px] uppercase tracking-[0.35em] theme-text-muted",children:"Settings"}),jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold theme-text-primary",children:"Providers & limits"})]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:$,disabled:c,className:"rounded-full theme-bg-accent px-3 py-1 text-xs font-semibold theme-text-on-accent disabled:opacity-50",children:c?"Saving":"Save"})]}),e?jsxRuntimeExports.jsx("p",{className:"text-xs theme-text-muted",children:"Loading"}):jsxRuntimeExports.jsxs("div",{className:"space-y-4 text-xs",children:[jsxRuntimeExports.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"mb-1.5 text-[10px] uppercase tracking-[0.35em] theme-text-muted",children:"OpenAI"}),jsxRuntimeExports.jsxs("label",{className:"block space-y-1",children:[jsxRuntimeExports.jsx("span",{className:"text-[10px] theme-text-secondary",children:"API key"}),jsxRuntimeExports.jsx("input",{type:"password",placeholder:_.openai||"sk-",value:b.openaiKey,onChange:rt=>h(nt=>({...nt,openaiKey:rt.target.value})),className:"w-full rounded-md border theme-border theme-bg-primary px-2 py-1.5 text-xs theme-text-primary focus:border-sky-500 focus:outline-none"})]}),jsxRuntimeExports.jsxs("label",{className:"mt-2 block space-y-1",children:[jsxRuntimeExports.jsx("span",{className:"text-[10px] theme-text-secondary",children:"Model"}),jsxRuntimeExports.jsx("input",{placeholder:"gpt-4o-mini",value:b.openaiModel,onChange:rt=>h(nt=>({...nt,openaiModel:rt.target.value})),className:"w-full rounded-md border theme-border theme-bg-primary px-2 py-1.5 text-xs theme-text-primary focus:border-sky-500 focus:outline-none"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"mb-1.5 text-[10px] uppercase tracking-[0.35em] theme-text-muted",children:"Anthropic"}),jsxRuntimeExports.jsxs("label",{className:"block space-y-1",children:[jsxRuntimeExports.jsx("span",{className:"text-[10px] theme-text-secondary",children:"API key"}),jsxRuntimeExports.jsx("input",{type:"password",placeholder:_.anthropic||"sk-ant-",value:b.anthropicKey,onChange:rt=>h(nt=>({...nt,anthropicKey:rt.target.value})),className:"w-full rounded-md border theme-border theme-bg-primary px-2 py-1.5 text-xs theme-text-primary focus:border-sky-500 focus:outline-none"})]}),jsxRuntimeExports.jsxs("label",{className:"mt-2 block space-y-1",children:[jsxRuntimeExports.jsx("span",{className:"text-[10px] theme-text-secondary",children:"Model"}),jsxRuntimeExports.jsx("input",{placeholder:"claude-3-5-sonnet",value:b.anthropicModel,onChange:rt=>h(nt=>({...nt,anthropicModel:rt.target.value})),className:"w-full rounded-md border theme-border theme-bg-primary px-2 py-1.5 text-xs theme-text-primary focus:border-sky-500 focus:outline-none"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"mb-1.5 text-[10px] uppercase tracking-[0.35em] theme-text-muted",children:"Rate limiting"}),jsxRuntimeExports.jsxs("label",{className:"block space-y-1",children:[jsxRuntimeExports.jsx("span",{className:"text-[10px] theme-text-secondary",children:"Requests per minute"}),jsxRuntimeExports.jsx("input",{inputMode:"numeric",placeholder:"Optional (UI only)",value:b.rpm,onChange:rt=>h(nt=>({...nt,rpm:rt.target.value})),className:"w-full rounded-md border theme-border theme-bg-primary px-2 py-1.5 text-xs theme-text-primary focus:border-sky-500 focus:outline-none"})]}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-[10px] theme-text-muted",children:"Currently informational; server-side enforcement can be enabled later."})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-4",children:jsxRuntimeExports.jsx(GuardrailManager,{guardrails:_e,onToggle:(rt,nt)=>{et(st=>st.map(at=>at.id===rt?{...at,enabled:nt}:at))},onRemove:rt=>et(nt=>nt.filter(st=>st.id!==rt)),onConfigure:rt=>{console.log("Configure guardrail:",rt)}})}),jsxRuntimeExports.jsx("div",{className:"mt-4",children:jsxRuntimeExports.jsx(StorageDashboard,{})})]})}function ImportWizard({open:e,onClose:a}){const c=useSessionStore($=>$.addPersona),d=useSessionStore($=>$.addAgency),b=useSessionStore($=>$.upsertSession),h=reactExports.useRef(null),[_,j]=reactExports.useState("");if(!e)return null;const _e=()=>{var $;return($=h.current)==null?void 0:$.click()},et=async $=>{try{const rt=await $.text(),nt=JSON.parse(rt);let st=0,at=0,ut=0;const wt=pt=>Array.isArray(pt)?pt:[];for(const pt of wt(nt.personas)){const xt={id:String(pt.id||crypto.randomUUID()),displayName:String(pt.displayName||pt.name||"Imported persona"),description:typeof pt.description=="string"?pt.description:void 0,tags:Array.isArray(pt.tags)?pt.tags:[],traits:Array.isArray(pt.traits)?pt.traits:[],source:"local"};c(xt),persistPersonaRow(xt),st+=1}for(const pt of wt(nt.agencies)){const xt={id:String(pt.id||`agency-${crypto.randomUUID().slice(0,8)}`),name:String(pt.name||"Imported agency"),goal:typeof pt.goal=="string"?pt.goal:void 0,workflowId:typeof pt.workflowId=="string"?pt.workflowId:void 0,participants:Array.isArray(pt.participants)?pt.participants:[],metadata:typeof pt.metadata=="object"&&pt.metadata?pt.metadata:void 0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};d(xt),at+=1}for(const pt of wt(nt.sessions)){const St=(Array.isArray(pt.events)?pt.events:[]).map(At=>({id:typeof At.id=="string"?At.id:crypto.randomUUID(),timestamp:typeof At.timestamp=="number"?At.timestamp:Date.now(),type:typeof At.type=="string"?At.type:"log",payload:typeof At.payload=="object"&&At.payload!==null?At.payload:{message:"Imported event"}})),Nt={id:String(pt.id||crypto.randomUUID()),targetType:pt.targetType==="agency"?"agency":"persona",displayName:String(pt.displayName||"Imported session"),personaId:typeof pt.personaId=="string"?pt.personaId:void 0,agencyId:typeof pt.agencyId=="string"?pt.agencyId:void 0,status:"idle",events:St};b(Nt),await persistSessionRow(Nt);for(const At of St)await persistSessionEventRow(Nt,At);ut+=1}j(`Imported ${st} persona(s), ${at} agency(ies), ${ut} session(s).`)}catch(rt){const nt=rt instanceof Error?rt.message:String(rt);j(`Import failed: ${nt}`)}};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 p-4",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-xl rounded-3xl border border-slate-200 bg-white p-6 shadow-xl dark:border-white/10 dark:bg-slate-900",children:[jsxRuntimeExports.jsxs("header",{className:"mb-3 flex items-center justify-between",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Import"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:a,className:"rounded-full border border-slate-200 px-3 py-1 text-xs text-slate-600 hover:bg-slate-50 dark:border-white/10 dark:text-slate-300",children:"Close"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:"Select a JSON file exported from this app. Import supports personas and agencies."}),jsxRuntimeExports.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:_e,className:"rounded-full bg-sky-500 px-4 py-2 text-sm font-semibold text-white",children:"Choose file"}),jsxRuntimeExports.jsx("input",{ref:h,type:"file",accept:"application/json",className:"hidden",onChange:$=>{var nt;const rt=(nt=$.target.files)==null?void 0:nt[0];rt&&et(rt)}})]}),_&&jsxRuntimeExports.jsx("p",{className:"mt-3 text-xs text-slate-500 dark:text-slate-400",children:_})]})})}const useUiStore=create$1()(persist(e=>({welcomeTourDismissed:!1,welcomeTourSnoozeUntil:null,preferredLeftPanel:"personas",dismissWelcomeTour:()=>e({welcomeTourDismissed:!0,welcomeTourSnoozeUntil:null}),snoozeWelcomeTour:(a=24)=>e({welcomeTourSnoozeUntil:Date.now()+a*60*60*1e3}),setPreferredLeftPanel:a=>e({preferredLeftPanel:a})}),{name:"agentos-workbench-ui",storage:createJSONStorage(()=>typeof window<"u"?idbStorage:sqlStateStorage)}));function usePersonas(e={}){var _;const{userId:a,filters:c,enabled:d=!0,staleTimeMs:b=5*60*1e3}=e,h=c?{capability:c.capability?(Array.isArray(c.capability)?c.capability.map(j=>j.trim()).filter(Boolean).sort():[c.capability.trim()]).filter(Boolean):void 0,tier:c.tier?(Array.isArray(c.tier)?c.tier.map(j=>j.trim()).filter(Boolean).sort():[c.tier.trim()]).filter(Boolean):void 0,search:(_=c.search)!=null&&_.trim()?c.search.trim():void 0}:void 0;return useQuery({queryKey:["agentos","personas",a??null,h??{}],enabled:d,staleTime:b,refetchOnWindowFocus:!1,refetchOnMount:!1,retry:1,queryFn:({signal:j})=>listPersonas({userId:a,filters:h,signal:j})})}function useSystemTheme(){reactExports.useEffect(()=>{if(typeof window>"u")return;const e=document.documentElement,a=window.matchMedia("(prefers-color-scheme: dark)"),c=b=>{e.classList.toggle("dark",b),e.classList.toggle("light",!b)};c(a.matches);const d=b=>c(b.matches);return typeof a.addEventListener=="function"?(a.addEventListener("change",d),()=>a.removeEventListener("change",d)):(a.addListener(d),()=>a.removeListener(d))},[])}const useTelemetryStore=create$1()(e=>({perSession:{},currentSessionId:void 0,startStream:a=>{e(c=>({currentSessionId:a,perSession:{...c.perSession,[a]:{startedAt:Date.now(),lastEventAt:void 0,durationMs:void 0,chunks:0,textDeltaChars:0,toolCalls:0,errors:0}}}))},noteChunk:(a,c)=>{e(d=>{var _,j;const b=d.perSession[a]||{chunks:0,textDeltaChars:0,toolCalls:0,errors:0},h={...b,lastEventAt:Date.now(),chunks:(b.chunks||0)+1};switch(c.type){case AgentOSChunkType.TEXT_DELTA:{const _e=c;h.textDeltaChars=(h.textDeltaChars||0)+(((_=_e.textDelta)==null?void 0:_.length)||0);break}case AgentOSChunkType.TOOL_CALL_REQUEST:{const _e=c;h.toolCalls=(h.toolCalls||0)+(((j=_e.toolCalls)==null?void 0:j.length)||1);break}case AgentOSChunkType.ERROR:{h.errors=(h.errors||0)+1;break}case AgentOSChunkType.FINAL_RESPONSE:{const _e=c;_e.usage&&(h.finalTokensPrompt=_e.usage.promptTokens,h.finalTokensCompletion=_e.usage.completionTokens,h.finalTokensTotal=_e.usage.totalTokens);break}}return{perSession:{...d.perSession,[a]:h}}})},endStream:a=>{e(c=>{const d=c.perSession[a];if(!d)return c;const b=d.startedAt?Date.now()-d.startedAt:d.durationMs;return{perSession:{...c.perSession,[a]:{...d,durationMs:b}}}})}}));function ThemeToggle(){const{actualTheme:e,setTheme:a}=useThemeStore(),c=e==="dark",d=c?"light":"dark",b=()=>{a(d)};return jsxRuntimeExports.jsx("button",{onClick:b,className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-white/10 bg-white/70 text-slate-800 shadow-sm backdrop-blur transition-theme hover:bg-slate-200/70 focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2 dark:border-white/10 dark:bg-slate-900/50 dark:text-slate-100 dark:hover:bg-white/10 dark:focus:ring-offset-slate-900",title:c?"Switch to light mode":"Switch to dark mode","aria-label":c?"Switch to light mode":"Switch to dark mode","aria-pressed":c,children:jsxRuntimeExports.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 48 48","aria-hidden":"true",children:[jsxRuntimeExports.jsx("defs",{children:jsxRuntimeExports.jsxs("radialGradient",{id:"aura-client",cx:"50%",cy:"50%",r:"50%",children:[jsxRuntimeExports.jsx("stop",{offset:"0%",stopColor:c?"rgba(180,220,255,0.45)":"rgba(255,170,210,0.35)"}),jsxRuntimeExports.jsx("stop",{offset:"60%",stopColor:c?"rgba(120,180,255,0.15)":"rgba(255,200,230,0.12)"}),jsxRuntimeExports.jsx("stop",{offset:"100%",stopColor:"rgba(0,0,0,0)"})]})}),jsxRuntimeExports.jsx("circle",{cx:"24",cy:"24",r:"22",fill:"url(#aura-client)",children:jsxRuntimeExports.jsx("animate",{attributeName:"r",dur:"3s",values:"21;23;21",repeatCount:"indefinite"})}),jsxRuntimeExports.jsxs("g",{children:[jsxRuntimeExports.jsx("circle",{fill:c?"hsl(200,80%,65%)":"hsl(45,95%,60%)",cx:"24",cy:"24",r:"8",children:jsxRuntimeExports.jsx("animate",{attributeName:"r",dur:"2.8s",values:"7.6;8;7.6",repeatCount:"indefinite"})}),c?jsxRuntimeExports.jsx("circle",{fill:"hsl(220,30%,12%)",cx:"28",cy:"20",r:"8"}):jsxRuntimeExports.jsx("circle",{fill:"rgba(255,255,255,0.35)",cx:"24",cy:"24",r:"10",children:jsxRuntimeExports.jsx("animate",{attributeName:"r",dur:"2.8s",values:"9.5;10;9.5",repeatCount:"indefinite"})})]})]})})}function TelemetryView(){const e=useTelemetryStore(d=>d.perSession),a=useSessionStore(d=>d.activeSessionId),c=a?e[a]:void 0;return c?jsxRuntimeExports.jsxs("dl",{className:"grid grid-cols-2 gap-3 text-xs theme-text-secondary",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("dt",{className:"uppercase tracking-widest theme-text-muted",children:"Chunks"}),jsxRuntimeExports.jsx("dd",{className:"font-semibold theme-text-primary",children:c.chunks??0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("dt",{className:"uppercase tracking-widest theme-text-muted",children:"Chars"}),jsxRuntimeExports.jsx("dd",{className:"font-semibold theme-text-primary",children:c.textDeltaChars??0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("dt",{className:"uppercase tracking-widest theme-text-muted",children:"Tool calls"}),jsxRuntimeExports.jsx("dd",{className:"font-semibold theme-text-primary",children:c.toolCalls??0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("dt",{className:"uppercase tracking-widest theme-text-muted",children:"Errors"}),jsxRuntimeExports.jsx("dd",{className:"font-semibold theme-text-primary",children:c.errors??0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("dt",{className:"uppercase tracking-widest theme-text-muted",children:"Duration"}),jsxRuntimeExports.jsx("dd",{className:"font-semibold theme-text-primary",children:c.durationMs?`${Math.round(c.durationMs)}ms`:"-"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("dt",{className:"uppercase tracking-widest theme-text-muted",children:"Tokens"}),jsxRuntimeExports.jsx("dd",{className:"font-semibold theme-text-primary",children:c.finalTokensTotal??"-"})]})]}):jsxRuntimeExports.jsx("p",{className:"text-xs theme-text-secondary",children:"No telemetry yet."})}function AnalyticsView({selectedModel:e,onChangeModel:a,modelOptions:c,modelData:d}){var at,ut;const b=useTelemetryStore(wt=>wt.perSession),h=useSessionStore(wt=>wt.activeSessionId),_=h?b[h]:void 0,j=(_==null?void 0:_.finalTokensTotal)??0,_e=(_==null?void 0:_.finalTokensPrompt)??0,et=(_==null?void 0:_.finalTokensCompletion)??0,$=d.find(wt=>wt.id===e),rt=d.find(wt=>wt.id==="gpt-4o-mini")||d[0],st=((wt,pt,xt)=>{var Bt,Ut;const St=d.find(Ft=>Ft.id===xt),Nt=((Bt=St==null?void 0:St.pricing)==null?void 0:Bt.inputCostPer1K)??5e-4,At=((Ut=St==null?void 0:St.pricing)==null?void 0:Ut.outputCostPer1K)??.0015,Ct=wt/1e3*Nt,Vt=pt/1e3*At;return Ct+Vt})(_e,et,e);return jsxRuntimeExports.jsxs("div",{className:"text-xs theme-text-secondary",children:[jsxRuntimeExports.jsxs("div",{className:"mb-3 space-y-2",children:[jsxRuntimeExports.jsxs("label",{className:"block",children:[jsxRuntimeExports.jsx("span",{className:"text-[11px] uppercase tracking-widest theme-text-muted",children:"Model Override"}),jsxRuntimeExports.jsxs("select",{value:e||"",onChange:wt=>a(wt.target.value||void 0),className:"w-full rounded-md border theme-border bg-[color:var(--color-background-secondary)] px-2 py-1 text-xs theme-text-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent",children:[jsxRuntimeExports.jsxs("option",{value:"",children:["System default (",(rt==null?void 0:rt.displayName)||(rt==null?void 0:rt.id)||"gpt-4o-mini",")"]}),c.map(wt=>{const pt=d.find(xt=>xt.id===wt);return jsxRuntimeExports.jsxs("option",{value:wt,children:[(pt==null?void 0:pt.displayName)||wt," ",e===wt?"(current)":""]},wt)})]})]}),$&&jsxRuntimeExports.jsxs("div",{className:"text-[10px] theme-text-muted",children:["Provider: ",$.provider," | Input: $",(((at=$.pricing)==null?void 0:at.inputCostPer1K)||0).toFixed(4),"/1K | Output: $",(((ut=$.pricing)==null?void 0:ut.outputCostPer1K)||0).toFixed(4),"/1K"]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsxs("p",{children:["Last session tokens: ",j||"-"]}),jsxRuntimeExports.jsxs("p",{children:["Prompt: ",_e||"-"," | Completion: ",et||"-"]}),jsxRuntimeExports.jsxs("p",{children:["Estimated cost: ",j?`$${st.toFixed(4)}`:"-"]})]})]})}const DEFAULT_PERSONA_ID="v_researcher",DEMO_PERSONA_SESSION_ID="demo-persona-session",DEMO_AGENCY_ID="demo-agency",DEMO_AGENCY_SESSION_ID="demo-agency-session";function App(){const e=[{key:"compose",label:"Compose"},{key:"personas",label:"Personas"},{key:"agency",label:"Agency"},{key:"workflows",label:"Workflows"}],a=useUiStore(Et=>Et.preferredLeftPanel),c=useUiStore(Et=>Et.setPreferredLeftPanel),d=e.some(Et=>Et.key===a)?a:"personas",b=reactExports.useCallback(Et=>{c(Et)},[c]),[h,_]=reactExports.useState(!1),[j,_e]=reactExports.useState(!1),[et,$]=reactExports.useState(!1),[rt,nt]=reactExports.useState(!1),[st,at]=reactExports.useState(!1),[ut,wt]=reactExports.useState(!1),[pt,xt]=reactExports.useState(!0),[St,Nt]=reactExports.useState([]),[At,Ct]=reactExports.useState([]),[Vt,Bt]=reactExports.useState(void 0),Ut=useUiStore(Et=>Et.welcomeTourDismissed),Ft=useUiStore(Et=>Et.welcomeTourSnoozeUntil),Mt=useUiStore(Et=>Et.dismissWelcomeTour),mt=useUiStore(Et=>Et.snoozeWelcomeTour),ft=[{selector:'[data-tour="tabs"]',title:"Panels",body:"Switch between Compose, Agency, Personas, Workflows, Settings, and About."},{selector:'[data-tour="composer"]',title:"Compose",body:"Write prompts, select persona/agency, and submit to start a session."},{selector:'[data-tour="agency-manager"]',title:"Agency",body:"Define multi-seat collectives and attach workflows."},{selector:'[data-tour="theme-button"]',title:"Theme",body:"Switch theme mode, appearance, and palette (Sakura, Twilight, etc.)"},{selector:'[data-tour="import-button"]',title:"Import",body:"Import exported personas, agencies, and sessions from JSON."}],{t:tt}=useTranslation();useSystemTheme();const it=useSessionStore(Et=>Et.personas),ht=useSessionStore(Et=>Et.addPersona),dt=useSessionStore(Et=>Et.agencies),lt=useSessionStore(Et=>Et.sessions),gt=useSessionStore(Et=>Et.addAgency),ot=useSessionStore(Et=>Et.applyAgencySnapshot),vt=useSessionStore(Et=>Et.applyWorkflowSnapshot),ct=useSessionStore(Et=>Et.setPersonas),yt=useSessionStore(Et=>Et.personaFilters),Dt=reactExports.useMemo(()=>it.filter(Et=>Et.source==="remote"),[it]),Ht=useSessionStore(Et=>Et.upsertSession),qt=useSessionStore(Et=>Et.appendEvent),_t=useSessionStore(Et=>Et.activeSessionId),kt=useSessionStore(Et=>Et.setActiveSession),Lt=reactExports.useCallback(Et=>{const Rt=useSessionStore.getState().sessions.find(Ot=>Ot.id===Et);Rt&&persistSessionRow(Rt)},[]),Kt=reactExports.useCallback((Et,Rt)=>{const Ot=useSessionStore.getState().sessions.find(Wt=>Wt.id===Et);Ot&&persistSessionEventRow(Ot,Rt)},[]),$t=reactExports.useCallback(Et=>{Ht(Et),Lt(Et.id)},[Ht,Lt]),It=reactExports.useCallback((Et,Rt)=>{qt(Et,Rt),Kt(Et,Rt)},[qt,Kt]),Xt=reactExports.useMemo(()=>_t?lt.find(Et=>Et.id===_t):void 0,[_t,lt]),cr=(Xt==null?void 0:Xt.targetType)==="agency"&&Xt.status==="streaming",fr=reactExports.useRef({}),hr=useTelemetryStore(),yr=usePersonas({filters:{search:yt.search.trim()?yt.search.trim():void 0,capability:yt.capabilities},staleTimeMs:10*60*1e3}),Sr=!yr.isLoading&&!yr.isError;reactExports.useEffect(()=>{yr.data&&ct(yr.data)},[yr.data,ct]),reactExports.useEffect(()=>{let Et=!1;return(async()=>{try{const{sessions:Rt,personas:Ot}=await bootstrapStorage();if(Et)return;Ot.length>0&&Ot.forEach(Wt=>ht(Wt)),Rt.length>0&&Rt.forEach(Wt=>Ht(Wt))}catch(Rt){console.error("[AgentOS Client] Failed to bootstrap storage",Rt)}finally{Et||nt(!0)}})(),()=>{Et=!0}},[ht,Ht]),reactExports.useEffect(()=>{let Et=!0;return(async()=>{try{const Rt=await getAvailableModels();if(!Et)return;const Wt=(Array.isArray(Rt)?Rt:[]).map(er=>({id:er.id??crypto.randomUUID(),displayName:er.displayName,provider:er.provider,pricing:er.pricing}));Ct(Wt);const Jt=Wt.map(er=>er.id);Nt(Jt)}catch{Et&&(Nt([]),Ct([]))}})(),()=>{Et=!1}},[]);const sr=reactExports.useCallback(Et=>Et.includes("v_researcher")?"v_researcher":Et[0],[]),Zt=reactExports.useCallback(()=>{var Wt;if(!rt)return;const Et=lt.some(Jt=>Jt.id===DEMO_PERSONA_SESSION_ID),Rt=it.filter(Jt=>Jt.source==="remote").map(Jt=>Jt.id),Ot=sr(Rt)??((Wt=it[0])==null?void 0:Wt.id)??null;Ot&&(Et||$t({id:DEMO_PERSONA_SESSION_ID,targetType:"persona",displayName:"Demo Persona Session",personaId:Ot,status:"idle",events:[]}),_t||kt(DEMO_PERSONA_SESSION_ID))},[rt,lt,it,sr,_t,$t,kt]);reactExports.useEffect(()=>{Zt()},[Zt]);const Gt=reactExports.useCallback(()=>{var Wt,Jt,er,Er;if(!rt)return;const Et=it.filter(xr=>xr.source==="remote");if(Et.length<1)return;let Rt=dt.find(xr=>xr.id===DEMO_AGENCY_ID)??null;if(!Rt){const xr=new Date().toISOString(),vr=[{roleId:"lead",personaId:((Wt=Et[0])==null?void 0:Wt.id)??DEFAULT_PERSONA_ID},{roleId:"researcher",personaId:((Jt=Et[1])==null?void 0:Jt.id)??((er=Et[0])==null?void 0:er.id)??DEFAULT_PERSONA_ID},{roleId:"writer",personaId:((Er=Et[0])==null?void 0:Er.id)??DEFAULT_PERSONA_ID}],Rr={id:DEMO_AGENCY_ID,name:"Demo Agency",goal:"Multi-GMI coordination demo",workflowId:void 0,participants:vr,metadata:{seeded:!0},createdAt:xr,updatedAt:xr};gt(Rr),Rt=Rr}!lt.some(xr=>xr.id===DEMO_AGENCY_SESSION_ID)&&Rt&&$t({id:DEMO_AGENCY_SESSION_ID,targetType:"agency",displayName:Rt.name,agencyId:Rt.id,status:"idle",events:[]})},[rt,dt,it,gt,$t,lt]);reactExports.useEffect(()=>{Gt()},[Gt]),reactExports.useEffect(()=>{yr.error&&console.error("[AgentOS Client] Failed to load personas",yr.error)},[yr.error]),reactExports.useEffect(()=>{const Et=()=>$(!0);return window.addEventListener("agentos:open-import",Et),()=>window.removeEventListener("agentos:open-import",Et)},[]),reactExports.useEffect(()=>{const Et=()=>_e(Rt=>!Rt);return window.addEventListener("agentos:toggle-theme-panel",Et),()=>window.removeEventListener("agentos:toggle-theme-panel",Et)},[]),reactExports.useEffect(()=>{const Et=()=>_(Rt=>!Rt);return window.addEventListener("agentos:toggle-tour",Et),()=>window.removeEventListener("agentos:toggle-tour",Et)},[]);const[nr,ur]=reactExports.useState(!1),[ir,lr]=reactExports.useState(!1);reactExports.useEffect(()=>{const Et=()=>ur(!0);return window.addEventListener("agentos:open-settings",Et),()=>window.removeEventListener("agentos:open-settings",Et)},[]),reactExports.useEffect(()=>{const Et=()=>lr(!0);return window.addEventListener("agentos:open-about",Et),()=>window.removeEventListener("agentos:open-about",Et)},[]),reactExports.useEffect(()=>{const Et=window.matchMedia("(min-width: 768px)"),Rt=Wt=>{xt(Wt),Wt||at(!1)};Rt(Et.matches);const Ot=Wt=>Rt(Wt.matches);return Et.addEventListener("change",Ot),()=>Et.removeEventListener("change",Ot)},[]),reactExports.useEffect(()=>{if(!Ut){const Et=Date.now();(!Ft||Et>=Ft)&&_(!0)}},[Ut,Ft]);const Qt=reactExports.useCallback(Et=>{if(!Et)return tt("app.fallbacks.untitledPersona");const Rt=it.find(Ot=>Ot.id===Et);return(Rt==null?void 0:Rt.displayName)??Et},[it,tt]),tr=reactExports.useCallback(Et=>{if(!Et)return tt("app.fallbacks.agencyCollective");const Rt=dt.find(Ot=>Ot.id===Et);return(Rt==null?void 0:Rt.name)??Et},[dt,tt]),gr=reactExports.useCallback(()=>{var Wt;if(_t){const Jt=lt.find(er=>er.id===_t);if(Jt)return Jt}const Et=it.filter(Jt=>Jt.source==="remote").map(Jt=>Jt.id),Rt=sr(Et)??((Wt=it[0])==null?void 0:Wt.id)??DEFAULT_PERSONA_ID,Ot={id:crypto.randomUUID(),targetType:"persona",displayName:Qt(Rt),personaId:Rt,status:"idle",events:[]};return $t(Ot),kt(Ot.id),Ot},[_t,lt,it,sr,Qt,kt,$t]),wr=reactExports.useCallback(Et=>{var dr,Nr,en,Pr;const Rt=crypto.randomUUID(),Ot=it.filter(jr=>jr.source==="remote").map(jr=>jr.id),Wt=sr(Ot)??((dr=it[0])==null?void 0:dr.id)??DEFAULT_PERSONA_ID,Jt=(Nr=Et==null?void 0:Et.personaId)==null?void 0:Nr.trim(),er=Jt&&it.some(jr=>jr.id===Jt)?Jt:Wt,Er=(en=dt[0])==null?void 0:en.id,xr=(Pr=Et==null?void 0:Et.agencyId)==null?void 0:Pr.trim();let vr=(Et==null?void 0:Et.targetType)??"persona";const Rr=vr==="agency"?xr||Er:void 0;vr==="agency"&&!Rr&&(vr="persona");const _r=vr==="agency"?tr(Rr):Qt(er),kr=lt.filter(jr=>jr.displayName.startsWith(_r)).length,Qr=(Et==null?void 0:Et.displayName)??(kr===0?_r:`${_r} ${kr+1}`);return $t({id:Rt,targetType:vr,displayName:Qr,personaId:vr==="persona"?er:void 0,agencyId:vr==="agency"?Rr:void 0,status:"idle",events:[]}),kt(Rt),Rt},[dt,it,lt,kt,$t,sr,tr,Qt]),Tt=reactExports.useCallback(Et=>{var jr,tn,Fr,Mr;const Rt=gr(),Ot=Rt.id,Wt=it.filter(qr=>qr.source==="remote").map(qr=>qr.id),Jt=it.map(qr=>qr.id),er=sr(Wt)??((jr=it[0])==null?void 0:jr.id)??DEFAULT_PERSONA_ID;let Er=Rt.targetType,xr=Rt.agencyId??null;Er==="agency"&&(xr&&dt.some(qr=>qr.id===xr)||(dt.length>0?xr=((tn=dt[0])==null?void 0:tn.id)??null:(Er="persona",xr=null)));let vr=Rt.personaId&&Jt.includes(Rt.personaId)?Rt.personaId:er;vr||(vr=er),(Rt.targetType!==Er||Rt.agencyId!==xr)&&$t({id:Ot,targetType:Er,agencyId:xr??void 0}),kt(Ot),(Mr=(Fr=fr.current)[Ot])==null||Mr.call(Fr),delete fr.current[Ot];const Rr=Er==="agency"?tr(xr):Qt(vr),_r=Date.now(),kr=Er==="agency"&&xr?dt.find(qr=>qr.id===xr)??null:null,Qr=Et.workflowId??(kr==null?void 0:kr.workflowId),dr=Qr?`${Qr}-${Ot}`:void 0,Nr=Er==="agency"&&kr?{agencyId:xr??void 0,workflowId:dr??void 0,goal:kr.goal,participants:(kr.participants??[]).map(qr=>({roleId:qr.roleId,personaId:qr.personaId&&Jt.includes(qr.personaId)?qr.personaId:vr})),metadata:{...kr.metadata,sourceSessionId:Ot}}:void 0,en=Qr?{definitionId:Qr,workflowId:dr,conversationId:Ot,metadata:{source:"agentos-workbench"}}:void 0;$t({id:Ot,targetType:Er,displayName:Rr,personaId:Er==="persona"?vr:void 0,agencyId:Er==="agency"?xr??void 0:void 0,status:"streaming"}),It(Ot,{id:crypto.randomUUID(),timestamp:_r,type:"log",payload:{message:tt("app.logs.userMessage",{displayName:Rr,content:Et.input})}}),hr.startStream(Ot);const Pr=openAgentOSStream({sessionId:Ot,personaId:vr,messages:[{role:"user",content:Et.input}],workflowRequest:en,agencyRequest:Nr,model:Vt},{onChunk:qr=>{try{console.debug("[AgentOS SSE] chunk:",qr)}catch{}It(Ot,{id:crypto.randomUUID(),timestamp:Date.now(),type:qr.type,payload:qr}),hr.noteChunk(Ot,qr),qr.type===AgentOSChunkType.AGENCY_UPDATE&&ot(qr.agency),qr.type===AgentOSChunkType.WORKFLOW_UPDATE&&vt(qr.workflow)},onDone:()=>{$t({id:Ot,status:"idle"}),hr.endStream(Ot),delete fr.current[Ot]},onError:qr=>{It(Ot,{id:crypto.randomUUID(),timestamp:Date.now(),type:"log",payload:{message:tt("app.logs.streamError",{message:qr.message}),level:"error"}}),$t({id:Ot,status:"error"}),hr.endStream(Ot),delete fr.current[Ot]}});fr.current[Ot]=Pr},[dt,it,ot,vt,gr,sr,tr,Qt,kt,$t,It,Vt,hr,tt]);return jsxRuntimeExports.jsxs("div",{className:"flex h-screen flex-col overflow-hidden theme-bg-primary theme-text-primary transition-theme",children:[jsxRuntimeExports.jsx(SkipLink,{}),jsxRuntimeExports.jsx("header",{className:"flex-none sticky top-0 z-50 border-b theme-border theme-bg-primary-soft px-4 py-2 backdrop-blur-sm transition-theme",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[!pt&&jsxRuntimeExports.jsx("button",{type:"button",className:"mr-1 inline-flex items-center justify-center rounded-md border theme-border bg-[color:var(--color-background-secondary)] p-1 theme-text-primary transition-colors hover:opacity-95 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent lg:hidden","aria-label":"Open sidebar",onClick:()=>wt(!0),children:jsxRuntimeExports.jsx(Menu,{className:"h-5 w-5"})}),jsxRuntimeExports.jsxs("a",{href:"https://agentos.sh",target:"_blank",rel:"noreferrer",className:"group flex items-center gap-2",children:[jsxRuntimeExports.jsx("img",{src:"/agentos-icon.svg",alt:"AgentOS",className:"h-6 w-6"}),jsxRuntimeExports.jsxs("span",{className:"flex items-baseline gap-0.5 text-[18px] font-semibold leading-none theme-text-primary",children:["Agent",jsxRuntimeExports.jsx("span",{className:"leading-none",style:{background:"linear-gradient(135deg, #6366F1, #8B5CF6, #EC4899)",WebkitBackgroundClip:"text",backgroundClip:"text",WebkitTextFillColor:"transparent"},children:"OS"})]})]})]}),jsxRuntimeExports.jsxs("nav",{className:"flex items-center gap-4 text-xs",children:[jsxRuntimeExports.jsx("a",{href:"https://agentos.sh/docs",target:"_blank",rel:"noreferrer",className:"theme-text-secondary transition-colors hover:text-[color:var(--color-accent-primary)]",children:"Docs"}),jsxRuntimeExports.jsx("a",{href:"https://github.com/framersai/agentos",target:"_blank",rel:"noreferrer",className:"theme-text-secondary transition-colors hover:text-[color:var(--color-accent-primary)]",children:"GitHub"}),jsxRuntimeExports.jsx("a",{href:"https://vca.chat",target:"_blank",rel:"noreferrer",className:"theme-text-secondary transition-colors hover:text-[color:var(--color-accent-primary)]",children:"Marketplace"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>_e(!j),className:"rounded-full border theme-border bg-[color:var(--color-background-secondary)] px-2 py-1 text-xs theme-text-secondary transition-colors hover:opacity-95 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent",title:"Theme settings",children:"Theme"}),jsxRuntimeExports.jsx(ThemeToggle,{})]})]})]})}),j&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",role:"dialog","aria-modal":"true",children:jsxRuntimeExports.jsxs("div",{className:"card-panel--strong w-full max-w-lg p-4 shadow-2xl shadow-[rgba(15,23,42,0.2)]",children:[jsxRuntimeExports.jsx(ThemePanel,{}),jsxRuntimeExports.jsx("div",{className:"mt-3 flex justify-end",children:jsxRuntimeExports.jsx("button",{onClick:()=>_e(!1),className:"rounded-full border theme-border bg-[color:var(--color-background-secondary)] px-3 py-1 text-xs theme-text-secondary transition-colors hover:opacity-95 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent",children:"Close"})})]})}),nr&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",role:"dialog","aria-modal":"true",onClick:Et=>{Et.target===Et.currentTarget&&ur(!1)},onKeyDown:Et=>{Et.key==="Escape"&&ur(!1)},children:jsxRuntimeExports.jsxs("div",{className:"card-panel--strong flex h-full max-h-[90vh] w-full max-w-3xl flex-col shadow-2xl shadow-[rgba(15,23,42,0.2)] transition-theme",children:[jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:jsxRuntimeExports.jsx(SettingsPanel,{})}),jsxRuntimeExports.jsx("div",{className:"border-t theme-border p-4",children:jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsx("button",{onClick:()=>ur(!1),className:"rounded-full border theme-border bg-[color:var(--color-background-secondary)] px-3 py-1 text-xs theme-text-secondary transition-colors hover:opacity-95 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent",children:"Close"})})})]})}),ir&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",role:"dialog","aria-modal":"true",onClick:Et=>{Et.target===Et.currentTarget&&lr(!1)},onKeyDown:Et=>{Et.key==="Escape"&&lr(!1)},children:jsxRuntimeExports.jsxs("div",{className:"card-panel--strong flex h-full max-h-[90vh] w-full max-w-3xl flex-col shadow-2xl shadow-[rgba(15,23,42,0.2)] transition-theme",children:[jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:jsxRuntimeExports.jsx(AboutPanel,{})}),jsxRuntimeExports.jsx("div",{className:"border-t theme-border p-4",children:jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsx("button",{onClick:()=>lr(!1),className:"rounded-full border theme-border bg-[color:var(--color-background-secondary)] px-3 py-1 text-xs theme-text-secondary transition-colors hover:opacity-95 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent",children:"Close"})})})]})}),jsxRuntimeExports.jsxs("div",{className:`flex-1 min-h-0 grid w-full ${st?"grid-cols-1":"grid-cols-panel"} transition-all duration-300 ease-in-out-sine`,children:[!st&&(pt?jsxRuntimeExports.jsx("div",{className:"h-full overflow-y-auto border-r theme-border",children:jsxRuntimeExports.jsx(Sidebar,{onCreateSession:wr,onToggleCollapse:()=>at(!0),onNavigate:Et=>{if(Et==="settings"){ur(!0);return}if(Et==="about"){lr(!0);return}b(Et)}})}):ut&&jsxRuntimeExports.jsxs("div",{className:"fixed inset-0 z-50 flex lg:hidden",children:[jsxRuntimeExports.jsx("div",{className:"h-full w-80 max-w-[80%] overflow-y-auto border-r theme-border theme-bg-primary transition-theme",children:jsxRuntimeExports.jsx(Sidebar,{onCreateSession:wr,onToggleCollapse:()=>wt(!1),onNavigate:Et=>{if(Et==="settings"){ur(!0),wt(!1);return}if(Et==="about"){lr(!0),wt(!1);return}b(Et),wt(!1)}})}),jsxRuntimeExports.jsx("button",{className:"flex-1 bg-black/40","aria-label":"Close sidebar overlay",onClick:()=>wt(!1)})]})),jsxRuntimeExports.jsxs("main",{id:"main-content",className:"flex min-w-0 flex-col gap-4 h-full md:overflow-hidden overflow-y-auto theme-bg-primary-soft p-4 transition-theme",role:"main","aria-label":tt("app.labels.mainContent",{defaultValue:"Main content area"}),children:[st&&jsxRuntimeExports.jsx("div",{className:"flex-none flex justify-end",children:jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>at(!1),className:"rounded-full border theme-border bg-[color:var(--color-background-secondary)] px-3 py-1 text-xs theme-text-secondary transition-colors hover:opacity-95 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent",title:"Show sidebar",children:"Show sidebar"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-h-0 flex flex-col gap-4 md:grid md:gap-4 md:grid-cols-[1fr_2fr]",children:[jsxRuntimeExports.jsxs("section",{className:"flex flex-col gap-3 min-h-[500px] md:min-h-0 md:h-full overflow-hidden","aria-label":tt("app.labels.leftPanel",{defaultValue:"Composer and coordination"}),children:[jsxRuntimeExports.jsx("div",{role:"tablist","aria-label":"Left panel tabs",className:"flex-none card-panel--strong p-1.5 text-sm transition-theme sticky top-0 z-10","data-tour":"tabs",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-1",children:[e.map(Et=>{const Rt=d===Et.key;return jsxRuntimeExports.jsx("button",{role:"tab","aria-selected":Rt,onClick:()=>b(Et.key),className:`rounded-full border px-2 py-1 text-xs transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent ${Rt?"theme-bg-accent theme-text-on-accent shadow-sm":"theme-text-secondary theme-bg-secondary border theme-border hover:opacity-95"}`,children:Et.label},Et.key)}),jsxRuntimeExports.jsx("div",{className:"ml-auto"})]})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-y-auto pr-1",children:[d==="compose"&&((Xt==null?void 0:Xt.targetType)==="agency"?jsxRuntimeExports.jsx(AgencyComposer,{onSubmit:Et=>{var xr,vr;const Rt=_t||crypto.randomUUID();kt(Rt);let Ot=Et.roles;if(Et.format==="markdown"&&Et.markdownInput){const Rr=Et.markdownInput.split(`
`).filter(_r=>_r.trim());Ot=[];for(const _r of Rr){const kr=_r.match(/^\[([^\]]+)\]\s*(.+)$/);if(kr){const Qr=kr[1].trim().toLowerCase().replace(/\s+/g,"_"),dr=kr[2].trim(),Nr=Dt[Ot.length%Dt.length]||it[0];Ot.push({roleId:Qr,personaId:(Nr==null?void 0:Nr.id)||"v_researcher",instruction:dr,priority:Ot.length+1})}}}(vr=(xr=fr.current)[Rt])==null||vr.call(xr),delete fr.current[Rt],$t({id:Rt,targetType:"agency",displayName:(Xt==null?void 0:Xt.displayName)||"Agency Workflow",agencyId:Xt==null?void 0:Xt.agencyId,status:"streaming"}),It(Rt,{id:crypto.randomUUID(),timestamp:Date.now(),type:"log",payload:{message:`Starting agency workflow: ${Et.goal}`}}),hr.startStream(Rt);const Wt=new URLSearchParams({userId:"agentos-workbench-user",conversationId:Rt,goal:Et.goal,roles:JSON.stringify(Ot.map(Rr=>({roleId:Rr.roleId,personaId:Rr.personaId,instruction:Rr.instruction,priority:Rr.priority}))),outputFormat:Et.outputFormat||"markdown"}),Jt=typeof window<"u"?window.location.origin:"http://localhost:3001",er=new EventSource(`${Jt}/api/agentos/agency/stream?${Wt.toString()}`),Er=()=>{er.close(),delete fr.current[Rt]};er.onmessage=Rr=>{try{const _r=JSON.parse(Rr.data);It(Rt,{id:crypto.randomUUID(),timestamp:Date.now(),type:_r.type,payload:_r}),hr.noteChunk(Rt,_r),_r.type==="agency_update"&&ot(_r.agency)}catch(_r){console.error("[Agency Stream] Failed to parse chunk:",_r)}},er.addEventListener("done",()=>{$t({id:Rt,status:"idle"}),hr.endStream(Rt),Er()}),er.addEventListener("error",()=>{It(Rt,{id:crypto.randomUUID(),timestamp:Date.now(),type:"log",payload:{message:"Agency stream connection error",level:"error"}}),$t({id:Rt,status:"error"}),hr.endStream(Rt),Er()}),er.onerror=Rr=>{It(Rt,{id:crypto.randomUUID(),timestamp:Date.now(),type:"log",payload:{message:`Agency stream error: ${Rr.type}`,level:"error"}}),$t({id:Rt,status:"error"}),hr.endStream(Rt),Er()},fr.current[Rt]=Er},disabled:!Sr||cr,isSubmitting:cr}):jsxRuntimeExports.jsx(RequestComposer,{onSubmit:Tt},_t||"compose")),d==="personas"&&jsxRuntimeExports.jsx(PersonaCatalog,{}),d==="agency"&&jsxRuntimeExports.jsx(AgencyManager,{}),d==="workflows"&&jsxRuntimeExports.jsx(WorkflowOverview,{})]})]}),jsxRuntimeExports.jsxs("aside",{className:"flex flex-col gap-3 min-h-[500px] md:min-h-0 md:h-full overflow-hidden","aria-label":tt("app.labels.outputsPanel",{defaultValue:"Outputs and results"}),children:[jsxRuntimeExports.jsx("div",{className:"flex-1 min-h-0 relative",children:jsxRuntimeExports.jsx(SessionInspector,{})}),jsxRuntimeExports.jsx("div",{className:"border-t border-slate-200 dark:border-white/10 md:hidden"}),jsxRuntimeExports.jsxs("div",{className:"flex-none grid gap-3 sm:grid-cols-2 md:grid-cols-2 md:gap-4",children:[jsxRuntimeExports.jsxs("section",{className:"card-panel--strong p-3 sm:p-4 transition-theme",children:[jsxRuntimeExports.jsxs("header",{className:"mb-2",children:[jsxRuntimeExports.jsx("p",{className:"text-[10px] uppercase tracking-[0.3em] theme-text-muted",children:"Stream status"}),jsxRuntimeExports.jsx("h3",{className:"text-xs font-semibold theme-text-primary",children:"Live telemetry"})]}),jsxRuntimeExports.jsx(TelemetryView,{})]}),jsxRuntimeExports.jsxs("section",{className:"card-panel--strong p-3 sm:p-4 transition-theme",children:[jsxRuntimeExports.jsxs("header",{className:"mb-2",children:[jsxRuntimeExports.jsx("p",{className:"text-[10px] uppercase tracking-[0.3em] theme-text-muted",children:"Analytics"}),jsxRuntimeExports.jsx("h3",{className:"text-xs font-semibold theme-text-primary",children:"Usage insights"})]}),jsxRuntimeExports.jsx(AnalyticsView,{selectedModel:Vt,onChangeModel:Bt,modelOptions:St,modelData:At})]})]})]})]})]})]}),jsxRuntimeExports.jsx("footer",{className:"flex-none border-t theme-border theme-bg-primary px-4 py-2 text-[10px] theme-text-muted transition-theme",children:jsxRuntimeExports.jsxs("div",{className:"mx-auto flex w-full items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"uppercase tracking-[0.25em]",children:"AgentOS  Cognitive Operating System"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("a",{href:"https://agentos.sh",target:"_blank",rel:"noreferrer",className:"transition-colors hover:text-[color:var(--color-accent-primary)]",children:"agentos.sh"}),jsxRuntimeExports.jsx("a",{href:"https://github.com/framersai/agentos",target:"_blank",rel:"noreferrer",className:"transition-colors hover:text-[color:var(--color-accent-primary)]",children:"GitHub"})]})]})}),jsxRuntimeExports.jsx(TourOverlay,{open:h,steps:ft,onClose:()=>_(!1),onDontShowAgain:()=>Mt(),onRemindLater:()=>mt(24)}),jsxRuntimeExports.jsx(ImportWizard,{open:et,onClose:()=>$(!1)})]})}const isString=e=>typeof e=="string",defer=()=>{let e,a;const c=new Promise((d,b)=>{e=d,a=b});return c.resolve=e,c.reject=a,c},makeString=e=>e==null?"":""+e,copy=(e,a,c)=>{e.forEach(d=>{a[d]&&(c[d]=a[d])})},lastOfPathSeparatorRegExp=/###/g,cleanKey=e=>e&&e.indexOf("###")>-1?e.replace(lastOfPathSeparatorRegExp,"."):e,canNotTraverseDeeper=e=>!e||isString(e),getLastOfPath=(e,a,c)=>{const d=isString(a)?a.split("."):a;let b=0;for(;b<d.length-1;){if(canNotTraverseDeeper(e))return{};const h=cleanKey(d[b]);!e[h]&&c&&(e[h]=new c),Object.prototype.hasOwnProperty.call(e,h)?e=e[h]:e={},++b}return canNotTraverseDeeper(e)?{}:{obj:e,k:cleanKey(d[b])}},setPath=(e,a,c)=>{const{obj:d,k:b}=getLastOfPath(e,a,Object);if(d!==void 0||a.length===1){d[b]=c;return}let h=a[a.length-1],_=a.slice(0,a.length-1),j=getLastOfPath(e,_,Object);for(;j.obj===void 0&&_.length;)h=`${_[_.length-1]}.${h}`,_=_.slice(0,_.length-1),j=getLastOfPath(e,_,Object),j&&j.obj&&typeof j.obj[`${j.k}.${h}`]<"u"&&(j.obj=void 0);j.obj[`${j.k}.${h}`]=c},pushPath=(e,a,c,d)=>{const{obj:b,k:h}=getLastOfPath(e,a,Object);b[h]=b[h]||[],b[h].push(c)},getPath=(e,a)=>{const{obj:c,k:d}=getLastOfPath(e,a);if(c)return c[d]},getPathWithDefaults=(e,a,c)=>{const d=getPath(e,c);return d!==void 0?d:getPath(a,c)},deepExtend=(e,a,c)=>{for(const d in a)d!=="__proto__"&&d!=="constructor"&&(d in e?isString(e[d])||e[d]instanceof String||isString(a[d])||a[d]instanceof String?c&&(e[d]=a[d]):deepExtend(e[d],a[d],c):e[d]=a[d]);return e},regexEscape=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var _entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const escape=e=>isString(e)?e.replace(/[&<>"'\/]/g,a=>_entityMap[a]):e;class RegExpCache{constructor(a){this.capacity=a,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(a){const c=this.regExpMap.get(a);if(c!==void 0)return c;const d=new RegExp(a);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(a,d),this.regExpQueue.push(a),d}}const chars=[" ",",","?","!",";"],looksLikeObjectPathRegExpCache=new RegExpCache(20),looksLikeObjectPath=(e,a,c)=>{a=a||"",c=c||"";const d=chars.filter(_=>a.indexOf(_)<0&&c.indexOf(_)<0);if(d.length===0)return!0;const b=looksLikeObjectPathRegExpCache.getRegExp(`(${d.map(_=>_==="?"?"\\?":_).join("|")})`);let h=!b.test(e);if(!h){const _=e.indexOf(c);_>0&&!b.test(e.substring(0,_))&&(h=!0)}return h},deepFind=function(e,a){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!e)return;if(e[a])return e[a];const d=a.split(c);let b=e;for(let h=0;h<d.length;){if(!b||typeof b!="object")return;let _,j="";for(let _e=h;_e<d.length;++_e)if(_e!==h&&(j+=c),j+=d[_e],_=b[j],_!==void 0){if(["string","number","boolean"].indexOf(typeof _)>-1&&_e<d.length-1)continue;h+=_e-h+1;break}b=_}return b},getCleanedCode=e=>e&&e.replace("_","-"),consoleLogger={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,a){console&&console[e]&&console[e].apply(console,a)}};class Logger{constructor(a){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(a,c)}init(a){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=c.prefix||"i18next:",this.logger=a||consoleLogger,this.options=c,this.debug=c.debug}log(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return this.forward(c,"log","",!0)}warn(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return this.forward(c,"warn","",!0)}error(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return this.forward(c,"error","")}deprecate(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return this.forward(c,"warn","WARNING DEPRECATED: ",!0)}forward(a,c,d,b){return b&&!this.debug?null:(isString(a[0])&&(a[0]=`${d}${this.prefix} ${a[0]}`),this.logger[c](a))}create(a){return new Logger(this.logger,{prefix:`${this.prefix}:${a}:`,...this.options})}clone(a){return a=a||this.options,a.prefix=a.prefix||this.prefix,new Logger(this.logger,a)}}var baseLogger=new Logger;class EventEmitter{constructor(){this.observers={}}on(a,c){return a.split(" ").forEach(d=>{this.observers[d]||(this.observers[d]=new Map);const b=this.observers[d].get(c)||0;this.observers[d].set(c,b+1)}),this}off(a,c){if(this.observers[a]){if(!c){delete this.observers[a];return}this.observers[a].delete(c)}}emit(a){for(var c=arguments.length,d=new Array(c>1?c-1:0),b=1;b<c;b++)d[b-1]=arguments[b];this.observers[a]&&Array.from(this.observers[a].entries()).forEach(_=>{let[j,_e]=_;for(let et=0;et<_e;et++)j(...d)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(_=>{let[j,_e]=_;for(let et=0;et<_e;et++)j.apply(j,[a,...d])})}}class ResourceStore extends EventEmitter{constructor(a){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=a||{},this.options=c,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(a){this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}removeNamespaces(a){const c=this.options.ns.indexOf(a);c>-1&&this.options.ns.splice(c,1)}getResource(a,c,d){let b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const h=b.keySeparator!==void 0?b.keySeparator:this.options.keySeparator,_=b.ignoreJSONStructure!==void 0?b.ignoreJSONStructure:this.options.ignoreJSONStructure;let j;a.indexOf(".")>-1?j=a.split("."):(j=[a,c],d&&(Array.isArray(d)?j.push(...d):isString(d)&&h?j.push(...d.split(h)):j.push(d)));const _e=getPath(this.data,j);return!_e&&!c&&!d&&a.indexOf(".")>-1&&(a=j[0],c=j[1],d=j.slice(2).join(".")),_e||!_||!isString(d)?_e:deepFind(this.data&&this.data[a]&&this.data[a][c],d,h)}addResource(a,c,d,b){let h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const _=h.keySeparator!==void 0?h.keySeparator:this.options.keySeparator;let j=[a,c];d&&(j=j.concat(_?d.split(_):d)),a.indexOf(".")>-1&&(j=a.split("."),b=c,c=j[1]),this.addNamespaces(c),setPath(this.data,j,b),h.silent||this.emit("added",a,c,d,b)}addResources(a,c,d){let b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const h in d)(isString(d[h])||Array.isArray(d[h]))&&this.addResource(a,c,h,d[h],{silent:!0});b.silent||this.emit("added",a,c,d)}addResourceBundle(a,c,d,b,h){let _=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},j=[a,c];a.indexOf(".")>-1&&(j=a.split("."),b=d,d=c,c=j[1]),this.addNamespaces(c);let _e=getPath(this.data,j)||{};_.skipCopy||(d=JSON.parse(JSON.stringify(d))),b?deepExtend(_e,d,h):_e={..._e,...d},setPath(this.data,j,_e),_.silent||this.emit("added",a,c,d)}removeResourceBundle(a,c){this.hasResourceBundle(a,c)&&delete this.data[a][c],this.removeNamespaces(c),this.emit("removed",a,c)}hasResourceBundle(a,c){return this.getResource(a,c)!==void 0}getResourceBundle(a,c){return c||(c=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(a,c)}:this.getResource(a,c)}getDataByLanguage(a){return this.data[a]}hasLanguageSomeTranslations(a){const c=this.getDataByLanguage(a);return!!(c&&Object.keys(c)||[]).find(b=>c[b]&&Object.keys(c[b]).length>0)}toJSON(){return this.data}}var postProcessor={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,a,c,d,b){return e.forEach(h=>{this.processors[h]&&(a=this.processors[h].process(a,c,d,b))}),a}};const checkedLoadedFor={};class Translator extends EventEmitter{constructor(a){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),copy(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],a,this),this.options=c,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=baseLogger.create("translator")}changeLanguage(a){a&&(this.language=a)}exists(a){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(a==null)return!1;const d=this.resolve(a,c);return d&&d.res!==void 0}extractFromKey(a,c){let d=c.nsSeparator!==void 0?c.nsSeparator:this.options.nsSeparator;d===void 0&&(d=":");const b=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator;let h=c.ns||this.options.defaultNS||[];const _=d&&a.indexOf(d)>-1,j=!this.options.userDefinedKeySeparator&&!c.keySeparator&&!this.options.userDefinedNsSeparator&&!c.nsSeparator&&!looksLikeObjectPath(a,d,b);if(_&&!j){const _e=a.match(this.interpolator.nestingRegexp);if(_e&&_e.length>0)return{key:a,namespaces:isString(h)?[h]:h};const et=a.split(d);(d!==b||d===b&&this.options.ns.indexOf(et[0])>-1)&&(h=et.shift()),a=et.join(b)}return{key:a,namespaces:isString(h)?[h]:h}}translate(a,c,d){if(typeof c!="object"&&this.options.overloadTranslationOptionHandler&&(c=this.options.overloadTranslationOptionHandler(arguments)),typeof c=="object"&&(c={...c}),c||(c={}),a==null)return"";Array.isArray(a)||(a=[String(a)]);const b=c.returnDetails!==void 0?c.returnDetails:this.options.returnDetails,h=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator,{key:_,namespaces:j}=this.extractFromKey(a[a.length-1],c),_e=j[j.length-1],et=c.lng||this.language,$=c.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(et&&et.toLowerCase()==="cimode"){if($){const Nt=c.nsSeparator||this.options.nsSeparator;return b?{res:`${_e}${Nt}${_}`,usedKey:_,exactUsedKey:_,usedLng:et,usedNS:_e,usedParams:this.getUsedParamsDetails(c)}:`${_e}${Nt}${_}`}return b?{res:_,usedKey:_,exactUsedKey:_,usedLng:et,usedNS:_e,usedParams:this.getUsedParamsDetails(c)}:_}const rt=this.resolve(a,c);let nt=rt&&rt.res;const st=rt&&rt.usedKey||_,at=rt&&rt.exactUsedKey||_,ut=Object.prototype.toString.apply(nt),wt=["[object Number]","[object Function]","[object RegExp]"],pt=c.joinArrays!==void 0?c.joinArrays:this.options.joinArrays,xt=!this.i18nFormat||this.i18nFormat.handleAsObject,St=!isString(nt)&&typeof nt!="boolean"&&typeof nt!="number";if(xt&&nt&&St&&wt.indexOf(ut)<0&&!(isString(pt)&&Array.isArray(nt))){if(!c.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const Nt=this.options.returnedObjectHandler?this.options.returnedObjectHandler(st,nt,{...c,ns:j}):`key '${_} (${this.language})' returned an object instead of string.`;return b?(rt.res=Nt,rt.usedParams=this.getUsedParamsDetails(c),rt):Nt}if(h){const Nt=Array.isArray(nt),At=Nt?[]:{},Ct=Nt?at:st;for(const Vt in nt)if(Object.prototype.hasOwnProperty.call(nt,Vt)){const Bt=`${Ct}${h}${Vt}`;At[Vt]=this.translate(Bt,{...c,joinArrays:!1,ns:j}),At[Vt]===Bt&&(At[Vt]=nt[Vt])}nt=At}}else if(xt&&isString(pt)&&Array.isArray(nt))nt=nt.join(pt),nt&&(nt=this.extendTranslation(nt,a,c,d));else{let Nt=!1,At=!1;const Ct=c.count!==void 0&&!isString(c.count),Vt=Translator.hasDefaultValue(c),Bt=Ct?this.pluralResolver.getSuffix(et,c.count,c):"",Ut=c.ordinal&&Ct?this.pluralResolver.getSuffix(et,c.count,{ordinal:!1}):"",Ft=Ct&&!c.ordinal&&c.count===0&&this.pluralResolver.shouldUseIntlApi(),Mt=Ft&&c[`defaultValue${this.options.pluralSeparator}zero`]||c[`defaultValue${Bt}`]||c[`defaultValue${Ut}`]||c.defaultValue;!this.isValidLookup(nt)&&Vt&&(Nt=!0,nt=Mt),this.isValidLookup(nt)||(At=!0,nt=_);const ft=(c.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&At?void 0:nt,tt=Vt&&Mt!==nt&&this.options.updateMissing;if(At||Nt||tt){if(this.logger.log(tt?"updateKey":"missingKey",et,_e,_,tt?Mt:nt),h){const lt=this.resolve(_,{...c,keySeparator:!1});lt&&lt.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let it=[];const ht=this.languageUtils.getFallbackCodes(this.options.fallbackLng,c.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ht&&ht[0])for(let lt=0;lt<ht.length;lt++)it.push(ht[lt]);else this.options.saveMissingTo==="all"?it=this.languageUtils.toResolveHierarchy(c.lng||this.language):it.push(c.lng||this.language);const dt=(lt,gt,ot)=>{const vt=Vt&&ot!==nt?ot:ft;this.options.missingKeyHandler?this.options.missingKeyHandler(lt,_e,gt,vt,tt,c):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(lt,_e,gt,vt,tt,c),this.emit("missingKey",lt,_e,gt,nt)};this.options.saveMissing&&(this.options.saveMissingPlurals&&Ct?it.forEach(lt=>{const gt=this.pluralResolver.getSuffixes(lt,c);Ft&&c[`defaultValue${this.options.pluralSeparator}zero`]&&gt.indexOf(`${this.options.pluralSeparator}zero`)<0&&gt.push(`${this.options.pluralSeparator}zero`),gt.forEach(ot=>{dt([lt],_+ot,c[`defaultValue${ot}`]||Mt)})}):dt(it,_,Mt))}nt=this.extendTranslation(nt,a,c,rt,d),At&&nt===_&&this.options.appendNamespaceToMissingKey&&(nt=`${_e}:${_}`),(At||Nt)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?nt=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${_e}:${_}`:_,Nt?nt:void 0):nt=this.options.parseMissingKeyHandler(nt))}return b?(rt.res=nt,rt.usedParams=this.getUsedParamsDetails(c),rt):nt}extendTranslation(a,c,d,b,h){var _=this;if(this.i18nFormat&&this.i18nFormat.parse)a=this.i18nFormat.parse(a,{...this.options.interpolation.defaultVariables,...d},d.lng||this.language||b.usedLng,b.usedNS,b.usedKey,{resolved:b});else if(!d.skipInterpolation){d.interpolation&&this.interpolator.init({...d,interpolation:{...this.options.interpolation,...d.interpolation}});const et=isString(a)&&(d&&d.interpolation&&d.interpolation.skipOnVariables!==void 0?d.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let $;if(et){const nt=a.match(this.interpolator.nestingRegexp);$=nt&&nt.length}let rt=d.replace&&!isString(d.replace)?d.replace:d;if(this.options.interpolation.defaultVariables&&(rt={...this.options.interpolation.defaultVariables,...rt}),a=this.interpolator.interpolate(a,rt,d.lng||this.language||b.usedLng,d),et){const nt=a.match(this.interpolator.nestingRegexp),st=nt&&nt.length;$<st&&(d.nest=!1)}!d.lng&&this.options.compatibilityAPI!=="v1"&&b&&b.res&&(d.lng=this.language||b.usedLng),d.nest!==!1&&(a=this.interpolator.nest(a,function(){for(var nt=arguments.length,st=new Array(nt),at=0;at<nt;at++)st[at]=arguments[at];return h&&h[0]===st[0]&&!d.context?(_.logger.warn(`It seems you are nesting recursively key: ${st[0]} in key: ${c[0]}`),null):_.translate(...st,c)},d)),d.interpolation&&this.interpolator.reset()}const j=d.postProcess||this.options.postProcess,_e=isString(j)?[j]:j;return a!=null&&_e&&_e.length&&d.applyPostProcessor!==!1&&(a=postProcessor.handle(_e,a,c,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...b,usedParams:this.getUsedParamsDetails(d)},...d}:d,this)),a}resolve(a){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d,b,h,_,j;return isString(a)&&(a=[a]),a.forEach(_e=>{if(this.isValidLookup(d))return;const et=this.extractFromKey(_e,c),$=et.key;b=$;let rt=et.namespaces;this.options.fallbackNS&&(rt=rt.concat(this.options.fallbackNS));const nt=c.count!==void 0&&!isString(c.count),st=nt&&!c.ordinal&&c.count===0&&this.pluralResolver.shouldUseIntlApi(),at=c.context!==void 0&&(isString(c.context)||typeof c.context=="number")&&c.context!=="",ut=c.lngs?c.lngs:this.languageUtils.toResolveHierarchy(c.lng||this.language,c.fallbackLng);rt.forEach(wt=>{this.isValidLookup(d)||(j=wt,!checkedLoadedFor[`${ut[0]}-${wt}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(j)&&(checkedLoadedFor[`${ut[0]}-${wt}`]=!0,this.logger.warn(`key "${b}" for languages "${ut.join(", ")}" won't get resolved as namespace "${j}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),ut.forEach(pt=>{if(this.isValidLookup(d))return;_=pt;const xt=[$];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(xt,$,pt,wt,c);else{let Nt;nt&&(Nt=this.pluralResolver.getSuffix(pt,c.count,c));const At=`${this.options.pluralSeparator}zero`,Ct=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(nt&&(xt.push($+Nt),c.ordinal&&Nt.indexOf(Ct)===0&&xt.push($+Nt.replace(Ct,this.options.pluralSeparator)),st&&xt.push($+At)),at){const Vt=`${$}${this.options.contextSeparator}${c.context}`;xt.push(Vt),nt&&(xt.push(Vt+Nt),c.ordinal&&Nt.indexOf(Ct)===0&&xt.push(Vt+Nt.replace(Ct,this.options.pluralSeparator)),st&&xt.push(Vt+At))}}let St;for(;St=xt.pop();)this.isValidLookup(d)||(h=St,d=this.getResource(pt,wt,St,c))}))})}),{res:d,usedKey:b,exactUsedKey:h,usedLng:_,usedNS:j}}isValidLookup(a){return a!==void 0&&!(!this.options.returnNull&&a===null)&&!(!this.options.returnEmptyString&&a==="")}getResource(a,c,d){let b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(a,c,d,b):this.resourceStore.getResource(a,c,d,b)}getUsedParamsDetails(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const c=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],d=a.replace&&!isString(a.replace);let b=d?a.replace:a;if(d&&typeof a.count<"u"&&(b.count=a.count),this.options.interpolation.defaultVariables&&(b={...this.options.interpolation.defaultVariables,...b}),!d){b={...b};for(const h of c)delete b[h]}return b}static hasDefaultValue(a){const c="defaultValue";for(const d in a)if(Object.prototype.hasOwnProperty.call(a,d)&&c===d.substring(0,c.length)&&a[d]!==void 0)return!0;return!1}}const capitalize=e=>e.charAt(0).toUpperCase()+e.slice(1);class LanguageUtil{constructor(a){this.options=a,this.supportedLngs=this.options.supportedLngs||!1,this.logger=baseLogger.create("languageUtils")}getScriptPartFromCode(a){if(a=getCleanedCode(a),!a||a.indexOf("-")<0)return null;const c=a.split("-");return c.length===2||(c.pop(),c[c.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(c.join("-"))}getLanguagePartFromCode(a){if(a=getCleanedCode(a),!a||a.indexOf("-")<0)return a;const c=a.split("-");return this.formatLanguageCode(c[0])}formatLanguageCode(a){if(isString(a)&&a.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let b=Intl.getCanonicalLocales(a)[0];if(b&&this.options.lowerCaseLng&&(b=b.toLowerCase()),b)return b}catch{}const c=["hans","hant","latn","cyrl","cans","mong","arab"];let d=a.split("-");return this.options.lowerCaseLng?d=d.map(b=>b.toLowerCase()):d.length===2?(d[0]=d[0].toLowerCase(),d[1]=d[1].toUpperCase(),c.indexOf(d[1].toLowerCase())>-1&&(d[1]=capitalize(d[1].toLowerCase()))):d.length===3&&(d[0]=d[0].toLowerCase(),d[1].length===2&&(d[1]=d[1].toUpperCase()),d[0]!=="sgn"&&d[2].length===2&&(d[2]=d[2].toUpperCase()),c.indexOf(d[1].toLowerCase())>-1&&(d[1]=capitalize(d[1].toLowerCase())),c.indexOf(d[2].toLowerCase())>-1&&(d[2]=capitalize(d[2].toLowerCase()))),d.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?a.toLowerCase():a}isSupportedCode(a){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(a=this.getLanguagePartFromCode(a)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(a)>-1}getBestMatchFromCodes(a){if(!a)return null;let c;return a.forEach(d=>{if(c)return;const b=this.formatLanguageCode(d);(!this.options.supportedLngs||this.isSupportedCode(b))&&(c=b)}),!c&&this.options.supportedLngs&&a.forEach(d=>{if(c)return;const b=this.getLanguagePartFromCode(d);if(this.isSupportedCode(b))return c=b;c=this.options.supportedLngs.find(h=>{if(h===b)return h;if(!(h.indexOf("-")<0&&b.indexOf("-")<0)&&(h.indexOf("-")>0&&b.indexOf("-")<0&&h.substring(0,h.indexOf("-"))===b||h.indexOf(b)===0&&b.length>1))return h})}),c||(c=this.getFallbackCodes(this.options.fallbackLng)[0]),c}getFallbackCodes(a,c){if(!a)return[];if(typeof a=="function"&&(a=a(c)),isString(a)&&(a=[a]),Array.isArray(a))return a;if(!c)return a.default||[];let d=a[c];return d||(d=a[this.getScriptPartFromCode(c)]),d||(d=a[this.formatLanguageCode(c)]),d||(d=a[this.getLanguagePartFromCode(c)]),d||(d=a.default),d||[]}toResolveHierarchy(a,c){const d=this.getFallbackCodes(c||this.options.fallbackLng||[],a),b=[],h=_=>{_&&(this.isSupportedCode(_)?b.push(_):this.logger.warn(`rejecting language code not found in supportedLngs: ${_}`))};return isString(a)&&(a.indexOf("-")>-1||a.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&h(this.formatLanguageCode(a)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&h(this.getScriptPartFromCode(a)),this.options.load!=="currentOnly"&&h(this.getLanguagePartFromCode(a))):isString(a)&&h(this.formatLanguageCode(a)),d.forEach(_=>{b.indexOf(_)<0&&h(this.formatLanguageCode(_))}),b}}let sets=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],_rulesPluralsTypes={1:e=>+(e>1),2:e=>+(e!=1),3:e=>0,4:e=>e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,5:e=>e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5,6:e=>e==1?0:e>=2&&e<=4?1:2,7:e=>e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,8:e=>e==1?0:e==2?1:e!=8&&e!=11?2:3,9:e=>+(e>=2),10:e=>e==1?0:e==2?1:e<7?2:e<11?3:4,11:e=>e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3,12:e=>+(e%10!=1||e%100==11),13:e=>+(e!==0),14:e=>e==1?0:e==2?1:e==3?2:3,15:e=>e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2,16:e=>e%10==1&&e%100!=11?0:e!==0?1:2,17:e=>e==1||e%10==1&&e%100!=11?0:1,18:e=>e==0?0:e==1?1:2,19:e=>e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3,20:e=>e==1?0:e==0||e%100>0&&e%100<20?1:2,21:e=>e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0,22:e=>e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3};const nonIntlVersions=["v1","v2","v3"],intlVersions=["v4"],suffixesOrder={zero:0,one:1,two:2,few:3,many:4,other:5},createRules=()=>{const e={};return sets.forEach(a=>{a.lngs.forEach(c=>{e[c]={numbers:a.nr,plurals:_rulesPluralsTypes[a.fc]}})}),e};class PluralResolver{constructor(a){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=a,this.options=c,this.logger=baseLogger.create("pluralResolver"),(!this.options.compatibilityJSON||intlVersions.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=createRules(),this.pluralRulesCache={}}addRule(a,c){this.rules[a]=c}clearCache(){this.pluralRulesCache={}}getRule(a){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const d=getCleanedCode(a==="dev"?"en":a),b=c.ordinal?"ordinal":"cardinal",h=JSON.stringify({cleanedCode:d,type:b});if(h in this.pluralRulesCache)return this.pluralRulesCache[h];let _;try{_=new Intl.PluralRules(d,{type:b})}catch{if(!a.match(/-|_/))return;const _e=this.languageUtils.getLanguagePartFromCode(a);_=this.getRule(_e,c)}return this.pluralRulesCache[h]=_,_}return this.rules[a]||this.rules[this.languageUtils.getLanguagePartFromCode(a)]}needsPlural(a){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const d=this.getRule(a,c);return this.shouldUseIntlApi()?d&&d.resolvedOptions().pluralCategories.length>1:d&&d.numbers.length>1}getPluralFormsOfKey(a,c){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(a,d).map(b=>`${c}${b}`)}getSuffixes(a){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const d=this.getRule(a,c);return d?this.shouldUseIntlApi()?d.resolvedOptions().pluralCategories.sort((b,h)=>suffixesOrder[b]-suffixesOrder[h]).map(b=>`${this.options.prepend}${c.ordinal?`ordinal${this.options.prepend}`:""}${b}`):d.numbers.map(b=>this.getSuffix(a,b,c)):[]}getSuffix(a,c){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const b=this.getRule(a,d);return b?this.shouldUseIntlApi()?`${this.options.prepend}${d.ordinal?`ordinal${this.options.prepend}`:""}${b.select(c)}`:this.getSuffixRetroCompatible(b,c):(this.logger.warn(`no plural rule found for: ${a}`),"")}getSuffixRetroCompatible(a,c){const d=a.noAbs?a.plurals(c):a.plurals(Math.abs(c));let b=a.numbers[d];this.options.simplifyPluralSuffix&&a.numbers.length===2&&a.numbers[0]===1&&(b===2?b="plural":b===1&&(b=""));const h=()=>this.options.prepend&&b.toString()?this.options.prepend+b.toString():b.toString();return this.options.compatibilityJSON==="v1"?b===1?"":typeof b=="number"?`_plural_${b.toString()}`:h():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&a.numbers.length===2&&a.numbers[0]===1?h():this.options.prepend&&d.toString()?this.options.prepend+d.toString():d.toString()}shouldUseIntlApi(){return!nonIntlVersions.includes(this.options.compatibilityJSON)}}const deepFindWithDefaults=function(e,a,c){let d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",b=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,h=getPathWithDefaults(e,a,c);return!h&&b&&isString(c)&&(h=deepFind(e,c,d),h===void 0&&(h=deepFind(a,c,d))),h},regexSafe=e=>e.replace(/\$/g,"$$$$");class Interpolator{constructor(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=baseLogger.create("interpolator"),this.options=a,this.format=a.interpolation&&a.interpolation.format||(c=>c),this.init(a)}init(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};a.interpolation||(a.interpolation={escapeValue:!0});const{escape:c,escapeValue:d,useRawValueToEscape:b,prefix:h,prefixEscaped:_,suffix:j,suffixEscaped:_e,formatSeparator:et,unescapeSuffix:$,unescapePrefix:rt,nestingPrefix:nt,nestingPrefixEscaped:st,nestingSuffix:at,nestingSuffixEscaped:ut,nestingOptionsSeparator:wt,maxReplaces:pt,alwaysFormat:xt}=a.interpolation;this.escape=c!==void 0?c:escape,this.escapeValue=d!==void 0?d:!0,this.useRawValueToEscape=b!==void 0?b:!1,this.prefix=h?regexEscape(h):_||"{{",this.suffix=j?regexEscape(j):_e||"}}",this.formatSeparator=et||",",this.unescapePrefix=$?"":rt||"-",this.unescapeSuffix=this.unescapePrefix?"":$||"",this.nestingPrefix=nt?regexEscape(nt):st||regexEscape("$t("),this.nestingSuffix=at?regexEscape(at):ut||regexEscape(")"),this.nestingOptionsSeparator=wt||",",this.maxReplaces=pt||1e3,this.alwaysFormat=xt!==void 0?xt:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const a=(c,d)=>c&&c.source===d?(c.lastIndex=0,c):new RegExp(d,"g");this.regexp=a(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=a(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=a(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(a,c,d,b){let h,_,j;const _e=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},et=st=>{if(st.indexOf(this.formatSeparator)<0){const pt=deepFindWithDefaults(c,_e,st,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(pt,void 0,d,{...b,...c,interpolationkey:st}):pt}const at=st.split(this.formatSeparator),ut=at.shift().trim(),wt=at.join(this.formatSeparator).trim();return this.format(deepFindWithDefaults(c,_e,ut,this.options.keySeparator,this.options.ignoreJSONStructure),wt,d,{...b,...c,interpolationkey:ut})};this.resetRegExp();const $=b&&b.missingInterpolationHandler||this.options.missingInterpolationHandler,rt=b&&b.interpolation&&b.interpolation.skipOnVariables!==void 0?b.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:st=>regexSafe(st)},{regex:this.regexp,safeValue:st=>this.escapeValue?regexSafe(this.escape(st)):regexSafe(st)}].forEach(st=>{for(j=0;h=st.regex.exec(a);){const at=h[1].trim();if(_=et(at),_===void 0)if(typeof $=="function"){const wt=$(a,h,b);_=isString(wt)?wt:""}else if(b&&Object.prototype.hasOwnProperty.call(b,at))_="";else if(rt){_=h[0];continue}else this.logger.warn(`missed to pass in variable ${at} for interpolating ${a}`),_="";else!isString(_)&&!this.useRawValueToEscape&&(_=makeString(_));const ut=st.safeValue(_);if(a=a.replace(h[0],ut),rt?(st.regex.lastIndex+=_.length,st.regex.lastIndex-=h[0].length):st.regex.lastIndex=0,j++,j>=this.maxReplaces)break}}),a}nest(a,c){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},b,h,_;const j=(_e,et)=>{const $=this.nestingOptionsSeparator;if(_e.indexOf($)<0)return _e;const rt=_e.split(new RegExp(`${$}[ ]*{`));let nt=`{${rt[1]}`;_e=rt[0],nt=this.interpolate(nt,_);const st=nt.match(/'/g),at=nt.match(/"/g);(st&&st.length%2===0&&!at||at.length%2!==0)&&(nt=nt.replace(/'/g,'"'));try{_=JSON.parse(nt),et&&(_={...et,..._})}catch(ut){return this.logger.warn(`failed parsing options string in nesting for key ${_e}`,ut),`${_e}${$}${nt}`}return _.defaultValue&&_.defaultValue.indexOf(this.prefix)>-1&&delete _.defaultValue,_e};for(;b=this.nestingRegexp.exec(a);){let _e=[];_={...d},_=_.replace&&!isString(_.replace)?_.replace:_,_.applyPostProcessor=!1,delete _.defaultValue;let et=!1;if(b[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(b[1])){const $=b[1].split(this.formatSeparator).map(rt=>rt.trim());b[1]=$.shift(),_e=$,et=!0}if(h=c(j.call(this,b[1].trim(),_),_),h&&b[0]===a&&!isString(h))return h;isString(h)||(h=makeString(h)),h||(this.logger.warn(`missed to resolve ${b[1]} for nesting ${a}`),h=""),et&&(h=_e.reduce(($,rt)=>this.format($,rt,d.lng,{...d,interpolationkey:b[1].trim()}),h.trim())),a=a.replace(b[0],h),this.regexp.lastIndex=0}return a}}const parseFormatStr=e=>{let a=e.toLowerCase().trim();const c={};if(e.indexOf("(")>-1){const d=e.split("(");a=d[0].toLowerCase().trim();const b=d[1].substring(0,d[1].length-1);a==="currency"&&b.indexOf(":")<0?c.currency||(c.currency=b.trim()):a==="relativetime"&&b.indexOf(":")<0?c.range||(c.range=b.trim()):b.split(";").forEach(_=>{if(_){const[j,..._e]=_.split(":"),et=_e.join(":").trim().replace(/^'+|'+$/g,""),$=j.trim();c[$]||(c[$]=et),et==="false"&&(c[$]=!1),et==="true"&&(c[$]=!0),isNaN(et)||(c[$]=parseInt(et,10))}})}return{formatName:a,formatOptions:c}},createCachedFormatter=e=>{const a={};return(c,d,b)=>{let h=b;b&&b.interpolationkey&&b.formatParams&&b.formatParams[b.interpolationkey]&&b[b.interpolationkey]&&(h={...h,[b.interpolationkey]:void 0});const _=d+JSON.stringify(h);let j=a[_];return j||(j=e(getCleanedCode(d),b),a[_]=j),j(c)}};class Formatter{constructor(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=baseLogger.create("formatter"),this.options=a,this.formats={number:createCachedFormatter((c,d)=>{const b=new Intl.NumberFormat(c,{...d});return h=>b.format(h)}),currency:createCachedFormatter((c,d)=>{const b=new Intl.NumberFormat(c,{...d,style:"currency"});return h=>b.format(h)}),datetime:createCachedFormatter((c,d)=>{const b=new Intl.DateTimeFormat(c,{...d});return h=>b.format(h)}),relativetime:createCachedFormatter((c,d)=>{const b=new Intl.RelativeTimeFormat(c,{...d});return h=>b.format(h,d.range||"day")}),list:createCachedFormatter((c,d)=>{const b=new Intl.ListFormat(c,{...d});return h=>b.format(h)})},this.init(a)}init(a){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=c.interpolation.formatSeparator||","}add(a,c){this.formats[a.toLowerCase().trim()]=c}addCached(a,c){this.formats[a.toLowerCase().trim()]=createCachedFormatter(c)}format(a,c,d){let b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const h=c.split(this.formatSeparator);if(h.length>1&&h[0].indexOf("(")>1&&h[0].indexOf(")")<0&&h.find(j=>j.indexOf(")")>-1)){const j=h.findIndex(_e=>_e.indexOf(")")>-1);h[0]=[h[0],...h.splice(1,j)].join(this.formatSeparator)}return h.reduce((j,_e)=>{const{formatName:et,formatOptions:$}=parseFormatStr(_e);if(this.formats[et]){let rt=j;try{const nt=b&&b.formatParams&&b.formatParams[b.interpolationkey]||{},st=nt.locale||nt.lng||b.locale||b.lng||d;rt=this.formats[et](j,st,{...$,...b,...nt})}catch(nt){this.logger.warn(nt)}return rt}else this.logger.warn(`there was no format function for ${et}`);return j},a)}}const removePending=(e,a)=>{e.pending[a]!==void 0&&(delete e.pending[a],e.pendingCount--)};class Connector extends EventEmitter{constructor(a,c,d){let b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=a,this.store=c,this.services=d,this.languageUtils=d.languageUtils,this.options=b,this.logger=baseLogger.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=b.maxParallelReads||10,this.readingCalls=0,this.maxRetries=b.maxRetries>=0?b.maxRetries:5,this.retryTimeout=b.retryTimeout>=1?b.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(d,b.backend,b)}queueLoad(a,c,d,b){const h={},_={},j={},_e={};return a.forEach(et=>{let $=!0;c.forEach(rt=>{const nt=`${et}|${rt}`;!d.reload&&this.store.hasResourceBundle(et,rt)?this.state[nt]=2:this.state[nt]<0||(this.state[nt]===1?_[nt]===void 0&&(_[nt]=!0):(this.state[nt]=1,$=!1,_[nt]===void 0&&(_[nt]=!0),h[nt]===void 0&&(h[nt]=!0),_e[rt]===void 0&&(_e[rt]=!0)))}),$||(j[et]=!0)}),(Object.keys(h).length||Object.keys(_).length)&&this.queue.push({pending:_,pendingCount:Object.keys(_).length,loaded:{},errors:[],callback:b}),{toLoad:Object.keys(h),pending:Object.keys(_),toLoadLanguages:Object.keys(j),toLoadNamespaces:Object.keys(_e)}}loaded(a,c,d){const b=a.split("|"),h=b[0],_=b[1];c&&this.emit("failedLoading",h,_,c),!c&&d&&this.store.addResourceBundle(h,_,d,void 0,void 0,{skipCopy:!0}),this.state[a]=c?-1:2,c&&d&&(this.state[a]=0);const j={};this.queue.forEach(_e=>{pushPath(_e.loaded,[h],_),removePending(_e,a),c&&_e.errors.push(c),_e.pendingCount===0&&!_e.done&&(Object.keys(_e.loaded).forEach(et=>{j[et]||(j[et]={});const $=_e.loaded[et];$.length&&$.forEach(rt=>{j[et][rt]===void 0&&(j[et][rt]=!0)})}),_e.done=!0,_e.errors.length?_e.callback(_e.errors):_e.callback())}),this.emit("loaded",j),this.queue=this.queue.filter(_e=>!_e.done)}read(a,c,d){let b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,_=arguments.length>5?arguments[5]:void 0;if(!a.length)return _(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:a,ns:c,fcName:d,tried:b,wait:h,callback:_});return}this.readingCalls++;const j=(et,$)=>{if(this.readingCalls--,this.waitingReads.length>0){const rt=this.waitingReads.shift();this.read(rt.lng,rt.ns,rt.fcName,rt.tried,rt.wait,rt.callback)}if(et&&$&&b<this.maxRetries){setTimeout(()=>{this.read.call(this,a,c,d,b+1,h*2,_)},h);return}_(et,$)},_e=this.backend[d].bind(this.backend);if(_e.length===2){try{const et=_e(a,c);et&&typeof et.then=="function"?et.then($=>j(null,$)).catch(j):j(null,et)}catch(et){j(et)}return}return _e(a,c,j)}prepareLoading(a,c){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},b=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),b&&b();isString(a)&&(a=this.languageUtils.toResolveHierarchy(a)),isString(c)&&(c=[c]);const h=this.queueLoad(a,c,d,b);if(!h.toLoad.length)return h.pending.length||b(),null;h.toLoad.forEach(_=>{this.loadOne(_)})}load(a,c,d){this.prepareLoading(a,c,{},d)}reload(a,c,d){this.prepareLoading(a,c,{reload:!0},d)}loadOne(a){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const d=a.split("|"),b=d[0],h=d[1];this.read(b,h,"read",void 0,void 0,(_,j)=>{_&&this.logger.warn(`${c}loading namespace ${h} for language ${b} failed`,_),!_&&j&&this.logger.log(`${c}loaded namespace ${h} for language ${b}`,j),this.loaded(a,_,j)})}saveMissing(a,c,d,b,h){let _=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},j=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(c)){this.logger.warn(`did not save key "${d}" as the namespace "${c}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(d==null||d==="")){if(this.backend&&this.backend.create){const _e={..._,isUpdate:h},et=this.backend.create.bind(this.backend);if(et.length<6)try{let $;et.length===5?$=et(a,c,d,b,_e):$=et(a,c,d,b),$&&typeof $.then=="function"?$.then(rt=>j(null,rt)).catch(j):j(null,$)}catch($){j($)}else et(a,c,d,b,j,_e)}!a||!a[0]||this.store.addResource(a[0],c,d,b)}}}const get=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let a={};if(typeof e[1]=="object"&&(a=e[1]),isString(e[1])&&(a.defaultValue=e[1]),isString(e[2])&&(a.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const c=e[3]||e[2];Object.keys(c).forEach(d=>{a[d]=c[d]})}return a},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),transformOptions=e=>(isString(e.ns)&&(e.ns=[e.ns]),isString(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),isString(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),noop=()=>{},bindMemberFunctions=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(c=>{typeof e[c]=="function"&&(e[c]=e[c].bind(e))})};class I18n extends EventEmitter{constructor(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=arguments.length>1?arguments[1]:void 0;if(super(),this.options=transformOptions(a),this.services={},this.logger=baseLogger,this.modules={external:[]},bindMemberFunctions(this),c&&!this.isInitialized&&!a.isClone){if(!this.options.initImmediate)return this.init(a,c),this;setTimeout(()=>{this.init(a,c)},0)}}init(){var a=this;let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof c=="function"&&(d=c,c={}),!c.defaultNS&&c.defaultNS!==!1&&c.ns&&(isString(c.ns)?c.defaultNS=c.ns:c.ns.indexOf("translation")<0&&(c.defaultNS=c.ns[0]));const b=get();this.options={...b,...this.options,...transformOptions(c)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...b.interpolation,...this.options.interpolation}),c.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=c.keySeparator),c.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=c.nsSeparator);const h=$=>$?typeof $=="function"?new $:$:null;if(!this.options.isClone){this.modules.logger?baseLogger.init(h(this.modules.logger),this.options):baseLogger.init(null,this.options);let $;this.modules.formatter?$=this.modules.formatter:typeof Intl<"u"&&($=Formatter);const rt=new LanguageUtil(this.options);this.store=new ResourceStore(this.options.resources,this.options);const nt=this.services;nt.logger=baseLogger,nt.resourceStore=this.store,nt.languageUtils=rt,nt.pluralResolver=new PluralResolver(rt,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),$&&(!this.options.interpolation.format||this.options.interpolation.format===b.interpolation.format)&&(nt.formatter=h($),nt.formatter.init(nt,this.options),this.options.interpolation.format=nt.formatter.format.bind(nt.formatter)),nt.interpolator=new Interpolator(this.options),nt.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},nt.backendConnector=new Connector(h(this.modules.backend),nt.resourceStore,nt,this.options),nt.backendConnector.on("*",function(st){for(var at=arguments.length,ut=new Array(at>1?at-1:0),wt=1;wt<at;wt++)ut[wt-1]=arguments[wt];a.emit(st,...ut)}),this.modules.languageDetector&&(nt.languageDetector=h(this.modules.languageDetector),nt.languageDetector.init&&nt.languageDetector.init(nt,this.options.detection,this.options)),this.modules.i18nFormat&&(nt.i18nFormat=h(this.modules.i18nFormat),nt.i18nFormat.init&&nt.i18nFormat.init(this)),this.translator=new Translator(this.services,this.options),this.translator.on("*",function(st){for(var at=arguments.length,ut=new Array(at>1?at-1:0),wt=1;wt<at;wt++)ut[wt-1]=arguments[wt];a.emit(st,...ut)}),this.modules.external.forEach(st=>{st.init&&st.init(this)})}if(this.format=this.options.interpolation.format,d||(d=noop),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const $=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);$.length>0&&$[0]!=="dev"&&(this.options.lng=$[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach($=>{this[$]=function(){return a.store[$](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach($=>{this[$]=function(){return a.store[$](...arguments),a}});const _e=defer(),et=()=>{const $=(rt,nt)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),_e.resolve(nt),d(rt,nt)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return $(null,this.t.bind(this));this.changeLanguage(this.options.lng,$)};return this.options.resources||!this.options.initImmediate?et():setTimeout(et,0),_e}loadResources(a){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:noop;const b=isString(a)?a:this.language;if(typeof a=="function"&&(d=a),!this.options.resources||this.options.partialBundledLanguages){if(b&&b.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return d();const h=[],_=j=>{if(!j||j==="cimode")return;this.services.languageUtils.toResolveHierarchy(j).forEach(et=>{et!=="cimode"&&h.indexOf(et)<0&&h.push(et)})};b?_(b):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(_e=>_(_e)),this.options.preload&&this.options.preload.forEach(j=>_(j)),this.services.backendConnector.load(h,this.options.ns,j=>{!j&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),d(j)})}else d(null)}reloadResources(a,c,d){const b=defer();return typeof a=="function"&&(d=a,a=void 0),typeof c=="function"&&(d=c,c=void 0),a||(a=this.languages),c||(c=this.options.ns),d||(d=noop),this.services.backendConnector.reload(a,c,h=>{b.resolve(),d(h)}),b}use(a){if(!a)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!a.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return a.type==="backend"&&(this.modules.backend=a),(a.type==="logger"||a.log&&a.warn&&a.error)&&(this.modules.logger=a),a.type==="languageDetector"&&(this.modules.languageDetector=a),a.type==="i18nFormat"&&(this.modules.i18nFormat=a),a.type==="postProcessor"&&postProcessor.addPostProcessor(a),a.type==="formatter"&&(this.modules.formatter=a),a.type==="3rdParty"&&this.modules.external.push(a),this}setResolvedLanguage(a){if(!(!a||!this.languages)&&!(["cimode","dev"].indexOf(a)>-1))for(let c=0;c<this.languages.length;c++){const d=this.languages[c];if(!(["cimode","dev"].indexOf(d)>-1)&&this.store.hasLanguageSomeTranslations(d)){this.resolvedLanguage=d;break}}}changeLanguage(a,c){var d=this;this.isLanguageChangingTo=a;const b=defer();this.emit("languageChanging",a);const h=_e=>{this.language=_e,this.languages=this.services.languageUtils.toResolveHierarchy(_e),this.resolvedLanguage=void 0,this.setResolvedLanguage(_e)},_=(_e,et)=>{et?(h(et),this.translator.changeLanguage(et),this.isLanguageChangingTo=void 0,this.emit("languageChanged",et),this.logger.log("languageChanged",et)):this.isLanguageChangingTo=void 0,b.resolve(function(){return d.t(...arguments)}),c&&c(_e,function(){return d.t(...arguments)})},j=_e=>{!a&&!_e&&this.services.languageDetector&&(_e=[]);const et=isString(_e)?_e:this.services.languageUtils.getBestMatchFromCodes(_e);et&&(this.language||h(et),this.translator.language||this.translator.changeLanguage(et),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(et)),this.loadResources(et,$=>{_($,et)})};return!a&&this.services.languageDetector&&!this.services.languageDetector.async?j(this.services.languageDetector.detect()):!a&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(j):this.services.languageDetector.detect(j):j(a),b}getFixedT(a,c,d){var b=this;const h=function(_,j){let _e;if(typeof j!="object"){for(var et=arguments.length,$=new Array(et>2?et-2:0),rt=2;rt<et;rt++)$[rt-2]=arguments[rt];_e=b.options.overloadTranslationOptionHandler([_,j].concat($))}else _e={...j};_e.lng=_e.lng||h.lng,_e.lngs=_e.lngs||h.lngs,_e.ns=_e.ns||h.ns,_e.keyPrefix!==""&&(_e.keyPrefix=_e.keyPrefix||d||h.keyPrefix);const nt=b.options.keySeparator||".";let st;return _e.keyPrefix&&Array.isArray(_)?st=_.map(at=>`${_e.keyPrefix}${nt}${at}`):st=_e.keyPrefix?`${_e.keyPrefix}${nt}${_}`:_,b.t(st,_e)};return isString(a)?h.lng=a:h.lngs=a,h.ns=c,h.keyPrefix=d,h}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(a){this.options.defaultNS=a}hasLoadedNamespace(a){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const d=c.lng||this.resolvedLanguage||this.languages[0],b=this.options?this.options.fallbackLng:!1,h=this.languages[this.languages.length-1];if(d.toLowerCase()==="cimode")return!0;const _=(j,_e)=>{const et=this.services.backendConnector.state[`${j}|${_e}`];return et===-1||et===0||et===2};if(c.precheck){const j=c.precheck(this,_);if(j!==void 0)return j}return!!(this.hasResourceBundle(d,a)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||_(d,a)&&(!b||_(h,a)))}loadNamespaces(a,c){const d=defer();return this.options.ns?(isString(a)&&(a=[a]),a.forEach(b=>{this.options.ns.indexOf(b)<0&&this.options.ns.push(b)}),this.loadResources(b=>{d.resolve(),c&&c(b)}),d):(c&&c(),Promise.resolve())}loadLanguages(a,c){const d=defer();isString(a)&&(a=[a]);const b=this.options.preload||[],h=a.filter(_=>b.indexOf(_)<0&&this.services.languageUtils.isSupportedCode(_));return h.length?(this.options.preload=b.concat(h),this.loadResources(_=>{d.resolve(),c&&c(_)}),d):(c&&c(),Promise.resolve())}dir(a){if(a||(a=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!a)return"rtl";const c=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],d=this.services&&this.services.languageUtils||new LanguageUtil(get());return c.indexOf(d.getLanguagePartFromCode(a))>-1||a.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=arguments.length>1?arguments[1]:void 0;return new I18n(a,c)}cloneInstance(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:noop;const d=a.forkResourceStore;d&&delete a.forkResourceStore;const b={...this.options,...a,isClone:!0},h=new I18n(b);return(a.debug!==void 0||a.prefix!==void 0)&&(h.logger=h.logger.clone(a)),["store","services","language"].forEach(j=>{h[j]=this[j]}),h.services={...this.services},h.services.utils={hasLoadedNamespace:h.hasLoadedNamespace.bind(h)},d&&(h.store=new ResourceStore(this.store.data,b),h.services.resourceStore=h.store),h.translator=new Translator(h.services,b),h.translator.on("*",function(j){for(var _e=arguments.length,et=new Array(_e>1?_e-1:0),$=1;$<_e;$++)et[$-1]=arguments[$];h.emit(j,...et)}),h.init(b,c),h.translator.options=b,h.translator.backendConnector.services.utils={hasLoadedNamespace:h.hasLoadedNamespace.bind(h)},h}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const instance=I18n.createInstance();instance.createInstance=I18n.createInstance;instance.createInstance;instance.dir;instance.init;instance.loadResources;instance.reloadResources;instance.use;instance.changeLanguage;instance.getFixedT;instance.t;instance.exists;instance.setDefaultNamespace;instance.hasLoadedNamespace;instance.loadNamespaces;instance.loadLanguages;function _classCallCheck(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function _typeof(e){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(e)}function toPrimitive(e,a){if(_typeof(e)!="object"||!e)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var d=c.call(e,a);if(_typeof(d)!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function toPropertyKey(e){var a=toPrimitive(e,"string");return _typeof(a)=="symbol"?a:a+""}function _defineProperties(e,a){for(var c=0;c<a.length;c++){var d=a[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(e,toPropertyKey(d.key),d)}}function _createClass(e,a,c){return a&&_defineProperties(e.prototype,a),Object.defineProperty(e,"prototype",{writable:!1}),e}var arr=[],each=arr.forEach,slice=arr.slice;function defaults(e){return each.call(slice.call(arguments,1),function(a){if(a)for(var c in a)e[c]===void 0&&(e[c]=a[c])}),e}var fieldContentRegExp=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,serializeCookie=function e(a,c,d){var b=d||{};b.path=b.path||"/";var h=encodeURIComponent(c),_="".concat(a,"=").concat(h);if(b.maxAge>0){var j=b.maxAge-0;if(Number.isNaN(j))throw new Error("maxAge should be a Number");_+="; Max-Age=".concat(Math.floor(j))}if(b.domain){if(!fieldContentRegExp.test(b.domain))throw new TypeError("option domain is invalid");_+="; Domain=".concat(b.domain)}if(b.path){if(!fieldContentRegExp.test(b.path))throw new TypeError("option path is invalid");_+="; Path=".concat(b.path)}if(b.expires){if(typeof b.expires.toUTCString!="function")throw new TypeError("option expires is invalid");_+="; Expires=".concat(b.expires.toUTCString())}if(b.httpOnly&&(_+="; HttpOnly"),b.secure&&(_+="; Secure"),b.sameSite){var _e=typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite;switch(_e){case!0:_+="; SameSite=Strict";break;case"lax":_+="; SameSite=Lax";break;case"strict":_+="; SameSite=Strict";break;case"none":_+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return _},cookie={create:function e(a,c,d,b){var h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};d&&(h.expires=new Date,h.expires.setTime(h.expires.getTime()+d*60*1e3)),b&&(h.domain=b),document.cookie=serializeCookie(a,encodeURIComponent(c),h)},read:function e(a){for(var c="".concat(a,"="),d=document.cookie.split(";"),b=0;b<d.length;b++){for(var h=d[b];h.charAt(0)===" ";)h=h.substring(1,h.length);if(h.indexOf(c)===0)return h.substring(c.length,h.length)}return null},remove:function e(a){this.create(a,"",-1)}},cookie$1={name:"cookie",lookup:function e(a){var c;if(a.lookupCookie&&typeof document<"u"){var d=cookie.read(a.lookupCookie);d&&(c=d)}return c},cacheUserLanguage:function e(a,c){c.lookupCookie&&typeof document<"u"&&cookie.create(c.lookupCookie,a,c.cookieMinutes,c.cookieDomain,c.cookieOptions)}},querystring={name:"querystring",lookup:function e(a){var c;if(typeof window<"u"){var d=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(d=window.location.hash.substring(window.location.hash.indexOf("?")));for(var b=d.substring(1),h=b.split("&"),_=0;_<h.length;_++){var j=h[_].indexOf("=");if(j>0){var _e=h[_].substring(0,j);_e===a.lookupQuerystring&&(c=h[_].substring(j+1))}}}return c}},hasLocalStorageSupport=null,localStorageAvailable=function e(){if(hasLocalStorageSupport!==null)return hasLocalStorageSupport;try{hasLocalStorageSupport=window!=="undefined"&&window.localStorage!==null;var a="i18next.translate.boo";window.localStorage.setItem(a,"foo"),window.localStorage.removeItem(a)}catch{hasLocalStorageSupport=!1}return hasLocalStorageSupport},localStorage$1={name:"localStorage",lookup:function e(a){var c;if(a.lookupLocalStorage&&localStorageAvailable()){var d=window.localStorage.getItem(a.lookupLocalStorage);d&&(c=d)}return c},cacheUserLanguage:function e(a,c){c.lookupLocalStorage&&localStorageAvailable()&&window.localStorage.setItem(c.lookupLocalStorage,a)}},hasSessionStorageSupport=null,sessionStorageAvailable=function e(){if(hasSessionStorageSupport!==null)return hasSessionStorageSupport;try{hasSessionStorageSupport=window!=="undefined"&&window.sessionStorage!==null;var a="i18next.translate.boo";window.sessionStorage.setItem(a,"foo"),window.sessionStorage.removeItem(a)}catch{hasSessionStorageSupport=!1}return hasSessionStorageSupport},sessionStorage={name:"sessionStorage",lookup:function e(a){var c;if(a.lookupSessionStorage&&sessionStorageAvailable()){var d=window.sessionStorage.getItem(a.lookupSessionStorage);d&&(c=d)}return c},cacheUserLanguage:function e(a,c){c.lookupSessionStorage&&sessionStorageAvailable()&&window.sessionStorage.setItem(c.lookupSessionStorage,a)}},navigator$1={name:"navigator",lookup:function e(a){var c=[];if(typeof navigator<"u"){if(navigator.languages)for(var d=0;d<navigator.languages.length;d++)c.push(navigator.languages[d]);navigator.userLanguage&&c.push(navigator.userLanguage),navigator.language&&c.push(navigator.language)}return c.length>0?c:void 0}},htmlTag={name:"htmlTag",lookup:function e(a){var c,d=a.htmlTag||(typeof document<"u"?document.documentElement:null);return d&&typeof d.getAttribute=="function"&&(c=d.getAttribute("lang")),c}},path={name:"path",lookup:function e(a){var c;if(typeof window<"u"){var d=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(d instanceof Array)if(typeof a.lookupFromPathIndex=="number"){if(typeof d[a.lookupFromPathIndex]!="string")return;c=d[a.lookupFromPathIndex].replace("/","")}else c=d[0].replace("/","")}return c}},subdomain={name:"subdomain",lookup:function e(a){var c=typeof a.lookupFromSubdomainIndex=="number"?a.lookupFromSubdomainIndex+1:1,d=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(d)return d[c]}},canCookies=!1;try{document.cookie,canCookies=!0}catch(e){}var order=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];canCookies||order.splice(1,1);function getDefaults(){return{order,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(a){return a}}}var Browser=function(){function e(a){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};_classCallCheck(this,e),this.type="languageDetector",this.detectors={},this.init(a,c)}return _createClass(e,[{key:"init",value:function(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=c||{languageUtils:{}},this.options=defaults(d,this.options||{},getDefaults()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(h){return h.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=b,this.addDetector(cookie$1),this.addDetector(querystring),this.addDetector(localStorage$1),this.addDetector(sessionStorage),this.addDetector(navigator$1),this.addDetector(htmlTag),this.addDetector(path),this.addDetector(subdomain)}},{key:"addDetector",value:function(c){return this.detectors[c.name]=c,this}},{key:"detect",value:function(c){var d=this;c||(c=this.options.order);var b=[];return c.forEach(function(h){if(d.detectors[h]){var _=d.detectors[h].lookup(d.options);_&&typeof _=="string"&&(_=[_]),_&&(b=b.concat(_))}}),b=b.map(function(h){return d.options.convertDetectedLanguage(h)}),this.services.languageUtils.getBestMatchFromCodes?b:b.length>0?b[0]:null}},{key:"cacheUserLanguage",value:function(c,d){var b=this;d||(d=this.options.caches),d&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(c)>-1||d.forEach(function(h){b.detectors[h]&&b.detectors[h].cacheUserLanguage(c,b.options)}))}}])}();Browser.type="languageDetector";const app$1={name:"AgentOS Workbench",fallbacks:{untitledPersona:"Untitled persona",agencyCollective:"Agency collective"},logs:{userMessage:"User -> {{displayName}}: {{content}}",streamError:"Stream error: {{message}}"}},languageSwitcher$1={label:"Select language",languages:{en:"English",es:"Espaol"}},common$1={status:{idle:"Idle",streaming:"Streaming",error:"Error"}},sidebar$1={sessionsLabel:"Sessions",title:"AgentOS Workbench",actions:{newSession:"New session"},emptyState:"Create a session to start streaming AgentOS events. Connect it to your backend or replay captured transcripts.",badges:{agency:"Agency",persona:"Persona"},session:{streamLabel:"Stream",noActivity:"No activity yet",completedTurn:"Completed turn"}},requestComposer$1={header:{title:"Request composer",subtitle:"Prototype turns and replay transcripts"},form:{targetLegend:"Target",persona:{label:"Persona",placeholder:"Select a persona"},agency:{label:"Agency",placeholder:"Select an agency"},workflow:{label:"Workflow definition",loading:"Loading workflows",none:"No workflow",hint:"Selecting a workflow streams WORKFLOW_UPDATE events alongside agency coordination.",agencyNotice:"Streaming will include AGENCY_UPDATE chunks for seat coordination."},userInput:{label:"User input"},modeLegend:"Mode"},guidance:{createAgency:"Create an agency to enable collectives"},defaults:{samplePrompt:"What's the next task for our audio pipeline?"},targetOptions:{persona:"Persona",agency:"Agency"},modes:{chat:"Chat",voice:"Voice"},validation:{inputRequired:"Provide some user input",selectPersona:"Select a persona",selectAgency:"Select an agency"},actions:{submit:"Send to AgentOS",streaming:"Streaming",attachTranscript:"Attach transcript snapshot",replayPlaceholder:"? Replay transcript"},footer:{localNotice:"Backend API connection required",localNoticeDetails:`Requests are sent to your backend at /api/agentos/stream. Ensure backend is running with AGENTOS_ENABLED=true.

 AGENCY MODE: Currently sends to one GMI per request. For true multi-GMI parallel coordination, workflows must be started via /workflows/start endpoint (not yet wired to this UI).

UI state (sessions, personas, agencies) is stored locally in IndexedDB for offline viewing.`}},artifactViewer$1={actions:{copy:"Copy",download:"Download"}},enCommon={app:app$1,languageSwitcher:languageSwitcher$1,common:common$1,sidebar:sidebar$1,requestComposer:requestComposer$1,artifactViewer:artifactViewer$1},app={name:"Banco de trabajo AgentOS",fallbacks:{untitledPersona:"Persona sin ttulo",agencyCollective:"Colectivo de agencias"},logs:{userMessage:"Usuario -> {{displayName}}: {{content}}",streamError:"Error de transmisin: {{message}}"}},languageSwitcher={label:"Seleccionar idioma",languages:{en:"Ingls",es:"Espaol"}},common={status:{idle:"Inactivo",streaming:"Transmitiendo",error:"Error"}},sidebar={sessionsLabel:"Sesiones",title:"Banco de trabajo AgentOS",actions:{newSession:"Nueva sesin"},emptyState:"Crea una sesin para empezar a recibir eventos de AgentOS. Conctala a tu backend o reproduce transcripciones capturadas.",badges:{agency:"Agencia",persona:"Persona"},session:{streamLabel:"Stream",noActivity:"Sin actividad todava",completedTurn:"Turno completado"}},requestComposer={header:{title:"Compositor de solicitudes",subtitle:"Prototipa turnos y reproduce transcripciones"},form:{targetLegend:"Destino",persona:{label:"Persona",placeholder:"Selecciona una persona"},agency:{label:"Agencia",placeholder:"Selecciona una agencia"},workflow:{label:"Definicin de workflow",loading:"Cargando workflows",none:"Sin workflow",hint:"Seleccionar un workflow transmite eventos WORKFLOW_UPDATE junto con la coordinacin de la agencia.",agencyNotice:"La transmisin incluir bloques AGENCY_UPDATE para la coordinacin de asientos."},userInput:{label:"Entrada del usuario"},modeLegend:"Modo"},guidance:{createAgency:"Crea una agencia para habilitar colectivos"},defaults:{samplePrompt:"Cul es la siguiente tarea para nuestra cadena de audio?"},targetOptions:{persona:"Persona",agency:"Agencia"},modes:{chat:"Chat",voice:"Voz"},validation:{inputRequired:"Ingresa alguna entrada del usuario",selectPersona:"Selecciona una persona",selectAgency:"Selecciona una agencia"},actions:{submit:"Enviar a AgentOS",streaming:"Transmitiendo",attachTranscript:"Adjuntar instantnea de transcripcin",replayPlaceholder:"? Reproducir transcripcin"},footer:{localNotice:"Conexin al backend requerida",localNoticeDetails:"Este banco de trabajo enva solicitudes a tu API backend en /api/agentos/stream. Asegrate de que tu backend est ejecutndose con AGENTOS_ENABLED=true. El estado de la UI (sesiones, personas) se almacena localmente en tu navegador (IndexedDB) para acceso rpido."}},artifactViewer={actions:{copy:"Copiar",download:"Descargar"}},esCommon={app,languageSwitcher,common,sidebar,requestComposer,artifactViewer},resources={en:{common:enCommon},es:{common:esCommon}};instance.use(Browser).use(initReactI18next).init({resources,fallbackLng:"en",supportedLngs:Object.keys(resources),defaultNS:"common",interpolation:{escapeValue:!1},detection:{order:["localStorage","querystring","navigator","htmlTag"],caches:["localStorage"]},react:{useSuspense:!1},debug:!1});const queryClient=new QueryClient;client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(BrowserRouter,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:jsxRuntimeExports.jsx(QueryClientProvider,{client:queryClient,children:jsxRuntimeExports.jsx(I18nextProvider,{i18n:instance,children:jsxRuntimeExports.jsx(App,{})})})})}));export{Buffer as B,__vitePreload as _,require$$0$2 as a,getDefaultExportFromCjs$1 as g,process$1 as p,requirePathBrowserify as r,util$1 as u};
